!function(e){function webpackJsonpCallback(t){for(var n,r,o=t[0],i=t[1],d=t[2],c=0,u=[];c<o.length;c++)r=o[c],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&u.push(a[r][0]),a[r]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);for(s&&s(t);u.length;)u.shift()();return l.push.apply(l,d||[]),checkDeferredModules()}function checkDeferredModules(){for(var e,t=0;t<l.length;t++){for(var n=l[t],r=!0,o=1;o<n.length;o++){var s=n[o];0!==a[s]&&(r=!1)}r&&(l.splice(t--,1),e=__webpack_require__(__webpack_require__.s=n[0]))}return e}var t={},a={0:0},l=[];function __webpack_require__(a){if(t[a])return t[a].exports;var l=t[a]={i:a,l:!1,exports:{}};return e[a].call(l.exports,l,l.exports,__webpack_require__),l.l=!0,l.exports}__webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.d=function(e,t,a){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.t=function(e,t){if(1&t&&(e=__webpack_require__(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(__webpack_require__.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)__webpack_require__.d(a,l,function(t){return e[t]}.bind(null,l));return a},__webpack_require__.n=function(e){var t=e&&e.__esModule?function getDefault(){return e.default}:function getModuleExports(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="";var n=window.webpackJsonp=window.webpackJsonp||[],r=n.push.bind(n);n.push=webpackJsonpCallback,n=n.slice();for(var o=0;o<n.length;o++)webpackJsonpCallback(n[o]);var s=r;l.push([994,1]),checkDeferredModules()}(Array(20).concat([function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.withAnalytics=t.logAnalyticsEvent=t.ANALYTICS_EVENT_NAMES=void 0;var n=l(a(536)),r=l(a(26)),o=l(a(2)),s=l(a(27)),i=a(17);function ownKeys(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(a,!0).forEach(function(t){(0,o.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}t.ANALYTICS_EVENT_NAMES={sampleViewed:"sample_viewed"};var d=function(){var e=(0,s.default)(r.default.mark(function _callee(e){var t,a,l=arguments;return r.default.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:t=l.length>1&&void 0!==l[1]?l[1]:{},window.analytics&&(window.analytics.user&&(a=window.analytics.user().traits(),t=_objectSpread({admin:a.admin,biohub_user:a.biohub_user,czi_user:a.czi_user,has_samples:a.has_samples,git_version:window.GIT_VERSION,label:JSON.stringify(t),category:e.split("_")[0]},t)),window.analytics.track(e,t));case 2:case"end":return n.stop()}},_callee)}));return function logAnalyticsEvent(t){return e.apply(this,arguments)}}();t.logAnalyticsEvent=d;t.withAnalytics=function withAnalytics(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"function"!=typeof e&&console.error('Missing event handler function "'.concat(e,'"'));var l=t.split("_"),r=(0,n.default)(l),o=r[0],s=r[1],c=r.slice(2);for(var u in o&&s&&c.length||console.warn('Missing one part of analytics event name in "'.concat(t,'"')),(0,i.camelCase)(o)!=(0,i.lowerFirst)(o)&&console.warn('Component name "'.concat(o,'" should be CamelCase in "').concat(t,'"')),(0,i.snakeCase)(s).replace(/_/g,"-")!=s&&console.warn('Friendly name "'.concat(s,'" should be dash-case in "').concat(t,'"')),c.length>1&&console.warn('Action type "'.concat(c,'" should be single word in "').concat(t,'"')),a){var f=a[u];((0,i.isArray)(f)||(0,i.isObject)(f))&&console.warn("".concat(f,' should be a scalar in "').concat(t,'"'))}return function(){var l=e.apply(void 0,arguments);return d(t,a),l}}},,,,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(2)),r=l(a(1));function ownKeys(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}var o=r.default.shape({aggregatescore:r.default.number.isRequired,alignmentlength:r.default.number.isRequired,count_type:r.default.string.isRequired,maxzscore:r.default.number.isRequired,neglogevalue:r.default.number.isRequired,percentidentity:r.default.number.isRequired,r:r.default.number.isRequired,r_pct:r.default.string,rpm:r.default.oneOfType([r.default.number,r.default.string]),rpm_bg:r.default.number,zscore:r.default.number.isRequired}),s=r.default.shape({NR:o.isRequired,NT:o.isRequired,category_name:r.default.string.isRequired,common_name:r.default.string,family_taxid:r.default.number.isRequired,genus_taxid:r.default.number.isRequired,is_phage:r.default.number.isRequired,name:r.default.string.isRequired,pathogenTag:r.default.string,species_count:r.default.number.isRequired,species_taxid:r.default.number.isRequired,tax_id:r.default.number.isRequired,tax_level:r.default.number.isRequired,topScoring:r.default.number}),i=r.default.shape({taxon_fasta_flag:r.default.bool.isRequired}),d=r.default.shape({id:r.default.number,name:r.default.string}),c=r.default.shape({id:r.default.number,name:r.default.string,host_genome_id:r.default.number}),u=r.default.shape({id:r.default.number.isRequired,name:r.default.string.isRequired}),f=r.default.shape({key:r.default.string,dataType:r.default.oneOf(["string","number","date","location"]),name:r.default.string}),p=r.default.arrayOf(r.default.shape({name:r.default.string,actual:r.default.number,expected:r.default.number})),m=r.default.shape({pipeline_version:r.default.string,assembled:r.default.number,total_ercc_reads:r.default.number,total_reads:r.default.number,adjusted_remaining_reads:r.default.number,version:r.default.shape({version:r.default.string,alignment_db:r.default.string})}),h=r.default.shape({last_processed_at:r.default.string}),g=r.default.shape({id:r.default.number,name:r.default.string,samples_count:r.default.number,ercc_only:r.default.bool}),v=r.default.shape({city_name:r.default.string,country_name:r.default.string,geo_level:r.default.string,id:r.default.number,lat:r.default.string,lng:r.default.string,name:r.default.string,sample_ids:r.default.arrayOf(r.default.number),state_name:r.default.string,subdivision_name:r.default.string}),y=r.default.oneOf(["basespace","local","remote"]),b=r.default.shape({type:r.default.string,display_name:r.default.string,admin_only:r.default.bool,description:r.default.string,category:r.default.string,fields:r.default.arrayOf(r.default.shape({type:r.default.string,display_name:r.default.string})),uploader_only:r.default.bool,file_type_display:r.default.string}),C=r.default.shape({displayName:r.default.string,value:r.default.oneOfType([r.default.string,r.default.number])}),w=r.default.shape({num_samples:r.default.number,params:r.default.objectOf(C),presigned_output_url:r.default.string,download_name:r.default.string,file_size:r.default.string}),E=function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(a,!0).forEach(function(t){(0,n.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({ReportDetails:i,Taxon:s,BackgroundData:d,Sample:c,MetadataType:f,ERCCComparison:p,PipelineRun:m,Project:u,SummaryStats:h,HostGenome:g,Location:v,SampleUploadType:y,DownloadType:b,DownloadTypeParam:C,SampleTypeProps:r.default.shape({name:r.default.string,group:r.default.string,insect_only:r.default.bool,human_only:r.default.bool}),BulkDownload:w},r.default);t.default=E},,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.updateUserSetting=t.uploadedByCurrentUser=t.getTaxaWithContigsSuggestions=t.getTaxaWithReadsSuggestions=t.getBackgrounds=t.validateSampleNames=t.validateSampleFiles=t.validatePhyloTreeName=t.uploadFileToUrlWithRetries=t.uploadFileToUrl=t.shortenUrl=t.saveVisualization=t.saveSampleNotes=t.saveSampleName=t.saveProjectDescription=t.markSampleUploaded=t.getVisualizations=t.getUserSettingMetadataByCategory=t.getTaxonDistributionForBackground=t.getTaxonDescriptions=t.getSummaryContigCounts=t.getSearchSuggestions=t.getSamplePipelineResults=t.getSampleTaxons=t.getSamplesV1=t.getSampleStats=t.getSamplesLocations=t.getSamples=t.getSampleReportInfo=t.getSampleReportData=t.getSampleDimensions=t.getSample=t.getProjects=t.getProjectDimensions=t.getProject=t.getPhyloTree=t.getHeatmapMetrics=t.getCoverageVizSummary=t.getCoverageVizData=t.getContigsSequencesByByteranges=t.getAllSampleTypes=t.getAllHostGenomes=t.getAlignmentData=t.deleteSample=t.createSample=t.createProject=t.createBackground=t.bulkUploadRemoteSamples=t.bulkImportRemoteSamples=void 0;var n=l(a(2)),r=l(a(26)),o=l(a(27)),s=l(a(72)),i=l(a(1230)),d=a(87),c=a(82),u=a(102);function ownKeys(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(a,!0).forEach(function(t){(0,n.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var f=function saveSampleField(e,t,a){return(0,u.postWithCSRF)("/samples/".concat(e,"/save_metadata"),{field:t,value:a})};t.saveSampleName=function saveSampleName(e,t){return f(e,"name",t)};t.saveSampleNotes=function saveSampleNotes(e,t){return f(e,"sample_notes",t)};t.getAlignmentData=function getAlignmentData(e,t,a){return(0,u.get)("/samples/".concat(e,"/alignment_viz/").concat(t,".json?pipeline_version=").concat(a))};t.deleteSample=function deleteSample(e){return(0,u.deleteWithCSRF)("/samples/".concat(e,".json"))};t.getSampleReportData=function getSampleReportData(e){var t=e.sampleId,a=e.background,l=e.pipelineVersion;return(0,u.get)("/samples/".concat(t,"/report_v2.json?background=").concat(a,"&pipeline_version=").concat(l))};t.getSampleReportInfo=function getSampleReportInfo(e,t){return(0,u.get)("/samples/".concat(e,"/report_info").concat(t))};t.getSummaryContigCounts=function getSummaryContigCounts(e,t){return(0,u.get)("/samples/".concat(e,"/summary_contig_counts?min_contig_reads=").concat(t))};t.createSample=function createSample(e,t,a,l,n){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"",i=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"{}",c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:"",f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:"",p=Array.from(l,function(e){return"local"===n?{source_type:n,source:(0,d.cleanFilePath)(e.name),parts:(0,d.cleanFilePath)(e.name)}:{source_type:n,source:e}});return(0,u.postWithCSRF)("/samples.json",{sample:{name:e,project_name:t,host_genome_id:a,input_files_attributes:p,status:"created",client:"web",s3_preload_result_path:r,alignment_config_name:o,pipeline_branch:s,dag_vars:i,max_input_fragments:c,subsample:f}})};t.getAllHostGenomes=function getAllHostGenomes(){return(0,u.get)("/host_genomes.json")};t.getAllSampleTypes=function getAllSampleTypes(){return(0,u.get)("/sample_types.json")};t.bulkUploadRemoteSamples=function bulkUploadRemoteSamples(e){return(0,u.postWithCSRF)("/samples/bulk_upload.json",{samples:e})};t.saveVisualization=function saveVisualization(e,t){return(0,u.postWithCSRF)("/visualizations/".concat(e,"/save"),{type:e,data:t})};t.shortenUrl=function shortenUrl(e){return(0,u.postWithCSRF)("/visualizations/shorten_url",{url:e})};t.bulkImportRemoteSamples=function bulkImportRemoteSamples(e){var t=e.projectId,a=e.hostGenomeId,l=e.bulkPath;return(0,u.get)("/samples/bulk_import.json",{params:{project_id:t,host_genome_id:a,bulk_path:l}})};t.markSampleUploaded=function markSampleUploaded(e){return(0,u.putWithCSRF)("/samples/".concat(e,".json"),{sample:{id:e,status:"uploaded"}})};var p=function(){var e=(0,o.default)(r.default.mark(function _callee(e,t,a){var l,n,o,i;return r.default.wrap(function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return l=a.onUploadProgress,n=a.onSuccess,o=a.onError,i={onUploadProgress:l},r.abrupt("return",s.default.put(t,e,i).then(n).catch(o));case 3:case"end":return r.stop()}},_callee)}));return function uploadFileToUrl(t,a,l){return e.apply(this,arguments)}}();t.uploadFileToUrl=p;var m=function(){var e=(0,o.default)(r.default.mark(function _callee2(e,t,a){var l,n,o,d,c;return r.default.wrap(function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:return l=a.onUploadProgress,n=a.onSuccess,o=a.onError,d={onUploadProgress:l},c=s.default.create(),(0,i.default)(c,{retries:5,retryDelay:function retryDelay(){return 3e4},retryCondition:function retryCondition(){return!0}}),r.abrupt("return",c.put(t,e,d).then(n).catch(o));case 5:case"end":return r.stop()}},_callee2)}));return function uploadFileToUrlWithRetries(t,a,l){return e.apply(this,arguments)}}();t.uploadFileToUrlWithRetries=m;t.getTaxonDescriptions=function getTaxonDescriptions(e){return(0,u.get)("/taxon_descriptions.json?taxon_list=".concat(e.join(",")))};t.getTaxonDistributionForBackground=function getTaxonDistributionForBackground(e,t){return(0,u.get)("/backgrounds/".concat(e,"/show_taxon_dist.json?taxid=").concat(t))};t.getSampleTaxons=function getSampleTaxons(e,t){return(0,u.get)("/visualizations/samples_taxons.json",{params:e,cancelToken:t})};t.getSamples=function getSamples(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.projectId,a=e.search,l=e.domain,n=e.limit,r=e.offset,o=e.filters,s=e.listAllIds,i=e.sampleIds,d=e.basic,c=void 0!==d&&d;return(0,u.get)("/samples/index_v2.json",{params:_objectSpread({projectId:t,search:a,domain:l,limit:n,offset:r,listAllIds:s,basic:c,sampleIds:JSON.stringify(i)},o)})};t.getSampleDimensions=function getSampleDimensions(e){var t=e.domain,a=e.filters,l=e.projectId,n=e.search;return(0,u.get)("/samples/dimensions.json",{params:_objectSpread({domain:t,projectId:l,search:n},a)})};t.getSampleStats=function getSampleStats(e){var t=e.domain,a=e.filters,l=e.projectId,n=e.search;return(0,u.get)("/samples/stats.json",{params:_objectSpread({domain:t,projectId:l,search:n},a)})};t.getSample=function getSample(e){var t=e.sampleId;return(0,u.get)("/samples/".concat(t,".json"))};t.getProjectDimensions=function getProjectDimensions(e){var t=e.domain,a=e.filters,l=e.projectId,n=e.search;return(0,u.get)("/projects/dimensions.json",{params:_objectSpread({domain:t,search:n,projectId:l},a)})};t.getSamplesV1=function getSamplesV1(e){return(0,u.get)("/samples.json",{params:e})};t.getProject=function getProject(e){var t=e.projectId;return(0,u.get)("/projects/".concat(t,".json"))};t.getProjects=function getProjects(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.basic,a=e.domain,l=e.filters,n=e.limit,r=e.listAllIds,o=e.offset,s=e.search,i=e.projectId;return(0,u.get)("/projects.json",{params:_objectSpread({basic:t,domain:a,limit:n,listAllIds:r,offset:o,search:s,projectId:i},l)})};t.getVisualizations=function getVisualizations(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.domain,a=e.filters,l=e.search;return(0,u.get)("/visualizations.json",{params:_objectSpread({domain:t,search:l},a)})};t.createProject=function createProject(e){return(0,u.postWithCSRF)("/projects.json",{project:e})};t.saveProjectDescription=function saveProjectDescription(e,t){return(0,u.putWithCSRF)("/projects/".concat(e,".json"),{description:t})};t.validateSampleNames=function validateSampleNames(e,t){return e?(0,u.postWithCSRF)("/projects/".concat(e,"/validate_sample_names"),{sample_names:t}):Promise.resolve(t)};t.validateSampleFiles=function validateSampleFiles(e){return e&&0!=e.length?(0,u.postWithCSRF)("/samples/validate_sample_files",{sample_files:e}):Promise.resolve(e)};t.getSearchSuggestions=function getSearchSuggestions(e){var t=e.categories,a=e.query,l=e.domain;return(0,u.get)("/search_suggestions",{params:{categories:t,query:a,domain:l}})};t.createBackground=function createBackground(e){var t=e.description,a=e.name,l=e.sampleIds;return(0,u.postWithCSRF)("/backgrounds",{name:a,description:t,sample_ids:l})};var h=function(){var e=(0,o.default)(r.default.mark(function _callee3(){var e;return r.default.wrap(function _callee3$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,u.get)("/backgrounds.json");case 2:return e=t.sent,t.abrupt("return",e.backgrounds);case 4:case"end":return t.stop()}},_callee3)}));return function getBackgrounds(){return e.apply(this,arguments)}}();t.getBackgrounds=h;t.getCoverageVizSummary=function getCoverageVizSummary(e){return(0,u.get)("/samples/".concat(e,"/coverage_viz_summary"))};t.getCoverageVizData=function getCoverageVizData(e,t){return(0,u.get)("/samples/".concat(e,"/coverage_viz_data?accessionId=").concat(t))};t.getContigsSequencesByByteranges=function getContigsSequencesByByteranges(e,t,a){var l=(0,c.getURLParamString)({byteranges:t.map(function(e){return e.join(",")}),pipelineVersion:a});return(0,u.get)("/samples/".concat(e,"/contigs_sequences_by_byteranges?").concat(l))};t.getPhyloTree=function getPhyloTree(e){return(0,u.get)("/phylo_trees/".concat(e,"/show.json"))};t.validatePhyloTreeName=function validatePhyloTreeName(e){return(0,u.get)("/phylo_trees/validate_name?name=".concat(e))};t.getSamplesLocations=function getSamplesLocations(e){var t=e.domain,a=e.filters,l=e.projectId,n=e.search;return(0,u.get)("/locations/sample_locations.json",{params:_objectSpread({domain:t,search:n,projectId:l},a)})};t.getSamplePipelineResults=function getSamplePipelineResults(e,t){return(0,u.get)("/samples/".concat(e,"/results_folder.json"),{params:{pipeline_version:t}})};t.getTaxaWithReadsSuggestions=function getTaxaWithReadsSuggestions(e,t){return(0,u.postWithCSRF)("/samples/taxa_with_reads_suggestions.json",{query:e,sampleIds:t})};t.getTaxaWithContigsSuggestions=function getTaxaWithContigsSuggestions(e,t){return(0,u.postWithCSRF)("/samples/taxa_with_contigs_suggestions.json",{query:e,sampleIds:t})};var g=function(){var e=(0,o.default)(r.default.mark(function _callee4(e){var t;return r.default.wrap(function _callee4$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,u.postWithCSRF)("samples/uploaded_by_current_user",{sampleIds:e});case 2:return t=a.sent,a.abrupt("return",t.uploaded_by_current_user);case 4:case"end":return a.stop()}},_callee4)}));return function uploadedByCurrentUser(t){return e.apply(this,arguments)}}();t.uploadedByCurrentUser=g;t.getHeatmapMetrics=function getHeatmapMetrics(){return(0,u.get)("/visualizations/heatmap_metrics.json")};t.getUserSettingMetadataByCategory=function getUserSettingMetadataByCategory(){return(0,u.get)("/user_settings/metadata_by_category")};t.updateUserSetting=function updateUserSetting(e,t){return(0,u.postWithCSRF)("user_settings/update",{key:e,value:t})}},,,,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(5)),r=l(a(7)),o=l(a(8)),s=l(a(10)),i=l(a(9)),d=l(a(11)),c=l(a(0)),u=a(37),f=l(a(1)),p=function(e){function BasicPopup(){return(0,r.default)(this,BasicPopup),(0,s.default)(this,(0,i.default)(BasicPopup).apply(this,arguments))}return(0,d.default)(BasicPopup,e),(0,o.default)(BasicPopup,[{key:"render",value:function render(){return c.default.createElement(u.Popup,(0,n.default)({on:"hover"},this.props))}}]),BasicPopup}(c.default.Component);p.propTypes={size:f.default.string,wide:f.default.string},p.defaultProps={basic:!0,inverted:!0,size:"tiny"};var m=p;t.default=m},,,,,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(5)),r=l(a(281)),o=l(a(0)),s=function PrimaryButton(e){return o.default.createElement(r.default,(0,n.default)({},e,{primary:!0}))};t.default=s},,,,,,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.UserContext=void 0;var n=l(a(0)).default.createContext({admin:!1,allowedFeatures:new Set,appConfig:{},userSettings:{}});t.UserContext=n,n.displayName="UserContext"},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(5)),r=l(a(47)),o=l(a(7)),s=l(a(8)),i=l(a(10)),d=l(a(9)),c=l(a(3)),u=l(a(11)),f=l(a(2)),p=l(a(0)),m=l(a(4)),h=a(17),g=a(66),v=a(37),y=l(a(83)),b=l(a(1)),C=l(a(736)),w=l(a(1251)),E=function(e){function BareDropdown(e){var t;return(0,o.default)(this,BareDropdown),t=(0,i.default)(this,(0,d.default)(BareDropdown).call(this,e)),(0,f.default)((0,c.default)(t),"renderItemsDefault",function(e){return e.map(function(e){return e.customNode?p.default.createElement("div",{key:e.value,onClick:function onClick(){return t.props.onChange(e.value)},className:(0,m.default)(w.default.item,t.props.value===e.value&&w.default.active)},e.customNode):p.default.createElement(v.Dropdown.Item,{key:e.value,onClick:function onClick(){return t.props.onChange(e.value)},active:t.props.value===e.value,className:w.default.item},e.text)})}),(0,f.default)((0,c.default)(t),"handleFilterChange",function(e){var a=t.props.onFilterChange;t.setState({filterString:e},function(){a&&a(e)})}),(0,f.default)((0,c.default)(t),"matchesFilter",function(e,t){return e&&t&&e.toLowerCase().includes(t.toLowerCase())}),(0,f.default)((0,c.default)(t),"prioritizePrefixMatches",function(e,t){return e.toLowerCase().startsWith(t.toLowerCase())?0:1}),(0,f.default)((0,c.default)(t),"getFilteredItems",function(e){if(t.props.items||t.props.options){if(""===e)return t.props.items||t.renderItemsDefault(t.props.options);if(t.props.items){var a=(0,h.zip)(t.props.itemSearchStrings,t.props.items),l=(0,h.filter)(function(a){return t.matchesFilter(a[0],e)},a),n=(0,h.sortBy)(function(a){return t.prioritizePrefixMatches(a[0],e)},l);return(0,h.map)((0,h.nth)(1),n)}var r=t.props.options.filter(function(a){return t.matchesFilter(a.text,e)}),o=(0,h.sortBy)(function(a){return t.prioritizePrefixMatches(a.text,e)},r);return t.renderItemsDefault(o)}}),(0,f.default)((0,c.default)(t),"handleMenuClick",function(e){var a=t.props,l=a.closeOnClick,n=a.search;l?n&&t.baseDropdownRef.current&&t.baseDropdownRef.current.close():e.stopPropagation()}),t.baseDropdownRef=p.default.createRef(),t.state={filterString:""},t}return(0,u.default)(BareDropdown,e),(0,s.default)(BareDropdown,[{key:"render",value:function render(){var e=this,t=this.props,a=t.arrowInsideTrigger,l=t.className,o=t.hideArrow,s=t.smallArrow,i=t.menuLabel,d=t.search,c=(t.closeOnClick,t.itemSearchStrings,t.usePortal,t.withinModal,t.children),u=(t.onFilterChange,t.menuClassName),f=t.disableAutocomplete,g=t.trigger,b=t.optionsHeader,E=t.showNoResultsMessage,S=t.isLoadingSearchOptions,_=(0,r.default)(t,["arrowInsideTrigger","className","hideArrow","smallArrow","menuLabel","search","closeOnClick","itemSearchStrings","usePortal","withinModal","children","onFilterChange","menuClassName","disableAutocomplete","trigger","optionsHeader","showNoResultsMessage","isLoadingSearchOptions"]),k=(0,m.default)(w.default.bareDropdown,!o&&(a?w.default.arrowInsideTrigger:w.default.arrowOutsideTrigger),l,o&&w.default.hideArrow,s&&w.default.smallArrow),N=this.state.filterString,x=g;if(this.props.search&&(x=p.default.cloneElement(g,{onClick:function onClick(){e.props.search&&e.baseDropdownRef.current&&e.baseDropdownRef.current.state.open&&e.baseDropdownRef.current.close(),g.props.onClick&&g.props.onClick()}})),!this.props.options&&!this.props.items)return p.default.createElement(v.Dropdown,(0,n.default)({},_,{trigger:x,className:k,onBlur:function onBlur(e){return e.stopPropagation()}}),p.default.createElement(v.Dropdown.Menu,{onClick:this.handleMenuClick},c));if(this.props.options&&this.props.items)throw new Error("Only one of options or items should be provided to <BareDropdown>");var M=(0,h.omit)(["options","value","onChange","items"],_),T=this.getFilteredItems(N),P=p.default.createElement(v.Dropdown.Menu,{className:(0,m.default)(w.default.menu,w.default.dropdownMenu,(i||d)&&w.default.extraPadding,u),onClick:this.handleMenuClick},i&&p.default.createElement("div",{className:w.default.menuLabel},i),d&&p.default.createElement("div",{onClick:function onClick(e){return e.stopPropagation()},className:w.default.searchContainer},p.default.createElement(y.default,{fluid:!0,className:w.default.searchInput,icon:"search",placeholder:"Search",value:N,onChange:this.handleFilterChange,disableAutocomplete:f})),b&&p.default.createElement("div",{className:w.default.optionsHeader},b),p.default.createElement(v.Dropdown.Menu,{scrolling:!0,className:w.default.innerMenu},T),0===T.length&&E&&!S&&p.default.createElement("div",{className:w.default.noResultsMessage},"No results found."));return this.props.usePortal?p.default.createElement(C.default,{arrowInsideTrigger:a,floating:this.props.floating,fluid:this.props.fluid,direction:this.props.direction,disabled:this.props.disabled,hideArrow:o,menu:P,menuClassName:(0,m.default)(w.default.portalDropdown,l),onOpen:this.props.onOpen,open:this.props.open,onClose:this.props.onClose,trigger:x,triggerClassName:l,withinModal:this.props.withinModal}):p.default.createElement(v.Dropdown,(0,n.default)({},M,{trigger:x,className:k,onBlur:function onBlur(e){return e.stopPropagation()},search:d?h.identity:void 0,ref:this.baseDropdownRef}),P)}}]),BareDropdown}(p.default.Component);E.propTypes=(0,g.forbidExtraProps)({arrowInsideTrigger:b.default.bool,hideArrow:b.default.bool,smallArrow:b.default.bool,menuLabel:b.default.string,optionsHeader:b.default.node,closeOnClick:b.default.bool,search:b.default.bool,itemSearchStrings:b.default.arrayOf(b.default.string),onFilterChange:b.default.func,showNoResultsMessage:b.default.bool,isLoadingSearchOptions:b.default.bool,options:b.default.arrayOf(b.default.shape({value:b.default.any,text:b.default.node,customNode:b.default.node})),value:b.default.any,onChange:b.default.func,items:b.default.arrayOf(b.default.node),usePortal:b.default.bool,withinModal:b.default.bool,children:b.default.node,className:b.default.string,direction:b.default.oneOf(["left","right"]),disabled:b.default.bool,floating:b.default.bool,fluid:b.default.bool,menuClassName:b.default.string,onBlur:b.default.func,onClick:b.default.func,onClose:b.default.func,onFocus:b.default.func,onMouseEnter:b.default.func,onMouseLeave:b.default.func,onOpen:b.default.func,open:b.default.bool,selectOnBlur:b.default.bool,trigger:b.default.node.isRequired,disableAutocomplete:b.default.bool}),E.defaultProps={closeOnClick:!0},E.Header=v.Dropdown.Header,E.Item=v.Dropdown.Item,E.Divider=v.Dropdown.Divider;var S=E;t.default=S},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(0)),r=l(a(1)),o=l(a(4)),s=l(a(1328)),i=function NarrowContainer(e){var t=e.children,a=e.className,l=e.size;return n.default.createElement("div",{className:(0,o.default)(s.default.narrowContainer,a,l&&s.default[l])},t)};i.propTypes={children:r.default.oneOfType([r.default.arrayOf(r.default.node),r.default.node]).isRequired,className:r.default.string,size:r.default.oneOf(["small"])};var d=i;t.default=d},,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.postToUrlWithCSRF=t.openUrlInPopupWindow=t.openUrlWithTimeout=t.downloadStringToFile=t.openUrlInNewTab=t.openUrl=void 0;var n=l(a(32)),r=l(a(2));function ownKeys(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}var o=function openUrl(e,t){var a=!1;t&&(t.metaKey||t.ctrlKey)&&(a=!0),a?s(e):location.href=e};t.openUrl=o;var s=function openUrlInNewTab(e){window.open(e,"_blank","noopener","noreferrer")};t.openUrlInNewTab=s;t.downloadStringToFile=function downloadStringToFile(e){var t=new Blob([e],{type:"text/plain"}),a=URL.createObjectURL(t);location.href="".concat(a)};t.openUrlWithTimeout=function openUrlWithTimeout(e){setTimeout(function(){o(e)},2e3)};t.openUrlInPopupWindow=function openUrlInPopupWindow(e,t,a,l){var n=window.screenLeft+(window.outerWidth-a)/2,r=window.screenTop+(window.outerHeight-l)/2;return window.open(e,t,"left=".concat(n,",top=").concat(r,",width=").concat(a,",height=").concat(l,",menubar=no,toolbar=no"))};t.postToUrlWithCSRF=function postToUrlWithCSRF(e,t){var a=document.createElement("form");a.setAttribute("method","POST"),a.setAttribute("action",e);var l=document.getElementsByName("csrf-token")[0].content;t=t||{};for(var o=0,s=Object.entries(function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(a,!0).forEach(function(t){(0,r.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({authenticity_token:l},t));o<s.length;o++){var i=(0,n.default)(s[o],2),d=i[0],c=i[1],u=document.createElement("input");u.setAttribute("type","HIDDEN"),u.setAttribute("name",d),u.setAttribute("value",c),a.appendChild(u)}document.body.appendChild(a),a.submit()}},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Accordion",{enumerable:!0,get:function get(){return n.default}}),Object.defineProperty(t,"Divider",{enumerable:!0,get:function get(){return r.default}}),Object.defineProperty(t,"FilterRow",{enumerable:!0,get:function get(){return o.default}}),Object.defineProperty(t,"NarrowContainer",{enumerable:!0,get:function get(){return s.default}}),Object.defineProperty(t,"ViewHeader",{enumerable:!0,get:function get(){return i.default}});var n=l(a(141)),r=l(a(222)),o=l(a(782)),s=l(a(59)),i=l(a(225))},,,,,,,,,,,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(0)),c=l(a(1)),u=l(a(95)),f=l(a(739)),p=l(a(172)),m=l(a(1270)),h=l(a(4)),g=function(e){function Notification(){return(0,n.default)(this,Notification),(0,o.default)(this,(0,s.default)(Notification).apply(this,arguments))}return(0,i.default)(Notification,e),(0,r.default)(Notification,[{key:"getIcon",value:function getIcon(e){switch(e){case"warn":case"error":return d.default.createElement(u.default,null);case"info":return d.default.createElement(f.default,null);case"success":return d.default.createElement(p.default,{className:m.default.successIcon})}return null}},{key:"render",value:function render(){var e=this.props,t=e.children,a=e.className,l=e.displayStyle,n=e.onClose,r=e.type;return d.default.createElement("div",{className:(0,h.default)(a,m.default.notification,m.default[r],m.default[l])},d.default.createElement("div",{className:m.default.icon},this.getIcon(r)),d.default.createElement("div",{className:m.default.content},d.default.createElement("div",null,t),n&&d.default.createElement("div",{className:m.default.actions,onClick:n},"Dismiss")))}}]),Notification}(d.default.Component);g.defaultProps={displayStyle:"elevated"},g.propTypes={className:c.default.string,children:c.default.node,displayStyle:c.default.oneOf(["flat","elevated"]),onClose:c.default.func,type:c.default.oneOf(["success","info","warn","error"]).isRequired};var v=g;t.default=v},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(3)),d=l(a(11)),c=l(a(2)),u=l(a(0)),f=l(a(58)),p=l(a(174)),m=l(a(1)),h=l(a(4)),g=l(a(1294)),v=function(e){function Dropdown(e){var t;return(0,n.default)(this,Dropdown),t=(0,o.default)(this,(0,s.default)(Dropdown).call(this,e)),(0,c.default)((0,i.default)(t),"buildLabels",function(){t.setState({labels:t.props.options.reduce(function(e,t){return e[t.value.toString()]=t.text,e},{})})}),(0,c.default)((0,i.default)(t),"handleOnChange",function(e){t.setState({value:e}),t.props.onChange(e,t.state.labels[e.toString()])}),(0,c.default)((0,i.default)(t),"renderTrigger",function(){var e=void 0!==t.state.value&&null!==t.state.value?t.state.labels[t.state.value.toString()]:null,a=t.props.label&&e?t.props.label+":":t.props.label;return u.default.createElement(p.default,{label:a,value:e,rounded:t.props.rounded,className:g.default.dropdownTrigger,placeholder:t.props.placeholder,erred:t.props.erred})}),t.state={value:void 0!==t.props.value?t.props.value:null,labels:{}},t}return(0,d.default)(Dropdown,e),(0,r.default)(Dropdown,[{key:"componentDidMount",value:function componentDidMount(){this.buildLabels()}},{key:"componentDidUpdate",value:function componentDidUpdate(e){e.value===this.props.value||Number.isNaN(e.value)&&Number.isNaN(this.props.value)||this.setState({value:this.props.value}),e.options!==this.props.options&&this.buildLabels()}},{key:"render",value:function render(){return u.default.createElement(f.default,{className:(0,h.default)(g.default.dropdown,this.props.className),arrowInsideTrigger:!0,disabled:this.props.disabled,fluid:this.props.fluid,options:this.props.options,value:this.state.value,search:this.props.search,menuLabel:this.props.menuLabel,floating:!0,onChange:this.handleOnChange,trigger:this.renderTrigger(),usePortal:this.props.usePortal,direction:this.props.direction,withinModal:this.props.withinModal,items:this.props.items,itemSearchStrings:this.props.itemSearchStrings,onFilterChange:this.props.onFilterChange,optionsHeader:this.props.optionsHeader,showNoResultsMessage:this.props.showNoResultsMessage,isLoadingSearchOptions:this.props.isLoadingSearchOptions})}}]),Dropdown}(u.default.Component);v.propTypes={className:m.default.string,placeholder:m.default.string,disabled:m.default.bool,erred:m.default.bool,fluid:m.default.bool,rounded:m.default.bool,label:m.default.string,options:m.default.arrayOf(m.default.shape({text:m.default.string.isRequired,value:m.default.oneOfType([m.default.string,m.default.number]).isRequired,customNode:m.default.node})).isRequired,items:m.default.arrayOf(m.default.node),itemSearchStrings:m.default.arrayOf(m.default.string),onChange:m.default.func.isRequired,value:m.default.oneOfType([m.default.string,m.default.number]),search:m.default.bool,menuLabel:m.default.string,optionsHeader:m.default.node,usePortal:m.default.bool,direction:m.default.oneOf(["left","right"]),withinModal:m.default.bool,onFilterChange:m.default.func,showNoResultsMessage:m.default.bool,isLoadingSearchOptions:m.default.bool};var y=v;t.default=y},,,,,,,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(0)),r=l(a(4)),o=l(a(1)),s=function LoadingIcon(e){return n.default.createElement("i",{className:(0,r.default)("fa fa-spinner fa-pulse fa-fw",e.className)})};s.propTypes={className:o.default.string};var i=s;t.default=i},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.copyShortUrlToClipboard=t.getURLParamString=t.parseUrlParams=t.resetUrl=void 0;var n=l(a(26)),r=l(a(27)),o=l(a(32)),s=l(a(210)),i=a(17),d=a(42),c=l(a(373));t.resetUrl=function resetUrl(){window.history.replaceState({},document.title,location.pathname)};t.parseUrlParams=function parseUrlParams(){var e=s.default.parse(location.search,{arrayFormat:"bracket"});for(var t in e)if("pipeline_version"!==t)try{e[t]=JSON.parse(e[t])}catch(e){}return e};t.getURLParamString=function getURLParamString(e){var t=(0,i.pickBy)(function(e,t){return!(0,i.isPlainObject)(e)&&!(0,i.isUndefined)(e)},e);return(0,i.flow)(i.toPairs,(0,i.map)(function(e){var t=(0,o.default)(e,2),a=t[0],l=t[1];return(0,i.isArray)(l)?(0,i.filter)(function(e){return!(0,i.isObject)(e)},l).map(function(e){return"".concat(a,"[]=").concat(e)}):"".concat(a,"=").concat(l)}),i.flatten,(0,i.join)("&"))(t)};var u=function(){var e=(0,r.default)(n.default.mark(function _callee(e){var t;return n.default.wrap(function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return e=e||window.location.href,a.next=3,(0,d.shortenUrl)(e);case 3:t=a.sent,(0,c.default)(window.location.origin+"/"+t.unique_key);case 5:case"end":return a.stop()}},_callee)}));return function copyShortUrlToClipboard(t){return e.apply(this,arguments)}}();t.copyShortUrlToClipboard=u},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(5)),r=l(a(47)),o=l(a(7)),s=l(a(8)),i=l(a(10)),d=l(a(9)),c=l(a(3)),u=l(a(11)),f=l(a(2)),p=l(a(0)),m=a(37),h=l(a(1)),g=function(e){function Input(e){var t;return(0,o.default)(this,Input),t=(0,i.default)(this,(0,d.default)(Input).call(this,e)),(0,f.default)((0,c.default)(t),"handleChange",function(e,a){t.props.onChange&&t.props.onChange(a.value)}),t}return(0,u.default)(Input,e),(0,s.default)(Input,[{key:"render",value:function render(){var e=this.props,t=e.className,a=e.disableAutocomplete,l=e.value,o=(0,r.default)(e,["className","disableAutocomplete","value"]);return t="idseq-ui "+t,p.default.createElement(m.Input,(0,n.default)({},o,{className:t,value:l||"",onChange:this.handleChange,autoComplete:a?"idseq-ui":null}))}}]),Input}(p.default.Component);g.propTypes={value:h.default.oneOfType([h.default.string,h.default.number]),onChange:h.default.func,className:h.default.string,disableAutocomplete:h.default.bool};var v=g;t.default=v},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AsyncMultipleDropdown",{enumerable:!0,get:function get(){return n.default}}),Object.defineProperty(t,"BareDropdown",{enumerable:!0,get:function get(){return r.default}}),Object.defineProperty(t,"DownloadIconDropdown",{enumerable:!0,get:function get(){return o.default}}),Object.defineProperty(t,"DownloadButtonDropdown",{enumerable:!0,get:function get(){return s.default}}),Object.defineProperty(t,"Dropdown",{enumerable:!0,get:function get(){return i.default}}),Object.defineProperty(t,"MultipleDropdown",{enumerable:!0,get:function get(){return d.default}}),Object.defineProperty(t,"MultipleNestedDropdown",{enumerable:!0,get:function get(){return c.default}}),Object.defineProperty(t,"ThresholdFilterDropdown",{enumerable:!0,get:function get(){return u.default}});var n=l(a(754)),r=l(a(58)),o=l(a(755)),s=l(a(173)),i=l(a(74)),d=l(a(140)),c=l(a(288)),u=l(a(220))},,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sampleErrorInfo=t.joinServerError=t.sampleNameFromFileName=t.cleanFilePath=t.baseName=t.pipelineVersionHasCoverageViz=t.pipelineVersionHasAssembly=t.pipelineVersionAtLeast=void 0;var l=a(17),n=function pipelineVersionAtLeast(e,t){if(!e)return!1;var a=function toInt(e){return+e||0},l=e.split("."),n=t.split(".");if(a(l[0])>a(n[0]))return!0;if(a(l[0])===a(n[0])){if(a(l[1])>a(n[1]))return!0;if(a(l[1])===a(n[1])&&a(l[2])>=a(n[2]))return!0}return!1};t.pipelineVersionAtLeast=n;t.pipelineVersionHasAssembly=function pipelineVersionHasAssembly(e){return n(e,"3.1")};t.pipelineVersionHasCoverageViz=function pipelineVersionHasCoverageViz(e){return n(e,"3.6")};var r=function baseName(e){var t=o(e),a="/";return t.includes("\\")&&(a="\\"),(t=(0,l.last)(t.split(a))).includes(".")&&(t=t.substring(0,t.lastIndexOf("."))),t};t.baseName=r;var o=function cleanFilePath(e){return(e=e.trim()).replace(/^\.[\\|/]/,"")};t.cleanFilePath=o;t.sampleNameFromFileName=function sampleNameFromFileName(e){var t=r(e);return t=t.replace(/.fastq*$|.fq*$|.fasta*$|.fa*$|.gz*$/gim,"").replace(/_R1.*$|_R2.*$/gi,"")};t.joinServerError=function joinServerError(e){var t="";return Object.keys(e).forEach(function(a){t+=e[a].join(". ")}),t};t.sampleErrorInfo=function sampleErrorInfo(e,t){var a,l,n,r,o,s;switch(e.upload_error||t&&t.known_user_error){case"BASESPACE_UPLOAD_FAILED":a="SAMPLE FAILED",l="Oh no! There was an issue uploading your sample file from Basespace.",n="Contact us for help.",r="error",o="mailto:help@idseq.net";break;case"S3_UPLOAD_FAILED":a="SAMPLE FAILED",l="Oh no! There was an issue uploading your sample file from S3.",n="Contact us for help.",r="error",o="mailto:help@idseq.net";break;case"LOCAL_UPLOAD_FAILED":a="SAMPLE FAILED",l="Oh no! It took too long to upload your sample file.",n="Contact us for help.",r="error",o="mailto:help@idseq.net";break;case"LOCAL_UPLOAD_STALLED":a="INCOMPLETE - ISSUE",l="It looks like it is taking a long time to upload your sample file.",n="Contact us for help.",r="warning",o="mailto:help@idseq.net";break;case"DO_NOT_PROCESS":a="PROCESSING SKIPPED",l="Sample processing has been skipped due to user selection during upload.",r="info";break;case"FAULTY_INPUT":a="COMPLETE - ISSUE",l="Sorry, something was wrong with your input file. ".concat(t.error_message,"."),n="Please check your file format and reupload your file.",r="warning",o="/samples/upload";break;case"INSUFFICIENT_READS":a="COMPLETE - ISSUE",l="Oh no! No matches were identified because there weren't any reads left after host and quality filtering.",n="Check where your reads were filtered out.",r="warning",s=t&&t.pipeline_version?"?pipeline_version=".concat(t.pipeline_version):"",o="/samples/".concat(e.id,"/results_folder").concat(s);break;case"BROKEN_PAIRS":a="COMPLETE - ISSUE",l="Sorry, something was wrong with your input files. Either the paired reads were not named using the same identifiers in both files, or some reads were missing a mate.",n="Please fix the read pairing, then reupload",r="warning",o="/samples/upload";break;default:a="SAMPLE FAILED",l="Oh no! There was an issue processing your sample.",n="Contact us for help re-running your sample.",r="error",o="mailto:help@idseq.net"}return{status:a,message:l,type:r,linkText:n,link:o}}},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(5)),r=l(a(281)),o=l(a(0)),s=function SecondaryButton(e){return o.default.createElement(r.default,(0,n.default)({},e,{secondary:!0}))};t.default=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateManualMetadataForNewSamples=t.validateManualMetadataForProject=t.validateMetadataCSVForNewSamples=t.validateMetadataCSVForProject=t.uploadMetadataForProject=t.saveSampleMetadata=t.getProjectMetadataFields=t.getSampleMetadataFields=t.getSampleMetadata=t.getOfficialMetadataFields=void 0;var l=a(17),n=a(102);t.getSampleMetadata=function getSampleMetadata(e,t){return(0,n.get)(t?"/samples/".concat(e,"/metadata?pipeline_version=").concat(t):"/samples/".concat(e,"/metadata"))};t.getSampleMetadataFields=function getSampleMetadataFields(e){return(0,n.get)("/samples/metadata_fields",{params:{sampleIds:(0,l.flatten)([e])}})};t.getProjectMetadataFields=function getProjectMetadataFields(e){return(0,n.get)("/projects/metadata_fields",{params:{projectIds:(0,l.flatten)([e])}})};t.saveSampleMetadata=function saveSampleMetadata(e,t,a){return(0,n.postWithCSRF)("/samples/".concat(e,"/save_metadata_v2"),{field:t,value:a})};var r=function validateMetadataCSVForProject(e,t){return(0,n.postWithCSRF)("/projects/".concat(e,"/validate_metadata_csv"),{metadata:t})};t.validateMetadataCSVForProject=r;t.validateManualMetadataForProject=function validateManualMetadataForProject(e,t){var a=(0,l.set)("rows",t.rows.map(function(e){return t.headers.map(function(t){return e[t]||""})}),t);return r(e,a)};var o=function validateMetadataCSVForNewSamples(e,t){return(0,n.postWithCSRF)("/metadata/validate_csv_for_new_samples",{metadata:t,samples:e})};t.validateMetadataCSVForNewSamples=o;t.validateManualMetadataForNewSamples=function validateManualMetadataForNewSamples(e,t){var a=(0,l.set)("rows",t.rows.map(function(e){return t.headers.map(function(t){return e[t]||""})}),t);return o(e,a)};t.uploadMetadataForProject=function uploadMetadataForProject(e,t){return(0,n.postWithCSRF)("/projects/".concat(e,"/upload_metadata"),{metadata:t})};t.getOfficialMetadataFields=function getOfficialMetadataFields(){return(0,n.get)("/metadata/official_metadata_fields")}},,,,,,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(0)),r=l(a(1)),o=function AlertIcon(e){return n.default.createElement("svg",{className:e.className,viewBox:"0 0 24 24"},n.default.createElement("g",{stroke:"none",strokeWidth:"1",fillRule:"evenodd"},n.default.createElement("g",{transform:"translate(-484.000000, -784.000000)",fillRule:"nonzero"},n.default.createElement("g",{transform:"translate(484.000000, 784.000000)"},n.default.createElement("path",{d:"M12,0.217021277 C5.50289362,0.217021277 0.217021277,5.50289362 0.217021277,12 C0.217021277,18.4971064 5.50289362,23.7829787 12,23.7829787 C18.4971064,23.7829787 23.7829787,18.4971064 23.7829787,12 C23.7829787,5.50289362 18.4971064,0.217021277 12,0.217021277 Z M12,22.506383 C6.20680851,22.506383 1.49361702,17.7931915 1.49361702,12 C1.49361702,6.20680851 6.20680851,1.49361702 12,1.49361702 C17.7931915,1.49361702 22.506383,6.20680851 22.506383,12 C22.506383,17.7931915 17.7931915,22.506383 12,22.506383 Z M10.4798298,13.187234 C10.5337021,14.2146383 11.2822979,14.6747234 12,14.6747234 C12.7028936,14.6747234 13.4744681,14.1520851 13.5204255,13.1811064 L13.8234894,6.10978723 C13.8237447,6.10059574 13.824,6.09165957 13.824,6.08246809 C13.824,5.07702128 13.0059574,4.25897872 12,4.25897872 C10.9940426,4.25897872 10.176,5.07702128 10.176,6.08246809 C10.176,6.09165957 10.1762553,6.10059574 10.1765106,6.10978723 L10.4798298,13.187234 Z M12,5.53582979 C12.2979574,5.53582979 12.5412766,5.77531915 12.5474043,6.07174468 L12.2451064,13.1236596 C12.2333617,13.3715745 12.0697021,13.3981277 12,13.3981277 C11.8404255,13.3981277 11.7671489,13.3580426 11.7551489,13.1264681 L11.4525957,6.07148936 C11.4587234,5.77506383 11.7020426,5.53582979 12,5.53582979 Z M12,15.6714894 C11.4329362,15.6714894 10.8773617,15.9017872 10.475234,16.3041702 C10.0756596,16.704 9.84612766,17.2585532 9.84612766,17.8251064 C9.84612766,18.3939574 10.0754043,18.9492766 10.475234,19.3491064 C10.8750638,19.7491915 11.4306383,19.9789787 12,19.9789787 C12.5711489,19.9789787 13.1264681,19.7486809 13.5186383,19.3519149 C13.9222979,18.9525957 14.153617,18.396 14.153617,17.8253617 C14.153617,17.256766 13.9222979,16.7017021 13.5206809,16.3041702 C13.1193191,15.9017872 12.564766,15.6714894 12,15.6714894 Z M12.6155745,18.4491064 C12.2977021,18.7713191 11.7025532,18.7713191 11.3780426,18.4465532 C11.2156596,18.2841702 11.1227234,18.0577021 11.1227234,17.8248511 C11.1227234,17.5973617 11.2182128,17.3662979 11.3780426,17.2062128 C11.5424681,17.0420426 11.7689362,16.9478298 12,16.9478298 C12.228766,16.9478298 12.4539574,17.0420426 12.6206809,17.2085106 C12.7838298,17.3701277 12.8772766,17.5948085 12.8772766,17.8248511 C12.8772766,18.0571915 12.7835745,18.2826383 12.6155745,18.4491064 Z",id:"Shape"})))))};o.propTypes={className:r.default.string};var s=o;t.default=s},,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(3)),d=l(a(11)),c=l(a(2)),u=l(a(0)),f=l(a(4)),p=l(a(1)),m=l(a(1319)),h=function(e){function Tabs(e){var t;return(0,n.default)(this,Tabs),t=(0,o.default)(this,(0,s.default)(Tabs).call(this,e)),(0,c.default)((0,i.default)(t),"adjustIndicator",function(){var e=t._tabs[t.props.value];e&&t.setState({indicatorLeft:e.offsetLeft,indicatorWidth:e.offsetWidth})}),t._tabs={},t.state={indicatorLeft:null,indicatorWidth:null},t}return(0,d.default)(Tabs,e),(0,r.default)(Tabs,[{key:"componentDidMount",value:function componentDidMount(){this.adjustIndicator(),window.addEventListener("resize",this.adjustIndicator)}},{key:"componentDidUpdate",value:function componentDidUpdate(e){e.value===this.props.value&&e.tabs===this.props.tabs||this.adjustIndicator()}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.removeEventListener("resize",this.adjustIndicator)}},{key:"render",value:function render(){var e=this,t=this.props,a=t.className,l=t.hideBorder,n=t.onChange,r=t.value,o=t.tabs,s=this.state,i=s.indicatorLeft,d=s.indicatorWidth,c=o.map(function(e){return"string"==typeof e?{value:e,label:e}:e});return u.default.createElement("div",{className:(0,f.default)(m.default.tabs,a)},u.default.createElement("div",{className:(0,f.default)(m.default.tabWrapper)},c.map(function(t){return u.default.createElement("div",{key:t.value,ref:function ref(a){return e._tabs[t.value]=a},onClick:function onClick(){return n(t.value)},className:(0,f.default)(m.default.tab,r===t.value&&m.default.selected)},t.label)}),u.default.createElement("div",{className:m.default.indicator,style:{left:i,width:d}})),!l&&u.default.createElement("div",{className:m.default.tabBorder}))}}]),Tabs}(u.default.Component);h.propTypes={tabs:p.default.arrayOf(p.default.oneOfType([p.default.string.isRequired,p.default.shape({value:p.default.string.isRequired,label:p.default.node.isRequired})])).isRequired,onChange:p.default.func.isRequired,value:p.default.string,className:p.default.string,hideBorder:p.default.bool};var g=h;t.default=g},,,,,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.deleteWithCSRF=t.deleteAsync=t.putWithCSRF=t.postWithCSRF=t.get=void 0;var n=l(a(26)),r=l(a(2)),o=l(a(27)),s=l(a(72));function ownKeys(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(a,!0).forEach(function(t){(0,r.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var i=function(){var e=(0,o.default)(n.default.mark(function _callee(e,t){var a;return n.default.wrap(function _callee$(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,l.next=3,s.default.post(e,_objectSpread({},t,{authenticity_token:document.getElementsByName("csrf-token")[0].content}));case 3:return a=l.sent,l.abrupt("return",a.data);case 7:return l.prev=7,l.t0=l.catch(0),l.abrupt("return",Promise.reject(l.t0.response.data));case 10:case"end":return l.stop()}},_callee,null,[[0,7]])}));return function postWithCSRF(t,a){return e.apply(this,arguments)}}();t.postWithCSRF=i;var d=function(){var e=(0,o.default)(n.default.mark(function _callee2(e,t){var a;return n.default.wrap(function _callee2$(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,l.next=3,s.default.put(e,_objectSpread({},t,{authenticity_token:document.getElementsByName("csrf-token")[0].content}));case 3:return a=l.sent,l.abrupt("return",a.data);case 7:return l.prev=7,l.t0=l.catch(0),l.abrupt("return",Promise.reject(l.t0.response.data));case 10:case"end":return l.stop()}},_callee2,null,[[0,7]])}));return function putWithCSRF(t,a){return e.apply(this,arguments)}}();t.putWithCSRF=d;var c=function(){var e=(0,o.default)(n.default.mark(function _callee3(e,t){var a;return n.default.wrap(function _callee3$(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,l.next=3,s.default.get(e,t);case 3:return a=l.sent,l.abrupt("return",a.data);case 7:return l.prev=7,l.t0=l.catch(0),l.abrupt("return",Promise.reject(l.t0.response.data));case 10:case"end":return l.stop()}},_callee3,null,[[0,7]])}));return function get(t,a){return e.apply(this,arguments)}}();t.get=c;var u=function(){var e=(0,o.default)(n.default.mark(function _callee4(e,t){var a;return n.default.wrap(function _callee4$(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,s.default.delete(e,t);case 2:return a=l.sent,l.abrupt("return",a.data);case 4:case"end":return l.stop()}},_callee4)}));return function deleteAsync(t,a){return e.apply(this,arguments)}}();t.deleteAsync=u;var f=function(){var e=(0,o.default)(n.default.mark(function _callee5(e){var t;return n.default.wrap(function _callee5$(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,s.default.delete(e,{data:{authenticity_token:document.getElementsByName("csrf-token")[0].content}});case 3:return t=a.sent,a.abrupt("return",t.data);case 7:return a.prev=7,a.t0=a.catch(0),a.abrupt("return",Promise.reject(a.t0.response.data));case 10:case"end":return a.stop()}},_callee5,null,[[0,7]])}));return function deleteWithCSRF(t){return e.apply(this,arguments)}}();t.deleteWithCSRF=f},,,,,,,,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(0)),r=l(a(4)),o=l(a(1)),s=l(a(1219)),i=function RemoveIcon(e){var t=e.className,a=e.onClick;return n.default.createElement("svg",{className:(0,r.default)(t,s.default.removeIcon,a&&s.default.clickable),onClick:a,xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 12 12"},n.default.createElement("path",{fillRule:"evenodd",d:"M6.868 6L12 11.132l-.868.868L6 6.868.868 12 0 11.132 5.132 6 0 .868.868 0 6 5.132 11.132 0 12 .868z"}))};i.propTypes={className:o.default.string,onClick:o.default.func};var d=i;t.default=d},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(37),r=a(66),o=l(a(1)),s=l(a(0)),i=l(a(4)),d=l(a(1244)),c=function Label(e){var t=e.className,a=e.color,l=e.size,r=e.circular,o=e.floating,c=e.text,u=e.onClick;return s.default.createElement(n.Label,{className:(0,i.default)(t,d.default.label),color:a,size:l,circular:r,floating:o,onClick:u},c)};c.propTypes=(0,r.forbidExtraProps)({className:o.default.string,color:o.default.string,size:o.default.string,circular:o.default.bool,floating:o.default.bool,text:o.default.node,onClick:o.default.func});var u=c;t.default=u},,,,,,,,,,,,,,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(3)),d=l(a(11)),c=l(a(2)),u=l(a(1)),f=l(a(0)),p=l(a(4)),m=a(17),h=l(a(126)),g=function(e){function DataTable(e){var t;return(0,n.default)(this,DataTable),t=(0,o.default)(this,(0,s.default)(DataTable).call(this,e)),(0,c.default)((0,i.default)(t),"getCellStyle",function(e){return t.props.columnWidth?{width:t.props.columnWidth}:t.props.getColumnWidth?{width:t.props.getColumnWidth(e)}:{}}),t.state={filter:"",selectedRows:new Set(t.props.selectedRows||[]),originalData:t.props.data,indexedData:DataTable.indexData(t.props.data)},t.handleCheckBoxChange=t.handleCheckBoxChange.bind((0,i.default)(t)),t}return(0,d.default)(DataTable,e),(0,r.default)(DataTable,[{key:"filterData",value:function filterData(e){var t=this;if(this.state.filter){var a=this.state.filter.split(/ +/);return e.filter(function(e){return a.every(function(a){return t.filterRow(e,a)})})}return e}},{key:"filterRow",value:function filterRow(e,t){for(var a in e)if(e.hasOwnProperty(a)&&!a.startsWith("__")){var l=void 0!==e[a]&&null!==e[a]&&e[a].toString().toLowerCase();if(l&&-1!==l.indexOf(t))return!0}return!1}},{key:"handleCheckBoxChange",value:function handleCheckBoxChange(e,t){var a=this;if(void 0!==t){var l={};if(e<0)for(var n=this.state.selectedRows||new Set,r=this.filterData(this.state.indexedData),o=0;o<r.length;o++)t?n.add(r[o].__originalIndex):n.delete(r[o].__originalIndex),l={selectedRows:n};else l=t?function stateUpdate(t){return t.selectedRows.add(e),{selectedRows:t.selectedRows}}:function stateUpdate(t){return t.selectedRows.delete(e),{selectedRows:t.selectedRows}};this.setState(l,function(){return a.props.onSelectedRowsChanged(a.state.selectedRows)})}}},{key:"render",value:function render(){var e=this,t=this.filterData(this.state.indexedData),a=t.length>0&&t.every(function(t){return e.state.selectedRows.has(t.__originalIndex)});return f.default.createElement("table",{className:(0,p.default)("idseq-ui data-table",this.props.striped&&"striped",this.props.className,this.props.onSelectedRowsChanged&&"selectable")},f.default.createElement("thead",null,f.default.createElement("tr",null,this.props.onSelectedRowsChanged&&f.default.createElement("th",{className:"data-table__header column-reserved-selectable"},f.default.createElement(h.default,{checked:a,onChange:this.handleCheckBoxChange,value:-1})),this.props.columns.map(function(t,a){return f.default.createElement("th",{className:"data-table__header column-".concat(t),key:a,style:e.getCellStyle(t)},e.props.headers?e.props.headers[t]:t)}))),f.default.createElement("tbody",null,t.map(function(t){return f.default.createElement("tr",{key:t.__originalIndex},e.props.onSelectedRowsChanged&&f.default.createElement("td",{className:"data-table__data column-reserved-selectable"},f.default.createElement(h.default,{checked:e.state.selectedRows.has(t.__originalIndex),onChange:e.handleCheckBoxChange,value:t.__originalIndex})),e.props.columns.map(function(a,l){return f.default.createElement("td",{className:"data-table__data column-".concat(a),style:e.getCellStyle(a),key:l},(0,m.isObject)(t[a])&&void 0!==t[a].name?t[a].name:t[a])}))})))}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(e,t){var a=DataTable.prepareFilter(e.filter),l={};return a!==t.filter&&(l.filter=a),e.data!==t.originalData&&(l.originalData=e.data,l.indexedData=DataTable.indexData(e.data)),l}},{key:"prepareFilter",value:function prepareFilter(e){return void 0===e||null===e?"":e.toString().trim().toLowerCase()}},{key:"indexData",value:function indexData(e){return e.map(function(e,t){return(0,m.set)("__originalIndex",t,e)})}}]),DataTable}(f.default.Component);g.propTypes={className:u.default.string,columns:u.default.array,data:u.default.array,headers:u.default.object,onSelectedRowsChanged:u.default.func,selectedRows:u.default.oneOfType([u.default.arrayOf(u.default.number),u.default.object]),striped:u.default.bool,columnWidth:u.default.number,getColumnWidth:u.default.func},g.defaultProps={striped:!0};var v=g;t.default=v},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(3)),d=l(a(11)),c=l(a(0)),u=l(a(1)),f=l(a(4)),p=l(a(1223)),m=function(e){function Checkbox(e){var t;return(0,n.default)(this,Checkbox),(t=(0,o.default)(this,(0,s.default)(Checkbox).call(this,e))).state={isChecked:!1},t.handleClick=t.handleClick.bind((0,i.default)(t)),t}return(0,d.default)(Checkbox,e),(0,r.default)(Checkbox,[{key:"handleClick",value:function handleClick(e){var t=this,a=this.props,l=a.value,n=a.onChange;e.stopPropagation(),this.setState({isChecked:!this.state.isChecked},function(){n(l,t.state.isChecked,e)})}},{key:"render",value:function render(){var e=this.props,t=e.disabled,a=e.label,l=e.value,n=e.className,r=this.state.isChecked;return c.default.createElement("div",{className:(0,f.default)(p.default.checkbox,n),onClick:this.handleClick},c.default.createElement("input",{type:"checkbox",value:l,checked:r,readOnly:!0,disabled:t}),c.default.createElement("span",{className:p.default.checkmark}),a&&c.default.createElement("span",{className:p.default.label},a))}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(e,t){return e.checked!==t.oldIsChecked?{isChecked:e.checked,oldIsChecked:e.checked}:null}}]),Checkbox}(c.default.Component);m.defaultProps={checked:!1},m.propTypes={className:u.default.string,checked:u.default.bool,disabled:u.default.bool,label:u.default.oneOfType([u.default.string,u.default.element]),onChange:u.default.func.isRequired,value:u.default.oneOfType([u.default.string,u.default.number])};var h=m;t.default=h},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(5)),r=l(a(47)),o=l(a(7)),s=l(a(8)),i=l(a(10)),d=l(a(9)),c=l(a(11)),u=l(a(1)),f=l(a(0)),p=l(a(4)),m=a(66),h=a(37),g=l(a(110)),v=l(a(1266)),y=function(e){function Modal(e){return(0,o.default)(this,Modal),(0,i.default)(this,(0,d.default)(Modal).call(this,e))}return(0,c.default)(Modal,e),(0,s.default)(Modal,[{key:"render",value:function render(){var e=this.props,t=e.fixedHeight,a=e.narrow,l=e.narrowest,o=e.tall,s=e.wide,i=e.className,d=(0,r.default)(e,["fixedHeight","narrow","narrowest","tall","wide","className"]);return f.default.createElement(h.Modal,(0,n.default)({},d,{className:(0,p.default)(v.default.modal,i,a&&v.default.narrow,l&&v.default.narrowest,o&&v.default.tall,s&&v.default.wide,t&&v.default.fixedHeight),trigger:f.default.createElement("span",null)}),this.props.title&&f.default.createElement(h.Modal.Header,null,this.props.title),this.props.onClose&&f.default.createElement(g.default,{className:v.default.closeIcon,onClick:this.props.onClose}),f.default.createElement(h.Modal.Content,null,this.props.children))}}]),Modal}(f.default.Component);y.propTypes=(0,m.forbidExtraProps)({children:u.default.oneOfType([u.default.arrayOf(u.default.node),u.default.node]).isRequired,className:u.default.string,onClose:u.default.func,open:u.default.bool,fixedHeight:u.default.bool,narrow:u.default.bool,narrowest:u.default.bool,wide:u.default.bool,tall:u.default.bool,title:u.default.string});var b=y;t.default=b},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numberWithCommas=function numberWithCommas(e){if(!e)return e;e=e.toString();var t=/(-?\d+)(\d{3})/;for(;t.test(e);)e=e.replace(t,"$1,$2");return e},t.humanize=function humanize(e){return e.split("_").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")},t.splitIntoMultipleLines=function splitIntoMultipleLines(e,t){var a=[],l="";e.split(" ").forEach(function(e){l.length+1+e.length>t&&l.length>0&&(a.push(l),l=""),l.length>0&&(l+=" "),l+=e}),l.length>0&&a.push(l);return a}},,,,,,,,,,,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(37),r=a(66),o=l(a(1)),s=l(a(0)),i=function Icon(e){var t=e.name,a=e.size,l=e.className,r=e.onClick;return s.default.createElement(n.Icon,{className:l,name:t,size:a,onClick:r})};i.propTypes=(0,r.forbidExtraProps)({name:o.default.string,size:o.default.string,className:o.default.string,onClick:o.default.func});var d=i;t.default=d},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(5)),r=l(a(47)),o=l(a(7)),s=l(a(8)),i=l(a(10)),d=l(a(9)),c=l(a(3)),u=l(a(11)),f=l(a(2)),p=l(a(4)),m=l(a(1)),h=a(17),g=l(a(0)),v=l(a(58)),y=l(a(174)),b=l(a(283)),C=l(a(389)),w=l(a(1263)),E=function(e){function MultipleDropdown(e){var t;return(0,o.default)(this,MultipleDropdown),t=(0,i.default)(this,(0,d.default)(MultipleDropdown).call(this,e)),(0,f.default)((0,c.default)(t),"handleOptionClicked",function(e,a){var l=t.state.value.slice();a?l.push(e):l=(0,h.without)([e],l),t.setState({value:l}),t.props.onChange&&t.props.onChange(l)}),(0,f.default)((0,c.default)(t),"handleItemClicked",function(e){return e.stopPropagation()}),(0,f.default)((0,c.default)(t),"handleOpen",function(){t.props.checkedOnTop&&t.setState({valueOnOpen:t.state.value.slice()})}),t.state={value:t.props.value||[],valueOnOpen:t.props.value||[]},t}return(0,u.default)(MultipleDropdown,e),(0,s.default)(MultipleDropdown,[{key:"renderMenuItem",value:function renderMenuItem(e,t){var a=this.props.boxed;return g.default.createElement(C.default,{key:e.value,value:e.value,label:e.text,checked:t,onOptionClick:this.handleOptionClicked,boxed:a})}},{key:"renderMenuItems",value:function renderMenuItems(){var e=this,t=this.props,a=t.value,l=t.options,n=t.checkedOnTop,r=this.state,o=r.value,s=r.valueOnOpen,i=a||o;if(n){var d=s.map(function(t){return e.renderMenuItem((0,h.find)({value:t},l),(0,h.includes)(t,i))}),c=l.filter(function(e){return!(0,h.includes)(e.value,s)}).map(function(t){return e.renderMenuItem(t,(0,h.includes)(t.value,i))});return d.concat(c)}return l.map(function(t){return e.renderMenuItem(t,(0,h.includes)(t.value,i))})}},{key:"renderText",value:function renderText(){var e=this.props,t=e.disabled,a=e.hideCounter,l=e.label,n=e.rounded,r=this.state.value,o=!a&&r.length>0&&l?l+":":l,s=!a&&r.length>0&&g.default.createElement(b.default,{className:w.default.dropdownLabel,disabled:t,text:String(r.length)});return g.default.createElement(y.default,{className:w.default.dropdownTrigger,label:o,value:s,rounded:n})}},{key:"render",value:function render(){var e=this.props,t=e.arrowInsideTrigger,a=(e.boxed,e.checkedOnTop,e.hideCounter,e.label,e.onChange,e.options,e.rounded,e.trigger),l=(e.value,e.className),o=(0,r.default)(e,["arrowInsideTrigger","boxed","checkedOnTop","hideCounter","label","onChange","options","rounded","trigger","value","className"]),s=this.renderMenuItems(),i=s.map(function(e){return e.props.label});return g.default.createElement(v.default,(0,n.default)({},o,{floating:!0,className:(0,p.default)(w.default.multipleDropdown,l),arrowInsideTrigger:t,trigger:a||this.renderText(),items:s,itemSearchStrings:i,onOpen:this.handleOpen,closeOnClick:!1}))}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(e,t){return e.value!==t.prevPropsValue?{value:e.value,prevPropsValue:e.value}:null}}]),MultipleDropdown}(g.default.Component);E.defaultProps={arrowInsideTrigger:!0,value:[]},E.propTypes={arrowInsideTrigger:m.default.bool,boxed:m.default.bool,checkedOnTop:m.default.bool,disabled:m.default.bool,hideCounter:m.default.bool,label:m.default.string,rounded:m.default.bool,onChange:m.default.func.isRequired,options:m.default.arrayOf(m.default.object),trigger:m.default.node,value:m.default.array,className:m.default.string,search:m.default.bool};var S=E;t.default=S},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(3)),d=l(a(11)),c=l(a(2)),u=l(a(0)),f=l(a(1)),p=l(a(4)),m=l(a(1288)),h=function(e){function Accordion(){var e,t;(0,n.default)(this,Accordion);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return t=(0,o.default)(this,(e=(0,s.default)(Accordion)).call.apply(e,[this].concat(l))),(0,c.default)((0,i.default)(t),"state",{}),(0,c.default)((0,i.default)(t),"onToggle",function(){t.setState({open:t.state.wasToggled?!t.state.open:!t.props.open,wasToggled:!0})}),t}return(0,d.default)(Accordion,e),(0,r.default)(Accordion,[{key:"render",value:function render(){var e=this.props,t=e.header,a=e.children,l=e.toggleable,n=e.className,r=e.iconClassName,o=e.bottomContentPadding,s=e.toggleArrowAlignment,i=this.state.wasToggled?this.state.open:this.props.open;return u.default.createElement("div",{className:(0,p.default)(m.default.accordion,n)},u.default.createElement("div",{className:(0,p.default)(m.default.header,l&&m.default.toggleable,m.default[s]),onClick:this.props.onToggle||this.onToggle},t,u.default.createElement("div",{className:m.default.fill}),l&&u.default.createElement("div",{className:m.default.toggleContainer},u.default.createElement("i",{className:(0,p.default)("fa",i?"fa-angle-up":"fa-angle-down",m.default.toggleIcon,r)}))),(i||!l)&&u.default.createElement("div",{className:(0,p.default)(m.default.content,o&&m.default.bottomPadding)},a))}}]),Accordion}(u.default.Component);h.propTypes={className:f.default.string,iconClassName:f.default.string,toggleable:f.default.bool,toggleArrowAlignment:f.default.oneOf(["center","baseline"]),onToggle:f.default.func,open:f.default.bool,bottomContentPadding:f.default.bool,header:f.default.node,children:f.default.node},h.defaultProps={toggleable:!0,toggleArrowAlignment:"center",open:!1};var g=h;t.default=g},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(0)),c=l(a(4)),u=l(a(24)),f=l(a(111)),p=l(a(139)),m=l(a(1334)),h=function(e){function FilterTag(){return(0,n.default)(this,FilterTag),(0,o.default)(this,(0,s.default)(FilterTag).apply(this,arguments))}return(0,i.default)(FilterTag,e),(0,r.default)(FilterTag,[{key:"render",value:function render(){var e=this.props,t=e.text,a=e.onClose,l=e.className,n=d.default.createElement(d.default.Fragment,null,t,d.default.createElement(p.default,{name:"close",onClick:a}));return d.default.createElement(f.default,{className:(0,c.default)(m.default.filterTag,l),size:"tiny",text:n})}}]),FilterTag}(d.default.Component);t.default=h,h.propTypes={text:u.default.string,onClose:u.default.func.isRequired,className:u.default.string}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatWithUnits=t.formatFileSize=t.limitToRange=t.formatPercent=void 0;t.formatPercent=function formatPercent(e){return"".concat((100*e).toFixed(1),"%")};t.limitToRange=function limitToRange(e,t,a){return Math.min(a,Math.max(t,e))};t.formatFileSize=function formatFileSize(e){return l(e,1024,["B","kB","MB","GB","TB","PB"])};var l=function formatWithUnits(e,t,a){for(var l=0;Math.abs(e)>=t&&l<a.length-1;)e/=t,l++;return"".concat(l>0?e.toFixed(1):e," ").concat(a[l])};t.formatWithUnits=l},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(0)),r=l(a(1)),o=function BacteriaIcon(e){return n.default.createElement("svg",{className:e.className,viewBox:"0 0 105 133",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",fill:"#EAEAEA",fillRule:"nonzero"},n.default.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},n.default.createElement("g",{transform:"translate(57.752472, 70.289042) rotate(20.000000) translate(-57.752472, -70.289042) translate(4.689181, 6.289042)",fill:"#EAEAEA"},n.default.createElement("circle",{id:"Oval",cx:"26.3291139",cy:"49.0126582",r:"2.83544304"}),n.default.createElement("circle",{id:"Oval",cx:"44.1518987",cy:"61.164557",r:"2.83544304"}),n.default.createElement("circle",{id:"Oval",cx:"38.4810127",cy:"26.3291139",r:"2.83544304"}),n.default.createElement("path",{d:"M32,64 C25.5392405,64 20.2531646,69.2860759 20.2531646,75.7468354 C20.2531646,82.2075949 25.5392405,87.4936709 32,87.4936709 C38.4607595,87.4936709 43.7468354,82.2075949 43.7468354,75.7468354 C43.7468354,69.2860759 38.4607595,64 32,64 Z M32,81.6202532 C28.7696203,81.6202532 26.1265823,78.9772152 26.1265823,75.7468354 C26.1265823,72.5164557 28.7696203,69.8734177 32,69.8734177 C35.2303797,69.8734177 37.8734177,72.5164557 37.8734177,75.7468354 C37.8734177,78.9772152 35.2303797,81.6202532 32,81.6202532 Z",id:"Shape",fillRule:"nonzero"}),n.default.createElement("path",{d:"M26.8380473,38.8600338 C27.4242894,40.0208371 28.3036526,40.6012388 29.4761369,40.6012388 C30.062379,40.6012388 30.3555,40.6012388 30.6486211,40.311038 C32.1142264,39.7306363 32.7004685,37.9894312 31.8211053,36.538427 L28.8898947,30.73441 C28.3036526,29.2834058 26.5449263,28.7030041 25.079321,29.5736067 C23.6137157,30.1540083 23.0274736,31.8952134 23.9068367,33.3462177 L26.8380473,38.8600338 Z",id:"Path"}),n.default.createElement("path",{d:"M38.7604095,42.4293341 L35.8291989,51.1353595 C35.2429568,52.5863637 36.1223199,54.3275688 37.5879252,54.9079705 C37.8810463,54.9079705 38.1741674,55.1981713 38.4672884,55.1981713 C39.6397727,55.1981713 40.8122569,54.3275688 41.105378,53.1667654 L44.0365885,44.46074 C44.6228307,43.0097358 43.7434675,41.2685307 42.2778622,40.688129 C40.8122569,40.1077273 39.0535305,40.9783298 38.7604095,42.4293341 Z",id:"Path"}),n.default.createElement("path",{d:"M102.776,72.5502117 C101.017274,72.5502117 99.8447894,73.7110151 99.8447894,75.4522202 C99.8447894,81.8366388 94.5686104,87.060254 88.1199471,87.060254 C76.6882258,87.060254 67.6014729,96.0564803 67.6014729,107.374313 C67.6014729,115.499937 61.1528096,121.884356 52.9454199,121.884356 C44.7380303,121.884356 38.289367,115.499937 38.289367,107.374313 L38.289367,107.084112 C40.9274565,106.793912 43.565546,106.21351 45.9105145,105.052707 L48.8417251,110.276322 C49.4279672,111.146924 50.3073304,111.727326 51.4798147,111.727326 C52.0660568,111.727326 52.3591778,111.727326 52.9454199,111.437125 C54.4110252,110.566523 54.7041463,108.825318 54.1179042,107.374313 L51.1866936,102.150698 C53.238541,100.699694 55.2903884,98.6682879 56.7559937,96.636882 L62.0321728,99.5388905 C62.6184149,99.8290913 62.911536,99.8290913 63.4977781,99.8290913 C64.3771413,99.8290913 65.5496255,99.2486896 66.1358676,98.3780871 C67.0152308,96.9270828 66.4289887,95.1858778 64.9633834,94.3152752 L59.6872043,91.4132667 C60.8596885,88.8014591 61.4459307,85.8994507 61.7390517,82.9974422 L68.7739572,80.6758354 C70.2395624,80.0954337 71.1189256,78.6444295 70.5326835,76.9032244 C69.9464414,75.4522202 68.4808361,74.5816176 66.7221097,75.1620193 L61.7390517,77.1934253 L61.7390517,69.6482032 L67.6014729,69.6482032 C69.3601993,69.6482032 70.5326835,68.4873998 70.5326835,66.7461948 C70.5326835,65.0049897 69.3601993,63.8441863 67.6014729,63.8441863 L61.7390517,63.8441863 L61.7390517,51.3655499 L68.4808361,49.0439431 C69.9464414,48.4635414 70.8258046,47.0125372 70.2395624,45.2713321 C69.6533203,43.8203279 68.187715,42.9497253 66.4289887,43.530127 L61.7390517,45.2713321 L61.7390517,37.7261101 L67.6014729,37.7261101 C69.3601993,37.7261101 70.5326835,36.5653067 70.5326835,34.8241016 C70.5326835,33.0828965 69.3601993,31.9220931 67.6014729,31.9220931 L61.4459307,31.9220931 C61.1528096,29.3102855 60.5665675,26.6984779 59.3940833,24.3768711 L64.6702623,21.4748627 C66.1358676,20.6042601 66.4289887,18.863055 65.8427466,17.4120508 C64.9633834,15.9610466 63.204657,15.6708457 61.7390517,16.2512474 L56.4628727,19.1532559 C54.9972674,17.12185 52.9454199,15.090444 50.8935725,13.6394398 L53.8247831,8.41582456 C54.7041463,6.96482032 54.1179042,5.22361524 52.6522989,4.3530127 C51.1866936,3.48241016 49.4279672,4.06281186 48.5486041,5.51381609 L45.6173935,10.7374313 C43.272425,9.57662794 40.6343355,8.99622625 37.9962459,8.7060254 L37.9962459,2.90200847 C37.9962459,1.16080339 36.8237617,0 35.0650353,0 C33.306309,0 32.1338247,1.16080339 32.1338247,2.90200847 L32.1338247,8.99622625 C29.2026141,9.2864271 26.5645246,10.1570296 23.9264351,11.317833 L18.0640139,5.22361524 C16.8915296,4.06281186 15.1328033,4.06281186 13.9603191,5.22361524 C12.7878348,6.38441863 12.7878348,8.12562371 13.9603191,9.2864271 L18.9433771,14.5100423 C17.1846507,15.6708457 15.7190454,17.4120508 14.2534401,19.4434567 L8.97726105,16.2512474 C7.51165575,15.6708457 5.75292939,15.9610466 4.87356621,17.4120508 C3.99420304,18.863055 4.58044516,20.6042601 6.04605045,21.4748627 L11.3222295,24.3768711 C10.1497453,26.6984779 9.56350316,29.3102855 9.27038211,31.9220931 L3.11483986,31.9220931 C1.3561135,31.9220931 0.183629265,33.0828965 0.183629265,34.8241016 C0.183629265,36.5653067 1.3561135,37.7261101 3.11483986,37.7261101 L8.97726105,37.7261101 L8.97726105,47.302738 L2.23547668,49.6243448 C0.769871384,50.2047465 -0.109491794,51.6557507 0.476750325,53.3969558 C0.769871384,54.2675584 1.94235562,55.1381609 3.11483986,55.1381609 C3.40796092,55.1381609 3.70108198,55.1381609 3.99420304,54.84796 L8.97726105,53.3969558 L8.97726105,63.8441863 L3.11483986,63.8441863 C1.3561135,63.8441863 0.183629265,65.0049897 0.183629265,66.7461948 C0.183629265,68.4873998 1.3561135,69.6482032 3.11483986,69.6482032 L8.97726105,69.6482032 L8.97726105,77.1934253 L3.99420304,75.4522202 C2.52859774,74.8718185 0.769871384,75.742421 0.183629265,77.1934253 C-0.402612853,78.6444295 0.476750325,80.3856346 1.94235562,80.9660363 L8.97726105,83.287643 C9.27038211,86.1896515 9.85662422,89.09166 11.0291085,91.7034676 L5.75292939,94.6054761 C4.2873241,95.4760786 3.99420304,97.2172837 4.58044516,98.6682879 C5.16668727,99.5388905 6.04605045,100.119292 7.21853469,100.119292 C7.80477681,100.119292 8.09789787,100.119292 8.68413999,99.8290913 L13.9603191,96.9270828 C15.7190454,99.2486896 17.4777718,100.989895 19.8227402,102.7311 L16.3052875,110.856723 C15.7190454,112.307728 16.3052875,114.048933 17.7708928,114.629334 C18.0640139,114.919535 18.650256,114.919535 18.9433771,114.919535 C20.1158613,114.919535 21.2883455,114.339134 21.5814666,113.17833 L24.8057983,105.633108 C27.1507667,106.503711 29.4957352,107.084112 32.1338247,107.374313 C32.1338247,118.692146 41.2205776,127.688373 52.6522989,127.688373 C64.0840202,127.688373 73.170773,118.692146 73.170773,107.374313 C73.170773,99.2486896 79.6194363,92.864271 87.826826,92.864271 C97.499821,92.864271 105.41409,85.0288481 105.41409,75.4522202 C105.707211,73.7110151 104.534726,72.5502117 102.776,72.5502117 Z M14.8396822,81.2562371 L14.8396822,34.8241016 C14.8396822,23.5062686 23.9264351,14.5100423 35.3581564,14.5100423 C46.7898777,14.5100423 55.8766305,23.5062686 55.8766305,34.8241016 L55.8766305,81.2562371 C55.8766305,92.5740701 46.7898777,101.570296 35.3581564,101.570296 C23.9264351,101.570296 14.8396822,92.5740701 14.8396822,81.2562371 Z",id:"Shape",fillRule:"nonzero"}))))};o.propTypes={className:r.default.string};var s=o;t.default=s},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(3)),d=l(a(11)),c=l(a(2)),u=l(a(0)),f=l(a(1)),p=a(20),m=function(e){function ExternalLink(){var e,t;(0,n.default)(this,ExternalLink);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return t=(0,o.default)(this,(e=(0,s.default)(ExternalLink)).call.apply(e,[this].concat(l))),(0,c.default)((0,i.default)(t),"onClick",function(){var e=t.props,a=e.analyticsEventName,l=e.analyticsEventData;a&&(0,p.logAnalyticsEvent)(a,l)}),t}return(0,d.default)(ExternalLink,e),(0,r.default)(ExternalLink,[{key:"render",value:function render(){var e=this.props,t=e.href,a=e.className,l=e.children;return u.default.createElement("a",{href:t,className:a,target:"_blank",rel:"noopener noreferrer",onClick:this.onClick},l)}}]),ExternalLink}(u.default.Component);m.propTypes={className:f.default.string,href:f.default.string,children:f.default.node,analyticsEventName:f.default.string,analyticsEventData:f.default.object},m.defaultProps={analyticsEventData:{}};var h=m;t.default=h},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(429)).default;t.default=n},,,,,,,,,,,,,,,function(e,t,a){e.exports={sampleUploadFlow:"sampleUploadFlow-P2uzg",inner:"inner-1CYMi",narrow:"narrow-32yY8",uploadFlowStep:"uploadFlowStep-3yD0z",flexContent:"flexContent-2QmOR",controls:"controls-14GLX",helpText:"helpText-3YYel",continueButton:"continueButton-2Bayh",visible:"visible-3PWe-",label:"label-WJhtM",infoLink:"infoLink-aplP6",headerWrapper:"headerWrapper-1uiCd",sampleUploadFlowHeader:"sampleUploadFlowHeader-2emoj",fill:"fill-RUi6W",title:"title-3fRIW",subtitle:"subtitle-f3zs0",link:"link-3cEWC",menu:"menu-jWONa",option:"option-3hiOn",active:"active-2dNF6",circle:"circle-30B8a",enabled:"enabled-3uQzY",text:"text-3a17-",uploadSampleStep:"uploadSampleStep-24M68",projectSelect:"projectSelect-18BrJ",header:"header-3wpzc",createProjectButton:"createProjectButton-2LwOb",projectCreationContainer:"projectCreationContainer-2hR3V",fileUpload:"fileUpload-2nUqG",tabs:"tabs-3WB3U",localFilePicker:"localFilePicker-2WNfA",short:"short-1iHtU",remoteFileUpload:"remoteFileUpload-1vIeb",info:"info-1VLEu",connectButton:"connectButton-1tnBn",input:"input-2m5zN",notification:"notification-1E21t",localFileUpload:"localFileUpload-1nwR2",uploadMetadataStep:"uploadMetadataStep-GBGdN",uploadInstructions:"uploadInstructions-1gkTb",hide:"hide-2u7Pb",reviewStep:"reviewStep-1anh6",uploadMsg:"uploadMsg-ULJMc",reviewHeader:"reviewHeader-OiTTf",links:"links-hWvtk",divider:"divider-3_5Tm",sampleContainer:"sampleContainer-1nDgp",project:"project-30Tts",name:"name-256Xg",publicAccess:"publicAccess-CPBcG",projectIcon:"projectIcon-3DV0k",existingSamples:"existingSamples-24HVd",truncated:"truncated-35pG2",showHide:"showHide-3pUNb",descriptionContainer:"descriptionContainer-1LTW7",tableScrollWrapper:"tableScrollWrapper-3rkvD",loadingMsg:"loadingMsg-2VqdI",sampleName:"sampleName-17oYs",error:"error-kW_Ca",files:"files-2hOhJ",file:"file-3CAf5",successMessage:"successMessage-1Y0eq",uploadMessage:"uploadMessage-22rF7",loadingIcon:"loadingIcon-1Fz0M",skipSampleProcessingOption:"skipSampleProcessingOption-23co0",loadingBackgroundAnimation:"loadingBackgroundAnimation-2LgKw"}},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(10)),o=l(a(9)),s=l(a(11)),i=l(a(2)),d=l(a(0)),c=l(a(4)),u=l(a(14)),f=l(a(46)),p=l(a(498)),m=l(a(497)),h=l(a(243)),g=a(128),v=l(a(327)),y={complete:"success",failed:"error","complete - issue":"warning","complete*":"warning","post processing":"default","host filtering":"default",alignment:"default",waiting:"default",skipped:"info"},b=function(e){function TableRenderers(){return(0,n.default)(this,TableRenderers),(0,r.default)(this,(0,o.default)(TableRenderers).apply(this,arguments))}return(0,s.default)(TableRenderers,e),TableRenderers}(d.default.Component);(0,i.default)(b,"renderItemDetails",function(e){var t=e.cellData,a=e.detailsRenderer,l=e.descriptionRenderer,n=e.nameRenderer,r=(0,e.visibilityIconRenderer)(t);return d.default.createElement("div",{className:v.default.item},d.default.createElement("div",{className:v.default.visibility},r&&d.default.cloneElement(r,{className:"".concat((0,c.default)(v.default.icon,r.props.className))})),d.default.createElement("div",{className:v.default.itemRightPane},d.default.createElement(f.default,{trigger:d.default.createElement("div",{className:v.default.itemName},n(t)),content:n(t)}),l&&t&&t.description&&d.default.createElement(f.default,{trigger:d.default.createElement("div",{className:v.default.itemDescription},l(t)),content:l(t),wide:"very",inverted:!1}),d.default.createElement("div",{className:v.default.itemDetails},a(t))))}),(0,i.default)(b,"baseRenderer",function(e){return d.default.createElement("div",{className:v.default.base},e)}),(0,i.default)(b,"renderList",function(e){var t=e.cellData;return b.baseRenderer(t&&t.length>0?t.join(", "):"")}),(0,i.default)(b,"renderDate",function(e){var t=e.cellData;return d.default.createElement("div",{className:v.default.date},t?(0,u.default)(t).format("YYYY-MM-DD"):"")}),(0,i.default)(b,"renderDateWithElapsed",function(e){var t=e.cellData;return d.default.createElement("div",{className:v.default.dateContainer},b.renderDate({cellData:t}),d.default.createElement("div",{className:v.default.elapsed},t?(0,u.default)(t).fromNow():""))}),(0,i.default)(b,"renderSample",function(e){var t=e.cellData,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return d.default.createElement("div",{className:v.default.sample},a&&d.default.createElement("div",{className:v.default.visibility},t&&(t.publicAccess?d.default.createElement(p.default,{className:(0,c.default)(v.default.icon)}):d.default.createElement(m.default,{className:(0,c.default)(v.default.icon)}))),d.default.createElement("div",{className:v.default.sampleRightPane},t?d.default.createElement("div",{className:v.default.sampleNameAndStatus},d.default.createElement(f.default,{trigger:d.default.createElement("div",{className:v.default.sampleName},t.name),content:t.name}),d.default.createElement(h.default,{className:v.default.sampleStatus,status:t.status,type:y[t.status]})):d.default.createElement("div",{className:v.default.sampleNameAndStatus}),t?d.default.createElement("div",{className:v.default.sampleDetails},d.default.createElement("span",{className:v.default.user},t.user),"|",d.default.createElement("span",{className:v.default.project},t.project)):d.default.createElement("div",{className:v.default.sampleDetails})))}),(0,i.default)(b,"formatNumberWithCommas",function(e){return(0,g.numberWithCommas)(e)}),(0,i.default)(b,"renderNumberAndPercentage",function(e){var t=e.cellData;return d.default.createElement("div",{className:v.default.numberValueAndPercentage},d.default.createElement("div",{className:v.default.value},t&&(0,g.numberWithCommas)(t.value)),d.default.createElement("div",{className:v.default.percentage},t&&b.formatPercentage(t.percent)))}),(0,i.default)(b,"formatNumber",function(e){return e&&isFinite(e)?e.toFixed(2):e}),(0,i.default)(b,"formatPercentage",function(e){if(!e)return e;var t=b.formatNumber(e);return t<.01?"<0.01%":"".concat(t,"%")}),(0,i.default)(b,"formatDuration",function(e){var t=Math.floor(e/3600),a=Math.floor(e%3600/60);return(t>0?t+(1===t?" hour, ":" hours, "):"")+(a>0?a+(1===a?" minute":" minutes"):"")});var C=b;t.default=C},,,,,,,,,,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(0)),r=l(a(1)),o=a(37),s=l(a(1221)),i=l(a(4)),d=function CheckmarkIcon(e){var t=e.className,a=e.size;return n.default.createElement(o.Icon,{size:a,className:(0,i.default)(s.default.checkmarkIcon,t),name:"check"})};d.propTypes={className:r.default.string,size:r.default.string};var c=d;t.default=c},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(5)),r=a(37),o=a(66),s=l(a(388)),i=l(a(1)),d=l(a(0)),c=function DownloadButtonDropdown(e){return d.default.createElement(s.default,(0,n.default)({},e,{secondary:!0,fluid:!0,text:"Download",icon:d.default.createElement(r.Icon,{size:"large",className:"cloud download alternate"})}))};c.propTypes=(0,o.forbidExtraProps)({className:i.default.string,disabled:i.default.bool,options:i.default.array,onClick:i.default.func,direction:i.default.oneOf(["left","right"])});var u=c;t.default=u},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(0)),c=l(a(4)),u=l(a(1)),f=l(a(1256)),p=function(e){function DropdownTrigger(){return(0,n.default)(this,DropdownTrigger),(0,o.default)(this,(0,s.default)(DropdownTrigger).apply(this,arguments))}return(0,i.default)(DropdownTrigger,e),(0,r.default)(DropdownTrigger,[{key:"render",value:function render(){var e=this.props,t=e.label,a=e.value,l=e.rounded,n=e.active,r=e.disabled,o=e.erred,s=e.className,i=e.onClick,u=e.placeholder;return d.default.createElement("div",{className:(0,c.default)(s,f.default.dropdownTrigger,l&&f.default.rounded,n&&f.default.active,r&&f.default.disabled,o&&f.default.erred),onClick:i},d.default.createElement("div",{className:f.default.labelContainer},t&&d.default.createElement("span",{className:f.default.label},t),d.default.createElement("span",{className:(0,c.default)(null===a&&f.default.placeholder)},a||u)))}}]),DropdownTrigger}(d.default.Component);p.propTypes={className:u.default.string,label:u.default.string,value:u.default.node,placeholder:u.default.string,rounded:u.default.bool,active:u.default.bool,disabled:u.default.bool,erred:u.default.bool,onClick:u.default.func};var m=p;t.default=m},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(5)),r=l(a(0)),o=l(a(1)),s=a(66),i=function DownloadIcon(e){return r.default.createElement("svg",(0,n.default)({},e,{viewBox:"0 0 36 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",fill:"#3867FA",fillRule:"nonzero"}),r.default.createElement("g",null,r.default.createElement("g",{transform:"translate(-1123.000000, -164.000000)"},r.default.createElement("g",{transform:"translate(1123.000000, 164.250994)"},r.default.createElement("path",{d:"M15.6923077,0.142524537 C11.3648937,0.142524537 7.73699698,3.22632847 6.86538462,7.3242375 C3.00472542,7.81406574 0,11.0928463 0,15.0962282 C0,19.4359898 3.51974225,22.9665986 7.84615385,22.9665986 L9.02307692,22.9665986 C9.44751766,22.9726198 9.84231114,22.7489333 10.0562832,22.3811932 C10.2702553,22.013453 10.2702553,21.5586331 10.0562832,21.1908929 C9.84231114,20.8231528 9.44751766,20.5994663 9.02307692,20.6054875 L7.84615385,20.6054875 C4.78305775,20.6054875 2.35384615,18.1687815 2.35384615,15.0962282 C2.35384615,12.023675 4.7830605,9.58696898 7.84615385,9.58696898 C8.45536988,9.58960399 8.96591285,9.12549641 9.02307692,8.51709051 C9.35924578,5.14393241 12.2235556,2.50363565 15.6923077,2.50363565 C17.5841958,2.50363565 19.1042607,3.22172431 20.3387019,4.49582315 C20.6655812,4.83451242 21.1619814,4.94570119 21.6014423,4.77866458 C22.1051932,4.5868125 22.8835274,4.47122824 23.5384615,4.47122824 C26.1624445,4.47122824 28.3454975,6.41517824 28.6507212,8.93520394 C28.7015897,9.37673429 28.9953497,9.7521966 29.4108173,9.90670278 C31.4990743,10.6756773 32.9538462,12.6879343 32.9538462,15.0962282 C32.9538462,18.1687815 30.5246346,20.6054875 27.4615385,20.6054875 L26.2846154,20.6054875 C25.8601747,20.5994663 25.4653812,20.8231528 25.2514091,21.1908929 C25.037437,21.5586331 25.037437,22.013453 25.2514091,22.3811932 C25.4653812,22.7489333 25.8601747,22.9726198 26.2846154,22.9665986 L27.4615385,22.9665986 C31.7879501,22.9665986 35.3076923,19.4359898 35.3076923,15.0962282 C35.3076923,11.9769644 33.4932826,9.29564722 30.8451923,8.02519236 C30.1279558,4.63089051 27.1102881,2.11011713 23.5384615,2.11011713 C22.8606205,2.11011713 22.1610453,2.21775625 21.4788462,2.39295856 C19.9243101,1.0166 17.9529643,0.142524537 15.6923077,0.142524537 Z M17.6415865,7.20126296 C17.3272936,7.20451022 17.0273503,7.33371361 16.808581,7.56008804 C16.5898116,7.78646247 16.4703904,8.09120179 16.4769231,8.40641343 L16.4769231,14.7027097 L15.7903846,13.9156727 C15.5308032,13.6090796 15.1334705,13.4561442 14.7360577,13.5098567 C14.301694,13.5684683 13.9357672,13.8643067 13.7864029,14.2776176 C13.6370387,14.6909286 13.7289764,15.1532552 14.025,15.4774493 L16.7711538,18.6255975 C16.994593,18.8796775 17.3160813,19.0252285 17.6538462,19.0252285 C17.991611,19.0252285 18.3130993,18.8796775 18.5365385,18.6255975 L21.2826923,15.4774493 C21.5674404,15.1620465 21.6609671,14.7173492 21.5275004,14.3134455 C21.3940336,13.9095418 21.0542229,13.6089227 20.6380394,13.5265692 C20.2218558,13.4442156 19.7936903,13.5928692 19.5173077,13.9156727 L18.8307692,14.7027097 L18.8307692,8.40641343 C18.8373911,8.08693634 18.7146333,7.77841003 18.4905335,7.55130104 C18.2664336,7.32419206 17.9601318,7.1978976 17.6415865,7.20126296 Z M12.9338942,18.2197815 C12.6196013,18.2230287 12.319658,18.3522321 12.1008887,18.5786066 C11.8821193,18.804981 11.7626981,19.1097203 11.7692308,19.4249319 L11.7692308,21.7860431 C11.7692958,22.4380189 12.2961841,22.9665334 12.9461538,22.9665986 L22.3615385,22.9665986 C23.0115082,22.9665334 23.5383966,22.4380189 23.5384615,21.7860431 L23.5384615,19.4249319 C23.5444642,18.9991812 23.321466,18.6031692 22.9548573,18.3885367 C22.5882487,18.1739042 22.1348282,18.1739042 21.7682196,18.3885367 C21.4016109,18.6031692 21.1786127,18.9991812 21.1846154,19.4249319 L21.1846154,20.6054875 L14.1230769,20.6054875 L14.1230769,19.4249319 C14.1296988,19.1054549 14.006941,18.7969285 13.7828412,18.5698196 C13.5587413,18.3427106 13.2524395,18.2164161 12.9338942,18.2197815 Z",id:"Shape"})))))};i.propTypes=(0,s.forbidExtraProps)({className:o.default.string,onMouseEnter:o.default.func,onMouseLeave:o.default.func,onBlur:o.default.func,onClick:o.default.func,onFocus:o.default.func});var d=i;t.default=d},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"CompareButton",{enumerable:!0,get:function get(){return n.default}}),Object.defineProperty(t,"DownloadButton",{enumerable:!0,get:function get(){return r.default}}),Object.defineProperty(t,"PhylogenyButton",{enumerable:!0,get:function get(){return o.default}}),Object.defineProperty(t,"PrimaryButton",{enumerable:!0,get:function get(){return s.default}}),Object.defineProperty(t,"SecondaryButton",{enumerable:!0,get:function get(){return i.default}}),Object.defineProperty(t,"TransparentButton",{enumerable:!0,get:function get(){return d.default}}),Object.defineProperty(t,"SaveButton",{enumerable:!0,get:function get(){return c.default}}),Object.defineProperty(t,"ShareButton",{enumerable:!0,get:function get(){return u.default}});var n=l(a(280)),r=l(a(402)),o=l(a(387)),s=l(a(51)),i=l(a(88)),d=l(a(403)),c=l(a(764)),u=l(a(765))},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CATEGORIES=void 0;var n=l(a(111)),r=l(a(46)),o=l(a(0)),s=l(a(1359)),i="https://www.niaid.nih.gov/research/emerging-infectious-diseases-pathogens",d={categoryA:{text:"NIAID priority | a",color:"red",tooltip:"NIAID pathogen priority list | category A",url:i},categoryB:{text:"NIAID priority | b",color:"orange",tooltip:"NIAID pathogen priority list | category B",url:i},categoryC:{text:"NIAID priority | c",color:"yellow",tooltip:"NIAID pathogen priority list | category C",url:i}};t.CATEGORIES=d;var c=function PathogenLabel(e){var t=e.type;if(!d.hasOwnProperty(t))return null;var a=o.default.createElement("a",{href:d[t].url,target:"_blank",rel:"noopener noreferrer"},o.default.createElement(n.default,{text:d[t].text,color:d[t].color,size:"medium",className:s.default.pathogenLabel}));return o.default.createElement(r.default,{trigger:a,content:d[t].tooltip,basic:!1})};t.default=c},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ContextPlaceholder",{enumerable:!0,get:function get(){return n.default}}),Object.defineProperty(t,"DataTooltip",{enumerable:!0,get:function get(){return r.default}});var n=l(a(776)),r=l(a(423))},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTooltipStyle=void 0;t.getTooltipStyle=function getTooltipStyle(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.buffer||10,l=t.below?1:-1,n=e.top;return t.height&&n+t.height>window.innerHeight&&(n-=t.height),e.left>window.innerWidth-400?{right:window.innerWidth-e.left+a,top:n+l*a}:{left:e.left+a,top:n+l*a}}},,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(0)),r=l(a(1)),o=l(a(812)),s=function PublicProjectIcon(e){return n.default.createElement("svg",{className:e.className,version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 38 38",style:{enableBackground:"new 0 0 38 38"},xmlSpace:"preserve"},n.default.createElement("g",null,n.default.createElement("path",{className:o.default.decorator,d:"M29.6,21.3c-4.6-0.4-8.5,3.5-8.1,8.1c0.3,3.6,3.2,6.6,6.9,6.9c4.6,0.4,8.5-3.5,8.1-8.1 C36.2,24.5,33.3,21.6,29.6,21.3z M30.5,22.4c0.3,0.1,0.6,0.2,0.9,0.3c0.2,0.1,0.3,0.2,0.5,0.2c0.8,0.4,1.5,0.9,2.1,1.6 c0,0,0.1,0.1,0.1,0.2c0,0.1,0,0.3,0,0.4c0,0.1-0.1,0.2-0.1,0.3c0,0.2,0.2,0.3,0.3,0.3c0.1,0,0.3,0,0.4,0c0.1,0,0.2,0.1,0.2,0.2 c0.1,0.2,0.2,0.4,0.2,0.5c0.3,0.7,0.4,1.4,0.5,2.2c0,0.1,0,0.2-0.1,0.3c-0.1,0.1-0.3,0.3-0.4,0.5c-0.2,0.4-0.4,1-0.7,1.3 c-0.2,0.2-0.4,0.4-0.4,0.6c-0.1,0.2,0,0.4-0.1,0.5c0,0.1-0.1,0.1-0.2,0c-0.3-0.4-0.4-0.8-0.5-1.2c-0.1-0.3-0.1-0.6-0.2-1 c-0.1-0.3-0.3-0.6-0.6-0.8c-0.3-0.2-0.7-0.1-1-0.2c-0.4,0-0.7-0.1-1-0.4c-0.1-0.1-0.2-0.3-0.2-0.4c-0.2-0.8,0.3-1.7,1-2.1 c0.1-0.1,0.2-0.1,0.3-0.2c0.2-0.2,0.3-0.4,0.2-0.7c0-0.1-0.1-0.1-0.1-0.1c-0.2,0.1-0.4,0.1-0.5,0.2c-0.1,0-0.2,0-0.2-0.1 c0-0.3,0-0.6,0.1-1c0.1-0.4,0.2-0.7,0-1c0-0.1-0.1-0.1-0.2-0.1c-0.3,0-0.6,0-0.9,0c0,0,0,0,0,0c0.2-0.1,0.3-0.2,0.4-0.4 C30.4,22.4,30.4,22.4,30.5,22.4z M27.3,22.5c0.1,0,0.1,0,0.2,0.1c0.1,0.2,0.2,0.3,0.3,0.5c0.2,0.4,0.3,0.9,0.1,1.2 c-0.2,0.4-0.7,0.6-1.1,0.9c-0.9,0.4-1.6,1.1-2.1,1.9c0,0-0.1,0.1-0.1,0.1c-0.1,0-0.1,0-0.2-0.1c-0.1-0.1-0.2-0.1-0.3-0.2 c0,0-0.1,0-0.1,0.1c-0.1,0.4,0.1,0.9,0.5,1.1c0.1,0,0.1,0.1,0.2,0.1c0.1,0.2,0,0.4,0,0.6c0,0.3,0.4,0.4,0.6,0.4s0.5-0.2,0.8-0.3 c0.6-0.2,1.2-0.1,1.7,0.2c0.3,0.2,0.5,0.4,0.7,0.6c0.2,0.2,0.5,0.3,0.8,0.3c0.1,0,0.1,0,0.2,0.1c0.1,0.3,0,0.6-0.2,0.8 c-0.2,0.3-0.5,0.4-0.7,0.7c-0.5,0.6-0.7,1.5-1.1,2.2c-0.1,0.1-0.2,0.3-0.3,0.4C27,34.4,27,34.6,27,34.9c0,0,0,0.1-0.1,0.1 c-0.1,0-0.2-0.1-0.3-0.1c-0.1,0-0.1-0.1-0.1-0.2c-0.2-0.9-0.5-1.8-0.9-2.7c-0.2-0.3-0.4-0.7-0.7-0.9c-0.1-0.1-0.2-0.1-0.2-0.2 c0-0.1,0-0.2,0-0.2c0.1-0.9-0.3-1.8-1-2.3c-0.1-0.1-0.3-0.2-0.3-0.3c-0.1-0.1-0.1-0.3-0.1-0.4c-0.1-0.1-0.3-0.3-0.4-0.4 c-0.1,0-0.1-0.1-0.1-0.2C23.2,24.9,25,23.1,27.3,22.5z"}),n.default.createElement("path",{className:o.default.folder,d:"M21.5,29.4c0-0.2,0-0.4,0-0.6c0,0,0,0,0,0c0-0.3,0-0.7,0.1-1H8.8c-0.8,0-1.4-0.6-1.4-1.3L6.2,14 c0-0.3,0.1-0.6,0.3-0.8c0.2-0.2,0.5-0.4,0.8-0.4h23.5c0.3,0,0.6,0.1,0.8,0.4c0.2,0.2,0.3,0.5,0.3,0.8l-0.7,7.6c0,0,0,0,0,0 c0.4,0.1,0.7,0.2,1,0.4c0,0,0.1,0,0.1,0.1c0.3,0.2,0.6,0.3,0.9,0.5c0,0,0,0,0,0l0.8-8.4c0.1-0.9-0.2-1.8-0.8-2.5 c-0.2-0.3-0.5-0.5-0.8-0.7l0.1-0.7c0.2-1.8-1.1-3.4-2.9-3.5c-0.1,0-0.2,0-0.3,0H16.8c-0.3,0-0.6-0.1-0.8-0.4l-1-1.2 C14.3,4.5,13.4,4,12.4,4H8.9C8,4,7.1,4.4,6.5,5.1C5.8,5.8,5.5,6.7,5.6,7.7L6,10.9c-0.4,0.2-0.8,0.4-1.2,0.8 c-0.6,0.7-0.9,1.6-0.8,2.5l1.1,12.5C5.3,28.6,6.9,30,8.8,30h12.9C21.6,29.8,21.6,29.6,21.5,29.4z M8.1,6.6c0.2-0.2,0.5-0.4,0.8-0.4 h3.5c0.3,0,0.6,0.1,0.8,0.4l1,1.2c0.6,0.8,1.5,1.2,2.5,1.2h12.4c0.3,0,0.6,0.1,0.8,0.3c0.2,0.2,0.3,0.5,0.3,0.8l-0.1,0.5h-22 L7.8,7.4C7.8,7.1,7.9,6.8,8.1,6.6z"})))};s.propTypes={className:r.default.string};var i=s;t.default=i},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(0)),r=l(a(1)),o=l(a(812)),s=function PrivateProjectIcon(e){return n.default.createElement("svg",{className:e.className,version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 38 38",style:{enableBackground:"new 0 0 38 38"},xmlSpace:"preserve"},n.default.createElement("g",null,n.default.createElement("path",{className:o.default.folder,d:"M33.2,11.7c-0.2-0.3-0.5-0.5-0.8-0.7l0.1-0.7c0.2-1.8-1.1-3.4-2.9-3.5c-0.1,0-0.2,0-0.3,0H16.8 c-0.3,0-0.6-0.1-0.8-0.4l-1-1.2C14.3,4.5,13.4,4,12.4,4H8.9C8,4,7.1,4.4,6.5,5.1C5.8,5.8,5.5,6.7,5.6,7.7L6,10.9 c-0.4,0.2-0.8,0.4-1.2,0.8c-0.6,0.7-0.9,1.6-0.8,2.5l1.1,12.5C5.3,28.6,6.9,30,8.8,30h12.9c-0.1-0.4-0.1-0.8-0.1-1.2 c0-0.3,0-0.7,0.1-1H8.8c-0.8,0-1.4-0.6-1.4-1.3L6.2,14c0-0.3,0.1-0.6,0.3-0.8c0.2-0.2,0.5-0.4,0.8-0.4h23.5c0.3,0,0.6,0.1,0.8,0.4 c0.2,0.2,0.3,0.5,0.3,0.8l-0.7,7.6c0.8,0.2,1.5,0.6,2.1,1l0.8-8.4C34.1,13.3,33.8,12.4,33.2,11.7z M30.2,10.6h-22L7.8,7.4 c0-0.3,0.1-0.6,0.3-0.8c0.2-0.2,0.5-0.4,0.8-0.4h3.5c0.3,0,0.6,0.1,0.8,0.4l1,1.2c0.6,0.8,1.5,1.2,2.5,1.2h12.4 c0.3,0,0.6,0.1,0.8,0.3c0.2,0.2,0.3,0.5,0.3,0.8L30.2,10.6z"}),n.default.createElement("g",null,n.default.createElement("path",{className:o.default.decorator,d:"M29,24.8c-1,0-1.8,0.8-1.8,1.8v0.9h3.5v-0.9C30.8,25.6,30,24.8,29,24.8z"}),n.default.createElement("path",{className:o.default.decorator,d:"M29,28.9c-0.4,0-0.6,0.3-0.6,0.6c0,0.2,0.1,0.4,0.3,0.6V31c0,0.2,0.1,0.3,0.3,0.3c0.2,0,0.3-0.1,0.3-0.3 v-0.9c0.2-0.1,0.3-0.3,0.3-0.6C29.7,29.2,29.4,28.9,29,28.9z"}),n.default.createElement("path",{className:o.default.decorator,d:"M29,21.3c-4.1,0-7.5,3.4-7.5,7.5s3.4,7.5,7.5,7.5s7.5-3.4,7.5-7.5S33.2,21.3,29,21.3z M32.5,31.8 c0,0.5-0.4,0.9-0.9,0.9h-5.2c-0.5,0-0.9-0.4-0.9-0.9v-3.5c0-0.5,0.4-0.9,0.9-0.9v-0.9c0-1.4,1.2-2.6,2.6-2.6 c1.4,0,2.6,1.2,2.6,2.6v0.9c0.5,0,0.9,0.4,0.9,0.9V31.8z"}))))};s.propTypes={className:r.default.string};var i=s;t.default=i},,,,,,,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectCollectionView=t.ObjectCollection=t.DiscoveryDataLayer=void 0;var n=l(a(26)),r=l(a(27)),o=l(a(8)),s=l(a(7)),i=l(a(2)),d=a(17),c=a(307);function ownKeys(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(a,!0).forEach(function(t){(0,i.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var u=function ObjectCollection(e,t){var a=this;(0,s.default)(this,ObjectCollection),(0,i.default)(this,"createView",function(e){return new f(a,e)}),(0,i.default)(this,"update",function(e){a.entries[e.id]=e}),this.domain=e,this.entries={},this.apiFunction=t};t.ObjectCollection=u;var f=function(){function ObjectCollectionView(e,t){var a=this,l=t.conditions,o=void 0===l?{}:l,c=t.pageSize,u=void 0===c?50:c,f=t.onViewChange,p=void 0===f?null:f;(0,s.default)(this,ObjectCollectionView),(0,i.default)(this,"get",function(e){return a._collection.entries[e]}),(0,i.default)(this,"getIds",function(){return a._orderedIds||[]}),(0,i.default)(this,"getCollectionLength",function(){return Object.keys(a._collection.entries).length}),(0,i.default)(this,"isLoading",function(){return a._loading}),(0,i.default)(this,"reset",function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).conditions;a._orderedIds=null,a._loading=!0,a._conditions=e,a._activePromises={}}),(0,i.default)(this,"loadPage",function(){var e=(0,r.default)(n.default.mark(function _callee(e){var t;return n.default.wrap(function _callee$(l){for(;;)switch(l.prev=l.next){case 0:return t={startIndex:e,stopIndex:a._pageSize*(1+e)-1},l.abrupt("return",a.handleLoadObjectRows(t));case 2:case"end":return l.stop()}},_callee)}));return function(t){return e.apply(this,arguments)}}()),(0,i.default)(this,"handleLoadObjectRows",function(){var e=(0,r.default)(n.default.mark(function _callee2(e){var t,l,r,o,s,i;return n.default.wrap(function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:if(t=e.startIndex,l=e.stopIndex,r=[t,l],!a._activePromises[r]){n.next=9;break}return o=a._activePromises[r],n.next=6,o;case 6:return n.abrupt("return",n.sent);case 9:return s=a.fetchObjectRows({startIndex:t,stopIndex:l}),a._activePromises[r]=s,n.next=13,s;case 13:return i=n.sent,delete a._activePromises[r],n.abrupt("return",i);case 16:case"end":return n.stop()}},_callee2)}));return function(t){return e.apply(this,arguments)}}()),(0,i.default)(this,"fetchObjectRows",function(){var e=(0,r.default)(n.default.mark(function _callee3(e){var t,l,r,o,s,i,c,u,f,p,m;return n.default.wrap(function _callee3$(n){for(;;)switch(n.prev=n.next){case 0:if(t=e.startIndex,l=e.stopIndex,r=a._collection.domain,o=a._orderedIds?Math.min(a._orderedIds.length-1,l):l,s=(0,d.range)(t,o+1),a._orderedIds&&(s=s.filter(function(e){return!(a._orderedIds[e]in a._collection.entries)})),!(s.length>0)){n.next=16;break}return i=s[0],c=s[s.length-1],n.next=10,a._collection.apiFunction(_objectSpread({domain:r},a._conditions,{limit:c-i+1,offset:i,listAllIds:null===a._orderedIds}));case 10:u=n.sent,f=u.fetchedObjects,p=u.fetchedObjectIds,f.forEach(function(e){a._collection.entries[e.id]=e}),p&&(a._orderedIds=p,a._onViewChange&&a._onViewChange()),a._loading=!1;case 16:return m=(0,d.range)(t,o+1).filter(function(e){return e in a._orderedIds}).map(function(e){return a._collection.entries[a._orderedIds[e]]}),n.abrupt("return",m);case 18:case"end":return n.stop()}},_callee3)}));return function(t){return e.apply(this,arguments)}}()),this._orderedIds=null,this._loading=!0,this._collection=e,this._conditions=o,this._activePromises={},this._pageSize=u,this._onViewChange=p}return(0,o.default)(ObjectCollectionView,[{key:"loaded",get:function get(){var e=this;return(this._orderedIds||[]).filter(function(t){return t in e._collection.entries}).map(function(t){return e._collection.entries[t]})}},{key:"length",get:function get(){return(this._orderedIds||[]).length}}]),ObjectCollectionView}();t.ObjectCollectionView=f;t.DiscoveryDataLayer=function DiscoveryDataLayer(e){(0,s.default)(this,DiscoveryDataLayer),(0,i.default)(this,"fetchSamples",function(){var e=(0,r.default)(n.default.mark(function _callee4(e){var t,a,l;return n.default.wrap(function _callee4$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,c.getDiscoverySamples)(e);case 2:return t=n.sent,a=t.samples,l=t.sampleIds,n.abrupt("return",{fetchedObjects:a,fetchedObjectIds:l});case 6:case"end":return n.stop()}},_callee4)}));return function(t){return e.apply(this,arguments)}}()),(0,i.default)(this,"fetchProjects",function(){var e=(0,r.default)(n.default.mark(function _callee5(e){var t,a,l;return n.default.wrap(function _callee5$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,c.getDiscoveryProjects)(e);case 2:return t=n.sent,a=t.projects,l=t.projectIds,n.abrupt("return",{fetchedObjects:a,fetchedObjectIds:l});case 6:case"end":return n.stop()}},_callee5)}));return function(t){return e.apply(this,arguments)}}()),(0,i.default)(this,"fetchVisualizations",function(){var e=(0,r.default)(n.default.mark(function _callee6(e){var t,a,l;return n.default.wrap(function _callee6$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,c.getDiscoveryVisualizations)(e);case 2:return t=n.sent,a=t.visualizations,l=t.visualizationIds,n.abrupt("return",{fetchedObjects:a,fetchedObjectIds:l});case 6:case"end":return n.stop()}},_callee6)}));return function(t){return e.apply(this,arguments)}}()),this.domain=e,this.projects=new u(e,this.fetchProjects),this.samples=new u(e,this.fetchSamples),this.visualizations=new u(e,this.fetchVisualizations)}},,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(3)),d=l(a(11)),c=l(a(2)),u=l(a(0)),f=l(a(1991)),p=l(a(4)),m=l(a(1)),h=l(a(139)),g=l(a(1217)),v=function(e){function FilePicker(){var e,t;(0,n.default)(this,FilePicker);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return t=(0,o.default)(this,(e=(0,s.default)(FilePicker)).call.apply(e,[this].concat(l))),(0,c.default)((0,i.default)(t),"state",{file:null}),(0,c.default)((0,i.default)(t),"onRejected",function(){window.alert("Invalid file. File size must be under 5GB for local uploads.")}),(0,c.default)((0,i.default)(t),"onChange",function(e){e.length>0&&t.setState({file:e[0]})}),t}return(0,d.default)(FilePicker,e),(0,r.default)(FilePicker,[{key:"render",value:function render(){var e,t=this.props,a=t.onChange,l=t.message,n=t.onRejected,r=t.title,o=t.multiFile,s=t.className,i=this.props.file||this.state.file;return e=i?u.default.createElement("div",null,u.default.createElement("div",{className:(0,p.default)(g.default.fileBox,!r&&g.default.noTitle)},u.default.createElement(h.default,{className:g.default.checkmarkIcon,name:"checkmark"}),u.default.createElement("span",{className:g.default.fileName},i.name," "),"loaded"),l?u.default.createElement("div",{className:g.default.message},l):null):u.default.createElement("div",{className:g.default.instructions},u.default.createElement("span",null,"Drag and drop ",o?"your files":"a file"," here, or"," "),u.default.createElement("span",{className:g.default.browserLink},"click to use a file browser.")),u.default.createElement(f.default,{acceptClassName:g.default.accepted,maxSize:5e9,minSize:1,onDrop:a||this.onChange,onDropRejected:n||this.onRejected,className:(0,p.default)(g.default.filePicker,s,i&&g.default.active)},u.default.createElement("div",{className:g.default.inner},u.default.createElement("div",{className:g.default.title},r),e))}}]),FilePicker}(u.default.Component);v.propTypes={className:m.default.string,file:m.default.instanceOf(File),onChange:m.default.func.isRequired,message:m.default.string,title:m.default.string,onRejected:m.default.func,multiFile:m.default.bool};var y=v;t.default=y},,,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(0)),r=l(a(1)),o=function GlobeIcon(e){return n.default.createElement("svg",{className:e.className,viewBox:"0 0 19 19",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",fill:"#666666",fillRule:"evenodd"},n.default.createElement("defs",null),n.default.createElement("g",{id:"1.1-Upload-Copy-16",transform:"translate(-1390.000000, -750.000000)"},n.default.createElement("path",{d:"M1396.03818,752.258182 C1394.69818,752.899091 1393.56182,753.904545 1392.75909,755.136364 C1393,754.982727 1393.27091,754.887273 1393.54909,754.884545 C1393.80727,754.882727 1394.17,754.457273 1394.19364,754.249091 C1394.24727,753.767273 1394.64545,753.522727 1394.99636,753.306364 C1395.45455,753.024545 1395.85455,752.739091 1396.03818,752.258182 Z M1391.61909,760.959091 C1391.74364,761.616364 1391.95091,762.254545 1392.23636,762.86 C1392.24545,762.799091 1392.25273,762.742727 1392.25455,762.688182 C1392.26,762.485455 1392.01909,761.538182 1391.88182,761.086364 C1391.86545,761.08 1391.84909,761.071818 1391.82909,761.063636 C1391.77727,761.041818 1391.70182,761.008182 1391.61909,760.959091 Z M1402.29364,763.816364 C1402.51364,763.816364 1402.73091,763.883636 1402.93364,763.962727 L1403.14364,764.044545 C1403.57818,764.21 1403.99091,764.367273 1404.18091,764.831818 C1404.33909,765.217273 1404.24091,765.612727 1404.08636,765.994545 C1406.14,764.54 1407.40273,762.206364 1407.46455,759.667273 C1407.09818,760.222727 1406.44364,760.562727 1406.19545,760.678182 L1405.72091,760.895455 L1405.35909,760.523636 C1405.21273,760.368182 1404.50545,759.519091 1404.50545,757.554545 C1404.50545,757.362727 1404.48636,757.325455 1404.37909,757.119091 C1404.25,756.871818 1404.06,756.504545 1403.88273,755.8 C1403.69091,755.032727 1403.47455,754.798182 1403.16182,754.530909 C1403.05455,754.744545 1402.90091,755.13 1402.73273,755.8 C1402.46182,756.879091 1402.06,757.188182 1401.45636,757.358182 C1401.33182,757.392727 1401.28182,757.407273 1401.20545,757.471818 C1401.05909,757.596364 1400.98273,757.716364 1400.88636,757.87 C1400.68455,758.19 1400.43364,758.589091 1399.71818,758.882727 C1399.64909,758.91 1399.58545,758.934545 1399.52727,758.955455 C1399.49727,759.711818 1399.33182,760.174545 1399.01091,760.407273 C1398.97091,760.437273 1398.93909,760.457273 1398.91727,760.478182 C1398.95455,760.457273 1398.93636,760.523636 1398.92182,760.617273 C1398.91,760.697273 1398.89455,760.793636 1398.87364,760.908182 C1398.90182,760.939091 1399.13,761.216364 1399.25182,761.366364 C1399.55364,761.731818 1399.88727,762.139091 1399.96364,762.633636 C1399.99,762.577273 1400.01636,762.516364 1400.04182,762.447273 C1400.28909,761.805455 1400.67636,761.670909 1400.95727,761.670909 C1400.96364,761.670909 1400.97,761.671818 1400.97545,761.671818 L1401.00455,761.602727 L1401.02818,761.677273 C1401.69364,761.757273 1401.88182,762.447273 1402.00636,762.91 C1402.03273,763.003636 1402.04182,763.044545 1402.05182,763.070909 C1402.08,763.133636 1402.15182,763.300909 1402.18364,763.821818 C1402.22,763.818182 1402.25727,763.816364 1402.29364,763.816364 Z M1397.07636,767.09 C1397.18545,767.124545 1397.29545,767.156364 1397.40636,767.185455 C1397.40545,766.98 1397.47455,766.79 1397.55455,766.618182 C1397.36727,766.6 1397.17364,766.58 1396.97818,766.552727 C1397.01,766.683636 1397.04182,766.855455 1397.07636,767.09 Z M1399.21909,767.456364 C1400.29364,767.526364 1401.37091,767.31 1402.38273,766.91 C1402.33727,766.532727 1402.42091,766.104545 1402.63727,765.630909 C1402.66909,765.561818 1402.69364,765.504545 1402.71364,765.455455 C1402.68545,765.444545 1402.65727,765.434545 1402.63,765.423636 L1402.39455,765.332727 C1402.39364,765.331818 1402.39273,765.331818 1402.39273,765.331818 C1402.01,765.570909 1401.58727,765.477273 1401.20818,765.339091 L1400.71545,765.158182 L1400.72364,764.634545 C1400.72727,764.448182 1400.72545,764.266364 1400.72,764.109091 C1400.13727,764.686364 1399.54545,764.622727 1399.45818,764.606364 L1399.14091,764.567273 L1398.95455,764.294545 C1398.91273,764.232727 1398.54909,763.676364 1398.50818,762.849091 C1398.48364,762.750909 1398.24545,762.46 1398.11636,762.303636 C1397.75636,761.864545 1397.30727,761.318182 1397.42364,760.652727 L1397.46455,760.397273 C1397.54,759.909091 1397.62091,759.64 1398.01364,759.317273 C1398.02727,759.231818 1398.05182,759.066364 1398.05818,758.826364 C1398.06182,758.717273 1398.05636,758.643636 1398.05364,758.592727 C1398.02364,758.084545 1398.26545,757.759091 1398.75455,757.648182 C1398.82909,757.631818 1398.95182,757.603636 1399.15909,757.519091 C1399.43909,757.404545 1399.49364,757.316364 1399.64091,757.084545 C1399.77364,756.872727 1399.93636,756.616364 1400.25182,756.349091 C1400.57182,756.077273 1400.87545,755.991818 1401.05727,755.940909 C1401.09091,755.931818 1401.12091,755.926364 1401.14818,755.912727 C1401.14545,755.910909 1401.20727,755.828182 1401.30273,755.442727 C1401.81,753.421818 1402.36091,753.016364 1402.78545,752.889091 C1403.13818,752.78 1403.51273,752.872727 1403.80545,753.144545 C1403.87455,753.207273 1403.94455,753.266364 1404.01455,753.325455 C1404.46909,753.707273 1404.98364,754.139091 1405.31091,755.441818 C1405.44727,755.985455 1405.57273,756.225455 1405.68364,756.437273 C1405.82273,756.703636 1405.97909,757.003636 1405.97909,757.554545 C1405.97909,758.182727 1406.06818,758.639091 1406.16727,758.950909 C1406.21727,758.903636 1406.25,758.864545 1406.26182,758.84 C1406.27273,758.386364 1406.31,757.526364 1407.20273,757.526364 L1407.21727,757.526364 C1406.33636,754.026364 1403.13182,751.472727 1399.47,751.472727 C1398.85727,751.472727 1398.23727,751.547273 1397.62364,751.694545 C1397.6,753.435455 1396.37818,754.185455 1395.77,754.559091 C1395.71455,754.593636 1395.65727,754.628182 1395.60909,754.659091 C1395.40636,755.547273 1394.49091,756.254545 1393.71727,756.347273 C1393.48364,756.517273 1393.37545,756.621818 1393.32818,756.674545 C1393.34909,756.753636 1393.40455,756.865455 1393.44727,756.953636 C1393.58182,757.221818 1393.80455,757.670909 1393.45,758.054545 C1393.24273,758.280909 1392.95909,758.406364 1392.65364,758.406364 L1392.08273,758.406364 C1391.91273,758.404545 1391.74182,758.365455 1391.57,758.288182 C1391.54909,758.437273 1391.53,758.587273 1391.51636,758.739091 C1391.81636,758.87 1392.37455,759.124545 1392.54273,759.77 C1392.68182,759.836364 1392.85182,759.935455 1393.02091,760.104545 C1393.35727,760.440909 1393.73818,762.416364 1393.72727,762.739091 C1393.72091,762.888182 1393.69818,763.05 1393.66818,763.228182 C1393.60727,763.595455 1393.55091,763.946364 1393.69727,764.437273 L1393.93273,765.23 C1394.24636,765.532727 1394.58364,765.808182 1394.94182,766.053636 C1394.55455,765.396364 1394.54182,764.988182 1394.85545,764.675455 C1395.00182,764.528182 1395.41091,764.234545 1396.01909,764.709091 C1396.43182,765.031818 1397.16818,765.101818 1397.81818,765.163636 C1397.95818,765.175455 1398.09909,765.19 1398.23273,765.205455 C1398.76636,765.264545 1399.01636,765.538182 1399.13182,765.756364 C1399.40182,766.266364 1399.13545,766.77 1398.96,767.104545 C1398.95364,767.116364 1398.94636,767.13 1398.93909,767.142727 C1399.00818,767.223636 1399.10818,767.340909 1399.21909,767.456364 Z M1399.47,768.939091 C1394.24818,768.939091 1390,764.690909 1390,759.47 C1390,754.247273 1394.24818,750 1399.47,750 C1404.69273,750 1408.94,754.247273 1408.94,759.47 C1408.94,764.690909 1404.69273,768.939091 1399.47,768.939091 Z",id:"Fill-3-Copy"})))};o.propTypes={className:r.default.string};var s=o;t.default=s},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(0)),r=l(a(1)),o=function LockIcon(e){return n.default.createElement("svg",{className:e.className,viewBox:"0 0 16 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",stroke:"none",strokeWidth:"1",fill:"#999999",fillRule:"nonzero"},n.default.createElement("g",null,n.default.createElement("path",{d:"M8,11.454834 C7.17647059,11.454834 6.5,12.0632996 6.5,12.8040403 C6.5,13.3066858 6.79411765,13.7299663 7.26470588,13.9680615 L7.26470588,15.7934583 C7.26470588,16.1638287 7.58823529,16.454834 8,16.454834 C8.41176471,16.454834 8.73529412,16.1638287 8.73529412,15.7934583 L8.73529412,13.9680615 C9.17647059,13.7299663 9.5,13.3066858 9.5,12.8040403 C9.5,12.0632996 8.82352941,11.454834 8,11.454834 Z",id:"Shape"}),n.default.createElement("path",{d:"M14,8 L14,6 C14,2.7 11.3,0 8,0 C4.7,0 2,2.7 2,6 L2,8 C0.9,8 0,8.9 0,10 L0,18 C0,19.1 0.9,20 2,20 L14,20 C15.1,20 16,19.1 16,18 L16,10 C16,8.9 15.1,8 14,8 Z M4,6 C4,3.8 5.8,2 8,2 C10.2,2 12,3.8 12,6 L12,8 L4,8 L4,6 Z M2,18 L2,10 L14,10 L14,18 L2,18 Z",id:"Shape"})))};o.propTypes={className:r.default.string};var s=o;t.default=s},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(0)),r=l(a(1)),o=function UserIcon(e){return n.default.createElement("svg",{className:e.className,viewBox:"0 0 24 19",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",fill:"#000000"},n.default.createElement("g",null,n.default.createElement("path",{d:"M22.1233658,16.6575342 C22.1233658,17.1 21.7850096,17.4383562 21.3425438,17.4383562 L17.6927219,17.4383562 L17.1781603,17.4383562 L16.002763,17.4383562 C16.0883932,17.1942192 16.1370644,16.9323836 16.1370644,16.6575342 L16.1370644,14.6273973 C16.1370644,14.3866438 16.1154616,14.1513562 16.0826671,13.9191918 C16.5266945,14.0337123 16.9855575,14.0914932 17.435311,14.0766575 C18.6382973,14.1162192 19.9185849,13.663863 20.7699411,12.8835616 C21.550763,13.2739726 22.1233658,14.1589041 22.1233658,15.0958904 L22.1233658,16.6575342 Z M1.56172192,16.6575342 L1.56172192,14.6273973 C1.56172192,13.0917808 2.57653014,11.7383562 4.03432466,11.3219178 C5.10144795,12.4150685 6.53295479,13.0136986 8.06857123,13.0136986 C9.6039274,13.0136986 11.0354342,12.4150685 12.1028178,11.3479452 C13.5603521,11.7643836 14.5754205,13.1178082 14.5754205,14.6534247 L14.5754205,16.6575342 C14.5754205,17.1 14.2368041,17.4383562 13.7945986,17.4383562 L2.34254384,17.4383562 C1.90007808,17.4383562 1.56172192,17.1 1.56172192,16.6575342 Z M20.7699411,11.1917808 C20.4576123,11.1136986 20.1450233,11.2178082 19.9370644,11.4780822 C19.5078726,12.0358493 18.6192973,12.4335479 17.7955301,12.4983562 C17.5685712,12.5256849 17.5982425,12.523863 17.4384342,12.5311507 C17.2788863,12.5311507 17.2270918,12.5202192 17.0750918,12.4983562 C16.4309137,12.4476027 15.7505575,12.1917534 15.2776397,11.8166986 C14.5366397,10.7183425 13.3682699,9.92242466 11.9726808,9.68219178 C11.7124068,9.63013699 11.4258452,9.73424658 11.2436534,9.94246575 C10.4628315,10.9054795 9.29159863,11.4520548 8.06857123,11.4520548 C6.84528356,11.4520548 5.67405068,10.9054795 4.89322877,9.96849315 C4.71103699,9.76027397 4.45076301,9.65616438 4.16446164,9.70821918 C1.74365342,10.1246575 7.80821918e-05,12.2068493 7.80821918e-05,14.6534247 L7.80821918e-05,16.6575342 C7.80821918e-05,17.9589041 1.04117397,19 2.34254384,19 L13.5283384,19 L13.7945986,19 L17.1781603,19 L17.6927219,19 L21.3425438,19 C22.6439137,19 23.6850096,17.9589041 23.6850096,16.6575342 L23.6850096,15.0958904 C23.6850096,13.2739726 22.4617219,11.6342466 20.7699411,11.1917808 Z",id:"Fill-5"}),n.default.createElement("path",{d:"M8.06857123,1.56164384 C9.78637945,1.56164384 11.1918589,2.96712329 11.1918589,4.68493151 C11.1918589,6.40273973 9.78637945,7.80821918 8.06857123,7.80821918 C6.35050274,7.80821918 4.94528356,6.40273973 4.94528356,4.68493151 C4.94528356,2.96712329 6.35050274,1.56164384 8.06857123,1.56164384 M8.06857123,9.36986301 C10.6450233,9.36986301 12.7535027,7.26164384 12.7535027,4.68493151 C12.7535027,2.10821918 10.6450233,0 8.06857123,0 C5.4918589,0 3.38363973,2.10821918 3.38363973,4.68493151 C3.38363973,7.26164384 5.4918589,9.36986301 8.06857123,9.36986301",id:"Fill-1"}),n.default.createElement("path",{d:"M15.6165164,7.70413562 C15.6165164,6.68906712 16.4233658,5.88221781 17.4384342,5.88221781 C18.4532425,5.88221781 19.2603521,6.68906712 19.2603521,7.70413562 L19.2603521,7.8863274 C19.2603521,8.90139589 18.4532425,9.70824521 17.4384342,9.70824521 C16.4233658,9.70824521 15.6165164,8.90139589 15.6165164,7.8863274 L15.6165164,7.70413562 Z M17.4384342,11.2959164 C19.3121466,11.2959164 20.8219959,9.7863274 20.8219959,7.91235479 L20.8219959,7.73016301 C20.8219959,5.85619041 19.3121466,4.34660137 17.4384342,4.34660137 C15.5644616,4.34660137 14.0548726,5.85619041 14.0548726,7.73016301 L14.0548726,7.91235479 C14.0548726,9.7603 15.5644616,11.2959164 17.4384342,11.2959164 Z",id:"Fill-3"})))};o.propTypes={className:r.default.string};var s=o;t.default=s},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(5)),r=l(a(7)),o=l(a(8)),s=l(a(10)),i=l(a(9)),d=l(a(11)),c=a(66),u=l(a(127)),f=l(a(737)),p=l(a(1)),m=l(a(0)),h=function(e){function PhyloTreeCreationModal(){return(0,r.default)(this,PhyloTreeCreationModal),(0,s.default)(this,(0,i.default)(PhyloTreeCreationModal).apply(this,arguments))}return(0,d.default)(PhyloTreeCreationModal,e),(0,o.default)(PhyloTreeCreationModal,[{key:"render",value:function render(){return m.default.createElement(u.default,{open:!0,tall:!0,onClose:this.props.onClose},m.default.createElement(f.default,(0,n.default)({onComplete:this.props.onClose},this.props)))}}]),PhyloTreeCreationModal}(m.default.Component);h.propTypes=(0,c.forbidExtraProps)({onClose:p.default.func.isRequired,admin:p.default.number,csrf:p.default.string.isRequired,projectId:p.default.number,projectName:p.default.string,taxonId:p.default.number,taxonName:p.default.string});var g=h;t.default=g},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(26)),r=l(a(27)),o=l(a(7)),s=l(a(8)),i=l(a(10)),d=l(a(9)),c=l(a(3)),u=l(a(11)),f=l(a(2)),p=l(a(0)),m=l(a(4)),h=l(a(1)),g=a(37),v=a(120),y=l(a(1268)),b=a(102),C=a(82),w=function(e){function SearchBox(e){var t;return(0,o.default)(this,SearchBox),t=(0,i.default)(this,(0,d.default)(SearchBox).call(this,e)),(0,f.default)((0,c.default)(t),"onKeyDown",function(e){"Enter"==e.key&&!t.state.selectedResult&&t.props.onEnter&&(t.props.onEnter(e),t.resetComponent())}),(0,f.default)((0,c.default)(t),"resetComponent",function(){t.setState({isLoading:!1,results:[],value:t.state.value,selectedResult:null})}),(0,f.default)((0,c.default)(t),"handleSearchChange",function(e,a){var l=a.value;t.setState({isLoading:!0,selectedResult:null,value:l}),setTimeout((0,r.default)(n.default.mark(function _callee(){var e,a,l,r,o;return n.default.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:if(0!=t.state.value.length){n.next=3;break}return t.setState(t.blankState),n.abrupt("return");case 3:if(!(t.state.value.length<t.minChars)){n.next=5;break}return n.abrupt("return");case 5:if(!t.props.clientSearchSource){n.next=11;break}a=new RegExp((0,v.escapeRegExp)(t.state.value),"i"),l=function isMatch(e){return a.test(e.title)},e=t.props.clientSearchSource.filter(l),n.next=18;break;case 11:if(!t.props.serverSearchAction){n.next=18;break}return r="/".concat(t.props.serverSearchAction,"?query=").concat(t.state.value),t.props.serverSearchActionArgs&&(r+="&".concat((0,C.getURLParamString)(t.props.serverSearchActionArgs))),n.next=16,(0,b.get)(r);case 16:if(e=n.sent,t.props.levelLabel)for(o=0;o<e.length;o++)e[o].title+=" ("+e[o].level+")";case 18:t.setState({isLoading:!1,results:e});case 19:case"end":return n.stop()}},_callee)})),t.delayCheckMatch)}),t.delayCheckMatch=1e3,t.waitHandleSearchChange=500,t.minChars=2,t.placeholder=t.props.placeholder,t.handleEnter=t.props.onEnter,t.handleResultSelect=t.handleResultSelect.bind((0,c.default)(t)),t.blankState={isLoading:!1,results:[],value:"",selectedResult:null},t.state={isLoading:!1,results:[],value:t.props.initialValue,selectedResult:null},t}return(0,u.default)(SearchBox,e),(0,s.default)(SearchBox,[{key:"handleResultSelect",value:function handleResultSelect(e,t){var a=t.result,l=this.props.clearOnSelect;this.setState({value:l?"":a.title}),this.props.onResultSelect(e,{result:a})}},{key:"render",value:function render(){var e=this,t=this.state,a=t.isLoading,l=t.value,n=t.results;return p.default.createElement(g.Search,{className:(0,m.default)("idseq-ui input search",y.default.searchBox,this.props.rounded&&y.default.rounded),loading:a,category:this.props.category,onSearchChange:(0,v.debounce)(this.handleSearchChange,this.waitHandleSearchChange,{leading:!0}),results:n,value:l,placeholder:this.placeholder,onResultSelect:this.handleResultSelect,onSelectionChange:function onSelectionChange(t,a){var l=a.result;e.setState({selectedResult:l})},onKeyDown:this.onKeyDown,showNoResults:!1})}}]),SearchBox}(p.default.Component);w.defaultProps={clearOnSelect:!1},w.propTypes={clientSearchSource:h.default.array,serverSearchAction:h.default.string,serverSearchActionArgs:h.default.object,rounded:h.default.bool,category:h.default.bool,levelLabel:h.default.bool,initialValue:h.default.string,onResultSelect:h.default.func,placeholder:h.default.string,clearOnSelect:h.default.bool};var E=w;t.default=E},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.showToast=void 0;var n=l(a(2)),r=a(744);function ownKeys(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}t.showToast=function showToast(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,r.toast)(e,function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(a,!0).forEach(function(t){(0,n.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({closeButton:!1,closeOnClick:!1,draggable:!1,hideProgressBar:!0},t))}},,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.getLocationWarning=t.processLocationSelection=t.LOCATION_UNRESOLVED_WARNING=t.LOCATION_PRIVACY_WARNING=void 0;var n=l(a(26)),r=l(a(27)),o=l(a(7)),s=l(a(8)),i=l(a(10)),d=l(a(9)),c=l(a(3)),u=l(a(11)),f=l(a(2)),p=l(a(0)),m=l(a(1)),h=a(17),g=a(20),v=a(753),y=l(a(287));t.LOCATION_PRIVACY_WARNING="Changed to county/district level for personal privacy.";t.LOCATION_UNRESOLVED_WARNING="No match. Sample will not appear on maps.";t.processLocationSelection=function processLocationSelection(e,t){var a="";return t&&"city"===(0,h.get)("geo_level",e)?((e=Object.assign({},e)).name=(0,h.compact)([e.subdivision_name,e.state_name,e.country_name]).join(", "),e.subdivision_name?e.geo_level="subdivision":e.state_name?e.geo_level="state":e.country_name&&(e.geo_level="country"),a="Changed to county/district level for personal privacy."):a=b(e),{result:e,warning:a}};var b=function getLocationWarning(e){return e&&e.geo_level?"":"No match. Sample will not appear on maps."};t.getLocationWarning=b;var C=function(e){function GeoSearchInputBox(){var e,t;(0,o.default)(this,GeoSearchInputBox);for(var a=arguments.length,l=new Array(a),s=0;s<a;s++)l[s]=arguments[s];return t=(0,i.default)(this,(e=(0,d.default)(GeoSearchInputBox)).call.apply(e,[this].concat(l))),(0,f.default)((0,c.default)(t),"handleSearchTriggered",function(){var e=(0,r.default)(n.default.mark(function _callee(e){var t,a,l,r;return n.default.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return t={},a=[],n.prev=2,n.next=5,(0,v.getGeoSearchSuggestions)(e);case 5:(a=n.sent).length>0&&(t[l="Location Results"]={name:l,results:a.map(function(e){var t=e.name.split(", ");return e.title=t[0],e.description=t.slice(1).join(", "),e.key="loc-".concat(e.locationiq_id),e})}),(0,g.logAnalyticsEvent)("GeoSearchInputBox_location_queried",{query:e,numResults:a.length}),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(2),console.log(n.t0),(0,g.logAnalyticsEvent)("GeoSearchInputBox_request_erred",{query:e,message:n.t0.message});case 14:return r="",r=a.length>0?"Use Plain Text (No Location Match)":"No Results (Use Plain Text)",t[r]={name:r,results:[{title:e,name:e}]},n.abrupt("return",t);case 18:case"end":return n.stop()}},_callee,null,[[2,10]])}));return function(t){return e.apply(this,arguments)}}()),(0,f.default)((0,c.default)(t),"handleResultSelected",function(e){var a=e.result,l=t.props.onResultSelect;(0,h.isString)(a)&&""!==a&&(a={name:a}),(0,g.logAnalyticsEvent)("GeoSearchInputBox_result_selected",{selected:a.name,isMatched:!!a.description}),l&&l({result:a})}),t}return(0,u.default)(GeoSearchInputBox,e),(0,s.default)(GeoSearchInputBox,[{key:"render",value:function render(){var e=this.props,t=e.className,a=e.inputClassName,l=e.value;return p.default.createElement(y.default,{className:t,inputClassName:a,inputMode:!0,onResultSelect:this.handleResultSelected,onSearchTriggered:this.handleSearchTriggered,placeholder:"Enter a city, region or country",rectangular:!0,value:(0,h.isString)(l)?l:l.name})}}]),GeoSearchInputBox}(p.default.Component);C.defaultProps={value:""},C.propTypes={className:m.default.string,inputClassName:m.default.string,onResultSelect:m.default.func,value:m.default.oneOfType([m.default.object,m.default.string])};var w=C;t.default=w},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(100)),r=l(a(35)),o=l(a(7)),s=l(a(8)),i=l(a(10)),d=l(a(9)),c=l(a(3)),u=l(a(11)),f=l(a(2)),p=l(a(0)),m=a(37),h=a(66),g=l(a(1)),v=a(17),y=l(a(58)),b=l(a(74)),C=l(a(83)),w=a(20),E=l(a(51)),S=l(a(88)),_=l(a(110)),k=l(a(174)),N=l(a(283)),x=l(a(1302)),M=function(e){function ThresholdFilterDropdown(e){var t;return(0,o.default)(this,ThresholdFilterDropdown),t=(0,i.default)(this,(0,d.default)(ThresholdFilterDropdown).call(this,e)),(0,f.default)((0,c.default)(t),"handleClose",function(e){if(t.setState({popupIsOpen:!1}),e){var a=t.state.thresholds.filter(ThresholdFilterDropdown.isThresholdValid);t.setState({thresholds:a}),t.props.onApply(a),(0,w.logAnalyticsEvent)("ThresholdFilterDropdown_apply-button_clicked",{thresholds:a.length})}else t.setState({thresholds:t.props.thresholds}),(0,w.logAnalyticsEvent)("ThresholdFilterDropdown_cancel-button_clicked",{thresholds:t.props.thresholds.length})}),(0,f.default)((0,c.default)(t),"handleOpen",function(){t.state.thresholds.length||t.addNewItem(),t.setState({popupIsOpen:!0})}),t.metrics=(t.props.options||{}).targets||[],t.operators=(t.props.options||{}).operators||[],t.label=t.props.label||"Threshold Filters",t.state={popupIsOpen:!1,thresholds:[]},t}return(0,u.default)(ThresholdFilterDropdown,e),(0,s.default)(ThresholdFilterDropdown,[{key:"handleThresholdRemove",value:function handleThresholdRemove(e){var t=(0,r.default)(this.state.thresholds);t.splice(e,1),this.setState({thresholds:t})}},{key:"handleThresholdChange",value:function handleThresholdChange(e,t){var a=(0,r.default)(this.state.thresholds);a[e]=t,this.setState({thresholds:a})}},{key:"addNewItem",value:function addNewItem(){this.setState({thresholds:[].concat((0,r.default)(this.state.thresholds),[{metric:this.metrics[0].value,metricDisplay:this.metrics[0].text,operator:this.operators[0],value:""}])})}},{key:"handleAddThresholdItem",value:function handleAddThresholdItem(e){this.addNewItem(),e.stopPropagation()}},{key:"renderLabel",value:function renderLabel(){var e=this.props.thresholds.length>0&&p.default.createElement(N.default,{className:x.default.dropdownLabel,disabled:this.props.disabled,text:String(this.props.thresholds.length)}),t=this.label&&this.props.thresholds.length>0?this.label+":":this.label;return p.default.createElement(k.default,{className:x.default.dropdownTrigger,label:t,value:e,rounded:!0})}},{key:"render",value:function render(){var e=this;return p.default.createElement(y.default,{trigger:this.renderLabel(),floating:!0,fluid:!0,arrowInsideTrigger:!0,className:x.default.thresholdFilterDropdown,onOpen:this.handleOpen,onClose:function onClose(t){e.handleClose("Enter"===(0,v.get)("key",t))},open:this.state.popupIsOpen,closeOnClick:!1},p.default.createElement("div",{className:x.default.container},p.default.createElement(m.Grid,{verticalAlign:"middle",columns:"equal"},this.state.thresholds.map(function(t,a){return p.default.createElement(T,{key:a,metrics:e.metrics,operators:e.operators,threshold:t,onChange:function onChange(t){return e.handleThresholdChange(a,t)},onRemove:function onRemove(){e.handleThresholdRemove(a)}})}),p.default.createElement(m.Grid.Row,{className:x.default.thresholdActions},p.default.createElement(m.Grid.Column,null,p.default.createElement("span",{className:x.default.addThresholdLink,onClick:this.handleAddThresholdItem.bind(this)},"+ Add a threshold"))),p.default.createElement(m.Grid.Row,{className:x.default.thresholdButtons},p.default.createElement(m.Grid.Column,null,p.default.createElement(S.default,{text:"Cancel",onClick:function onClick(){return e.handleClose(!1)},className:x.default.button}),p.default.createElement(E.default,{text:"Apply",onClick:function onClick(){return e.handleClose(!0)},className:x.default.button}))))))}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(e,t){var a=e.thresholds.filter(ThresholdFilterDropdown.isThresholdValid);return ThresholdFilterDropdown.areThresholdsFiltersEqual(a,t.oldThresholds)?null:{thresholds:a,oldThresholds:a}}},{key:"areThresholdsFiltersEqual",value:function areThresholdsFiltersEqual(e,t){if((0,n.default)(e)!==(0,n.default)(t))return!1;if(e=e||[],t=t||[],e.length!=t.length||(0,n.default)(e)!==(0,n.default)(t))return!1;for(var a=0;a<e.length;a++){var l=e[a],r=t[a];if(l.metric!==r.metric||l.operator!==r.operator||l.value!==r.value)return!1}return!0}},{key:"isThresholdValid",value:function isThresholdValid(e){return e.metric.length>0&&e.operator.length>0&&""!=e.value&&!Number.isNaN(e.value)}}]),ThresholdFilterDropdown}(p.default.Component);M.defaultProps={thresholds:[]},M.propTypes=(0,h.forbidExtraProps)({disabled:g.default.bool,label:g.default.string,thresholds:g.default.array,onApply:g.default.func,options:g.default.object});var T=function ThresholdFilter(e){var t=e.threshold,a=e.metrics,l=e.operators,n=e.onChange,r=e.onRemove,o=t.metric,s=t.value,i=t.operator,d=t.metricDisplay;return p.default.createElement(m.Grid.Row,{className:x.default.thresholdFilter},p.default.createElement(m.Grid.Column,{width:9},p.default.createElement(b.default,{placeholder:"Metric",fluid:!0,floating:!0,scrolling:!0,options:a,onChange:function handleMetricChange(e){var t=(0,v.get)("text",(0,v.find)(["value",e],a));n({metric:e,value:s,operator:i,metricDisplay:t})},value:o})),p.default.createElement(m.Grid.Column,null,p.default.createElement(b.default,{placeholder:"Op.",fluid:!0,floating:!0,scrolling:!0,options:l.map(function(e){return{text:e,value:e}}),onChange:function handleOperatorChange(e){n({metric:o,value:s,operator:e,metricDisplay:d})},value:i})),p.default.createElement(m.Grid.Column,null,p.default.createElement(C.default,{type:"number",onChange:function handleValueChange(e){n({metric:o,value:e,operator:i,metricDisplay:d})},value:s})),p.default.createElement(m.Grid.Column,{width:1},p.default.createElement("div",{onClick:r,className:x.default.removeIcon},p.default.createElement(_.default,null))))};T.propTypes=(0,h.forbidExtraProps)({metrics:g.default.arrayOf(g.default.shape({metric:g.default.string,value:g.default.string,operator:g.default.string,metricDisplay:g.default.string})),onChange:g.default.func,onRemove:g.default.func,operators:g.default.array,threshold:g.default.object}),M.defaultProps={thresholds:[]};var P=M;t.default=P},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.sortResultsByMatch=t.sortResults=t.doesResultMatch=t.openBasespaceOAuthPopup=void 0;var n=l(a(2)),r=a(17),o=a(82),s=a(61);function ownKeys(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}t.openBasespaceOAuthPopup=function openBasespaceOAuthPopup(e){var t=(0,o.getURLParamString)(function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(a,!0).forEach(function(t){(0,n.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e,{response_type:"code"}));return(0,s.openUrlInPopupWindow)("".concat("https://basespace.illumina.com/oauth/authorize","?").concat(t),"BASESPACE_OAUTH_WINDOW",1e3,600)};t.doesResultMatch=function doesResultMatch(e,t){if(""===t)return!0;var a=t.replace(/\s*/gi,"");return!!new RegExp(a.split("").join(".*"),"gi").test(e.name)};t.sortResults=function sortResults(e,t,a){var l=(0,r.sortBy)(a,e);return""!==t&&(l=(0,r.sortBy)(function(e){return i(e,t)},l)),l};var i=function sortResultsByMatch(e,t){var a=e.name.toLowerCase(),l=t.toLowerCase();return-1===a.indexOf(l)?Number.MAX_SAFE_INTEGER:a.indexOf(l)};t.sortResultsByMatch=i},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(0)),r=l(a(1)),o=l(a(4)),s=l(a(1337)),i=function Divider(e){var t=e.style;return n.default.createElement("div",{className:(0,o.default)(s.default.divider,s.default[t])})};i.defaultProps={style:"thin"},i.propTypes={style:r.default.oneOf(["thin","medium"])};var d=i;t.default=d},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(0)),r=l(a(1)),o=function LogoIcon(e){return n.default.createElement("svg",{className:e.className,viewBox:"0 0 144 52",version:"1.1"},n.default.createElement("defs",null,n.default.createElement("polygon",{id:"path-1",points:"7 8 137.592626 8 137.592626 45.424905 7 45.424905"})),n.default.createElement("g",{id:"Artboard-Copy-2",stroke:"none",fill:"none"},n.default.createElement("polyline",{id:"Fill-1",fill:"#93C151",points:"53.5103533 37.4296556 56.7080972 37.4263588 56.6833799 16.8388284 53.486055 16.8425374 53.5103533 37.4296556"}),n.default.createElement("path",{d:"M68.3675247,34.4072774 L64.7889673,34.4109863 L64.7717909,19.8356561 L68.3503483,19.8311229 C72.6637206,19.8265898 76.0462156,23.0237005 76.0512429,27.1101339 C76.0562701,31.1965672 72.681316,34.40192 68.3675247,34.4072774 Z M68.3465779,16.8252289 L61.5706956,16.8330589 L61.5949939,37.4205893 L68.3708762,37.4123472 C74.375496,37.4057535 79.2552708,32.7823473 79.2485678,27.106837 C79.2418648,21.4309146 74.3511977,16.8186353 68.3465779,16.8252289 Z",id:"Fill-2",fill:"#93C151"}),n.default.createElement("path",{d:"M84.2389419,22.3565025 C84.2368472,20.5984625 85.766804,19.0060887 88.4903116,19.0027919 C91.4404639,18.999495 92.8899849,20.9512244 92.8899849,20.9512244 L94.3068288,19.5546005 C94.3068288,19.5546005 92.2896486,17.045293 88.487798,17.0494141 C84.5443467,17.0539472 82.1078108,19.5125658 82.1111623,22.3589751 C82.1191221,29.3359131 92.8966879,26.5327747 92.9029719,31.5563349 C92.9050666,33.6490042 91.3466221,35.1857438 88.3675631,35.1890406 C84.6796633,35.1935738 83.0030786,32.7951226 83.0030786,32.7951226 L81.6993475,34.2197696 C81.6993475,34.2197696 83.8308975,37.1477758 88.3700767,37.1424184 C92.6252169,37.1374731 95.033684,34.762924 95.0303325,31.5538623 C95.0219538,24.5769243 84.2452259,27.3800626 84.2389419,22.3565025",id:"Fill-3",fill:"#FFFFFF"}),n.default.createElement("polyline",{id:"Fill-4",fill:"#FFFFFF",points:"101.558204 34.8947976 101.549407 27.6392767 110.769366 27.628562 110.766852 25.6747721 101.546893 25.6854868 101.539352 19.2669512 113.029529 19.2537638 113.027016 17.300386 99.4094779 17.316046 99.4325194 36.850648 113.333677 36.8349881 113.331164 34.8816103 101.558204 34.8947976"}),n.default.createElement("g",{id:"Clip-6"}),n.default.createElement("path",{d:"M126.522224,35.1457696 C121.983045,35.1507149 118.432556,31.6663669 118.42711,27.0615055 C118.422083,22.4570561 121.964192,18.9644661 126.502953,18.9591087 C131.042132,18.9541635 134.592202,22.4385114 134.597648,27.0429607 C134.603513,31.6474101 131.061403,35.1404122 126.522224,35.1457696 Z M137.590532,38.7603427 C137.590532,38.7603427 137.165311,38.9004584 136.31445,38.9012826 C132.484112,38.9058158 130.92064,36.1171011 130.92064,36.1171011 C130.92064,36.1171011 136.733806,33.7380189 136.725427,27.0409002 C136.718724,21.4593499 132.174518,16.9995494 126.500858,17.0057309 C120.826779,17.0127367 116.293046,21.4828398 116.29933,27.0639781 C116.306033,32.6455285 120.85024,37.1053289 126.524318,37.0987353 C127.942838,37.0970868 128.935299,36.8168554 128.935299,36.8168554 C128.935299,36.8168554 130.926086,40.7219626 136.316126,40.7153689 C137.167406,40.7145447 137.592626,40.574429 137.592626,40.574429 L137.590532,38.7603427 Z",id:"Fill-5",fill:"#FFFFFF",mask:"url(#mask-2)"}),n.default.createElement("path",{d:"M11.4771766,8 C9.00419321,8 7,9.97192251 7,12.4045784 C7,14.8372343 9.00419321,16.8087447 11.4771766,16.8087447 C13.9505789,16.8087447 15.9547721,14.8372343 15.9547721,12.4045784 C15.9547721,9.97192251 13.9505789,8 11.4771766,8",id:"Fill-7",fill:"#93C151",mask:"url(#mask-2)"}),n.default.createElement("path",{d:"M23.4009532,8.21594303 L23.4005342,8.21594303 L17.2497055,8.21058566 C18.1252832,9.39744811 18.6476973,10.8525909 18.6476973,12.4313653 C18.6476973,14.1156385 18.0553208,15.6614444 17.0704006,16.8878689 L23.4126834,16.8944626 C28.9770008,16.8944626 33.9342788,21.3526147 33.9342788,26.8331993 C33.9342788,32.3108992 29.4051541,36.7690513 23.8395799,36.7715239 L18.6849827,36.760397 L18.7076052,38.5106071 C18.7076052,38.5106071 18.7771487,43.1814053 16.0708176,45.3622651 L23.845445,45.4496313 C34.2727797,45.4426256 42.7566669,37.0909053 42.7566669,26.8331993 C42.7566669,16.5676633 33.8362476,8.21594303 23.4009532,8.21594303",id:"Fill-8",fill:"#FFFFFF",mask:"url(#mask-2)"}),n.default.createElement("path",{d:"M8.11981782,23.8450258 C7.35400152,25.0430151 7.05069134,26.5546163 7.05069134,28.2726821 L7.05069134,45.4409771 C11.037712,45.5547181 13.3829197,44.5570119 14.6472707,42.8265829 C14.9949881,42.3510137 15.2610129,41.8202225 15.4566564,41.2412149 C15.770021,40.3135665 15.9040808,39.2643471 15.9040808,38.1236404 L15.9040808,20.9553454 C11.7105243,20.835835 9.33305853,21.9452217 8.11981782,23.8450258",id:"Fill-9",fill:"#FFFFFF",mask:"url(#mask-2)"})))};o.propTypes={className:r.default.string};var s=o;t.default=s},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(5)),r=l(a(7)),o=l(a(8)),s=l(a(10)),i=l(a(9)),d=l(a(11)),c=l(a(0)),u=l(a(46)),f=l(a(1)),p=l(a(1356)),m=function(e){function ColumnHeaderTooltip(){return(0,r.default)(this,ColumnHeaderTooltip),(0,s.default)(this,(0,i.default)(ColumnHeaderTooltip).apply(this,arguments))}return(0,d.default)(ColumnHeaderTooltip,e),(0,o.default)(ColumnHeaderTooltip,[{key:"render",value:function render(){return c.default.createElement(u.default,(0,n.default)({},this.props,{content:c.default.createElement("div",{className:p.default.tooltip},this.props.title&&c.default.createElement("span",{className:p.default.title},this.props.title,":"),this.props.content,this.props.link&&c.default.createElement("a",{className:p.default.link,target:"_blank",rel:"noopener noreferrer",href:this.props.link},"Learn more."))}))}}]),ColumnHeaderTooltip}(c.default.Component);m.propTypes={size:f.default.string,title:f.default.string,link:f.default.string},m.defaultProps={basic:!1,hoverable:!0,inverted:!1,size:"small",position:"top center"};var h=m;t.default=h},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(428)).default;t.default=n},function(e,t,a){e.exports={h1:"h1-EUV_U",h2:"h2-3-y2q",h3:"h3-3brRe",h4:"h4-2SmPM",h5:"h5-vvoYK",h6:"h6-1G240","display-xlarge":"display-xlarge-3OO7S","display-large":"display-large-2TXy1","display-medium":"display-medium-1_G3Z","display-small":"display-small-3sL2l",heading:"heading-1BLln",subheading:"subheading-vRz3T",small:"small-2pSIZ",p:"p-2QbLr","body-text":"body-text-3G2tp",subdued:"subdued-XmoXn",caption:"caption-1yLdg","text-left":"text-left-1pd6X","text-right":"text-right-ittjx","text-center":"text-center-N248r","text-justify":"text-justify-4P7WO","text-nowrap":"text-nowrap-3v7et","text-lowercase":"text-lowercase-1JkX2","text-uppercase":"text-uppercase-T5ig8","text-capitalize":"text-capitalize-2wtK8","text-muted":"text-muted-jhknA",viewHeader:"viewHeader-ktDgk",content:"content-266ku",info:"info-13pbl",fill:"fill-2ZGWe",controls:"controls-1GPrv",sampleDropdown:"sampleDropdown-3xINW",sampleName:"sampleName-1xb-q",trigger:"trigger-1p388",pretitle:"pretitle-3YzM-",link:"link-NGF5S",rightArrow:"rightArrow-1KBBz",sampleNamePopup:"sampleNamePopup-2PNvf",loadingBackgroundAnimation:"loadingBackgroundAnimation-1G8X0"}},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(3)),d=l(a(11)),c=l(a(2)),u=l(a(0)),f=l(a(4)),p=l(a(51)),m=l(a(1)),h=l(a(1395)),g=l(a(141)),v=function(e){function MetadataSection(){var e,t;(0,n.default)(this,MetadataSection);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return t=(0,o.default)(this,(e=(0,s.default)(MetadataSection)).call.apply(e,[this].concat(l))),(0,c.default)((0,i.default)(t),"state",{hasSaved:!1,prevSavePending:t.props.savePending,prevEditing:t.props.editing}),(0,c.default)((0,i.default)(t),"renderStatus",function(){var e=t.props.savePending,a=t.state.hasSaved;return e?u.default.createElement("div",{className:h.default.status},"Saving..."):a?u.default.createElement("div",{className:h.default.status},"All changes saved"):null}),t}return(0,d.default)(MetadataSection,e),(0,r.default)(MetadataSection,[{key:"render",value:function render(){var e=this.props,t=e.title,a=e.open,l=e.onToggle,n=e.editing,r=e.editable,o=e.toggleable,s=e.children,i=e.onEditToggle,d=e.alwaysShowEditLink,c=e.className,m=u.default.createElement(u.default.Fragment,null,u.default.createElement("div",{className:h.default.title},t),r&&(n?this.renderStatus():u.default.createElement("div",{className:(0,f.default)(h.default.editLink,d&&h.default.show),onClick:function onClick(e){i(),e.stopPropagation()}},"Edit")));return u.default.createElement(g.default,{className:(0,f.default)(h.default.metadataSection,c),header:m,onToggle:l,open:a,toggleable:o,bottomContentPadding:!0},s,n&&u.default.createElement("div",{className:h.default.controls},u.default.createElement(p.default,{onClick:i,rounded:!1,text:"Done Editing"})))}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(e,t){var a=t.hasSaved;return e.editing&&!t.prevEditing&&(a=!1),!e.savePending&&t.prevSavePending&&(a=!0),{hasSaved:a,prevSavePending:e.savePending,prevEditing:e.editing}}}]),MetadataSection}(u.default.Component);v.propTypes={className:m.default.string,title:m.default.string,open:m.default.bool,toggleable:m.default.bool,onToggle:m.default.func,editable:m.default.bool,editing:m.default.bool,onEditToggle:m.default.func,savePending:m.default.bool,alwaysShowEditLink:m.default.bool,children:m.default.node};var y=v;t.default=y},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(5)),r=l(a(47)),o=l(a(7)),s=l(a(8)),i=l(a(10)),d=l(a(9)),c=l(a(3)),u=l(a(11)),f=l(a(2)),p=l(a(0)),m=a(37),h=l(a(1400)),g=l(a(4)),v=l(a(1)),y=function(e){function Textarea(e){var t;return(0,o.default)(this,Textarea),t=(0,i.default)(this,(0,d.default)(Textarea).call(this,e)),(0,f.default)((0,c.default)(t),"handleChange",function(e,a){t.props.onChange&&t.props.onChange(a.value)}),t}return(0,u.default)(Textarea,e),(0,s.default)(Textarea,[{key:"render",value:function render(){var e=this.props,t=e.className,a=(0,r.default)(e,["className"]);return p.default.createElement(m.TextArea,(0,n.default)({className:(0,g.default)(h.default.textarea,t)},a,{onChange:this.handleChange}))}}]),Textarea}(p.default.Component);y.propTypes={value:v.default.string,onChange:v.default.func,className:v.default.string};var b=y;t.default=b},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(0)),c=l(a(1)),u=l(a(4)),f=l(a(81)),p=l(a(1525)),m=function(e){function LoadingMessage(){return(0,n.default)(this,LoadingMessage),(0,o.default)(this,(0,s.default)(LoadingMessage).apply(this,arguments))}return(0,i.default)(LoadingMessage,e),(0,r.default)(LoadingMessage,[{key:"render",value:function render(){var e=this.props,t=e.className,a=e.message;return d.default.createElement("div",{className:(0,u.default)(p.default.loadingMessage,t)},d.default.createElement(f.default,{className:p.default.loadingIcon}),d.default.createElement("div",{className:p.default.text},a))}}]),LoadingMessage}(d.default.Component);m.propTypes={message:c.default.string,className:c.default.string};var h=m;t.default=h},,,,,,,,,,,,,,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(0)),c=l(a(1)),u=l(a(4)),f=l(a(46)),p=l(a(1732)),m=function(e){function StatusLabel(){return(0,n.default)(this,StatusLabel),(0,o.default)(this,(0,s.default)(StatusLabel).apply(this,arguments))}return(0,i.default)(StatusLabel,e),(0,r.default)(StatusLabel,[{key:"render",value:function render(){var e=this.props,t=e.status,a=e.type,l=e.className,n=e.tooltipText,r=e.inline,o=d.default.createElement("div",{className:(0,u.default)(l,p.default.statusLabel,r&&p.default.inline,p.default[a])},t);return n?d.default.createElement(f.default,{trigger:o,content:n,position:"top center"}):o}}]),StatusLabel}(d.default.Component);m.propTypes={className:c.default.string,status:c.default.node,type:c.default.oneOf(["success","warning","error","default","info"]),tooltipText:c.default.string,inline:c.default.bool},m.defaultProps={type:"default"};var h=m;t.default=h},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SELECT_ID_KEY=t.NO_VALID_SAMPLES_FOUND_ERROR=t.NO_TARGET_PROJECT_ERROR=void 0;t.NO_TARGET_PROJECT_ERROR="Please select an IDseq project to upload your samples to.";t.NO_VALID_SAMPLES_FOUND_ERROR="No valid samples were found.";t.SELECT_ID_KEY="_selectId"},function(e,t,a){e.exports={privacyPolicy:"privacyPolicy-3X96T",termsOfUse:"termsOfUse-2wA44",faqPage:"faqPage-3Z6M4",publicNcovHomepage:"publicNcovHomepage-2YVoR",number:"number-3XdwR",subtitle:"subtitle-1Fmuo",title:"title-3C3Y1",large:"large-2KdbI",listItemLabel:"listItemLabel-1rYqH",underlineHeader:"underlineHeader-1zWKh",question:"question-2_LJT",multiLine:"multiLine-pDyG6",innerListItem:"innerListItem-16Rqa",fill:"fill-1X5mb",image:"image-QFTxa",listItemTitle:"listItemTitle-2Y2WA",content:"content-1m2nj"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.MenuItem=t.Menu=void 0;var n=l(a(5)),r=l(a(7)),o=l(a(8)),s=l(a(10)),i=l(a(9)),d=l(a(11)),c=a(37),u=l(a(1)),f=l(a(0)),p=l(a(4)),m=function(e){function Menu(e){return(0,r.default)(this,Menu),(0,s.default)(this,(0,i.default)(Menu).call(this,e))}return(0,d.default)(Menu,e),(0,o.default)(Menu,[{key:"render",value:function render(){var e=this.props.className;return f.default.createElement(c.Menu,(0,n.default)({className:(0,p.default)("idseq-ui",e)},this.props),this.props.children)}}]),Menu}(f.default.Component);t.Menu=m,m.propTypes={className:u.default.string,children:u.default.oneOfType([u.default.arrayOf(u.default.node),u.default.node])};var h=function(e){function MenuItem(e){return(0,r.default)(this,MenuItem),(0,s.default)(this,(0,i.default)(MenuItem).call(this,e))}return(0,d.default)(MenuItem,e),(0,o.default)(MenuItem,[{key:"render",value:function render(){var e=this.props.className;return f.default.createElement(c.Menu.Item,(0,n.default)({className:(0,p.default)("idseq-ui",e)},this.props),this.props.children)}}]),MenuItem}(f.default.Component);t.MenuItem=h,h.propTypes={className:u.default.string,children:u.default.oneOfType([u.default.arrayOf(u.default.node),u.default.node])}},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(0)),c=l(a(1)),u=l(a(1228)),f=l(a(126)),p=function(e){function TermsAgreement(){return(0,n.default)(this,TermsAgreement),(0,o.default)(this,(0,s.default)(TermsAgreement).apply(this,arguments))}return(0,i.default)(TermsAgreement,e),(0,r.default)(TermsAgreement,[{key:"render",value:function render(){var e=this.props,t=e.onChange,a=e.checked;return d.default.createElement("div",{className:u.default.termsAgreement},d.default.createElement(f.default,{checked:a,onChange:t,value:1,label:d.default.createElement("span",null,d.default.createElement("span",null,"I agree that the data I am uploading to IDseq has been lawfully collected and that I have all the necessary consents, permissions, and authorizations needed to collect, share, and export data to IDseq as outlined in the "),d.default.createElement("a",{href:"https://idseq.net/terms",target:"_blank",rel:"noopener noreferrer"},"Terms")," and ",d.default.createElement("a",{href:"https://idseq.net/privacy",target:"_blank",rel:"noopener noreferrer"},"Data Privacy Notice."))}))}}]),TermsAgreement}(d.default.Component);p.propTypes={onChange:c.default.func,checked:c.default.bool};var m=p;t.default=m},,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(386)),r=l(a(51)),o=l(a(1)),s=l(a(0)),i=function CompareButton(e){var t=e.disabled,a=e.onClick;return s.default.createElement(r.default,{text:"Compare",disabled:t,onClick:a,icon:s.default.createElement(n.default,null)})};i.propTypes={disabled:o.default.bool,onClick:o.default.func};var d=i;t.default=d},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(5)),r=l(a(47)),o=a(37),s=a(66),i=l(a(1)),d=l(a(4)),c=l(a(0)),u=function Button(e){var t=e.icon,a=e.label,l=e.text,s=e.hasDropdownArrow,i=e.className,u=e.rounded,f=(0,r.default)(e,["icon","label","text","hasDropdownArrow","className","rounded"]),p=l;(t||a)&&(p=c.default.createElement("div",{className:"icon-label"},t,l,a));return c.default.createElement(o.Button,(0,n.default)({},f,{className:(0,d.default)("idseq-ui",i,!u&&"rectangular",s&&"has-dropdown-arrow")}),p,s&&c.default.createElement("i",{className:"icon-dropdown-arrow"}))};u.propTypes=(0,s.forbidExtraProps)({disabled:i.default.bool,icon:i.default.element,label:i.default.element,onBlur:i.default.func,onFocus:i.default.func,onClick:i.default.func,onMouseLeave:i.default.func,onMouseEnter:i.default.func,text:i.default.string,primary:i.default.bool,secondary:i.default.bool,rounded:i.default.bool,className:i.default.string,hasDropdownArrow:i.default.bool}),u.defaultProps={rounded:!0};var f=u;t.default=f},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(111)),r=l(a(0)),o=function BetaLabel(){return r.default.createElement(n.default,{text:"beta",color:"purple",size:"mini",floating:!0})};t.default=o},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(0)),r=l(a(4)),o=l(a(1)),s=l(a(111)),i=l(a(1259)),d=function DropdownLabel(e){var t=e.text,a=e.disabled,l=e.className;return n.default.createElement(s.default,{circular:!0,className:(0,r.default)(l,i.default.dropdownLabel,a&&i.default.disabled),text:t})};d.propTypes={disabled:o.default.bool,text:o.default.string,className:o.default.string};var c=d;t.default=c},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=a(17),s=function(){function PhyloTreeChecks(){(0,n.default)(this,PhyloTreeChecks)}return(0,r.default)(PhyloTreeChecks,null,[{key:"passesCreateCondition",value:function passesCreateCondition(e,t){return e>=PhyloTreeChecks.MIN_READS||t>=PhyloTreeChecks.MIN_READS}},{key:"isNumberOfSamplesValid",value:function isNumberOfSamplesValid(e){return e>=PhyloTreeChecks.MIN_SAMPLES&&e<=PhyloTreeChecks.MAX_SAMPLES}},{key:"hasSamplesWithFewReads",value:function hasSamplesWithFewReads(e){return(0,o.some)(function(e){return e<PhyloTreeChecks.RECOMMENDED_MIN_READS},e)}},{key:"countSamplesWithFewReads",value:function countSamplesWithFewReads(e,t){return(0,o.filter)(function(e){return PhyloTreeChecks.hasSamplesWithFewReads(e)},(0,o.zip)(e,t)).length}}]),PhyloTreeChecks}();s.MIN_READS=1,s.RECOMMENDED_MIN_READS=5,s.MIN_SAMPLES=4,s.MAX_SAMPLES=100;var i=s;t.default=i},function(e,t,a){e.exports={metadataUploadModal:"metadataUploadModal-2GiLy",projectName:"projectName-11HnP",tableContainer:"tableContainer-1zSqm",uploadPage:"uploadPage-1IipJ",link:"link-2mE8L",uploadInstructions:"uploadInstructions-sRlBw",backButton:"backButton-19FQ5",title:"title-2Toj4",sectionTitle:"sectionTitle-1VHS6",section:"section-3QtQW",standalone:"standalone-2xOya"}},function(e,t,a){"use strict";var l=a(96),n=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(7)),o=n(a(8)),s=n(a(10)),i=n(a(9)),d=n(a(11)),c=n(a(0)),u=a(17),f=n(a(4)),p=a(57),m=n(a(24)),h=n(a(83)),g=n(a(74)),v=l(a(219)),y=n(a(756)),b=n(a(95)),C=n(a(398)),w=n(a(1311)),E=function(e){function MetadataInput(e){var t;return(0,r.default)(this,MetadataInput),(t=(0,s.default)(this,(0,i.default)(MetadataInput).call(this,e))).state={warning:e.warning,warnedValue:e.value},t}return(0,d.default)(MetadataInput,e),(0,o.default)(MetadataInput,[{key:"render",value:function render(){var e=this,t=this.props,a=t.value,l=t.onChange,n=t.onSave,r=t.metadataType,o=t.className,s=t.isHuman,i=t.isInsect,d=t.sampleTypes,p=this.state.warning,m=(this.context||{}).allowedFeatures;if("sample_type"===r.key&&m.includes("sample_type_free_text"))return c.default.createElement(y.default,{className:o,value:a,onResultSelect:function onResultSelect(e){var t=e.result;l(r.key,t.name||t,!0)},isHuman:s,isInsect:i,sampleTypes:d});if(r.isBoolean){var E=r.options[0],S=r.options[1];return c.default.createElement(C.default,{initialChecked:a===E,onLabel:E,offLabel:S,onChange:function onChange(e){return l(r.key,e,!0)},className:o})}if((0,u.isArray)(r.options)){var _=r.options.map(function(e){return{text:e,value:e}});return c.default.createElement(g.default,{fluid:!0,floating:!0,options:_,onChange:function onChange(e){return l(r.key,e,!0)},value:a,className:o,usePortal:!0,withinModal:this.props.withinModal})}return"date"===r.dataType?c.default.createElement(h.default,{className:o,onChange:function onChange(e){return l(r.key,e)},onBlur:function onBlur(){return n&&n(r.key)},value:a,placeholder:s?"YYYY-MM":"YYYY-MM-DD",type:"text"}):"location"===r.dataType?c.default.createElement(c.default.Fragment,null,c.default.createElement(v.default,{className:o,inputClassName:(0,f.default)(p&&a&&"warning"),onResultSelect:function onResultSelect(t){var a=t.result,n=(0,v.processLocationSelection)(a,s),o=n.result,i=n.warning;e.setState({warning:i,warnedValue:o}),l(r.key,o,!0)},value:a}),p&&a&&c.default.createElement("div",{className:w.default.warning},c.default.createElement("div",{className:w.default.icon},c.default.createElement(b.default,null)),c.default.createElement("div",null,p))):c.default.createElement(h.default,{className:o,onChange:function onChange(e){return l(r.key,e)},onBlur:function onBlur(){return n&&n(r.key)},value:a,type:"number"===r.dataType?"number":"text"})}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(e,t){var a={};return e.warning!==t.prevPropsWarning?(a.warning=e.warning,a.prevPropsWarning=e.warning,a.warnedValue=e.value):e.value!==t.warnedValue&&(a.warnedValue=e.value,e.warning||(a.warning=(0,v.getLocationWarning)(e.value))),a}}]),MetadataInput}(c.default.Component);E.defaultProps={warning:""},E.propTypes={className:m.default.string,value:m.default.any,metadataType:m.default.shape({key:m.default.string,dataType:m.default.oneOf(["number","string","date","location"]),options:m.default.arrayOf(m.default.string),isBoolean:m.default.bool}),onChange:m.default.func.isRequired,onSave:m.default.func,withinModal:m.default.bool,isHuman:m.default.bool,isInsect:m.default.bool,warning:m.default.string,sampleTypes:m.default.arrayOf(m.default.SampleTypeProps).isRequired},E.contextType=p.UserContext;var S=E;t.default=S},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(26)),r=l(a(27)),o=l(a(7)),s=l(a(8)),i=l(a(10)),d=l(a(9)),c=l(a(3)),u=l(a(11)),f=l(a(2)),p=l(a(0)),m=l(a(1)),h=l(a(83)),g=a(84),v=a(17),y=l(a(4)),b=l(a(1305)),C=function(e){function LiveSearchPopBox(e){var t;return(0,o.default)(this,LiveSearchPopBox),t=(0,i.default)(this,(0,d.default)(LiveSearchPopBox).call(this,e)),(0,f.default)((0,c.default)(t),"handleKeyDown",function(e){var a=t.props,l=a.onEnter,n=a.inputMode,r=t.state.inputValue;"Enter"===e.key&&(n&&t.handleResultSelect({result:r}),l&&l({current:e,value:r}))}),(0,f.default)((0,c.default)(t),"handleResultSelect",function(e){var a=e.currentEvent,l=e.result,n=t.props.onResultSelect;n&&n({currentEvent:a,result:l}),t.closeDropdown()}),(0,f.default)((0,c.default)(t),"closeDropdown",function(){t.setState({isLoading:!1,focus:!1})}),(0,f.default)((0,c.default)(t),"triggerSearch",(0,r.default)(n.default.mark(function _callee(){var e,a,l,r;return n.default.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return e=t.props.onSearchTriggered,a=t.state.inputValue,t.setState({isLoading:!0,focus:!0}),l=t.lastestTimerId,n.next=6,e(a);case 6:r=n.sent,l===t.lastestTimerId&&t.setState({isLoading:!1,results:r});case 8:case"end":return n.stop()}},_callee)}))),(0,f.default)((0,c.default)(t),"handleSearchChange",function(e){var a=t.props,l=a.delayTriggerSearch,n=a.minChars,r=a.onSearchChange;t.setState({inputValue:e}),r&&r(e),e.trim().length>=n&&(t.lastestTimerId&&clearTimeout(t.lastestTimerId),t.lastestTimerId=setTimeout(t.triggerSearch,l))}),(0,f.default)((0,c.default)(t),"renderSearchBox",function(){var e=t.props,a=e.placeholder,l=e.rectangular,n=e.inputClassName,r=e.icon,o=t.state,s=o.isLoading,i=o.inputValue;return p.default.createElement("div",{onFocus:t.handleFocus,onBlur:t.handleBlur},p.default.createElement(h.default,{fluid:!0,className:(0,y.default)(b.default.searchInput,l&&b.default.rectangular,n),icon:r,loading:s,placeholder:a,onChange:t.handleSearchChange,onKeyPress:t.handleKeyDown,value:i,disableAutocomplete:!0}))}),(0,f.default)((0,c.default)(t),"handleFocus",function(e){t.hasEnoughChars()&&t.props.shouldSearchOnFocus&&t.handleSearchChange(t.state.inputValue),t.setState({focus:!0})}),(0,f.default)((0,c.default)(t),"handleBlur",function(){var e=t.props,a=e.onResultSelect,l=e.value,n=t.state.inputValue;a&&n!==l&&a({result:n}),t.closeDropdown()}),(0,f.default)((0,c.default)(t),"buildItem",function(e,a,l){return p.default.createElement(g.BareDropdown.Item,{key:"".concat(e,"-").concat(a.name),text:p.default.createElement("div",{className:b.default.entry},p.default.createElement("div",{className:b.default.title},a.title),a.description&&p.default.createElement("div",{className:b.default.description},a.description)),onMouseDown:function onMouseDown(e){t.handleResultSelect({currentEvent:e,result:a})},value:"".concat(e,"-").concat(l)})}),(0,f.default)((0,c.default)(t),"buildSectionHeader",function(e){return p.default.createElement("div",{key:e,className:b.default.category},e)}),(0,f.default)((0,c.default)(t),"renderDropdownItems",function(){var e=t.state.results,a=v.forEach.convert({cap:!1}),l=[];return a(function(e,n){l.push(t.buildSectionHeader(e.name)),a(function(e,a){l.push(t.buildItem(n,e,a))},e.results)},e),l}),(0,f.default)((0,c.default)(t),"getResultsLength",function(){var e=t.state.results;return(0,v.sumBy)(function(e){return((e||{}).results||[]).length},(0,v.values)(e))}),(0,f.default)((0,c.default)(t),"hasEnoughChars",function(){return t.state.inputValue.trim().length>=t.props.minChars}),t.state={isLoading:!1,results:[],inputValue:t.props.initialValue},t.lastestTimerId=null,t}return(0,u.default)(LiveSearchPopBox,e),(0,s.default)(LiveSearchPopBox,[{key:"render",value:function render(){var e=this.props,t=e.className,a=e.rectangular,l=this.getResultsLength()&&this.state.focus&&this.hasEnoughChars();return p.default.createElement(g.BareDropdown,{className:(0,y.default)(b.default.liveSearchPopBox,a&&b.default.rectangular,t),fluid:!0,hideArrow:!0,items:this.renderDropdownItems(),onChange:this.handleResultSelect,open:!!l,trigger:this.renderSearchBox(),usePortal:!0,withinModal:!0,disableAutocomplete:!0})}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(e,t){return e.value!==t.prevValue?{prevValue:e.value,inputValue:e.value||""}:null}}]),LiveSearchPopBox}(p.default.Component);C.defaultProps={delayTriggerSearch:200,initialValue:"",minChars:2,placeholder:"Search",rectangular:!1,inputMode:!1,icon:"search",shouldSearchOnFocus:!1},C.propTypes={className:m.default.string,delayTriggerSearch:m.default.number,initialValue:m.default.string,inputClassName:m.default.string,inputMode:m.default.bool,minChars:m.default.number,onEnter:m.default.func,onResultSelect:m.default.func,onSearchChange:m.default.func,onSearchTriggered:m.default.func.isRequired,placeholder:m.default.string,rectangular:m.default.bool,value:m.default.string,icon:m.default.string,shouldSearchOnFocus:m.default.bool};var w=C;t.default=w},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(5)),r=l(a(35)),o=l(a(7)),s=l(a(8)),i=l(a(10)),d=l(a(9)),c=l(a(3)),u=l(a(11)),f=a(17),p=l(a(1)),m=l(a(397)),h=l(a(0)),g=l(a(58)),v=l(a(174)),y=l(a(283)),b=l(a(1299)),C=l(a(389)),w=function(e){function MultipleNestedDropdown(e){var t;return(0,o.default)(this,MultipleNestedDropdown),(t=(0,i.default)(this,(0,d.default)(MultipleNestedDropdown).call(this,e))).state={selectedOptions:t.props.selectedOptions||[],selectedSuboptions:t.props.selectedSuboptions||{},oldSelectedOptions:[],oldSelectedSuboptions:{}},t.suboptionsToOptionMap={},t.props.options.forEach(function(e){(e.suboptions||[]).forEach(function(a){t.suboptionsToOptionMap[a.value]=e.value})}),t.handleOptionClicked=t.handleOptionClicked.bind((0,c.default)(t)),t.handleSuboptionClicked=t.handleSuboptionClicked.bind((0,c.default)(t)),t}return(0,u.default)(MultipleNestedDropdown,e),(0,s.default)(MultipleNestedDropdown,[{key:"handleOptionClicked",value:function handleOptionClicked(e,t){var a=this;t?this.setState(function(t){var l={selectedOptions:[].concat((0,r.default)(t.selectedOptions),[e])},n=a.props.options.find(function(t){return t.value==e});if(n.suboptions){var o=n.suboptions.map(function(e){return e.value});t.selectedSuboptions[e]=o,l.selectedSuboptions=t.selectedSuboptions}return l},function(){a.props.onChange(a.state.selectedOptions,a.state.selectedSuboptions)}):this.setState(function(t){return{selectedOptions:t.selectedOptions.filter(function(t){return t!=e})}},function(){return a.props.onChange(a.state.selectedOptions,a.state.selectedSuboptions)})}},{key:"handleSuboptionClicked",value:function handleSuboptionClicked(e,t,a){var l=this,n=this.suboptionsToOptionMap[e];t?this.setState(function(t){return t.selectedSuboptions[n]||(t.selectedSuboptions[n]=[]),t.selectedSuboptions[n].push(e),{selectedSuboptions:t.selectedSuboptions}},function(){return l.props.onChange(l.state.selectedOptions,l.state.selectedSuboptions)}):this.setState(function(t){if(t.selectedSuboptions[n]){var a=t.selectedSuboptions[n].filter(function(t){return t!=e});t.selectedSuboptions[n]=a}return{selectedSuboptions:t.selectedSuboptions}},function(){return l.props.onChange(l.state.selectedOptions,l.state.selectedSuboptions)})}},{key:"handleItemClicked",value:function handleItemClicked(e){e.stopPropagation()}},{key:"getNumberOfSelectedOptions",value:function getNumberOfSelectedOptions(){var e=this,t=0;return this.props.options.forEach(function(a){t+=(e.state.selectedSuboptions[a.value]||[]).length}),this.state.selectedOptions.length+t}},{key:"renderItem",value:function renderItem(e,t,a,l){var n=this.props.boxed;return h.default.createElement(C.default,{boxed:n,key:e,value:e,label:t,checked:a,onOptionClick:l})}},{key:"isOptionChecked",value:function isOptionChecked(e){return this.state.selectedOptions.indexOf(e)>-1}},{key:"isSuboptionChecked",value:function isSuboptionChecked(e,t){return(this.state.selectedSuboptions[e]||[]).indexOf(t)>-1}},{key:"renderItems",value:function renderItems(){var e=this,t=[];return this.props.options.forEach(function(a){t.push(e.renderItem(a.value,a.text,e.isOptionChecked(a.value),e.handleOptionClicked)),(a.suboptions||[]).forEach(function(l){t.push(e.renderItem(l.value,"".concat(a.text," - ").concat(l.text),e.isSuboptionChecked(a.value,l.value),e.handleSuboptionClicked))})}),t}},{key:"renderLabel",value:function renderLabel(){var e=this.getNumberOfSelectedOptions(),t=e>0&&this.props.label?this.props.label+":":this.props.label,a=e>0&&h.default.createElement(y.default,{className:b.default.dropdownLabel,disabled:this.props.disabled,text:String(e)});return h.default.createElement(v.default,{className:b.default.dropdownTrigger,label:t,value:a,rounded:this.props.rounded})}},{key:"render",value:function render(){var e=(0,f.omit)(["boxed","selectedOptions","selectedSuboptions","label","rounded","onChange","options","search"],this.props);return h.default.createElement(g.default,(0,n.default)({className:b.default.multipleNestedDropdown,floating:!0,arrowInsideTrigger:!0},e,{trigger:this.renderLabel(),items:this.renderItems(),closeOnClick:!1}))}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(e,t){var a=null;return e.selectedOptions===t.oldSelectedOptions&&m.default.equal(e.selectedOptions,t.oldSelectedOptions)||(a=Object.assign({},{selectedOptions:e.selectedOptions,oldSelectedOptions:e.selectedOptions})),e.selectedSuboptions===t.oldSelectedSuboptions&&MultipleNestedDropdown.areSuboptionsEqual(e.selectedSuboptions,t.oldSelectedSuboptions)||(a=Object.assign(a||{},{selectedSuboptions:e.selectedSuboptions,oldSelectedSuboptions:e.selectedSuboptions})),a}},{key:"areSuboptionsEqual",value:function areSuboptionsEqual(e,t){if(!e||!t)return e===t;if(Object.keys(e)!==Object.keys(t))return!1;for(var a in e){if(!t.hasOwnProperty(a))return!1;if(!m.default.equal(e[a],t[a]))return!1}return!0}}]),MultipleNestedDropdown}(h.default.Component);w.defaultProps={selectedOptions:[],selectedSuboptions:{}},w.propTypes={boxed:p.default.bool,label:p.default.string,onChange:p.default.func,options:p.default.array,selectedOptions:p.default.array,selectedSuboptions:p.default.object,disabled:p.default.bool,rounded:p.default.bool};var E=w;t.default=E},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(0)),c=l(a(1)),u=l(a(4)),f=a(17),p=l(a(141)),m=l(a(125)),h=l(a(95)),g=l(a(290)),v=l(a(1314)),y=function(e){function IssueGroup(){return(0,n.default)(this,IssueGroup),(0,o.default)(this,(0,s.default)(IssueGroup).apply(this,arguments))}return(0,i.default)(IssueGroup,e),(0,r.default)(IssueGroup,[{key:"render",value:function render(){var e=this,t=this.props,a=t.initialOpen,l=t.type,n=t.getColumnWidth,r=this.props.rows.map(function(t){return(0,f.zipObject)(e.props.headers,t)});return d.default.createElement(p.default,{className:(0,u.default)(v.default.issueGroup,v.default[this.props.type],this.props.className),bottomContentPadding:!0,header:d.default.createElement("div",{className:v.default.header},"info"===l?d.default.createElement(g.default,{className:(0,u.default)(v.default.icon,v.default[this.props.type])}):d.default.createElement(h.default,{className:(0,u.default)(v.default.icon,v.default[this.props.type])}),this.props.caption),open:a},d.default.createElement("div",{className:v.default.tableContainer},d.default.createElement(m.default,{columns:this.props.headers,data:r,getColumnWidth:n,striped:!1})))}}]),IssueGroup}(d.default.Component);y.propTypes={caption:c.default.string,className:c.default.string,getColumnWidth:c.default.func,headers:c.default.arrayOf(c.default.string),initialOpen:c.default.bool,rows:c.default.arrayOf(c.default.arrayOf(c.default.any)),type:c.default.oneOf(["error","warning","info"])};var b=y;t.default=b},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(0)),r=l(a(1)),o=function CircleCheckmarkIcon(e){return n.default.createElement("svg",{className:e.className,viewBox:"0 0 24 24"},n.default.createElement("g",{stroke:"none",strokeWidth:"1",fillRule:"evenodd"},n.default.createElement("g",{transform:"translate(-230.000000, -808.000000)",fillRule:"nonzero"},n.default.createElement("g",{transform:"translate(230.217021, 808.217021)"},n.default.createElement("path",{d:"M16.6344773,6.38873611 C14.3340472,9.31258793 12.0325377,12.2210926 9.7302703,15.1451221 L6.07720102,11.2857573 C5.89294157,11.0479038 5.61801879,10.9637628 5.36850569,11.0688589 C5.11899259,11.173955 4.93838045,11.4499694 4.90292412,11.7803683 C4.86746778,12.1107671 4.98334745,12.4379604 5.20163848,12.6238064 L9.33555061,16.9928985 C9.60915187,17.2799544 10.0099525,17.2563112 10.2613631,16.9382849 C12.7100629,13.8260058 15.1597732,10.7324905 17.6105399,7.61754328 C17.8242861,7.3544109 17.8805117,6.94687307 17.7499139,6.60732513 C17.6193161,6.2677772 17.3314675,6.07310695 17.0363854,6.12477013 C16.8828027,6.15285504 16.7411902,6.24586358 16.6344773,6.38873611 Z",id:"Shape",strokeWidth:"0.1"}),n.default.createElement("path",{d:"M11.7829787,-1.70530257e-13 C5.28587234,-1.70530257e-13 -1.70530257e-13,5.28587234 -1.70530257e-13,11.7829787 C-1.70530257e-13,18.2800851 5.28587234,23.5659574 11.7829787,23.5659574 C18.2800851,23.5659574 23.5659574,18.2800851 23.5659574,11.7829787 C23.5659574,5.28587234 18.2800851,-1.70530257e-13 11.7829787,-1.70530257e-13 Z M11.7829787,22.2893617 C5.98978723,22.2893617 1.27659574,17.5761702 1.27659574,11.7829787 C1.27659574,5.98978723 5.98978723,1.27659574 11.7829787,1.27659574 C17.5761702,1.27659574 22.2893617,5.98978723 22.2893617,11.7829787 C22.2893617,17.5761702 17.5761702,22.2893617 11.7829787,22.2893617 Z",id:"Shape"})))))};o.propTypes={className:r.default.string};var s=o;t.default=s},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(0)),r=l(a(1)),o=function PlusIcon(e){return n.default.createElement("svg",{className:e.className,viewBox:"0 0 14 14",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",fill:"#cccccc"},n.default.createElement("g",{id:"Symbols",strokeWidth:"1",fillRule:"evenodd"},n.default.createElement("g",{id:"Sample-Table",transform:"translate(-1161.000000, -2.000000)"},n.default.createElement("path",{d:"M1170.8,9 C1170.8,9.3864 1170.4864,9.7 1170.1,9.7 L1168.7,9.7 L1168.7,11.1 C1168.7,11.4864 1168.3864,11.8 1168,11.8 C1167.6136,11.8 1167.3,11.4864 1167.3,11.1 L1167.3,9.7 L1165.9,9.7 C1165.5136,9.7 1165.2,9.3864 1165.2,9 C1165.2,8.6136 1165.5136,8.3 1165.9,8.3 L1167.3,8.3 L1167.3,6.9 C1167.3,6.5136 1167.6136,6.2 1168,6.2 C1168.3864,6.2 1168.7,6.5136 1168.7,6.9 L1168.7,8.3 L1170.1,8.3 C1170.4864,8.3 1170.8,8.6136 1170.8,9 M1168,14.6 C1164.9123,14.6 1162.4,12.0877 1162.4,9 C1162.4,5.9123 1164.9123,3.4 1168,3.4 C1171.0877,3.4 1173.6,5.9123 1173.6,9 C1173.6,12.0877 1171.0877,14.6 1168,14.6 M1168,2 C1164.1339,2 1161,5.1339 1161,9 C1161,12.8661 1164.1339,16 1168,16 C1171.8661,16 1175,12.8661 1175,9 C1175,5.1339 1171.8661,2 1168,2",id:"plus_circle-[#1427]"}))))};o.propTypes={className:r.default.string};var s=o;t.default=s},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=function(){function StringHelper(){(0,n.default)(this,StringHelper)}return(0,r.default)(StringHelper,null,[{key:"validateEmail",value:function validateEmail(e){return/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i.test(e)}},{key:"capitalizeFirstLetter",value:function capitalizeFirstLetter(e){return e.charAt(0).toUpperCase()+e.slice(1)}},{key:"validateName",value:function validateName(e){return/^[a-zA-Z -]+$/.test(e)}}]),StringHelper}();t.default=o},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(0)),c=l(a(24)),u=l(a(294)),f=l(a(142)),p=function(e){function ThresholdFilterTag(){return(0,n.default)(this,ThresholdFilterTag),(0,o.default)(this,(0,s.default)(ThresholdFilterTag).apply(this,arguments))}return(0,i.default)(ThresholdFilterTag,e),(0,r.default)(ThresholdFilterTag,[{key:"render",value:function render(){var e=this.props,t=e.threshold,a=e.onClose,l=e.className,n="".concat(t.metricDisplay," ").concat(t.operator," ").concat(t.value);return u.default.isThresholdValid(t)?d.default.createElement(f.default,{text:n,onClose:a,className:l}):null}}]),ThresholdFilterTag}(d.default.Component);t.default=p,p.propTypes={onClose:c.default.func.isRequired,threshold:c.default.shape({metric:c.default.string,value:c.default.string,operator:c.default.string,metricDisplay:c.default.string}),className:c.default.string}},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(32)),r=a(295);function ThresholdMap(e){this.options=e}ThresholdMap.isThresholdValid=function(e){return!!(e.metric&&e.operator&&e.value)&&(e.metric.length>0&&e.operator.length>0&&""!=e.value&&!isNaN(e.value))},ThresholdMap.getSavedThresholdFilters=function(){var e=window.localStorage.getItem("activeThresholds");return e?JSON.parse(e):[]},ThresholdMap.saveThresholdFilters=function(e){var t=e.filter(function(e){return ThresholdMap.isThresholdValid(e)});window.localStorage.setItem("activeThresholds",JSON.stringify(t))},ThresholdMap.taxonPassThresholdFilter=function(e,t){if(Object.keys(e).length<=0)return!1;for(var a=0;a<t.length;a+=1){var l=t[a];if(ThresholdMap.isThresholdValid(l)){var o=l.metric,s=l.operator,i=l.value,d=parseFloat(i),c=o.split("_"),u=(0,n.default)(c,2),f=u[0],p=u[1],m=(0,r.getTaxonMetric)(e,f,p);switch(s){case">=":if(m<d)return!1;break;case"<=":if(m>d)return!1}}}return!0};var o=ThresholdMap;t.default=o},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.addContigCountsToTaxonomyDetails=t.getCategoryAdjective=t.getTaxonSortComparator=t.getTaxonMetric=t.isTaxonIncluded=t.computeThresholdedTaxons=void 0;var n=l(a(2)),r=l(a(32)),o=l(a(294)),s=a(17);function ownKeys(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}t.computeThresholdedTaxons=function computeThresholdedTaxons(e,t){for(var a=[],l={},n=[],r=0;r<e.length;r++){var s=e[r];s.genus_taxid==s.tax_id?(n.length>0?(a.push(l),a=a.concat(n)):o.default.taxonPassThresholdFilter(l,t)&&a.push(l),l=s,n=[]):o.default.taxonPassThresholdFilter(s,t)&&n.push(s)}return n.length>0?(a.push(l),a=a.concat(n)):o.default.taxonPassThresholdFilter(l,t)&&a.push(l),a};t.isTaxonIncluded=function isTaxonIncluded(e,t,a,l){return(t.indexOf(e.category_name)>=0||a.some(function(t){return 1==e[t]}))&&!l.some(function(t){return 1==e[t]})};var i=function getTaxonMetric(e,t,a){return"contigs"===a||"contigreads"===a?(0,s.get)(["summaryContigCounts",t,a],e)||0:e[t][a]};t.getTaxonMetric=i;t.getTaxonSortComparator=function getTaxonSortComparator(e,t,a){var l=(0,r.default)(e,2),n=l[0],o=l[1],s=(0,r.default)(t,2),d=s[0],c=s[1];return function(e,t){var l=a[e.genus_taxid],r=a[t.genus_taxid],s=parseFloat(i(l,n,o)),u=parseFloat(i(l,d,c)),f=parseFloat(i(e,n,o)),p=parseFloat(i(e,d,c)),m=parseFloat(i(r,n,o)),h=parseFloat(i(r,d,c)),g=parseFloat(i(t,n,o)),v=parseFloat(i(t,d,c));return e.genus_taxid==t.genus_taxid?e.tax_level>t.tax_level?-1:e.tax_level<t.tax_level?1:f>g?-1:f<g?1:p>v?-1:p<v?1:0:s>m?-1:s<m?1:u>h?-1:u<h?1:e.genus_taxid<t.genus_taxid?-1:e.genus_taxid>t.genus_taxid?1:void 0}};t.getCategoryAdjective=function getCategoryAdjective(e){var t=e.toLowerCase();switch(t){case"bacteria":return"bacterial";case"archaea":return"archaeal";case"eukaryota":return"eukaryotic";case"viruses":return"viral";case"viroids":return"viroidal";case"uncategorized":return"uncategorized";default:return t}};t.addContigCountsToTaxonomyDetails=function addContigCountsToTaxonomyDetails(e,t){var a={};return t.forEach(function(e){a=(0,s.set)([e.taxid,e.count_type],{contigs:e.contigs,contigreads:e.contig_reads},a)}),e.map(function(e){return a[e.tax_id]?function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(a,!0).forEach(function(t){(0,n.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e,{summaryContigCounts:a[e.tax_id]}):(0,s.omit)("summaryContigCounts",e)})}},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.getGeneraPathogenCounts=t.getGeneraContainingTags=t.getTaxonName=void 0;var n=l(a(292));t.getTaxonName=function getTaxonName(e,t,a){return"common name"===a.toLowerCase()&&t&&""!==t.trim()?n.default.capitalizeFirstLetter(t):e};t.getGeneraContainingTags=function getGeneraContainingTags(e){var t={},a=!0,l=!1,n=void 0;try{for(var r,o=e[Symbol.iterator]();!(a=(r=o.next()).done);a=!0){var s=r.value;1==s.tax_level&&s.pathogenTag&&(t[s.genus_taxid]=t[s.genus_taxid]||{},t[s.genus_taxid][s.pathogenTag]=(t[s.genus_taxid][s.pathogenTag]||0)+1)}}catch(e){l=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}return t};t.getGeneraPathogenCounts=function getGeneraPathogenCounts(e){var t={};return Object.values(e).forEach(function(e){e.pathogenTag&&(t[e.genus_tax_id]=t[e.genus_tax_id]||{},t[e.genus_tax_id][e.pathogenTag]=(t[e.genus_tax_id][e.pathogenTag]||0)+1)}),t}},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(0)),c=l(a(1)),u=l(a(1375)),f=function(e){function BlankScreenMessage(){return(0,n.default)(this,BlankScreenMessage),(0,o.default)(this,(0,s.default)(BlankScreenMessage).apply(this,arguments))}return(0,i.default)(BlankScreenMessage,e),(0,r.default)(BlankScreenMessage,[{key:"render",value:function render(){var e=this.props,t=e.icon,a=e.message,l=e.tagline,n=e.textWidth;return d.default.createElement("div",{className:u.default.blankScreenMessage},d.default.createElement("div",{className:u.default.content},d.default.createElement("div",{className:u.default.text,style:{width:n}},d.default.createElement("div",{className:u.default.message},a),d.default.createElement("div",{className:u.default.tagline},l)),t))}}]),BlankScreenMessage}(d.default.Component);f.propTypes={icon:c.default.object,message:c.default.string,tagline:c.default.oneOfType([c.default.string,c.default.object]),textWidth:c.default.number};var p=f;t.default=p},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.CategoricalColormap=void 0;var n=l(a(7)),r=l(a(8)),o=function(){function CategoricalColormap(e){var t=this;(0,n.default)(this,CategoricalColormap),this.gradients=e||["482778","1F968B","55C567","BF1464","E58740","AB4ECC"],this.gradients=this.gradients.map(function(e){return t.hexToDec(e)})}return(0,r.default)(CategoricalColormap,[{key:"hexToDec",value:function hexToDec(e){for(var t=[],a=0;a<3;a++)t.push(parseInt(e.slice(2*a,2*a+2),16));return t}},{key:"decToHex",value:function decToHex(e){for(var t="#",a=0;a<3;a++)t+=e[a].toString(16);return t}},{key:"getNScale",value:function getNScale(e){var t=this;if(0===e)return[];var a=this.gradients.slice(0,Math.min(this.gradients.length,e)).map(function(e){return t.decToHex(e)});if(a.length<e)for(var l=Math.floor((e-this.gradients.length)/(this.gradients.length-1)),n=(e-this.gradients.length)%(this.gradients.length-1),r=a.length;r<e;r++){var o=Math.floor((r-this.gradients.length)/(this.gradients.length-1)),s=(r-this.gradients.length)%(this.gradients.length-1),i=(o+1)/(1+l+(s<n?1:0));a.push(this.decToHex(this.getLinearColor(this.gradients[s],this.gradients[s+1],i)))}return a}},{key:"getLinearColor",value:function getLinearColor(e,t,a){for(var l=[],n=0;n<3;n++)l.push(Math.floor(e[n]+a*(t[n]-e[n])));return l}}]),CategoricalColormap}();t.CategoricalColormap=o},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(0)),r=l(a(1)),o=function CopyIcon(e){return n.default.createElement("svg",{className:e.className,viewBox:"0 0 15 17",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},n.default.createElement("g",{stroke:"none",strokeWidth:"1",fillRule:"evenodd"},n.default.createElement("g",{transform:"translate(-810.000000, -858.000000)"},n.default.createElement("g",{transform:"translate(766.000000, 852.000000)"},n.default.createElement("g",{transform:"translate(44.000000, 6.000000)"},n.default.createElement("path",{d:"M14.8571643,3.75394322 C14.8571643,3.62881178 14.8036571,3.50368034 14.7144784,3.41430074 L11.4683753,0.143007361 C11.3791966,0.0536277603 11.2543465,0 11.1294964,0 L4.76214029,0 C4.12005396,0 3.58498201,0.536277603 3.58498201,1.17981073 L3.58498201,3.59305994 L1.17715827,3.59305994 C0.535071942,3.59305994 0,4.11146162 0,4.77287066 L0,15.8201893 C0,16.4637224 0.517236211,17 1.17715827,17 L10.1128597,17 C10.754946,17 11.290018,16.4815983 11.290018,15.8201893 L11.290018,13.4069401 L13.6978417,13.4069401 C14.3399281,13.4069401 14.875,12.8706625 14.875,12.2271293 L14.8571643,3.75394322 Z M11.6110612,1.66246057 L13.1984412,3.25341746 L11.6110612,3.25341746 L11.6110612,1.66246057 Z M10.1128597,15.9989485 L1.17715827,15.9989485 C1.07014388,15.9989485 0.980965228,15.9095689 0.980965228,15.8023134 L0.980965228,4.75499474 C0.980965228,4.64773922 1.07014388,4.55835962 1.17715827,4.55835962 L7.06294964,4.55835962 L7.06294964,7.32912723 C7.06294964,7.59726604 7.27697842,7.81177708 7.54451439,7.81177708 L10.3090528,7.81177708 L10.3090528,15.8023134 C10.3090528,15.9095689 10.2198741,15.9989485 10.1128597,15.9989485 Z M8.04391487,6.82860147 L8.04391487,5.23764458 L9.63129496,6.82860147 L8.04391487,6.82860147 Z M13.6978417,12.4237645 L11.290018,12.4237645 L11.290018,7.32912723 C11.290018,7.20399579 11.2365108,7.07886435 11.1473321,6.98948475 L7.90122902,3.71819138 C7.81205036,3.62881178 7.68720024,3.57518402 7.56235012,3.57518402 L4.56594724,3.57518402 L4.56594724,1.17981073 C4.56594724,1.07255521 4.6551259,0.983175605 4.76214029,0.983175605 L10.6479317,0.983175605 L10.6479317,3.75394322 C10.6479317,4.02208202 10.8619604,4.23659306 11.1294964,4.23659306 L13.8940348,4.23659306 L13.8940348,12.2271293 C13.8940348,12.3343849 13.8048561,12.4237645 13.6978417,12.4237645 Z",fillRule:"nonzero"}),n.default.createElement("path",{d:"M8.70796996,13.4583333 L3.33369671,13.4583333 C3.05571705,13.4583333 2.83333333,13.6157407 2.83333333,13.8125 C2.83333333,14.0092593 3.05571705,14.1666667 3.33369671,14.1666667 L8.70796996,14.1666667 C8.98594961,14.1666667 9.20833333,14.0092593 9.20833333,13.8125 C9.20833333,13.6157407 8.98594961,13.4583333 8.70796996,13.4583333 Z"}),n.default.createElement("path",{d:"M8.70796996,11.3333333 L3.33369671,11.3333333 C3.05571705,11.3333333 2.83333333,11.4878788 2.83333333,11.6810606 C2.83333333,11.8742424 3.05571705,12.0416667 3.33369671,12.0416667 L8.70796996,12.0416667 C8.98594961,12.0416667 9.20833333,11.8871212 9.20833333,11.6939394 C9.20833333,11.5007576 8.98594961,11.3333333 8.70796996,11.3333333 Z"}),n.default.createElement("path",{d:"M8.70796996,9.20833333 L3.33369671,9.20833333 C3.05571705,9.20833333 2.83333333,9.36574074 2.83333333,9.5625 C2.83333333,9.75925926 3.05571705,9.91666667 3.33369671,9.91666667 C4.7514251,9.91666667 5.8147214,9.91666667 6.52358559,9.91666667 C7.00900434,9.91666667 7.73713246,9.91666667 8.70796996,9.91666667 C8.98594961,9.91666667 9.20833333,9.75925926 9.20833333,9.5625 C9.20833333,9.36574074 8.98594961,9.20833333 8.70796996,9.20833333 Z"}))))))};o.propTypes={className:r.default.string};var s=o;t.default=s},,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(0)),c=l(a(1)),u=l(a(4)),f=l(a(1392)),p=function(e){function FieldList(){return(0,n.default)(this,FieldList),(0,o.default)(this,(0,s.default)(FieldList).apply(this,arguments))}return(0,i.default)(FieldList,e),(0,r.default)(FieldList,[{key:"render",value:function render(){return d.default.createElement("div",{className:(0,u.default)(f.default.fieldList,this.props.className)},this.props.fields.map(function(e){return d.default.createElement("div",{className:f.default.field,key:e.label},d.default.createElement("div",{className:f.default.label},e.label),e.value)}))}}]),FieldList}(d.default.Component);t.default=p,p.propTypes={className:c.default.string,fields:c.default.arrayOf(c.default.shape({label:c.default.string,value:c.default.node}))}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.processMetadataTypes=t.processMetadata=void 0;var l=a(17);t.processMetadata=function processMetadata(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=(0,l.keyBy)("key",e);return a=(0,l.mapValues)(function(e){return"date"===e.base_type?e.raw_value:e["".concat(e.base_type,"_validated_value")]},a),t&&(a=(0,l.mapValues)(function(e){return(0,l.isObject)(e)?e.name:e},a)),a};t.processMetadataTypes=function processMetadataTypes(e){return(0,l.keyBy)("key",e)}},function(e,t,a){e.exports={h1:"h1-3FS_7",h2:"h2-16q37",h3:"h3-3oMsl",h4:"h4-LzacU",h5:"h5-15OFJ",h6:"h6-1WK7F","display-xlarge":"display-xlarge-3SaTI","display-large":"display-large-3gJUL","display-medium":"display-medium-VMmYC","display-small":"display-small-37pH2",heading:"heading-2k2w-",subheading:"subheading-3Fxmy",small:"small-1Ox9g",p:"p-3YOib","body-text":"body-text-2JNYW",subdued:"subdued-2kmWB",caption:"caption-1G3XU","text-left":"text-left-2G6H1","text-right":"text-right-NL4Lf","text-center":"text-center-3BQEr","text-justify":"text-justify-243v1","text-nowrap":"text-nowrap-31t8a","text-lowercase":"text-lowercase-1_1Nw","text-uppercase":"text-uppercase-4gUYo","text-capitalize":"text-capitalize-ckz_F","text-muted":"text-muted-3Bd7l",content:"content-2UDUW",title:"title-2OilU",loadingMsg:"loadingMsg-5jkOA",tabs:"tabs-29QGY",noData:"noData-24F7k",pipelineInfoFields:"pipelineInfoFields-1tzXJ",inputWrapper:"inputWrapper-xiDgH",sampleNameInput:"sampleNameInput-3gnI9",metadataFields:"metadataFields-3-589",metadataInput:"metadataInput-Cp-Le",error:"error-3itiT",metadataValue:"metadataValue-2cDlV",emptyValue:"emptyValue-3YNUI",projectLink:"projectLink-2oSuL",vizLink:"vizLink-3nAhC",rightArrow:"rightArrow-U8lmz",readsRemainingRow:"readsRemainingRow-2sd9r",label:"label--gcey",labelText:"labelText-2uB1q",header:"header-21hKm",narrowMetadataValueContainer:"narrowMetadataValueContainer-2CnKh",reportLink:"reportLink-2T98p",erccScatterplotSection:"erccScatterplotSection-1Tgkh",graphContainer:"graphContainer-P2Daj",downloadSectionContent:"downloadSectionContent-39Xrb",downloadLink:"downloadLink-14o8v",notesSection:"notesSection-1qOeW",note:"note-2jZdd",textareaContainer:"textareaContainer-2my8K",textarea:"textarea-EQ66z"}},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(0)),r=l(a(1)),o=function InfoCircleIcon(e){return n.default.createElement("svg",{className:e.className,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 45 45",fillRule:"evenodd"},n.default.createElement("g",null,n.default.createElement("path",{d:"M24,44c-5.3,0-10.4-2.1-14.1-5.9c-7.8-7.8-7.8-20.5,0-28.3C13.6,6.1,18.7,4,24,4s10.4,2.1,14.1,5.9c7.8,7.8,7.8,20.5,0,28.3  C34.4,41.9,29.3,44,24,44z M24,6c-4.8,0-9.3,1.9-12.7,5.3c-7,7-7,18.4,0,25.5C14.7,40.1,19.2,42,24,42s9.3-1.9,12.7-5.3l0,0  c7-7,7-18.4,0-25.5C33.3,7.9,28.8,6,24,6z M25.5,16.5c-0.4,0.4-0.8,0.5-1.3,0.5s-1-0.2-1.3-0.5c-0.4-0.4-0.5-0.8-0.5-1.3  s0.2-1,0.5-1.3c0.4-0.4,0.8-0.5,1.3-0.5c0.5,0,0.9,0.2,1.3,0.5c0.4,0.4,0.5,0.8,0.5,1.3S25.9,16.2,25.5,16.5z M22.8,33.6V20.1  c0-0.2,0.2-0.4,0.4-0.4h2c0.2,0,0.4,0.2,0.4,0.4v13.6c0,0.2-0.2,0.4-0.4,0.4h-2C23,34,22.8,33.8,22.8,33.6z"})))};o.propTypes={className:r.default.string};var s=o;t.default=s},,,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.getDiscoveryVisualizations=t.getDiscoveryStats=t.getDiscoverySamples=t.getDiscoveryProjects=t.getDiscoveryLocations=t.getDiscoveryDimensions=t.DISCOVERY_DOMAIN_PUBLIC=t.DISCOVERY_DOMAIN_ALL_DATA=t.DISCOVERY_DOMAIN_MY_DATA=void 0;var n=l(a(26)),r=l(a(32)),o=l(a(27)),s=a(17),i=a(42);t.DISCOVERY_DOMAIN_MY_DATA="my_data";t.DISCOVERY_DOMAIN_ALL_DATA="all_data";t.DISCOVERY_DOMAIN_PUBLIC="public";var d=function(){var e=(0,o.default)(n.default.mark(function _callee(e){var t,a,l,o,s,d,c,u,f;return n.default.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return t=e.domain,a=e.filters,l=e.projectId,o=e.search,n.prev=1,s=[(0,i.getSampleDimensions)({domain:t,filters:a,projectId:l,search:o}),(0,i.getProjectDimensions)({domain:t,filters:a,projectId:l,search:o})],n.next=5,Promise.all(s);case 5:return d=n.sent,c=(0,r.default)(d,2),u=c[0],f=c[1],n.abrupt("return",{sampleDimensions:u,projectDimensions:f});case 12:return n.prev=12,n.t0=n.catch(1),console.error(n.t0),n.abrupt("return",{});case 16:case"end":return n.stop()}},_callee,null,[[1,12]])}));return function getDiscoveryDimensions(t){return e.apply(this,arguments)}}();t.getDiscoveryDimensions=d;var c=function(){var e=(0,o.default)(n.default.mark(function _callee2(e){var t,a,l,r,o;return n.default.wrap(function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:return t=e.domain,a=e.filters,l=e.projectId,r=e.search,n.prev=1,n.next=4,(0,i.getSampleStats)({domain:t,filters:a,projectId:l,search:r});case 4:return o=n.sent,n.abrupt("return",{sampleStats:o});case 8:return n.prev=8,n.t0=n.catch(1),console.error(n.t0),n.abrupt("return",{});case 12:case"end":return n.stop()}},_callee2,null,[[1,8]])}));return function getDiscoveryStats(t){return e.apply(this,arguments)}}();t.getDiscoveryStats=c;var u=function processRawSample(e){return{sample:{name:e.name,project:(0,s.get)("derived_sample_output.project_name",e.details),publicAccess:!!e.public,user:(0,s.get)("uploader.name",e.details),status:(0,s.get)("run_info.result_status_description",e.details).toLowerCase()},collectionLocation:(0,s.get)("metadata.collection_location",e.details),collectionLocationV2:(0,s.get)("metadata.collection_location_v2",e.details),createdAt:e.created_at,duplicateCompressionRatio:(0,s.get)("derived_sample_output.summary_stats.compression_ratio",e.details),erccReads:(0,s.get)("derived_sample_output.pipeline_run.total_ercc_reads",e.details),host:(0,s.get)("db_sample.host_genome_name",e.details),id:e.id,nonHostReads:{value:(0,s.get)("derived_sample_output.summary_stats.adjusted_remaining_reads",e.details),percent:(0,s.get)("derived_sample_output.summary_stats.percent_remaining",e.details)},notes:(0,s.get)("db_sample.sample_notes",e.details),nucleotideType:(0,s.get)("metadata.nucleotide_type",e.details),privateUntil:e.private_until,qcPercent:(0,s.get)("derived_sample_output.summary_stats.qc_percent",e.details),sampleType:(0,s.get)("metadata.sample_type",e.details),subsampledFraction:(0,s.get)("derived_sample_output.pipeline_run.fraction_subsampled",e.details),totalReads:(0,s.get)("derived_sample_output.pipeline_run.total_reads",e.details),totalRuntime:(0,s.get)("run_info.total_runtime",e.details),waterControl:(0,s.get)("metadata.water_control",e.details)}},f=function(){var e=(0,o.default)(n.default.mark(function _callee3(){var e,t,a,l,r,o,d,c,f,p,m,h,g,v=arguments;return n.default.wrap(function _callee3$(n){for(;;)switch(n.prev=n.next){case 0:return e=v.length>0&&void 0!==v[0]?v[0]:{},t=e.domain,a=e.filters,l=e.projectId,r=e.search,o=e.limit,d=void 0===o?100:o,c=e.offset,f=void 0===c?0:c,p=e.listAllIds,m=void 0!==p&&p,h=e.sampleIds,n.next=3,(0,i.getSamples)({domain:t,filters:a,projectId:l,search:r,limit:d,offset:f,listAllIds:m,sampleIds:h});case 3:return g=n.sent,n.abrupt("return",{samples:(0,s.map)(u,g.samples),sampleIds:g.all_samples_ids});case 5:case"end":return n.stop()}},_callee3)}));return function getDiscoverySamples(){return e.apply(this,arguments)}}();t.getDiscoverySamples=f;var p=function(){var e=(0,o.default)(n.default.mark(function _callee4(){var e,t,a,l,r,o,s,d,c,u,f,p,m=arguments;return n.default.wrap(function _callee4$(n){for(;;)switch(n.prev=n.next){case 0:return e=m.length>0&&void 0!==m[0]?m[0]:{},t=e.domain,a=e.filters,l=e.projectId,r=e.search,o=e.limit,s=void 0===o?100:o,d=e.offset,c=void 0===d?0:d,u=e.listAllIds,f=void 0!==u&&u,n.next=3,(0,i.getProjects)({domain:t,filters:a,projectId:l,search:r,limit:s,offset:c,listAllIds:f});case 3:return p=n.sent,n.abrupt("return",{projects:p.projects,projectIds:p.all_projects_ids});case 5:case"end":return n.stop()}},_callee4)}));return function getDiscoveryProjects(){return e.apply(this,arguments)}}();t.getDiscoveryProjects=p;var m=function(){var e=(0,o.default)(n.default.mark(function _callee5(){var e,t,a,l,r,o,s,d,c,u,f,p=arguments;return n.default.wrap(function _callee5$(n){for(;;)switch(n.prev=n.next){case 0:return e=p.length>0&&void 0!==p[0]?p[0]:{},t=e.domain,a=e.filters,l=e.search,r=e.limit,o=void 0===r?100:r,s=e.offset,d=void 0===s?0:s,c=e.listAllIds,u=void 0!==c&&c,n.next=3,(0,i.getVisualizations)({domain:t,filters:a,search:l,limit:o,offset:d,listAllIds:u});case 3:return f=n.sent,n.abrupt("return",{visualizations:f,visualizationIds:u?f.map(function(e){return e.id}):null});case 5:case"end":return n.stop()}},_callee5)}));return function getDiscoveryVisualizations(){return e.apply(this,arguments)}}();t.getDiscoveryVisualizations=m;var h=function(){var e=(0,o.default)(n.default.mark(function _callee6(e){var t,a,l,r;return n.default.wrap(function _callee6$(n){for(;;)switch(n.prev=n.next){case 0:return t=e.domain,a=e.filters,l=e.projectId,r=e.search,n.prev=1,n.next=4,(0,i.getSamplesLocations)({domain:t,filters:a,projectId:l,search:r});case 4:return n.abrupt("return",n.sent);case 7:return n.prev=7,n.t0=n.catch(1),console.error(n.t0),n.abrupt("return",{});case 11:case"end":return n.stop()}},_callee6,null,[[1,7]])}));return function getDiscoveryLocations(t){return e.apply(this,arguments)}}();t.getDiscoveryLocations=h},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PROJECT_TABLE_COLUMNS=t.MAX_PROJECT_ROW_HEIGHT=t.DEFAULT_ROW_HEIGHT=t.MAX_DESCRIPTION_LENGTH=void 0;t.MAX_DESCRIPTION_LENGTH=700;t.DEFAULT_ROW_HEIGHT=68;t.MAX_PROJECT_ROW_HEIGHT=98;t.PROJECT_TABLE_COLUMNS={project:{tooltip:"User-defined project name, description, and author."},created_at:{tooltip:"Date project was created in IDseq."},hosts:{tooltip:"User-selected organism(s) from which the samples in the project were collected."},tissues:{tooltip:"User-supplied metadata field indicating sample types in the project."},number_of_samples:{tooltip:"Total number of samples in the project."}}},function(e,t,a){e.exports={filterLabel:"filterLabel-2d1-Y"}},,,,,,,,,,,,,,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(0)),c=l(a(4)),u=l(a(1)),f=function(e){function SortIcon(){return(0,n.default)(this,SortIcon),(0,o.default)(this,(0,s.default)(SortIcon).apply(this,arguments))}return(0,i.default)(SortIcon,e),(0,r.default)(SortIcon,[{key:"render",value:function render(){var e=this.props,t=e.sortDirection,a=e.className;return"ascending"==t?d.default.createElement("i",{className:(0,c.default)("fa fa-angle-up",a)}):d.default.createElement("i",{className:(0,c.default)("fa fa-angle-down",a)})}}]),SortIcon}(d.default.Component);t.default=f,f.defaultProps={sortDirection:"ascending"},f.propTypes={sortDirection:u.default.oneOf(["ascending","descending"]),className:u.default.string}},,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(3)),d=l(a(11)),c=l(a(2)),u=l(a(0)),f=l(a(14)),p=l(a(46)),m=l(a(58)),h=l(a(24)),g=l(a(888)),v=function(e){function PipelineVersionSelect(){var e,t;(0,n.default)(this,PipelineVersionSelect);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return t=(0,o.default)(this,(e=(0,s.default)(PipelineVersionSelect)).call.apply(e,[this].concat(l))),(0,c.default)((0,i.default)(t),"getLastProcessedString",function(){var e=(0,f.default)(t.props.lastProcessedAt).startOf("second").fromNow();return"processed ".concat(e)}),(0,c.default)((0,i.default)(t),"renderPipelineVersionDropdown",function(){var e=t.props.pipelineVersions.filter(function(e){return e!==t.props.pipelineRun.pipeline_version}),a=u.default.createElement("span",{className:g.default.dropdownTrigger},t.getLastProcessedString()),l=e.map(function(e){return{text:"Pipeline v".concat(e),value:e}});return u.default.createElement(m.default,{trigger:a,className:g.default.pipelineVersionDropdown,options:l,onChange:t.props.onPipelineVersionSelect,smallArrow:!0})}),t}return(0,d.default)(PipelineVersionSelect,e),(0,r.default)(PipelineVersionSelect,[{key:"render",value:function render(){var e=this.props,t=e.pipelineVersions,a=e.lastProcessedAt,l=e.pipelineRun;if(!a)return null;if(0===t.length||1===t.length&&t[0]===l.pipeline_version)return u.default.createElement("span",{className:g.default.pipelineVersionSelectContainer},"| ",this.getLastProcessedString());var n=u.default.createElement("div",{className:g.default.pipelineVersionSelectContainer},u.default.createElement("div",{className:g.default.pipelineVersionSelect},"| ",this.renderPipelineVersionDropdown()));return u.default.createElement(p.default,{trigger:n,content:"Select Report Version"})}}]),PipelineVersionSelect}(u.default.Component);v.propTypes={pipelineRun:h.default.PipelineRun,pipelineVersions:h.default.arrayOf(h.default.string),lastProcessedAt:h.default.string,onPipelineVersionSelect:h.default.func.isRequired};var y=v;t.default=y},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Table",{enumerable:!0,get:function get(){return n.default}});var n=l(a(902))},function(e,t,a){e.exports={item:"item-3qBv2",visibility:"visibility-3Zu85",itemName:"itemName-1WWBD",itemDescription:"itemDescription-q_9L7",itemDetails:"itemDetails-aVJY-",dateContainer:"dateContainer-unYIt",elapsed:"elapsed-2knhQ",itemHeader:"itemHeader-gfx8q",icon:"icon-120Ak",numberValueAndPercentage:"numberValueAndPercentage-2Z9Ky",percentage:"percentage-1jvw4",sample:"sample-3_T5Y",sampleRightPane:"sampleRightPane-15POi",sampleNameAndStatus:"sampleNameAndStatus-3pLYa",sampleName:"sampleName-1zqqT",sampleStatus:"sampleStatus-1HAV3",sampleDetails:"sampleDetails-2RugK",loading:"loading-pvQSF",base:"base-2flpm",loadingBackgroundAnimation:"loadingBackgroundAnimation-1c3BY",value:"value-S6G3I",itemRightPane:"itemRightPane-2dZ6e"}},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(32)),r=l(a(7)),o=l(a(8)),s=l(a(2)),i=l(a(384)),d=l(a(916)),c=l(a(1847)),u=a(17),f=a(120),p=a(246),m=a(952),h=l(a(506)),g=l(a(4)),v=l(a(877)),y=l(a(1849)),b=a(298),C=l(a(878)),w=y.default.primaryLight;i.default.selection.prototype.lower=function(){return this.each(function(){var e=this.parentNode.firstChild;e&&this.parentNode.insertBefore(this,e)})};var E=function(){function Heatmap(e,t,a){var l=this;if((0,r.default)(this,Heatmap),(0,s.default)(this,"showPrintCaption",function(){var e=l.options.printCaption?l.options.printCaption.length*l.options.captionLineHeight:0;l.svg.attr("height",l.height+e),l.renderCaption()}),(0,s.default)(this,"hidePrintCaption",function(){l.svg.attr("height",l.height),l.gCaption.selectAll(".".concat(y.default.caption)).remove()}),(0,s.default)(this,"removeRow",function(e){l.options.onRemoveRow&&l.options.onRemoveRow(e.label),delete e.pos,e.hidden=!0,l.processData("filter")}),(0,s.default)(this,"handleRowLabelMouseEnter",function(e){if(!l.rowClustering){l.gRowLabels.selectAll(".".concat(y.default.rowLabel)).classed(y.default.rowLabelHover,function(t){return t.sortKey&&t.sortKey===e.sortKey});var t=l.gRowLabels.selectAll(".".concat(y.default.rowLabel,".").concat(y.default.rowLabelHover))[0][0];l.options.onRowGroupEnter&&l.options.onRowGroupEnter(e,t.getBoundingClientRect(),l.gColumnMetadata.node().getBoundingClientRect().bottom)}}),(0,s.default)(this,"handleRowLabelMouseLeave",function(e){l.rowClustering||(l.gRowLabels.selectAll(".".concat(y.default.rowLabel)).classed(y.default.rowLabelHover,!1),l.options.onRowGroupLeave&&l.options.onRowGroupLeave(e))}),this.mouseDown=!1,this.svg=null,this.g=null,this.container=i.default.select(e),this.data=t,this.svgSaver=new h.default,this.options=Object.assign({numberOfLevels:10,scale:"linear",fontSize:"9pt",textRotation:-65,marginTop:30,marginLeft:20,marginBottom:20,marginRight:20,metadataSortIconSize:16,minCellWidth:26,minCellHeight:26,minWidth:1240,maxWidth:1600,zoom:null,minHeight:500,clustering:!0,shouldSortColumns:!1,shouldSortRows:!1,defaultClusterStep:6,maxRowClusterWidth:100,maxColumnClusterHeight:100,spacing:10,metadataAddLinkHeight:14,transitionDuration:200,nullValue:0,columnMetadata:[],enableColumnMetadata:!1,metadataColorScale:new b.CategoricalColormap,iconPath:"/assets/icons",svgBackgroundColor:"white",scaleMin:null,scaleMax:null,customColorCallback:null,colors:null,colorNoValue:"#eaeaea",printCaption:[],captionLineHeight:18},a),!this.options.colors){var n=(0,p.scaleSequential)(m.interpolateYlOrRd);this.options.colors=this.range(this.options.numberOfLevels).map(function(e){return n(e/(l.options.numberOfLevels-1))})}this.rowClusterWidth=this.options.maxRowClusterWidth,this.columnClusterHeight=this.options.maxRowClusterWidth,this.scaleType=this.getScaleType(),this.addMetadataTrigger=null,this.columnMetadataSortField=this.options.initialColumnMetadataSortField,this.columnMetadataSortAsc=this.options.initialColumnMetadataSortAsc}return(0,o.default)(Heatmap,[{key:"getScaleType",value:function getScaleType(){return"symlog"===this.options.scale?v.default:i.default.scale.linear}},{key:"start",value:function start(){this.processData()}},{key:"processData",value:function processData(e){switch(e||(e="setupContainers"),e){case"setupContainers":this.setupContainers();case"parse":this.parseData();case"filter":this.filterData();case"processMetadata":this.processMetadata();case"cluster":this.cluster();case"placeContainers":this.placeContainers();case"update":this.update()}}},{key:"updateZoom",value:function updateZoom(e){this.options.zoom=e,this.svg.attr("width",this.width*this.options.zoom).attr("height",this.height*this.options.zoom)}},{key:"updateScale",value:function updateScale(e){this.options.scale=e,this.scaleType=this.getScaleType(),this.processData("cluster")}},{key:"updateSortColumns",value:function updateSortColumns(e){this.options.shouldSortColumns=e,this.processData("cluster")}},{key:"updateSortRows",value:function updateSortRows(e){this.options.shouldSortRows=e,this.processData("cluster")}},{key:"updateColumnMetadata",value:function updateColumnMetadata(e){this.options.columnMetadata=e,this.processData("processMetadata")}},{key:"updateData",value:function updateData(e){this.data=Object.assign(this.data,e),this.processData("parse")}},{key:"updatePrintCaption",value:function updatePrintCaption(e){this.options.printCaption=e}},{key:"parseData",value:function parseData(){var e=this;this.rowLabels=this.data.rowLabels.map(function(e,t){return Object.assign({pos:t,shaded:!1},e)}),this.columnLabels=this.data.columnLabels.map(function(e,t){return Object.assign({pos:t,shaded:!1},e)}),this.rowLabelsWidth=0,this.columnLabelsHeight=0;for(var t=function labelWidth(t){return(0,d.default)(t,{size:e.options.fontSize})},a=0;a<this.rowLabels.length;a++){var l=this.rowLabels[a].label;this.rowLabelsWidth=Math.max(this.rowLabelsWidth,t(l))}for(var n=0;n<this.options.columnMetadata.length;n++){var r=this.options.columnMetadata[n].label+this.options.metadataSortIconSize;this.rowLabelsWidth=Math.max(this.rowLabelsWidth,t(r))}for(var o=0;o<this.columnLabels.length;o++){var s=this.columnLabels[o].label;this.columnLabelsHeight=Math.max(this.columnLabelsHeight,t(s))}this.columnLabelsHeight*=Math.abs(Math.cos((90+this.options.textRotation)*(Math.PI/180))),this.rowLabelsWidth+=this.options.spacing+2*this.options.spacing,this.columnLabelsHeight+=this.options.spacing,this.limits={min:Math.min(i.default.min(this.data.values,function(e){return i.default.min(e)}),this.options.nullValue),max:Math.max(i.default.max(this.data.values,function(e){return i.default.max(e)}),this.options.nullValue)},this.scaleLimits={min:this.options.scaleMin||0===this.options.scaleMin?this.options.scaleMin:this.limits.min,max:this.options.scaleMax||0===this.options.scaleMax?this.options.scaleMax:this.limits.max},this.cells=[];for(var c=0;c<this.rowLabels.length;c++)for(var u=0;u<this.columnLabels.length;u++)this.cells.push({id:"".concat(c,",").concat(u),rowIndex:c,columnIndex:u,value:this.data.values[c][u]})}},{key:"filterData",value:function filterData(){var e=this;this.filteredCells=this.cells.filter(function(t){return!e.rowLabels[t.rowIndex].hidden}),this.filteredRowLabels=(0,f.orderBy)(this.rowLabels.filter(function(e){return!e.hidden}),function(e){return e.sortKey||e.label})}},{key:"setupContainers",value:function setupContainers(){this.svg=this.container.append("svg").attr("class",y.default.heatmap).attr("id","visualization").attr("xmlns","http://www.w3.org/2000/svg"),this.svg.attr("style","background-color: ".concat(this.options.svgBackgroundColor));var e=this.svg.append("defs");(0,C.default)(e,"blue",w),this.g=this.svg.append("g"),this.gCells=this.g.append("g").attr("class",y.default.cells),this.gRowDendogram=this.g.append("g").attr("class",(0,g.default)(y.default.dendogram,y.default.rowDendogram)),this.gColumnDendogram=this.g.append("g").attr("class",(0,g.default)(y.default.dendogram,"columnDendogram")),this.rowLabelsBackground=this.g.append("rect").attr("class","rowLabelBackground").style("fill","white"),this.gRowLabels=this.g.append("g").attr("class",y.default.rowLabels),this.columnLabelsBackground=this.g.append("rect").attr("class","columnLabelBackground").style("fill","white"),this.gColumnLabels=this.g.append("g").attr("class",y.default.columnLabels),this.metadataLabelsBackground=this.g.append("rect").attr("class","metadataLabelsBackground").style("fill","white"),this.gColumnMetadata=this.g.append("g").attr("class",y.default.columnMetadata),this.gCaption=this.g.append("g").attr("class",y.default.captionContainer)}},{key:"placeContainers",value:function placeContainers(){var e=this;this.rowClusterWidth=Math.min(this.getDepth(this.rowClustering)*this.options.defaultClusterStep+this.options.spacing,this.options.maxRowClusterWidth),this.columnClusterHeight=Math.min(this.getDepth(this.columnClustering)*this.options.defaultClusterStep+this.options.spacing,this.options.maxColumnClusterHeight),this.cell={width:Math.max((this.options.minWidth-this.rowLabelsWidth-this.rowClusterWidth)/this.columnLabels.length,this.options.minCellWidth),height:Math.max((this.options.minHeight-this.columnLabelsHeight-this.columnClusterHeight)/this.rowLabels.length,this.options.minCellHeight)};var t=this.cell.width*this.columnLabels.length,a=this.options.clustering?this.rowClusterWidth:0,l=this.columnLabelsHeight;this.totalMetadataHeight=this.options.columnMetadata.length*this.options.minCellHeight+this.options.metadataAddLinkHeight;var n=this.cell.height*this.filteredRowLabels.length,r=this.options.clustering?this.columnClusterHeight+2*this.options.spacing:0;this.width=this.options.marginLeft+this.rowLabelsWidth+t+a+this.options.marginRight,this.height=this.options.marginTop+this.columnLabelsHeight+this.totalMetadataHeight+n+r+this.options.marginBottom+this.options.spacing,this.svg.attr("viewBox","0 0 ".concat(this.width," ").concat(this.height)),this.options.zoom=this.getZoomFactor(),this.svg.attr("width",this.width*this.options.zoom).attr("height",this.height*this.options.zoom),this.g.attr("transform","translate(".concat(this.options.marginLeft,",").concat(this.options.marginTop,")")),this.rowLabelsBackground.attr("width",this.rowLabelsWidth+this.options.marginLeft).attr("height",n+r),this.placeRowLabelContainers(0),this.columnLabelsBackground.attr("width",this.rowLabelsWidth+t+a+this.options.marginRight).attr("height",l+this.totalMetadataHeight+this.options.marginTop),this.metadataLabelsBackground.attr("width",this.rowLabelsWidth+this.options.marginLeft).attr("height",l+this.options.marginTop),this.placeColumnLabelAndMetadataContainers(this.columnLabelsHeight),this.gCells.attr("transform","translate(".concat(this.rowLabelsWidth,",\n        ").concat(l+this.totalMetadataHeight,")")),this.gRowDendogram.attr("transform","translate(\n        ".concat(this.rowLabelsWidth+t,",\n        ").concat(l+this.totalMetadataHeight,"\n      )")),this.gColumnDendogram.attr("transform","translate(\n        ".concat(this.rowLabelsWidth,",\n        ").concat(l+this.totalMetadataHeight+n,"\n      )")),this.gCaption.attr("transform","translate(".concat(this.rowLabelsWidth,",\n        ").concat(l+this.totalMetadataHeight+n+r+this.options.spacing,"\n      )")),i.default.select("body").on("keydown",function(){"Space"===i.default.event.code&&(e.svg.style("cursor","move"),e.gCells.selectAll(".".concat(y.default.cell)).style("cursor","move"),e.spacePressed=!0)}).on("keyup",function(){"Space"===i.default.event.code&&(e.svg.style("cursor","auto"),e.gCells.selectAll(".".concat(y.default.cell)).style("cursor","auto"),e.spacePressed=!1)}),this.svg.on("mousedown",function(){e.mouseDown=!0,e.spacePressed&&(e.mouseX=i.default.event.clientX,e.mouseY=i.default.event.clientY,i.default.event.preventDefault())}).on("mousemove",this.drag.bind(this)).on("mouseup",function(){e.mouseDown=!1}),this.g.on("wheel.zoom",this.scroll.bind(this))}},{key:"drag",value:function drag(){this.mouseDown&&this.spacePressed&&(this.pan(i.default.event.clientX-this.mouseX,i.default.event.clientY-this.mouseY),this.mouseX=i.default.event.clientX,this.mouseY=i.default.event.clientY)}},{key:"scroll",value:function scroll(){this.pan(i.default.event.wheelDeltaX,i.default.event.wheelDeltaY),i.default.event.stopPropagation()}},{key:"pan",value:function pan(e,t){var a=this.container[0][0].offsetWidth,l=this.container[0][0].offsetHeight,n=(a-this.svg.attr("width"))/this.options.zoom,r=(l-this.svg.attr("height"))/this.options.zoom,o=i.default.transform(this.g.attr("transform")).translate,s=Math.min(this.options.marginLeft,Math.max(e+o[0],n)),d=Math.min(this.options.marginTop,Math.max(t+o[1],r));this.g.attr("transform","translate(".concat([s,d],")"));var c=i.default.transform(this.gRowLabels.attr("transform")).translate,f=(0,u.clamp)(0,-n+this.options.marginLeft,c[0]-e);this.placeRowLabelContainers(f),this.renderColumnMetadataLabels(f,!1),this.renderColumnMetadataAddLink(f);var p=i.default.transform(this.gColumnLabels.attr("transform")).translate,m=(0,u.clamp)(this.columnLabelsHeight,this.columnLabelsHeight+this.options.marginTop-r,p[1]-t);this.placeColumnLabelAndMetadataContainers(m)}},{key:"placeRowLabelContainers",value:function placeRowLabelContainers(e){var t=this.totalMetadataHeight;this.gRowLabels.attr("transform","translate(".concat(e,", ").concat(this.columnLabelsHeight+t,")")),this.rowLabelsBackground.attr("x",e-this.options.marginLeft).attr("y",this.columnLabelsHeight+t),this.metadataLabelsBackground.attr("x",e-this.options.marginLeft)}},{key:"placeColumnLabelAndMetadataContainers",value:function placeColumnLabelAndMetadataContainers(e){this.gColumnLabels.attr("transform","translate(".concat(this.rowLabelsWidth,",").concat(e,")")),this.gColumnMetadata.attr("transform","translate(0, ".concat(e,")")),this.columnLabelsBackground.attr("y",e-this.columnLabelsHeight-this.options.marginTop),this.metadataLabelsBackground.attr("y",e-this.columnLabelsHeight-this.options.marginTop)}},{key:"processMetadata",value:function processMetadata(){var e=this,t=0;this.options.columnMetadata.forEach(function(a){var l=new Set;e.columnLabels.forEach(function(e){var t=(e.metadata||{})[a.value];t&&l.add(t)}),t+=l.size});var a=this.options.metadataColorScale.getNScale(t),l=0;this.metadataColors={},this.options.columnMetadata.forEach(function(t){var n={};e.columnLabels.forEach(function(e){var r=(e.metadata||{})[t.value];r&&!n[r]&&(n[r]=a[l++])}),e.metadataColors[t.value]=n})}},{key:"cluster",value:function cluster(){var e=this;this.options.shouldSortRows?this.sortRows("asc"):this.options.clustering&&this.clusterRows(),this.columnMetadataSortField?(this.columnClustering=null,(0,f.orderBy)(this.columnLabels,function(t){return t.metadata&&t.metadata[e.columnMetadataSortField]||"ZZZ"},this.columnMetadataSortAsc?"asc":"desc").forEach(function(e,t){e.pos=t})):this.options.shouldSortColumns?this.sortColumns("asc"):this.options.clustering&&this.clusterColumns()}},{key:"update",value:function update(){this.renderHeatmap(),this.renderRowLabels(),this.renderColumnLabels(),this.renderColumnMetadata(),this.options.clustering&&(this.renderRowDendrogram(),this.renderColumnDendrogram()),this.options.onUpdateFinished&&this.options.onUpdateFinished()}},{key:"getScale",value:function getScale(){return this.scaleType().domain([this.limits.min,this.limits.max]).range([0,1])}},{key:"getRows",value:function getRows(){for(var e=this.getScale(),t=[],a=0;a<this.rowLabels.length;a++)if(!this.rowLabels[a].hidden){for(var l=this.data.values[a].slice(),n=0;n<this.columnLabels.length;n++)l[n]=e(l[n]||this.options.nullValue);l.idx=a,t.push(l)}return t}},{key:"getColumns",value:function getColumns(){for(var e=this.getScale(),t=[],a=0;a<this.columnLabels.length;a++)for(var l=0;l<this.rowLabels.length;l++)this.rowLabels[l].hidden||(t[a]||(t[a]=[],t[a].idx=a),t[a].push(e(this.data.values[l][a]||this.options.nullValue)));return t}},{key:"sortTree",value:function sortTree(e){if(e)for(var t=this.getScale(),a=[];;){for(;e;)e.right&&a.push(e.right),a.push(e),e=e.left;if((e=a.pop()).right&&a[a.length-1]==e.right)a.pop(),a.push(e),e=e.right;else{if(e.value)e.mean=(0,u.mean)(e.value.map(function(e){return t(e)}));else{if(e.left.mean<e.right.mean){var l=[e.right,e.left];e.left=l[0],e.right=l[1]}e.mean=e.left.mean}e=null}if(!a.length)break}}},{key:"getDepth",value:function getDepth(e){if(!e)return 0;for(var t=[[e,0]],a=0;t.length;){var l=t.pop(),r=(0,n.default)(l,2),o=r[0],s=r[1];a=s>a?s:a,o.left&&t.push([o.left,s+1]),o.right&&t.push([o.right,s+1])}return a}},{key:"setOrder",value:function setOrder(e,t){for(var a=[],l=!1,n=0;!l;)e?(a.push(e),e=e.left):a.length?((e=a.pop()).value&&(t[e.value.idx].pos=n++),e=e.right):l=!0;return[]}},{key:"clusterRows",value:function clusterRows(){var e=this.getRows();this.rowClustering=c.default.hcluster(e),this.sortTree(this.rowClustering),this.setOrder(this.rowClustering,this.rowLabels)}},{key:"clusterColumns",value:function clusterColumns(){var e=this.getColumns();this.columnClustering=c.default.hcluster(e),this.sortTree(this.columnClustering),this.setOrder(this.columnClustering,this.columnLabels)}},{key:"sortColumns",value:function sortColumns(e){this.columnClustering=null,(0,f.orderBy)(this.columnLabels,function(e){return e.label},e).forEach(function(e,t){e.pos=t})}},{key:"sortRows",value:function sortRows(e){this.rowClustering=null,(0,f.orderBy)(this.filteredRowLabels,function(e){return e.sortKey||e.label},e),this.filteredRowLabels.forEach(function(e,t){e.pos=t})}},{key:"range",value:function range(e){return Array.apply(null,{length:e}).map(Number.call,Number)}},{key:"download",value:function download(e){this.svg.classed(y.default.printMode,!0),this.showPrintCaption(),this.svgSaver.asSvg(this.svg.node(),e||"heatmap.svg"),this.svg.classed(y.default.printMode,!1),this.hidePrintCaption()}},{key:"downloadAsPng",value:function downloadAsPng(e){this.svg.classed(y.default.printMode,!0),this.showPrintCaption(),this.svgSaver.asPng(this.svg.node(),e||"heatmap.png"),this.svg.classed(y.default.printMode,!1),this.hidePrintCaption()}},{key:"handleColumnMetadataLabelClick",value:function handleColumnMetadataLabelClick(e){var t=this.options.onColumnMetadataSortChange;this.columnMetadataSortField===e?this.columnMetadataSortAsc?this.columnMetadataSortAsc=!1:(this.columnMetadataSortField=null,this.columnMetadataSortAsc=!0):(this.columnMetadataSortField=e,this.columnMetadataSortAsc=!0),this.processData("cluster"),t&&t(this.columnMetadataSortField,this.columnMetadataSortAsc)}},{key:"applyScale",value:function applyScale(e,t,a,l){return t=Math.min(Math.max(t,a),l),Math.round(e(t))}},{key:"cellYPosition",value:function cellYPosition(e){return e.pos*this.cell.height}},{key:"renderHeatmap",value:function renderHeatmap(){var e=this,t=this.scaleType().domain([this.scaleLimits.min,this.scaleLimits.max]).range([0,this.options.colors.length-1]),a=function applyFormat(a){a.attr("width",e.cell.width-2).attr("height",e.cell.height-2).attr("x",function(t){return e.columnLabels[t.columnIndex].pos*e.cell.width+1}).attr("y",function(t){return e.cellYPosition(e.rowLabels[t.rowIndex])+1}).style("fill",function(a){if(!a.value&&0!==a.value)return e.options.colorNoValue;var l=e.applyScale(t,a.value,e.scaleLimits.min,e.scaleLimits.max);return e.options.customColorCallback?e.options.customColorCallback(a.value,a,e.options.colors[l],e.options.colors,e.options.colorNoValue):e.options.colors[l]})},l=this.gCells.selectAll(".".concat(y.default.cell)).data(this.filteredCells,function(e){return e.id});l.exit().lower().transition().duration(this.options.transitionDuration).style("opacity",0).remove(),a(l.transition().duration(this.options.transitionDuration)),a(l.enter().append("rect").attr("class",function(e){return(0,g.default)(y.default.cell,"cellColumn_".concat(e.columnIndex),"cellRow_".concat(e.rowIndex))}).on("mouseover",function(t){e.rowLabels[t.rowIndex].highlighted=!0,e.columnLabels[t.columnIndex].highlighted=!0,e.updateLabelHighlights(e.gRowLabels.selectAll(".".concat(y.default.rowLabel)),e.rowLabels),e.updateLabelHighlights(e.gColumnLabels.selectAll(".".concat(y.default.columnLabel)),e.columnLabels),e.options.onNodeHover&&e.options.onNodeHover(t)}).on("mouseleave",function(t){e.rowLabels[t.rowIndex].highlighted=!1,e.columnLabels[t.columnIndex].highlighted=!1,e.updateLabelHighlights(e.gRowLabels.selectAll(".".concat(y.default.rowLabel)),e.rowLabels),e.updateLabelHighlights(e.gColumnLabels.selectAll(".".concat(y.default.columnLabel)),e.columnLabels),e.options.onNodeHoverOut&&e.options.onNodeHoverOut(t)}).on("mousemove",function(t){e.options.onNodeHoverMove&&e.options.onNodeHoverMove(t,i.default.event)}).on("click",function(t){return e.options.onCellClick&&e.options.onCellClick(t,i.default.event)}))}},{key:"renderRowLabels",value:function renderRowLabels(){var e=this,t=function applyFormat(t){t.attr("transform",function(t){return"translate(0, ".concat(e.cellYPosition(t),")")})};this.gRowLabels.classed(y.default.rowClustering,this.rowClustering);var a=this.gRowLabels.selectAll(".".concat(y.default.rowLabel)).data(this.filteredRowLabels,function(e){return e.label}).order();a.exit().lower().transition().duration(this.options.transitionDuration).style("opacity",0).remove(),t(a.transition().duration(this.options.transitionDuration));var l=a.enter().append("g").attr("class",y.default.rowLabel).on("mouseenter",this.handleRowLabelMouseEnter).on("mouseleave",this.handleRowLabelMouseLeave);l.append("rect").attr("class",y.default.hoverTarget).attr("width",this.rowLabelsWidth).attr("height",this.cell.height).style("text-anchor","end"),l.append("text").text(function(e){return e.label}).attr("transform","translate(".concat(this.rowLabelsWidth-this.options.spacing,", ").concat(this.cell.height/2,")")).style("dominant-baseline","central").style("text-anchor","end").on("click",function(t){return e.options.onRowLabelClick&&e.options.onRowLabelClick(t.label,i.default.event)}),l.append("line").attr("x1",0).attr("x2",this.rowLabelsWidth).attr("y1",this.cell.height).attr("y2",this.cell.height).attr("class",y.default.genusBorder).classed(y.default.hideGenusBorder,function(t,a,l){var n=e.filteredRowLabels[a+1];return!n||t.sortKey===n.sortKey}),l.append("text").attr("class",y.default.removeIcon).text("X").attr("transform","translate(".concat(this.options.spacing,",\n        ").concat(this.cell.height/2,")")).style("dominant-baseline","central").on("click",this.removeRow),t(l)}},{key:"renderColumnLabels",value:function renderColumnLabels(){var e=this,t=function applyFormat(t){t.attr("transform",function(t){return"translate(".concat(t.pos*e.cell.width,",-").concat(e.options.spacing,")")})},a=this.gColumnLabels.selectAll(".".concat(y.default.columnLabel)).data(this.columnLabels,function(e){return e.label});t(a.transition().duration(this.options.transitionDuration));var l=a.enter().append("g").attr("class",y.default.columnLabel);l.append("text").text(function(e){return e.label}).style("text-anchor","left").attr("transform","translate(".concat(this.cell.width/2,",-").concat(this.options.spacing,") rotate (").concat(this.options.textRotation,")")).on("mousein",this.options.onColumnLabelMouseIn).on("mouseout",this.options.onColumnLabelMouseOut).on("click",function(t){return e.options.onColumnLabelClick&&e.options.onColumnLabelClick(t.id,i.default.event)}),t(l)}},{key:"renderColumnMetadata",value:function renderColumnMetadata(){this.renderColumnMetadataCells(),this.renderColumnMetadataAddLink(0),this.renderColumnMetadataLabels(0)}},{key:"getColumnMetadataLabelOffset",value:function getColumnMetadataLabelOffset(e){return e.value===this.columnMetadataSortField?this.options.metadataSortIconSize+this.options.spacing:0}},{key:"renderColumnMetadataLabels",value:function renderColumnMetadataLabels(e){var t=this,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],l=function applyFormat(a){a.attr("transform",function(a,l){var n=t.getColumnMetadataLabelOffset(a);return"translate(".concat(e-n,", ").concat(l*t.options.minCellHeight,")")})},n=this.gColumnMetadata.selectAll(".".concat(y.default.columnMetadataLabel)).data(this.options.columnMetadata,function(e){return e.value});n.exit().lower().transition().duration(this.options.transitionDuration).style("opacity",0).remove();var r=n.transition().duration(this.options.transitionDuration);l(a?r:n);var o=n.enter().append("g").attr("class",y.default.columnMetadataLabel).on("mousein",this.options.onColumnMetadataLabelMouseIn).on("mouseout",this.options.onColumnMetadataLabelMouseOut);o.append("rect").attr("class",y.default.hoverTarget).attr("x",-this.options.marginLeft).attr("y",-1).attr("width",function(e){var a=t.getColumnMetadataLabelOffset(e);return t.rowLabelsWidth+t.options.marginLeft+a}).attr("height",this.options.minCellHeight+1).style("text-anchor","end").style("fill","white");var s=function handleColumnMetadataLabelClick(e){t.options.onColumnMetadataLabelClick?t.options.onColumnMetadataLabelClick(e.value,i.default.event):t.handleColumnMetadataLabelClick(e.value),o.selectAll("rect").attr("width",function(e){var a=t.getColumnMetadataLabelOffset(e);return t.rowLabelsWidth+t.options.marginLeft+a})};o.append("text").text(function(e){return e.label}).attr("transform","translate(".concat(this.rowLabelsWidth-this.options.spacing,", ").concat(this.options.minCellHeight/2,")")).style("dominant-baseline","central").style("text-anchor","end").on("click",s).on("mouseover",function(e){t.options.onColumnMetadataLabelHover&&t.options.onColumnMetadataLabelHover(e)}).on("mouseleave",function(e){t.options.onColumnMetadataLabelOut&&t.options.onColumnMetadataLabelOut(e)}).on("mousemove",function(e){t.options.onColumnMetadataLabelMove&&t.options.onColumnMetadataLabelMove(e,i.default.event)}),o.append("g").attr("transform","translate(".concat(this.rowLabelsWidth,",").concat((this.options.minCellHeight+this.options.metadataSortIconSize)/2,")")).append("svg:image").attr("class","metadataSortIcon").attr("width",this.options.metadataSortIconSize).attr("height",this.options.metadataSortIconSize).attr("transform","rotate(-90)").on("click",s),l(o),n.select(".metadataSortIcon").attr("xlink:href",function(e){return e.value===t.columnMetadataSortField?"".concat(t.options.iconPath,"/sort_").concat(t.columnMetadataSortAsc?"asc":"desc",".svg"):""})}},{key:"renderColumnMetadataCells",value:function renderColumnMetadataCells(){var e=this,t=function applyFormatForCells(t){t.attr("width",e.cell.width-2).attr("height",e.options.minCellHeight-2).attr("transform",function(t){return"translate(".concat(t.pos*e.cell.width+e.rowLabelsWidth+1,", 0)")})},a=function applyFormatForRows(t){t.attr("transform",function(t,a){return"translate(0, ".concat(e.options.minCellHeight*a,")")})},l=this.gColumnMetadata.selectAll(".columnMetadataCells").data(this.options.columnMetadata,function(e){return e.value});l.exit().lower().transition().duration(this.options.transitionDuration).style("opacity",0).remove(),a(l.transition().duration(this.options.transitionDuration)),a(l.enter().append("g").attr("class",function(e){return(0,g.default)("columnMetadataCells",e.value.replace(/ /g,"_"))})),this.options.columnMetadata.forEach(function(a){var l=e.gColumnMetadata.select(".columnMetadataCells.".concat(CSS.escape(a.value.replace(/ /g,"_")))).selectAll(".columnMetadataCell").data(e.columnLabels,function(e){return e.label});l.exit().lower().transition().duration(e.options.transitionDuration).style("opacity",0).remove();var n=l.transition().duration(e.options.transitionDuration);t(n);var r=l.enter().append("rect").attr("class","columnMetadataCell").on("mouseover",function(t){e.options.onMetadataNodeHover&&e.options.onMetadataNodeHover(t,a)}).on("mouseleave",function(t){e.options.onColumnMetadataLabelOut&&e.options.onColumnMetadataLabelOut(t)}).on("mousemove",function(t){e.options.onNodeHoverMove&&e.options.onColumnMetadataLabelMove(t,i.default.event)});l.style("fill",function(t){var l=t.metadata[a.value];return l?e.metadataColors[a.value][l]:e.options.colorNoValue}),t(r)})}},{key:"renderColumnMetadataAddLink",value:function renderColumnMetadataAddLink(e){var t=this;if(this.options.onAddColumnMetadataClick){var a=function handleAddColumnMetadataClick(){t.options.onAddColumnMetadataClick(o.node(),{x:t.rowLabelsWidth-10,y:r})},l=this.gColumnMetadata.selectAll(".".concat(y.default.columnMetadataAdd)).data([1]),n=l.enter().append("g").attr("class",y.default.columnMetadataAdd),r=this.options.metadataAddLinkHeight/2;n.append("rect"),n.append("line").attr("class",y.default.metadataAddLine),n.append("text").text(function(){return"Add Metadata"}).attr("class",y.default.metadataAddLabel).attr("x",this.rowLabelsWidth-25).attr("y",11).on("click",a);var o=n.append("g").attr("class",y.default.metadataAddTrigger).on("click",a);o.append("svg:image").attr("class",y.default.metadataAddIcon).attr("width",this.options.metadataAddLinkHeight).attr("height",this.options.metadataAddLinkHeight).attr("x",this.rowLabelsWidth-20).attr("xlink:href","".concat(this.options.iconPath,"/plus.svg")),o.size()&&(this.addMetadataTrigger=o.node()),l.attr("transform","translate(".concat(e,", ").concat(this.options.columnMetadata.length*this.options.minCellHeight,")")),l.select("rect").attr("width",this.rowLabelsWidth+this.columnLabels.length*this.cell.width).attr("height",this.options.metadataAddLinkHeight),l.select(".".concat(y.default.metadataAddLine)).attr("x1",this.rowLabelsWidth).attr("x2",this.rowLabelsWidth+this.columnLabels.length*this.cell.width-e).attr("y1",r).attr("y2",r)}}},{key:"renderColumnDendrogram",value:function renderColumnDendrogram(){this.gColumnDendogram.select("g").remove();var e=this.gColumnDendogram.append("g");if(this.columnClustering){var t=this.cell.width*this.columnLabels.length,a=this.columnClusterHeight-this.options.spacing;this.renderDendrogram(e,this.columnClustering,this.columnLabels,t,a),e.attr("transform","rotate(-90) translate(-".concat(a+this.options.spacing,",0)"))}}},{key:"renderRowDendrogram",value:function renderRowDendrogram(){var e=this.rowClusterWidth-10,t=this.cell.height*this.filteredRowLabels.length;this.gRowDendogram.select("g").remove();var a=this.gRowDendogram.append("g");this.rowClustering&&(this.renderDendrogram(a,this.rowClustering,this.rowLabels,t,e),a.attr("transform","scale(-1,1) translate(-".concat(this.rowClusterWidth,",0)")))}},{key:"renderCaption",value:function renderCaption(){var e=this;this.gCaption.selectAll(".".concat(y.default.caption)).data(this.options.printCaption).enter().append("text").attr("class",y.default.caption).text(function(e){return e}).attr("transform",function(t,a){return"translate(0, ".concat(a*e.options.captionLineHeight,")")})}},{key:"updateCellHighlights",value:function updateCellHighlights(){var e=this;this.gCells.selectAll(".".concat(y.default.cell)).data(this.cells,function(e){return e.id}).classed(y.default.shaded,function(t){return e.columnLabels[t.columnIndex].shaded||e.rowLabels[t.rowIndex].shaded})}},{key:"updateLabelHighlights",value:function updateLabelHighlights(e,t){e.data(t,function(e){return e.label}).classed(y.default.highlighted,function(e){return e.highlighted})}},{key:"renderDendrogram",value:function renderDendrogram(e,t,a,l,n){var r=this,o=i.default.layout.cluster().size([l,n]).separation(function(){return 1}),s=function updateHighlights(t,l){var n=[t];for(a.forEach(function(e){e.shaded=l});n.length;){var s=n.pop();s.highlighted=l,s.left&&n.push(s.left),s.right&&n.push(s.right),l&&s.value&&s.value.idx>=0&&(a[s.value.idx].shaded=!l)}e.selectAll(".".concat(y.default.link)).data(o.links(d)).classed(y.default.highlighted,function(e){return e.source.highlighted}),r.updateCellHighlights()};o.children(function(e){var t=[];return e.left&&t.push(e.left),e.right&&t.push(e.right),t});var d=o.nodes(t),c=e.selectAll(".".concat(y.default.link)).data(o.links(d)).enter().append("g").attr("class",y.default.link);c.append("path").attr("class",y.default.linkPath).attr("d",function diagonal(e,t){if(!0===t)return"M".concat(e.source.y,",").concat(e.source.x,"V").concat(e.target.x,"H").concat(e.target.y);var a=(e.source.x-e.target.x)/Math.abs(e.source.x-e.target.x);return"M".concat(e.source.y,",").concat(e.source.x,"\n                L").concat(e.source.y,",").concat(e.target.x+4*a,"\n                A").concat(4," ").concat(4," 0, 0, ").concat((a+1)/2,", ").concat(e.source.y+4," ").concat(e.target.x,"\n                L").concat(e.target.y,",").concat(e.target.x)}),c.append("rect").attr("class",y.default.hoverTarget).attr("x",function(e){return Math.min(e.source.y,e.target.y)}).attr("y",function(e){return Math.min(e.source.x,e.target.x)}).attr("width",function(e){var t=Math.max(e.source.left.y,e.source.right.y);return Math.abs(t-e.source.y)+r.options.spacing}).attr("height",function(e){return Math.abs(e.target.x-e.source.x)}).on("mouseover",function(e){s(e.source,!0)}).on("mouseout",function(e){s(e.source,!1)})}},{key:"getAddMetadataTriggerRef",value:function getAddMetadataTriggerRef(){return this.addMetadataTrigger}},{key:"getColumnMetadataLegend",value:function getColumnMetadataLegend(e){return(0,f.some)(this.columnLabels,function(t){return!t.metadata||!t.metadata[e]})?Object.assign({},this.metadataColors[e],{Unknown:this.options.colorNoValue}):this.metadataColors[e]}},{key:"getZoomFactor",value:function getZoomFactor(){if(null!==this.options.zoom)return this.options.zoom;var e=this.options.maxWidth-8;return Math.min(this.width,e)/this.width}}]),Heatmap}();t.default=E},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(3)),d=l(a(11)),c=l(a(2)),u=l(a(0)),f=l(a(1)),p=l(a(4)),m=l(a(330)),h=l(a(1892)),g=l(a(327)),v=function(e){function BaseDiscoveryView(e){var t;return(0,n.default)(this,BaseDiscoveryView),t=(0,o.default)(this,(0,s.default)(BaseDiscoveryView).call(this,e)),(0,c.default)((0,i.default)(t),"reset",function(){t.infiniteTable&&t.infiniteTable.reset()}),t.infiniteTable=null,t}return(0,d.default)(BaseDiscoveryView,e),(0,r.default)(BaseDiscoveryView,[{key:"render",value:function render(){var e=this,t=this.props,a=t.columns,l=t.handleRowClick,n=t.headerClassName,r=t.initialActiveColumns,o=t.onLoadRows,s=t.protectedColumns,i=t.rowClassName,d=t.rowHeight;return u.default.createElement(m.default,{columns:a,defaultRowHeight:d,headerClassName:n,initialActiveColumns:r,loadingClassName:g.default.loading,onLoadRows:o,onRowClick:l,protectedColumns:s,ref:function ref(t){return e.infiniteTable=t},rowClassName:(0,p.default)(h.default.tableDataRow,i),sortable:!0})}}]),BaseDiscoveryView}(u.default.Component);v.defaultProps={columns:[],data:[],rowHeight:68},v.propTypes={columns:f.default.array,data:f.default.array,handleRowClick:f.default.func,headerClassName:f.default.string,initialActiveColumns:f.default.arrayOf(f.default.string),onLoadRows:f.default.func.isRequired,protectedColumns:f.default.arrayOf(f.default.string),rowClassName:f.default.string,rowHeight:f.default.oneOfType([f.default.number,f.default.func])};var y=v;t.default=y},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(5)),r=l(a(47)),o=l(a(26)),s=l(a(35)),i=l(a(27)),d=l(a(7)),c=l(a(8)),u=l(a(10)),f=l(a(9)),p=l(a(3)),m=l(a(11)),h=l(a(2)),g=l(a(0)),v=l(a(1)),y=a(190),b=a(17),C=l(a(504)),w=l(a(1890)),E=l(a(4)),S=1,_=2,k=function makeCancelable(e){var t=!1;return{promise:new Promise(function(a,l){e.then(function(e){return t?l({isCanceled:!0}):a(e)},function(e){return l(t?{isCanceled:!0}:e)})}),cancel:function cancel(){t=!0}}},N=function(e){function InfiniteTable(e){var t;return(0,d.default)(this,InfiniteTable),t=(0,u.default)(this,(0,f.default)(InfiniteTable).call(this,e)),(0,h.default)((0,p.default)(t),"componentWillUnmount",function(){t.cancelableLoadRowsPromise&&t.cancelableLoadRowsPromise.cancel()}),(0,h.default)((0,p.default)(t),"isRowLoadingOrLoaded",function(e){var a=e.index;return!!t.loadedRowsMap[a]}),(0,h.default)((0,p.default)(t),"loadMoreRows",function(){var e=(0,i.default)(o.default.mark(function _callee(e){var a,l,n,r,i,d,c;return o.default.wrap(function _callee$(o){for(;;)switch(o.prev=o.next){case 0:for(a=e.startIndex,l=e.stopIndex,n=t.props,r=n.onLoadRows,i=n.minimumBatchSize,d=n.customSampleSortFn,c=a;c<=l;c++)t.loadedRowsMap[c]=S;return t.cancelableLoadRowsPromise=k(r({startIndex:a,stopIndex:l})),t.cancelableLoadRowsPromise.promise.then(function(e){var n,r=l-a+1;(n=t.rows).splice.apply(n,[a,r].concat((0,s.default)(e))),d&&(t.rows=d(t.rows)),r!==e.length?t.setState({rowCount:t.rows.length}):t.setState({rowCount:t.rows.length+i});for(var o=a;o<=l;o++)t.loadedRowsMap[o]=_;return t.cancelableLoadRowsPromise=null,!0}).catch(function(e){e.isCanceled||console.error("Error loading rows",e)}),o.abrupt("return",t.cancelableLoadRowsPromise.promise);case 6:case"end":return o.stop()}},_callee)}));return function(t){return e.apply(this,arguments)}}()),(0,h.default)((0,p.default)(t),"getRow",function(e){var a=e.index;return t.rows[a]||{}}),(0,h.default)((0,p.default)(t),"rowRenderer",function(e){var a=t.props.loadingClassName;return t.rows[e.index]||(e.className=(0,E.default)(e.className,w.default.loading,a)),(0,y.defaultTableRowRenderer)(e)}),(0,h.default)((0,p.default)(t),"defaultCellRenderer",function(e){var t=e.cellData;return g.default.createElement("div",{className:w.default.cellContent},null==t?"":(0,b.isObject)(t)?t.name:String(t))}),(0,h.default)((0,p.default)(t),"handleGetRowHeight",function(e){var a=e.index,l=t.props.defaultRowHeight;return"function"==typeof l?l({index:a,row:t.rows[a]}):l}),(0,h.default)((0,p.default)(t),"reset",function(){var e=t.props.rowCount;t.rows=[],t.loadedRowsMap=[],t.setState({rowCount:e},function(){return t.infiniteLoader.resetLoadMoreRowsCache(!0)})}),t.rows=[],t.loadedRowsMap=[],t.state={rowCount:t.props.rowCount},t.cancelableLoadRowsPromise=null,t}return(0,m.default)(InfiniteTable,e),(0,c.default)(InfiniteTable,[{key:"render",value:function render(){var e=this,t=this.props,a=t.defaultCellRenderer,l=t.minimumBatchSize,o=t.onSelectRow,s=t.onSelectAllRows,i=(t.defaultRowHeight,t.threshold),d=(0,r.default)(t,["defaultCellRenderer","minimumBatchSize","onSelectRow","onSelectAllRows","defaultRowHeight","threshold"]),c=this.state.rowCount;return g.default.createElement(y.InfiniteLoader,{ref:function ref(t){return e.infiniteLoader=t},isRowLoaded:this.isRowLoadingOrLoaded,loadMoreRows:this.loadMoreRows,minimumBatchSize:l,rowCount:c,threshold:i},function(t){var l=t.onRowsRendered,r=t.registerChild;return g.default.createElement(C.default,(0,n.default)({},d,{defaultCellRenderer:a||e.defaultCellRenderer,forwardRef:r,onRowsRendered:l,onSelectAllRows:s,onSelectRow:o,rowCount:c,rowGetter:e.getRow,rowHeight:e.handleGetRowHeight,rowRenderer:e.rowRenderer}))})}}]),InfiniteTable}(g.default.Component);N.defaultProps={minimumBatchSize:50,rowCount:50,threshold:50},N.propTypes={defaultCellRenderer:v.default.func,loadingClassName:v.default.string,minimumBatchSize:v.default.number,onLoadRows:v.default.func,onSelectRow:v.default.func,onSelectAllRows:v.default.func,rowCount:v.default.number,defaultRowHeight:v.default.oneOfType([v.default.number,v.default.func]),threshold:v.default.number,customSampleSortFn:v.default.func};var x=N;t.default=x},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAP_CLUSTER_ENABLED_LEVELS=t.MAP_LEVEL_ORDER=void 0;t.MAP_LEVEL_ORDER=["country","state","subdivision","city"];t.MAP_CLUSTER_ENABLED_LEVELS=["country","state"]},,,,,,,,,,,,,,,,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(0)),c=l(a(1988));a(1031);var u=l(a(120)),f=[{Header:"Antibiotic Class",accessor:"drug_family",filterable:!1},{Header:"Gene",accessor:"gene",aggregate:function aggregate(e){return""},style:{textAlign:"center"},filterable:!1},{Header:"Coverage",accessor:"coverage",style:{textAlign:"center"},aggregate:function aggregate(e){return u.default.round(u.default.mean(e))},filterMethod:function filterMethod(e,t){return t[e.id]>=e.value},Cell:function Cell(e){return parseFloat(e.value).toFixed(1)}},{Header:"Depth",accessor:"depth",aggregate:function aggregate(e){return u.default.round(u.default.sum(e))},style:{textAlign:"center"},filterMethod:function filterMethod(e,t){return t[e.id]>=e.value},Cell:function Cell(e){return parseFloat(e.value).toFixed(1)}}],p=function(e){function AMRView(e){var t;if((0,n.default)(this,AMRView),(t=(0,o.default)(this,(0,s.default)(AMRView).call(this,e))).data=e.amr?e.amr:t.data=[],t.data)for(var a=0;a<Object.keys(t.data).length;a++){var l=Object.keys(t.data)[a];t.data[l].gene_family=t.data[l].gene.slice(0,5)}return t}return(0,i.default)(AMRView,e),(0,r.default)(AMRView,[{key:"render",value:function render(){return d.default.createElement("div",null,d.default.createElement(c.default,{filterable:!0,defaultFilterMethod:function defaultFilterMethod(e,t,a){var l=e.pivotId||e.id;return void 0===t[l]||String(t[l]).toLowerCase().includes(e.value.toLowerCase())},data:this.data,columns:f,defaultPageSize:5,pivotBy:["drug_family"],defaultSorted:[{id:"coverage",desc:!0}],className:"-striped -highlight"}),d.default.createElement("br",null))}}]),AMRView}(d.default.Component);t.default=p},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(0)),r=l(a(1)),o=function BeeIcon(e){return n.default.createElement("svg",{className:e.className,xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"-260 352 90 90"},n.default.createElement("path",{d:"M-192.2,391.2c-0.8-0.4-1.6-0.8-2.3-1.2c-0.1-0.1-3.2-1.5-3.3-1.5l-3.8-1.3c0.2-1,0.4-2.1,0.4-3.3c0-5.4-3.2-10.3-8.1-12.6  c0.1-0.6,0.4-1.4,1-2.1c0.9-1,1.8-1.6,2.2-1.8c0.6-0.3,0.9-0.9,0.8-1.5c0-0.2-0.1-0.4-0.2-0.5c-0.3-0.4-0.9-0.7-1.4-0.7  c-0.2,0-0.5,0.1-0.7,0.2c-0.5,0.3-1.1,0.6-1.8,1.2c-0.5,0.4-0.9,0.8-1.4,1.4c-0.7,0.9-1.2,1.9-1.5,3c-0.9-0.2-3-0.3-3.2-0.2  c-0.8,0-1.5,0.1-2.4,0.3c-0.3-1.1-0.8-2.2-1.5-3.1c-0.4-0.5-0.9-1-1.4-1.4c-0.5-0.4-1.1-0.8-1.7-1.2c-0.2-0.1-0.5-0.2-0.7-0.2  c-0.5,0-1,0.3-1.3,0.8c-0.1,0.2-0.2,0.4-0.2,0.6c0,0.6,0.2,1.1,0.8,1.4c1,0.6,1.7,1.2,2.3,1.8c0.6,0.8,0.9,1.5,1,2.2  c-5,2.2-8.1,7-8.1,12.6c0,1.2,0.1,2.2,0.4,3.2l-3.5,1.2c0,0-3.5,1.2-3.5,1.2c-4.3,2-11.4,6.2-11.4,11.7c0,6.8,5.5,12.3,12.3,12.3  c2.5,0,4.9-0.7,6.9-2.1c0.6,1.1,2.2,3.8,2.4,4c0.6,0.9,2.6,3.6,3,4.2c0.1,0.2,2.8,3.4,3.8,4.1c0.5,0.4,1,0.6,1.5,0.8v3.2  c0,0.8,0.7,1.5,1.5,1.5c0.1,0,0.2,0,0.3,0c0.1,0,0.2,0,0.3,0c0.8,0,1.5-0.7,1.5-1.5v-3.2c0.2-0.1,0.5-0.2,0.7-0.3l0.4-0.2  c1.5-0.9,2.6-2.3,3.9-3.8c0.1-0.1,1.7-2.2,1.7-2.2c0.6-0.8,2-2.9,2.1-3.1c0.7-1.1,1.3-2.2,1.9-3.3c2.1,1.4,4.4,2.1,6.8,2.1  c6.8,0,12.3-5.5,12.3-12.3C-183.4,397-188,393.5-192.2,391.2z M-216.1,391h2.4l1.1,2.4c-0.7,0.2-2.2,0.3-2.3,0.3  c-0.1,0-1.6-0.1-2.3-0.3L-216.1,391z M-221.5,403l0.8-1.7c0,0,5.7,0,5.8,0c0.1,0,5.8,0,5.8,0l0.7,1.7H-221.5z M-207.1,406  c0,0.1,0.7,1.5,1.1,2c0,0-8.9,0-9,0h-9c0.3-0.4,1-1.6,1.1-2H-207.1z M-215,398.3h-4.4l0.9-2c1.1,0.3,3.5,0.5,3.6,0.5  c0.1,0,2.4-0.2,3.5-0.5l0.6,1.3l0.3,0.7C-210.5,398.3-215,398.3-215,398.3z M-225.8,405.5c-0.7,1.5-1.8,2.7-3.1,3.7  c-1.7,0.9-3.5,1.5-5.4,1.5c-5.2,0-9.3-4.1-9.3-9.3c0-3.3,5-6.8,9.7-9c0.3-0.1,4-1.3,4-1.3l12.5-4.4l-2,4.5l-2.3,5.2l-1.3,2.8  l-1.6,3.8C-224.7,403-225.8,405.4-225.8,405.5z M-213.3,421.5l-0.3,0.2c-0.3,0.2-1.1,0.4-1.2,0.4c-0.2-0.1-0.2-0.1-0.3-0.1  c-0.5-0.1-1-0.3-1.4-0.6c-0.3-0.2-0.5-0.4-0.8-0.7c0,0,2.3,0,2.4,0c0.1,0,2.5,0,2.5,0C-212.8,421-213,421.3-213.3,421.5z   M-208.9,416.3c-0.4,0.5-0.8,1-1.2,1.5c0,0-4.9,0-5,0h-4.8c-0.3-0.4-0.7-0.9-1-1.4c-0.1-0.1-0.2-0.3-0.3-0.4h12.5  C-208.8,416-208.8,416.2-208.9,416.3z M-206.5,413h-16.7c-0.4-0.6-0.8-1.3-1.1-1.9c0,0,9.3,0,9.4,0c0.1,0,9.5,0,9.5,0  C-205.8,411.8-206.1,412.3-206.5,413z M-195.8,410.8c-1.8,0-3.7-0.6-5.2-1.6c-1.3-0.9-2.3-2-3-3.4c-0.1-0.1-1-2.1-1-2.1l-5.7-12.6  l-2-4.5l12.9,4.5c0,0,3.7,1.3,3.8,1.3c4.6,2.2,9.5,5.6,9.5,8.9C-186.4,406.6-190.5,410.8-195.8,410.8z"}))};o.propTypes={className:r.default.string};var s=o;t.default=s},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(0)),r=l(a(1)),o=function CatIcon(e){return n.default.createElement("svg",{className:e.className,xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"4 5 90 90"},n.default.createElement("g",null,n.default.createElement("g",{display:"none"},n.default.createElement("g",{display:"inline"},n.default.createElement("g",null,n.default.createElement("path",{d:"M73.184,23.658c-1.625-6.099-5.576-11.248-11.049-14.399c-3.638-2.102-7.708-3.187-11.821-3.187     c-2.062,0-4.137,0.271-6.173,0.818c-6.096,1.629-11.245,5.579-14.399,11.051c-2.105,3.636-3.187,7.707-3.187,11.821     c0,2.065,0.275,4.139,0.818,6.172c0.882,3.261,3.822,5.419,7.058,5.417c0.623,0,1.259-0.079,1.892-0.249     c3.259-0.88,5.422-3.816,5.419-7.055c0-0.624-0.08-1.263-0.25-1.897c-0.212-0.791-0.314-1.58-0.314-2.369     c0-1.574,0.408-3.114,1.227-4.532c1.237-2.125,3.15-3.598,5.522-4.24c0.788-0.214,1.582-0.314,2.373-0.314     c1.57,0,3.108,0.405,4.525,1.224c2.126,1.234,3.598,3.154,4.24,5.525c0.209,0.789,0.314,1.586,0.316,2.377     c-0.005,1.564-0.41,3.105-1.227,4.523L29.536,83.92c-0.665,1.13-0.982,2.396-0.982,3.636c0,0,0,0.007,0,0.025v0.001     c0,1.974,0.811,3.906,2.288,5.301l-0.1,0.172l1.467,0.849c0.036,0.021,0.072,0.04,0.107,0.06l1.36,0.785l0.099-0.173     c0.68,0.202,1.378,0.303,2.071,0.303l0.014,0.002h0.014c2.515,0,4.969-1.314,6.32-3.655l28.623-49.57     C72.913,38.01,74,33.944,74,29.829C74,27.769,73.729,25.695,73.184,23.658z M68.514,20.806c-0.228-0.463-0.484-0.909-0.746-1.352     C68.028,19.897,68.286,20.342,68.514,20.806z M30.469,25.25c-0.28,1.212-0.448,2.445-0.498,3.688     C30.023,27.694,30.189,26.461,30.469,25.25z M35.441,37.831c-0.333,0.088-0.672,0.133-1.01,0.133     c-1.731-0.002-3.313-1.153-3.785-2.909c-0.469-1.748-0.702-3.526-0.702-5.292c0-0.267,0.016-0.532,0.026-0.797     c-0.048,1.278,0.024,2.566,0.219,3.849l7.654-1.997c-0.018-0.213-0.022-0.426-0.029-0.639c0.031,0.951,0.152,1.907,0.407,2.854     c0.089,0.335,0.133,0.674,0.133,1.015C38.353,35.777,37.202,37.357,35.441,37.831z M37.815,29.367     c0.009-0.276,0.027-0.551,0.054-0.826C37.842,28.815,37.825,29.091,37.815,29.367z M37.926,28.01     c0.058-0.399,0.141-0.794,0.237-1.187C38.066,27.215,37.984,27.611,37.926,28.01z M38.279,26.381     c0.119-0.416,0.257-0.828,0.42-1.232C38.536,25.554,38.398,25.965,38.279,26.381z M38.825,24.858     c0.191-0.442,0.4-0.879,0.645-1.303c0-0.001,0.001-0.002,0.002-0.003C39.226,23.977,39.018,24.415,38.825,24.858z M50.3,17.305     c-1.084,0-2.177,0.143-3.255,0.434c-2.865,0.766-5.313,2.5-6.989,4.906l-9.561,2.494c0.452-1.907,1.174-3.76,2.182-5.502     c1.097-1.9,2.478-3.568,4.067-4.991c-0.149,0.133-0.302,0.262-0.447,0.399l18.963-4.947c-3.328-0.847-6.831-0.847-10.239,0.066     c-0.025,0.007-0.049,0.016-0.075,0.022c0.024-0.006,0.047-0.017,0.072-0.023c1.754-0.471,3.53-0.702,5.296-0.702     c3.518,0,6.997,0.924,10.126,2.732c2.968,1.712,5.4,4.093,7.146,6.932c-0.674-1.091-1.449-2.115-2.317-3.059L55.7,18.563     c0.253,0.123,0.505,0.249,0.754,0.389C54.55,17.866,52.436,17.305,50.3,17.305z M43.349,10.7     c-0.154,0.056-0.308,0.111-0.46,0.171C43.042,10.811,43.195,10.755,43.349,10.7z M41.377,11.525     c-0.138,0.067-0.271,0.143-0.408,0.213C41.105,11.667,41.239,11.592,41.377,11.525z M39.852,12.358     c-0.167,0.099-0.334,0.196-0.498,0.3C39.518,12.554,39.686,12.457,39.852,12.358z M38.106,13.521     c-0.178,0.133-0.35,0.273-0.523,0.412C37.757,13.794,37.929,13.654,38.106,13.521z M56.613,19.044     c0.29,0.171,0.572,0.353,0.845,0.545C57.185,19.397,56.903,19.215,56.613,19.044z M58.69,20.58     c0.153,0.139,0.3,0.283,0.444,0.429C58.99,20.863,58.844,20.719,58.69,20.58z M57.782,19.831c0.189,0.142,0.375,0.288,0.555,0.44     C58.157,20.119,57.972,19.973,57.782,19.831z M33.385,90.602c0.139,0.115,0.289,0.221,0.447,0.316     C33.673,90.822,33.525,90.716,33.385,90.602z M35.847,91.49c-0.096,0-0.193-0.012-0.291-0.019     c0.145,0.011,0.288,0.016,0.432,0.011c-0.038,0.002-0.075,0.008-0.113,0.008H35.847z M33.984,91.006     c0.174,0.096,0.353,0.174,0.534,0.24C34.337,91.18,34.158,91.102,33.984,91.006z M34.742,91.322     c0.179,0.054,0.36,0.096,0.542,0.123C35.103,91.418,34.922,91.376,34.742,91.322z M38.295,90.645     c0.148-0.117,0.287-0.247,0.418-0.387C38.582,90.397,38.443,90.527,38.295,90.645z M36.272,91.465     c0.161-0.018,0.32-0.044,0.477-0.08C36.592,91.421,36.434,91.448,36.272,91.465z M37.013,91.313     c0.155-0.048,0.306-0.104,0.454-0.17C37.319,91.21,37.168,91.266,37.013,91.313z M37.686,91.038     c0.164-0.086,0.324-0.182,0.476-0.292C38.009,90.856,37.85,90.952,37.686,91.038z M38.863,90.09     c0.123-0.147,0.237-0.305,0.34-0.473C39.1,89.786,38.986,89.942,38.863,90.09z M62.562,49.173l-10.658,2.781l-5.18,8.972     l10.659-2.78l-5.832,10.101l-10.658,2.78l-4.775,8.27l10.656-2.778l-5.831,10.099l-8.749,2.282     c0.218,0.607,0.583,1.162,1.079,1.607c-0.792-0.697-1.259-1.672-1.322-2.686l0.027-0.084l-0.036-0.277     c0.016-0.627,0.188-1.268,0.521-1.836L61.09,36.037c0.12-0.208,0.209-0.427,0.316-0.64c-0.107,0.213-0.194,0.434-0.314,0.643     l-3.356,5.812l10.597-2.764c1.168-2.266,1.895-4.686,2.157-7.163c-0.294,2.795-1.165,5.525-2.608,8.038L62.562,49.173z      M59.497,21.38c0.105,0.115,0.202,0.237,0.302,0.355C59.698,21.617,59.603,21.495,59.497,21.38z M60.595,22.781     c0.04,0.06,0.084,0.118,0.123,0.179C60.679,22.899,60.635,22.841,60.595,22.781z M70.489,31.919     c0.038-0.353,0.065-0.707,0.084-1.061l-8.226,2.146c0.278-1.041,0.42-2.11,0.422-3.185c-0.003-1.089-0.145-2.179-0.43-3.25     c-0.183-0.684-0.432-1.338-0.721-1.971c0.002,0.004,0.005,0.009,0.007,0.013l7.668-2c0.234,0.626,0.439,1.267,0.614,1.921     c0.471,1.754,0.701,3.53,0.701,5.296C70.609,30.529,70.562,31.225,70.489,31.919z M61.136,23.654     c0.033,0.059,0.066,0.118,0.099,0.178C61.202,23.772,61.169,23.713,61.136,23.654z"})))),n.default.createElement("g",{display:"none"},n.default.createElement("g",{display:"inline"},n.default.createElement("g",null,n.default.createElement("path",{d:"M94.989,19.581c0.002-4.529-1.055-7.934-3.164-10.234c-2.109-2.303-5.086-3.19-8.108-3.177     c-7.831,0.074-17.25,5.25-23.746,9.922c-3.305-0.894-6.768-1.385-10.343-1.382c-0.001,0-0.028-0.002-0.1,0     c-3.285,0.009-6.482,0.422-9.546,1.188c-6.49-4.63-15.736-9.653-23.45-9.725c-3.03-0.01-6.005,0.875-8.12,3.18     c-2.108,2.3-3.168,5.705-3.166,10.234c0.007,5.496,1.521,12.805,5.02,22.645c-1.645,4.238-2.569,8.735-2.589,13.372     c-0.017,0.053-0.015,0.151,0,0.275c0.096,21.038,18.911,38.133,41.863,38.31c22.518-0.162,41.032-16.614,41.865-37.106     l0.031-0.01v-1.377c0-4.12-0.71-8.125-2.006-11.94C93.313,33.138,94.981,25.355,94.989,19.581z M73.799,58.601     c0.157,0.931,0.969,1.592,1.884,1.592c0.105,0,0.214-0.008,0.324-0.028l11.492-1.952c-0.138,1.729-0.42,3.425-0.836,5.08     l-11.298,1.921c-1.042,0.177-1.743,1.166-1.567,2.207c0.16,0.932,0.971,1.592,1.889,1.592c0.105,0,0.213-0.007,0.32-0.025     l9.328-1.589C80.04,80.56,66.068,90.235,49.543,90.362c-16.604-0.136-30.63-9.905-35.852-23.147l10.407,1.771     c0.108,0.019,0.215,0.028,0.322,0.028c0.917,0,1.728-0.661,1.886-1.592c0.177-1.044-0.524-2.033-1.567-2.21l-12.23-2.079     c-0.041-0.007-0.081-0.004-0.122-0.008c-0.405-1.659-0.675-3.359-0.8-5.089l12.511,2.127c0.108,0.019,0.216,0.028,0.322,0.028     c0.917,0,1.728-0.658,1.886-1.592c0.177-1.041-0.524-2.03-1.567-2.208l-13.188-2.241c0.194-3.844,1.069-7.585,2.529-11.158     l0.279-0.68l-0.25-0.692c-3.594-9.942-5.044-17.143-5.037-22.036c0-3.976,0.928-6.318,2.155-7.642     c1.221-1.32,2.933-1.931,5.304-1.944c6.266-0.074,15.881,4.977,21.922,9.512l0.746,0.555l0.9-0.248     c2.43-0.665,4.953-1.072,7.544-1.216v4.124H35.568c-1.06,0-1.916,0.858-1.916,1.915c0,1.054,0.855,1.912,1.916,1.912h12.076     v3.826H35.568c-1.06,0-1.916,0.855-1.916,1.912c0,1.057,0.855,1.915,1.916,1.915h12.076v3.825H35.568     c-1.06,0-1.916,0.855-1.916,1.913c0,1.058,0.855,1.912,1.916,1.912h12.076v3.922c0,1.056,0.856,1.913,1.913,1.913     c1.058,0,1.912-0.857,1.912-1.913v-3.922h12.3c1.059,0,1.913-0.854,1.913-1.912c0-1.057-0.854-1.913-1.913-1.913h-12.3v-3.825     h12.3c1.059,0,1.913-0.858,1.913-1.915c0-1.057-0.854-1.912-1.913-1.912h-12.3v-3.826h12.3c1.059,0,1.913-0.857,1.913-1.912     c0-1.057-0.854-1.915-1.913-1.915h-12.3v-4.124c2.871,0.151,5.661,0.628,8.338,1.418l0.919,0.271l0.767-0.577     c6.022-4.569,15.854-9.798,22.225-9.722c2.366,0.014,4.073,0.625,5.293,1.942c1.224,1.323,2.151,3.668,2.151,7.645     c0.01,5.128-1.583,12.792-5.557,23.488l-0.241,0.653l0.236,0.66c1.15,3.202,1.831,6.526,1.979,9.936l-12.214,2.076     C74.322,56.57,73.621,57.557,73.799,58.601z M64.392,72.068c-1.056,0-1.911,0.856-1.911,1.912     c0.082,0.635-0.801,1.985-3.232,3.089c-1.956,0.904-4.698,1.563-7.779,1.76v-9.135c2.054-1.839,4.68-3.749,6.165-5.635     c0.386-0.497,0.467-1.163,0.212-1.738c-0.254-0.575-0.798-0.964-1.423-1.021c-2.289-0.193-4.58-0.291-6.866-0.291     c-2.29,0-4.58,0.098-6.866,0.291c-0.628,0.058-1.169,0.446-1.424,1.021c-0.254,0.575-0.173,1.241,0.211,1.738     c1.486,1.885,4.112,3.796,6.166,5.635v9.134c-3.084-0.196-5.825-0.854-7.78-1.759c-2.43-1.104-3.314-2.454-3.232-3.089     c0-1.056-0.856-1.912-1.913-1.912c-1.056,0-1.912,0.856-1.912,1.912c0.078,3.131,2.519,5.198,5.458,6.563     c3.018,1.383,6.951,2.17,11.293,2.175c4.335-0.005,8.27-0.792,11.286-2.175c2.94-1.365,5.38-3.433,5.462-6.563     C66.307,72.925,65.448,72.068,64.392,72.068z M17.147,33.22c-0.007,0.217,4.18-7.562,13.63-10.992     C23.853,15.842,8.472,8.682,17.147,33.22z M82.812,33.22c8.674-24.538-6.706-17.379-13.63-10.992     C78.634,25.658,82.82,33.438,82.812,33.22z M35.658,55.232c2.203,0,3.986-1.783,3.986-3.984c0-2.202-1.783-3.988-3.986-3.988     c-0.551,0-1.076,0.112-1.553,0.314l-4.712-1.251l2.328,4.437c-0.02,0.162-0.049,0.321-0.049,0.488     C31.671,53.449,33.457,55.232,35.658,55.232z M65.324,47.575c-0.478-0.202-1.002-0.314-1.554-0.314     c-2.202,0-3.986,1.786-3.986,3.988c0,2.201,1.784,3.984,3.986,3.984s3.986-1.783,3.986-3.984c0-0.167-0.029-0.325-0.049-0.486     l2.328-4.438L65.324,47.575z"})))),n.default.createElement("g",{display:"none"},n.default.createElement("g",{display:"inline"},n.default.createElement("g",null,n.default.createElement("path",{d:"M35.784,45.171c-1.649,0-2.985,1.336-2.985,2.985c0,1.649,1.336,2.985,2.985,2.985c1.648,0,2.984-1.336,2.984-2.985     C38.769,46.508,37.432,45.171,35.784,45.171z M64.818,45.171c-1.648,0-2.984,1.336-2.984,2.985c0,1.649,1.336,2.985,2.984,2.985     s2.984-1.336,2.984-2.985C67.803,46.508,66.467,45.171,64.818,45.171z M89.4,14.458c-3.6-3.36-8.541-5.121-13.928-5.118     c-0.078,0.002-0.15,0.002-0.217,0.003c-0.113-0.003-0.205-0.001-0.268-0.001c-5.387-0.005-10.328,1.755-13.93,5.118     c-1.228,1.142-2.277,2.476-3.139,3.968c-2.462-0.699-5.016-1.101-7.64-1.136c-2.698,0.036-5.321,0.458-7.846,1.191     c-0.867-1.515-1.93-2.868-3.174-4.023c-3.6-3.362-8.542-5.121-13.928-5.118c-0.065,0-0.155-0.002-0.27,0.001     c-0.066-0.001-0.138-0.001-0.214-0.001c-5.388-0.003-10.332,1.755-13.931,5.116c-3.608,3.354-5.78,8.292-5.771,14.256v0.029     C5.16,37.171,9.535,44.428,16.002,47.95c-0.576,2.338-0.951,4.721-1.103,7.112c-0.042,0.67-0.061,1.341-0.061,2.006     c0.002,18.465,15.567,33.323,35.412,33.47c19.875-0.146,35.439-15.005,35.441-33.47c0-0.665-0.02-1.331-0.059-2.006l-1.789,0.108     l-1.787,0.107c0.037,0.598,0.053,1.194,0.053,1.79c0.002,16.353-13.781,29.715-31.859,29.888     c-18.05-0.173-31.833-13.535-31.831-29.888c0-0.596,0.018-1.19,0.057-1.782c0.996-17.405,15.538-34.418,31.804-34.414     c16.236-0.004,30.781,17.009,31.777,34.406l3.576-0.216c-0.153-2.43-0.54-4.85-1.133-7.224     c6.363-3.559,10.658-10.75,10.672-19.095v-0.03C95.182,22.75,93.01,17.812,89.4,14.458z M21.665,34.803     c-1.778-1.223-3.012-3.4-3.026-6.077l0.003-0.012c0.084-4.085,2.563-6.075,6.337-6.189c0,0,0.025,0,0.081,0l0.067,0.003     l0.07-0.005v0.002c2.312,0.07,4.124,0.864,5.204,2.404C27.031,27.683,24.07,31.043,21.665,34.803z M33.292,22.788     c-0.331-0.456-0.696-0.881-1.105-1.26c-1.84-1.716-4.335-2.588-6.989-2.585c-0.014,0-0.059-0.001-0.137,0.001     c-0.022,0-0.049-0.001-0.082-0.001c-2.656-0.002-5.151,0.87-6.991,2.585c-1.831,1.696-2.924,4.212-2.928,7.123     c0,0.022-0.002,0.047-0.002,0.075c0.006,3.873,1.894,7.303,4.79,9.19c-1.106,2.083-2.047,4.26-2.807,6.495     c-4.91-2.994-8.286-8.737-8.313-15.627l0.002-0.03v-0.04c0.085-10.134,6.879-15.677,16.118-15.791c0.062,0,0.133,0,0.216,0.002     h0.044l0.046-0.002h0.178c5.954,0.073,10.875,2.419,13.654,6.784C37.002,20.542,35.1,21.58,33.292,22.788z M78.802,34.704     c-2.428-3.773-5.413-7.143-8.812-9.895c1.094-1.461,2.873-2.217,5.132-2.284l0.002-0.003l0.07,0.005l0.066-0.002     c0.053,0,0.078,0,0.078,0c3.773,0.112,6.254,2.105,6.338,6.189h0.004l-0.004,0.011C81.663,31.328,80.5,33.463,78.802,34.704z      M91.59,28.744c-0.014,6.825-3.311,12.537-8.134,15.568c-0.77-2.246-1.723-4.431-2.842-6.523     c2.806-1.908,4.637-5.263,4.646-9.064v-0.011c0.012-2.938-1.084-5.478-2.932-7.186c-1.84-1.718-4.334-2.589-6.99-2.587     c-0.033,0-0.061,0.001-0.084,0.001c-0.074-0.003-0.121-0.001-0.133-0.001c-2.656-0.002-5.152,0.869-6.988,2.587     c-0.379,0.351-0.717,0.745-1.028,1.163c-1.818-1.203-3.73-2.23-5.722-3.058c2.787-4.317,7.685-6.639,13.605-6.712     c0.088,0,0.146,0,0.178,0.002h0.09c0.08,0,0.152-0.002,0.217-0.002c9.236,0.115,16.033,5.658,16.117,15.792V28.744z      M50.326,45.368c-0.024,0-0.045,0-0.062,0.001c-0.042-0.001-0.06,0-0.06-0.001c-3.204-0.008-6.134,1.501-8.155,3.969     c-2.018,2.448-3.199,5.817-3.217,9.682c-0.005,0.073-0.003,0.102-0.003,0.104c-0.005,3.89,1.207,7.112,3.3,9.335     c2.079,2.224,4.98,3.38,8.034,3.38h0.029c0,0,0.021,0,0.075,0h0.044l0.046-0.004c3.057,0.004,5.963-1.152,8.045-3.376     c2.094-2.226,3.305-5.445,3.301-9.335v-0.003h0.002c0-3.91-1.186-7.313-3.221-9.783C56.459,46.869,53.529,45.359,50.326,45.368z      M58.121,59.122c-0.117,6.308-3.461,9.03-7.782,9.131c-0.042,0-0.076,0-0.103,0.002h-0.044c-4.32-0.103-7.665-2.827-7.782-9.133     v-0.003c0.059-6.41,3.703-10.148,7.774-10.171l0.029,0.002l0.102-0.002h0.011c4.078,0.01,7.738,3.749,7.795,10.171V59.122z"})))),n.default.createElement("g",{display:"none"},n.default.createElement("g",{display:"inline"},n.default.createElement("g",null,n.default.createElement("path",{d:"M71.687,42.905c-0.084-9.975-10.058-17.434-21.834-17.452c-11.778,0.018-21.75,7.478-21.836,17.452     c0,2.378,0.614,4.639,1.675,6.679c-2.482,2.877-4,6.387-4,10.199c0,5.279,2.865,9.974,7.253,13.253     c4.397,3.293,10.356,5.271,16.907,5.273c6.549-0.002,12.508-1.98,16.905-5.273c4.389-3.279,7.257-7.974,7.253-13.253     c0.002-3.812-1.515-7.321-3.998-10.198C71.074,47.544,71.688,45.283,71.687,42.905z M70.722,59.783     c0,4.046-2.174,7.791-5.937,10.623c-3.752,2.817-9.049,4.62-14.933,4.615c-5.885,0.005-11.183-1.798-14.935-4.615     c-3.761-2.832-5.937-6.577-5.937-10.623c0.002-3.242,1.408-6.261,3.906-8.818l0.906-0.925l-0.684-1.096     c-1.161-1.869-1.802-3.894-1.805-6.039c0.003-3.778,1.945-7.259,5.284-9.884c3.332-2.612,8.03-4.28,13.253-4.28h0.011     c5.228-0.002,9.93,1.666,13.262,4.28c3.341,2.625,5.283,6.106,5.283,9.884c0,2.145-0.642,4.17-1.803,6.039L65.91,50.04     l0.905,0.925C69.315,53.522,70.72,56.541,70.722,59.783z M42.487,50.041c1.39,0,2.518-1.128,2.518-2.519     s-1.128-2.519-2.518-2.519c-1.392,0-2.52,1.128-2.52,2.519S41.095,50.041,42.487,50.041z M59.794,47.522     c0-1.39-1.128-2.519-2.52-2.519c-1.39,0-2.519,1.128-2.519,2.519s1.129,2.519,2.519,2.519     C58.666,50.041,59.794,48.913,59.794,47.522z M40.997,36.302c0.968,0.013,1.207,0.104,1.765,0.262     c0.557,0.171,1.433,0.408,2.696,0.395c1.264,0.013,2.139-0.224,2.696-0.395c0.558-0.158,0.798-0.25,1.769-0.262     c0.969,0.013,1.209,0.104,1.77,0.262c0.558,0.171,1.433,0.408,2.698,0.395c0.029,0.001,0.059,0.001,0.09,0.001     c1.214,0,2.062-0.229,2.607-0.396c0.561-0.158,0.801-0.25,1.772-0.262c0.908,0,1.643-0.735,1.643-1.643     c0-0.909-0.734-1.645-1.643-1.645c-1.265-0.011-2.14,0.225-2.699,0.396c-0.559,0.157-0.802,0.252-1.771,0.264     c-0.97-0.012-1.214-0.106-1.771-0.264c-0.559-0.171-1.434-0.407-2.696-0.396c-1.264-0.011-2.141,0.225-2.698,0.396     c-0.558,0.157-0.798,0.25-1.766,0.261c-0.968-0.011-1.21-0.104-1.765-0.261c-0.557-0.171-1.435-0.407-2.696-0.396     c-0.91,0-1.645,0.736-1.645,1.645C39.352,35.566,40.087,36.302,40.997,36.302z M40.997,41.257     c0.968,0.011,1.207,0.104,1.765,0.261c0.557,0.171,1.433,0.407,2.696,0.398h0.072c1.226,0,2.077-0.231,2.624-0.398     c0.558-0.157,0.798-0.25,1.769-0.261c0.969,0.011,1.209,0.104,1.77,0.261c0.558,0.171,1.433,0.407,2.698,0.396     c1.264,0.011,2.14-0.225,2.697-0.396c0.561-0.157,0.801-0.25,1.772-0.261c0.908,0,1.643-0.736,1.643-1.644     c0-0.909-0.734-1.644-1.643-1.644c-1.265-0.013-2.14,0.224-2.699,0.396c-0.559,0.157-0.802,0.251-1.771,0.264     c-0.97-0.013-1.214-0.107-1.771-0.264c-0.559-0.171-1.434-0.408-2.696-0.396c-1.264-0.013-2.141,0.224-2.698,0.396     c-0.558,0.157-0.798,0.251-1.766,0.262c-0.968-0.011-1.21-0.105-1.765-0.262c-0.557-0.171-1.435-0.408-2.696-0.396     c-0.91,0-1.645,0.735-1.645,1.644C39.352,40.521,40.087,41.257,40.997,41.257z M46.013,56.439     c-0.706,0.329-0.877,1.457-0.382,2.518c0.494,1.061,1.468,1.656,2.174,1.325c0.707-0.328,0.877-1.456,0.383-2.518     C47.693,56.704,46.719,56.111,46.013,56.439z M51.698,57.765c-0.495,1.062-0.323,2.189,0.381,2.518     c0.708,0.331,1.681-0.265,2.176-1.325s0.323-2.188-0.383-2.518C53.165,56.111,52.191,56.704,51.698,57.765z M57.052,61.55     c0.271,0.164,0.567,0.244,0.861,0.244c0.553,0,1.092-0.279,1.402-0.782c0.581-0.938,0.925-2.035,0.923-3.18     c0.002-1.146-0.342-2.239-0.926-3.179c-0.575-0.94-1.379-1.737-2.321-2.384c-0.942-0.648-2.033-1.152-3.222-1.5     c-1.19-0.344-2.479-0.532-3.828-0.532s-2.638,0.188-3.829,0.534c-1.189,0.346-2.28,0.85-3.221,1.498     c-0.942,0.646-1.746,1.443-2.326,2.386c-0.576,0.936-0.926,2.029-0.924,3.177c-0.002,1.147,0.348,2.241,0.924,3.178     c0.474,0.772,1.488,1.015,2.26,0.54c0.775-0.476,1.016-1.487,0.542-2.263c-0.298-0.488-0.436-0.963-0.438-1.455     c0.002-0.495,0.139-0.967,0.438-1.456c0.297-0.483,0.761-0.969,1.386-1.396c0.625-0.429,1.395-0.796,2.274-1.05     c0.886-0.258,1.872-0.403,2.913-0.403c1.042,0,2.027,0.146,2.908,0.403c0.883,0.254,1.657,0.621,2.28,1.05     c0.624,0.428,1.087,0.913,1.384,1.396c0.298,0.485,0.435,0.959,0.437,1.456c-0.002,0.498-0.139,0.967-0.437,1.452     C56.038,60.061,56.279,61.074,57.052,61.55z M58.912,64.666h-0.003c-1.114,0.783-2.475,1.438-4.005,1.893     c-1.532,0.456-3.233,0.71-5.024,0.71c-1.792,0-3.492-0.254-5.022-0.71c-1.534-0.454-2.893-1.109-4.01-1.893     c-0.743-0.521-1.768-0.342-2.29,0.403c-0.522,0.742-0.343,1.765,0.4,2.287c1.438,1.01,3.118,1.805,4.962,2.354     c1.845,0.55,3.856,0.847,5.959,0.847c2.104,0,4.115-0.297,5.962-0.847c1.842-0.549,3.521-1.344,4.957-2.354     c0.743-0.522,0.923-1.547,0.4-2.287C60.678,64.326,59.652,64.145,58.912,64.666z M85.047,30.718     c-0.191-0.014-0.389-0.019-0.57-0.016c-2.392,0.011-4.57,0.898-6.323,2.358c-6.417-11.569-17.14-19.003-28.143-19.123     c-11.021,0.12-21.75,7.555-28.167,19.127c-1.753-1.463-3.932-2.353-6.325-2.364c-0.184,0-0.38,0.005-0.59,0.019     c-5.614,0.357-9.721,5.416-9.713,11.26c0.002,0.229,0.005,0.481,0.026,0.754c0.349,5.958,4.859,10.766,10.489,10.792     c0.137,0,0.262-0.005,0.388-0.01v0.001c0.002,8.717,3.502,16.952,9.49,23.01c5.984,6.056,14.489,9.932,24.39,9.932     c9.902,0,18.403-3.876,24.388-9.936c5.988-6.054,9.487-14.289,9.487-23.006c0-0.001,0-0.001,0-0.002     c0.129,0.005,0.257,0.011,0.391,0.011c5.632-0.025,10.143-4.835,10.491-10.797l0.003-0.016c0.011-0.242,0.018-0.485,0.018-0.734     C94.788,36.137,90.686,31.076,85.047,30.718z M16.293,50.202c-0.063,0.005-0.124,0.022-0.187,0.026     c-0.126,0.004-0.258,0.008-0.375,0.008c-3.619,0.026-6.937-3.245-7.206-7.704l-0.002-0.03c-0.014-0.156-0.018-0.332-0.018-0.524     c0.012-4.36,3.015-7.791,6.641-7.979c0.122-0.007,0.242-0.012,0.374-0.012c1.78-0.012,3.479,0.781,4.787,2.112     c-1.606,3.48-2.842,7.268-3.604,11.3C16.521,48.334,16.389,49.269,16.293,50.202z M49.999,83.168     C31.956,83.152,19.426,69.18,19.408,53.516c0-1.816,0.169-3.66,0.522-5.503c3.4-18.22,17.121-30.768,30.08-30.789     c12.938,0.021,26.658,12.569,30.057,30.783v0.002c0.351,1.846,0.52,3.69,0.52,5.506C80.571,69.18,68.039,83.152,49.999,83.168z      M91.474,42.551c-0.281,4.449-3.593,7.713-7.209,7.685c-0.12,0.002-0.25-0.002-0.39-0.009c-0.059-0.003-0.114-0.02-0.172-0.024     c-0.096-0.933-0.226-1.868-0.404-2.805c-0.762-4.03-1.998-7.815-3.603-11.293c1.295-1.323,2.975-2.116,4.738-2.117     c0.014,0,0.027,0,0.042,0c0.13,0,0.246,0.002,0.359,0.012c3.642,0.19,6.641,3.616,6.652,7.978     C91.488,42.16,91.483,42.351,91.474,42.551L91.474,42.551z"})))),n.default.createElement("g",{display:"none"},n.default.createElement("g",{display:"inline"},n.default.createElement("g",null,n.default.createElement("path",{d:"M49.598,43.922c-11.819,0.019-21.697,8.245-21.743,18.887c0.046,10.646,9.924,18.869,21.743,18.891     c11.818-0.021,21.696-8.245,21.743-18.891C71.294,52.167,61.416,43.941,49.598,43.922z M62.67,73.68     c-3.305,2.837-7.93,4.628-13.072,4.628c-5.142,0-9.769-1.791-13.073-4.628c-3.306-2.845-5.278-6.669-5.278-10.87     s1.973-8.024,5.278-10.868c3.304-2.836,7.931-4.629,13.073-4.629c5.143,0,9.768,1.792,13.072,4.629     c3.308,2.844,5.278,6.667,5.278,10.868S65.978,70.835,62.67,73.68z M69.568,41.598c-1.836,0-3.323,1.489-3.323,3.323     c0,1.837,1.487,3.325,3.323,3.325c1.835,0,3.324-1.488,3.324-3.325C72.893,43.087,71.403,41.598,69.568,41.598z M32.972,44.921     c0-1.834-1.488-3.323-3.324-3.323c-1.836,0-3.323,1.489-3.323,3.323c0,1.837,1.487,3.325,3.323,3.325     C31.484,48.246,32.972,46.758,32.972,44.921z M49.597,49.491c-3.578,0-6.478,2.9-6.478,6.479c0,3.578,2.9,6.479,6.478,6.479     s6.481-2.901,6.481-6.479C56.078,52.392,53.175,49.491,49.597,49.491z M94.845,26c-0.003-8.287-6.719-15.003-15.006-15.006     c-6.609,0.002-12.201,4.28-14.202,10.213c-4.886-2.1-10.319-3.28-16.04-3.291c-5.495,0.01-10.724,1.101-15.458,3.047     c-2.071-5.804-7.594-9.967-14.11-9.969C11.743,10.997,5.026,17.713,5.026,26c0,6.238,3.814,11.566,9.23,13.829     c-1.868,4.179-2.909,8.764-2.913,13.59c0.019,19.711,17.225,35.465,38.253,35.502c21.028-0.037,38.236-15.791,38.256-35.502     c-0.005-4.742-1.013-9.25-2.819-13.369C90.754,37.936,94.842,32.457,94.845,26z M8.417,26c0.011-6.413,5.2-11.602,11.612-11.613     c5.15,0.009,9.492,3.365,11.013,8.005c-6.453,3.329-11.766,8.334-15.242,14.402C11.485,35.102,8.426,30.918,8.417,26z      M74.298,76.078c-6.301,5.827-15.032,9.45-24.701,9.45c-9.67,0-18.397-3.623-24.699-9.45     c-6.303-5.833-10.163-13.829-10.165-22.659c0.002-8.833,3.862-16.829,10.165-22.66c6.298-5.824,15.024-9.45,24.69-9.45h0.009     c9.669-0.002,18.4,3.623,24.701,9.45c6.303,5.831,10.161,13.827,10.165,22.66C84.459,62.249,80.601,70.245,74.298,76.078z      M83.505,36.994c-3.37-5.974-8.515-10.931-14.775-14.295c1.427-4.799,5.846-8.303,11.109-8.312     c6.413,0.011,11.601,5.2,11.612,11.613C91.441,31.129,88.115,35.456,83.505,36.994z"})))),n.default.createElement("g",{display:"none"},n.default.createElement("g",{display:"inline"},n.default.createElement("g",null,n.default.createElement("path",{d:"M39.245,50.489c1.546,0,2.799-1.254,2.799-2.798c0-1.546-1.252-2.8-2.799-2.8c-1.546,0-2.799,1.254-2.799,2.8     C36.446,49.235,37.699,50.489,39.245,50.489z M61.255,50.489c1.546,0,2.8-1.254,2.8-2.798c0-1.546-1.254-2.8-2.8-2.8     s-2.798,1.254-2.798,2.8C58.457,49.235,59.709,50.489,61.255,50.489z M55.426,84.195c0.181,0.067,0.367,0.097,0.55,0.097     c0.658,0,1.277-0.405,1.517-1.061l1.32-3.626c0.304-0.838-0.128-1.765-0.967-2.066c-0.836-0.305-1.763,0.128-2.066,0.964     l-1.317,3.623C54.155,82.965,54.587,83.889,55.426,84.195z M42.465,83.231c0.237,0.655,0.856,1.062,1.515,1.062     c0.183,0,0.369-0.031,0.551-0.099c0.839-0.307,1.27-1.23,0.964-2.069l-1.321-3.623c-0.304-0.839-1.23-1.271-2.067-0.964     c-0.838,0.302-1.27,1.229-0.964,2.069L42.465,83.231z M85.582,33.575c-0.005-2.875-0.906-4.688-0.982-4.84     c-0.394-0.777-1.329-1.099-2.118-0.731L66.1,35.643c-2.299-2.6-5.219-4.542-8.497-5.702l1.479-8.391     c3.849-0.085,7.219-2.862,7.914-6.794L67,14.75c0.08-0.477,0.121-0.954,0.121-1.43c0-3.922-2.807-7.386-6.799-8.094     c-0.481-0.088-0.964-0.127-1.437-0.127c-3.927,0-7.388,2.81-8.096,6.802c-0.086,0.481-0.128,0.962-0.125,1.434     c0,3.391,2.097,6.432,5.239,7.657l-1.43,8.113c-1.472-0.288-2.983-0.447-4.524-0.438c-0.419-0.002-0.833,0.026-1.25,0.046     l0.002-0.02l-0.331,0.032c-0.46,0.029-0.915,0.078-1.368,0.133l-0.281,0.027c-0.063,0.007-0.119,0.022-0.182,0.03     c-0.342,0.049-0.681,0.104-1.018,0.168c-0.231,0.04-0.472,0.07-0.696,0.115l-1.446-8.209c3.143-1.223,5.239-4.265,5.241-7.654     c0-0.472-0.042-0.953-0.127-1.434V11.9c-0.709-3.993-4.17-6.801-8.094-6.801c-0.479,0-0.958,0.042-1.438,0.128     c-3.992,0.706-6.8,4.169-6.8,8.094c0,0.476,0.042,0.958,0.127,1.438c0.695,3.928,4.064,6.708,7.916,6.792l1.507,8.54     c-3.653,1.349-6.22,3.473-7.939,5.44l-16.143-7.527c-0.789-0.369-1.723-0.046-2.118,0.73c-0.077,0.152-0.978,1.965-0.982,4.84     c-0.038,4.701,2.582,11.886,13.959,18.434c-0.457,7.045-0.912,14.084-1.366,21.117c-0.04,0.495-0.06,1.012-0.06,1.519     c0.007,11.62,10.136,20.672,22.888,20.692c12.751-0.021,22.878-9.072,22.885-20.692c0-0.509-0.02-1.02-0.06-1.538     c-0.45-6.982-0.902-13.984-1.355-20.985C82.963,45.544,85.619,38.305,85.582,33.575z M53.891,13.335     c0-0.288,0.024-0.58,0.076-0.87c0.426-2.432,2.544-4.139,4.919-4.139c0.289,0,0.579,0.024,0.873,0.077     c2.429,0.424,4.139,2.544,4.139,4.917l-0.08,0.883h0.002c-0.427,2.424-2.545,4.128-4.918,4.128c-0.285,0-0.583-0.026-0.881-0.078     C55.6,17.83,53.891,15.71,53.891,13.335z M41.262,18.255c-0.295,0.053-0.587,0.077-0.877,0.077c-2.378,0-4.497-1.71-4.92-4.135     c-0.052-0.298-0.076-0.589-0.079-0.877c0-2.374,1.71-4.494,4.137-4.917c0.298-0.053,0.59-0.079,0.877-0.079     c2.375,0,4.492,1.708,4.917,4.136c0.052,0.294,0.078,0.586,0.078,0.875C45.396,15.71,43.685,17.83,41.262,18.255z M33.264,42.575     c1.004,0.151,1.955,0.229,2.849,0.229h0.127c5.687,0,9.047-3.197,10.571-6.214c0.924-1.77,1.345-3.476,1.54-4.621     c0.528-0.042,1.061-0.07,1.6-0.074c9.352,0.063,17.168,5.967,17.99,16.386c0.502,7.769,1.005,15.552,1.508,23.336H30.452     c0.504-7.797,1.007-15.576,1.509-23.353C32.125,46.181,32.582,44.287,33.264,42.575z M28.724,48.36     c-9.448-5.883-10.932-11.464-10.967-14.785c-0.001-0.725,0.075-1.354,0.175-1.869l13.884,6.473     c-0.698,1.146-1.021,1.951-1.038,2.005l-0.054,0.141c-1.073,2.287-1.776,4.863-1.98,7.716     C28.738,48.147,28.731,48.253,28.724,48.36z M69.56,75.565c-0.019,0.321-0.028,0.644-0.065,0.96     c-0.032,0.274-0.09,0.541-0.136,0.812c-0.052,0.302-0.093,0.606-0.161,0.903c-0.062,0.274-0.149,0.54-0.227,0.809     c-0.08,0.284-0.151,0.572-0.247,0.851c-0.094,0.271-0.212,0.533-0.319,0.799c-0.107,0.264-0.204,0.533-0.324,0.791     c-0.125,0.267-0.273,0.521-0.412,0.782c-0.131,0.244-0.252,0.494-0.395,0.732c-0.155,0.259-0.334,0.504-0.503,0.754     c-0.152,0.226-0.294,0.457-0.457,0.675c-0.186,0.247-0.392,0.479-0.591,0.717c-0.172,0.206-0.335,0.42-0.518,0.619     c-0.211,0.231-0.444,0.445-0.669,0.666c-0.192,0.188-0.375,0.386-0.577,0.566c-0.238,0.214-0.496,0.409-0.747,0.611     c-0.21,0.17-0.411,0.349-0.63,0.51c-0.262,0.194-0.544,0.368-0.818,0.549c-0.228,0.15-0.445,0.311-0.682,0.452     c-0.285,0.173-0.59,0.322-0.887,0.481c-0.243,0.13-0.478,0.27-0.728,0.391c-0.312,0.15-0.642,0.277-0.965,0.412     c-0.253,0.106-0.497,0.225-0.756,0.321c-0.342,0.127-0.7,0.229-1.052,0.34c-0.258,0.081-0.507,0.175-0.77,0.247     c-0.367,0.101-0.75,0.174-1.127,0.256c-0.263,0.057-0.518,0.128-0.785,0.176c-0.417,0.075-0.849,0.12-1.277,0.172     c-0.24,0.029-0.473,0.074-0.717,0.096c-0.678,0.061-1.367,0.093-2.069,0.095c-0.702-0.002-1.392-0.034-2.07-0.095     c-0.233-0.021-0.457-0.064-0.687-0.092c-0.438-0.053-0.88-0.099-1.307-0.176c-0.276-0.049-0.54-0.123-0.812-0.182     c-0.369-0.081-0.742-0.151-1.101-0.25c-0.274-0.074-0.535-0.172-0.803-0.258c-0.34-0.107-0.687-0.205-1.017-0.328     c-0.272-0.102-0.529-0.225-0.794-0.337c-0.31-0.131-0.627-0.252-0.927-0.396c-0.259-0.125-0.502-0.27-0.753-0.404     c-0.289-0.154-0.585-0.3-0.863-0.467c-0.241-0.146-0.464-0.31-0.698-0.464c-0.269-0.178-0.545-0.348-0.802-0.537     c-0.225-0.166-0.432-0.35-0.647-0.524c-0.245-0.197-0.497-0.388-0.729-0.597c-0.206-0.185-0.392-0.385-0.588-0.577     c-0.221-0.218-0.451-0.429-0.659-0.655c-0.185-0.201-0.349-0.417-0.522-0.626c-0.197-0.235-0.402-0.465-0.585-0.71     c-0.163-0.218-0.304-0.448-0.456-0.673c-0.17-0.251-0.35-0.498-0.505-0.758c-0.139-0.231-0.256-0.476-0.384-0.713     c-0.143-0.267-0.295-0.529-0.423-0.803c-0.114-0.245-0.206-0.5-0.308-0.75c-0.114-0.28-0.238-0.557-0.337-0.843     c-0.088-0.256-0.152-0.521-0.227-0.781c-0.084-0.293-0.178-0.582-0.247-0.881c-0.061-0.266-0.097-0.539-0.144-0.81     c-0.053-0.303-0.115-0.603-0.151-0.91c-0.032-0.277-0.039-0.561-0.057-0.841c-0.018-0.276-0.042-0.551-0.046-0.83H69.6     C69.597,75.087,69.573,75.325,69.56,75.565z M71.186,48.488c-0.009-0.144-0.018-0.287-0.027-0.431     c-0.268-3.744-1.371-7.025-3.078-9.777l14.099-6.574c0.1,0.516,0.177,1.146,0.176,1.869     C82.316,36.923,80.818,42.559,71.186,48.488z"})))),n.default.createElement("g",{display:"none"},n.default.createElement("g",{display:"inline"},n.default.createElement("g",null,n.default.createElement("path",{d:"M37.417,53.831c-1.797,0-3.254,1.457-3.254,3.254s1.457,3.256,3.254,3.256c1.797,0,3.255-1.459,3.255-3.256     S39.214,53.831,37.417,53.831z M62.383,53.831c-1.796,0-3.253,1.457-3.253,3.254s1.457,3.256,3.253,3.256     c1.799,0,3.256-1.459,3.256-3.256S64.182,53.831,62.383,53.831z M49.93,63.314c-2.96,0-5.361,2.026-5.361,4.527     c0,2.502,2.401,4.528,5.361,4.528c2.959,0,5.358-2.026,5.358-4.528C55.288,65.341,52.889,63.314,49.93,63.314z M89.653,26.499     c-9.357-8.477-26.96-13.235-27.072-13.302l-0.747-0.207c-0.639-0.208-1.29-0.388-1.952-0.541l-0.561-0.155l0.01,0.028     c-1.499-0.308-3.05-0.47-4.637-0.471l-9.21,0.002c-1.589,0-3.142,0.163-4.643,0.471l0.012-0.034l-0.665,0.185     c-0.61,0.144-1.211,0.31-1.801,0.501l-0.793,0.22c-0.059,0.02-7.937,2.199-15.92,6.103c-3.996,1.96-8.021,4.341-11.153,7.196     c-3.106,2.841-5.443,6.272-5.46,10.33c0.002,0.291,0.013,0.591,0.042,0.901c1.313,14.392,12.783,32.298,12.82,32.425l1.984,3.144     l2.471-7.196c0.859,11.989,10.907,21.512,23.108,21.52l9.21-0.002v0.002c12.2-0.008,22.245-9.531,23.103-21.521l2.472,7.196     l1.989-3.141c0.032-0.128,11.503-18.034,12.815-32.437c0.024-0.299,0.038-0.584,0.038-0.889     C95.098,32.768,92.758,29.337,89.653,26.499z M22.31,35.026v20.29l-3.315,9.654c-3.271-5.735-9.55-18.081-10.343-27.562     c-0.017-0.195-0.026-0.381-0.026-0.581c-0.015-2.568,1.55-5.188,4.3-7.698c3.717-3.412,9.383-6.356,14.435-8.496     C24.207,24.591,22.312,29.593,22.31,35.026z M74.297,64.447c-0.017,10.769-8.834,19.586-19.603,19.605h-9.21     c-10.772-0.02-19.59-8.837-19.606-19.605V35.026c0.016-10.774,8.833-19.589,19.606-19.609h9.21     c10.771,0.02,19.586,8.835,19.603,19.609V64.447z M91.52,37.438c-0.542,6.394-3.598,14.196-6.548,20.293     c-1.386,2.879-2.746,5.392-3.792,7.235l-3.316-9.657V35.026c-0.003-5.43-1.895-10.431-5.045-14.389     c3.198,1.355,6.634,3.016,9.681,4.94c5.36,3.342,9.143,7.432,9.047,11.251C91.546,37.006,91.537,37.209,91.52,37.438z"})))),n.default.createElement("g",null,n.default.createElement("g",null,n.default.createElement("g",null,n.default.createElement("path",{d:"M56.673,66.258c-1.14,0.768-2.073,0.97-2.875,0.974c-0.801,0.003-1.494-0.229-1.984-0.466     c-0.007-0.003-0.011-0.006-0.017-0.009l-0.058-3.309c3.021-2.598,8.367-8.189-1.615-8.189c-9.818,0-4.806,5.411-1.765,8.061     l0.058,3.413c-0.489,0.244-1.222,0.51-2.052,0.501c-0.804-0.005-1.736-0.209-2.868-0.976c-0.772-0.528-1.823-0.328-2.349,0.44     c-0.526,0.771-0.33,1.82,0.442,2.347c1.635,1.127,3.306,1.565,4.739,1.565h0.035c1.625-0.013,2.883-0.496,3.718-0.94     c0.834,0.444,2.091,0.927,3.714,0.94h0.035c1.436,0,3.103-0.44,4.741-1.564c0.771-0.525,0.97-1.576,0.441-2.347     C58.491,65.93,57.442,65.729,56.673,66.258z M36.737,47.11c-2.167,0-3.925,1.757-3.925,3.926c0,2.169,1.757,3.927,3.925,3.927     c2.169,0,3.927-1.758,3.927-3.927C40.664,48.868,38.906,47.11,36.737,47.11z M63.48,47.11c-2.167,0-3.925,1.757-3.925,3.926     c0,2.169,1.758,3.927,3.925,3.927c2.17,0,3.927-1.758,3.927-3.927C67.407,48.868,65.65,47.11,63.48,47.11z M93.312,75.994     l-11.885-4.123c0.893-1.36,1.672-2.785,2.328-4.267h9.347c0.934,0,1.69-0.755,1.69-1.688s-0.757-1.69-1.69-1.69h-8.091     c0.568-1.896,0.938-3.866,1.099-5.891l7.202-2.499c0.882-0.306,1.348-1.268,1.043-2.149c-0.306-0.881-1.267-1.349-2.15-1.043     l-6.04,2.095c-0.008-0.181-0.006-0.357-0.018-0.539c-0.313-4.567-1.561-9.103-3.552-13.336     c1.808-10.314,5.398-13.745,8.584-19.619c0.626-1.167,0.96-2.275,0.96-3.352c0.014-1.362-0.587-2.557-1.367-3.342     c-2.374-2.288-5.754-2.328-5.896-2.402c-0.663-0.069-1.361-0.105-2.044-0.105c-8.679,0.093-15.306,5.385-19.166,9.479     c-4.211-1.996-8.808-3.161-13.612-3.218c-4.809,0.057-9.409,1.221-13.621,3.216c-3.862-4.094-10.487-9.383-19.163-9.477     c-0.687,0-1.383,0.036-2.092,0.109c-0.043,0.007-1.585,0.111-3.296,0.778c-0.851,0.339-1.77,0.821-2.552,1.62     c-0.781,0.783-1.381,1.979-1.369,3.341c0.002,1.07,0.332,2.187,0.965,3.354c3.182,5.866,6.768,9.296,8.576,19.592     c-1.999,4.241-3.25,8.786-3.564,13.363c-0.013,0.182-0.009,0.36-0.018,0.542l-6.053-2.1c-0.882-0.306-1.844,0.161-2.15,1.043     c-0.305,0.881,0.162,1.843,1.043,2.148l7.216,2.503c0.161,2.023,0.53,3.992,1.098,5.888H6.97c-0.934,0-1.689,0.757-1.689,1.69     c0,0.931,0.755,1.689,1.689,1.689h9.36c0.655,1.48,1.434,2.903,2.325,4.263L6.76,75.994c-0.882,0.306-1.348,1.269-1.043,2.149     c0.243,0.698,0.896,1.136,1.597,1.136c0.183,0,0.37-0.03,0.553-0.093l12.892-4.473c6.533,7.855,17.135,12.941,29.271,13.028     c12.148-0.087,22.756-5.172,29.292-13.025l12.883,4.469c0.184,0.063,0.371,0.094,0.555,0.094c0.7,0,1.354-0.438,1.596-1.137     C94.659,77.263,94.193,76.301,93.312,75.994z M82.832,15.423c0.571,0,1.148,0.026,1.74,0.088     c0.049,0.005,0.304,0.024,0.765,0.108c0.688,0.119,1.73,0.405,2.434,0.839c0.725,0.479,0.972,0.804,0.99,1.434     c0.002,0.358-0.117,0.933-0.557,1.751c-2.476,4.594-5.964,8.53-8.086,16.705c-1.066-1.686-2.26-3.294-3.557-4.814     c0.768-2.73,1.946-4.049,2.895-5.803c1.215-2.248-1.857-2.481-1.857-2.481c-2.885-0.298-5.264,1.251-6.822,2.702     c-1.278-1.007-2.616-1.932-4.007-2.765C70.378,19.59,76.104,15.355,82.832,15.423z M11.896,19.638     c-0.443-0.816-0.557-1.383-0.557-1.746c0.014-0.453,0.126-0.669,0.416-0.987c0.424-0.463,1.378-0.897,2.23-1.113     c0.424-0.111,0.816-0.185,1.094-0.225c0.275-0.04,0.402-0.047,0.402-0.05c0.635-0.066,1.215-0.094,1.789-0.094h0.034     c5.817,0,10.856,3.076,14.465,6.282c0.562,0.498,1.077,0.993,1.559,1.478c-1.391,0.833-2.729,1.757-4.007,2.763     c-1.559-1.449-3.935-2.993-6.815-2.696c0,0-3.073,0.233-1.857,2.481c0.946,1.75,2.123,3.068,2.891,5.787     c-1.297,1.519-2.491,3.125-3.558,4.81C17.858,28.163,14.372,24.233,11.896,19.638z M78.132,70.728l-4.37-1.516     c-0.882-0.306-1.844,0.162-2.149,1.043c-0.305,0.883,0.163,1.844,1.044,2.149l3.229,1.12     c-5.91,6.492-15.128,10.738-25.855,10.842c-10.716-0.104-19.928-4.351-25.835-10.845l3.221-1.117     c0.881-0.306,1.348-1.268,1.042-2.148c-0.306-0.882-1.268-1.348-2.15-1.042l-4.358,1.512c-0.702-1.001-1.328-2.044-1.882-3.12     h7.141c0.931,0,1.687-0.759,1.687-1.689c0-0.934-0.755-1.69-1.687-1.69h-8.594c-0.521-1.508-0.892-3.068-1.115-4.665l8.808,3.055     c0.184,0.064,0.371,0.095,0.554,0.095c0.7,0,1.354-0.438,1.596-1.137c0.306-0.881-0.162-1.843-1.042-2.149L17.26,55.901     c0.002-0.492,0.015-0.983,0.048-1.469c1.016-16.354,15.879-32.726,32.746-32.75c16.845,0.024,31.706,16.396,32.724,32.738     c0.031,0.494,0.043,0.985,0.048,1.476l-10.169,3.527c-0.881,0.307-1.349,1.27-1.044,2.15c0.242,0.698,0.896,1.136,1.597,1.136     c0.184,0,0.371-0.029,0.553-0.092l8.824-3.062c-0.223,1.599-0.596,3.16-1.116,4.669h-8.604c-0.935,0-1.689,0.757-1.689,1.69     s0.755,1.688,1.689,1.688h7.15C79.462,68.682,78.835,69.726,78.132,70.728z"}))))))};o.propTypes={className:r.default.string};var s=o;t.default=s},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(0)),r=l(a(1)),o=function PigIcon(e){return n.default.createElement("svg",{className:e.className,xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"4 5 90 90"},n.default.createElement("g",{display:"none"},n.default.createElement("rect",{display:"inline",fill:"#000000",width:"100.13",height:"100.12"})),n.default.createElement("g",{display:"none"},n.default.createElement("g",{display:"inline"},n.default.createElement("g",null,n.default.createElement("path",{d:"M73.184,23.658c-1.625-6.099-5.576-11.248-11.049-14.399c-3.638-2.102-7.708-3.187-11.821-3.187     c-2.062,0-4.137,0.271-6.173,0.818c-6.096,1.629-11.245,5.579-14.399,11.051c-2.105,3.636-3.187,7.707-3.187,11.821     c0,2.065,0.275,4.139,0.818,6.172c0.882,3.261,3.822,5.419,7.058,5.417c0.623,0,1.259-0.079,1.892-0.249     c3.259-0.88,5.422-3.816,5.419-7.055c0-0.624-0.08-1.263-0.25-1.897c-0.212-0.791-0.314-1.58-0.314-2.369     c0-1.574,0.408-3.114,1.227-4.532c1.237-2.125,3.15-3.598,5.522-4.24c0.788-0.214,1.582-0.314,2.373-0.314     c1.57,0,3.108,0.405,4.525,1.224c2.126,1.234,3.598,3.154,4.24,5.525c0.209,0.789,0.314,1.586,0.316,2.377     c-0.005,1.564-0.41,3.105-1.227,4.523L29.536,83.92c-0.665,1.13-0.982,2.396-0.982,3.636c0,0,0,0.007,0,0.025v0.001     c0,1.974,0.811,3.906,2.288,5.301l-0.1,0.172l1.467,0.849c0.036,0.021,0.072,0.04,0.107,0.06l1.36,0.785l0.099-0.173     c0.68,0.202,1.378,0.303,2.071,0.303l0.014,0.002h0.014c2.515,0,4.969-1.314,6.32-3.655l28.623-49.57     C72.913,38.01,74,33.944,74,29.829C74,27.769,73.729,25.695,73.184,23.658z M68.514,20.806c-0.228-0.463-0.484-0.909-0.746-1.352     C68.028,19.897,68.286,20.342,68.514,20.806z M30.469,25.25c-0.28,1.212-0.448,2.445-0.498,3.688     C30.023,27.694,30.189,26.461,30.469,25.25z M35.441,37.831c-0.333,0.088-0.672,0.133-1.01,0.133     c-1.731-0.002-3.313-1.153-3.785-2.909c-0.469-1.748-0.702-3.526-0.702-5.292c0-0.267,0.016-0.532,0.026-0.797     c-0.048,1.278,0.024,2.566,0.219,3.849l7.654-1.997c-0.018-0.213-0.022-0.426-0.029-0.639c0.031,0.951,0.152,1.907,0.407,2.854     c0.089,0.335,0.133,0.674,0.133,1.015C38.353,35.777,37.202,37.357,35.441,37.831z M37.815,29.367     c0.009-0.276,0.027-0.551,0.054-0.826C37.842,28.815,37.825,29.091,37.815,29.367z M37.926,28.01     c0.058-0.399,0.141-0.794,0.237-1.187C38.066,27.215,37.984,27.611,37.926,28.01z M38.279,26.381     c0.119-0.416,0.257-0.828,0.42-1.232C38.536,25.554,38.398,25.965,38.279,26.381z M38.825,24.858     c0.191-0.442,0.4-0.879,0.645-1.303c0-0.001,0.001-0.002,0.002-0.003C39.226,23.977,39.018,24.415,38.825,24.858z M50.3,17.305     c-1.084,0-2.177,0.143-3.255,0.434c-2.865,0.766-5.313,2.5-6.989,4.906l-9.561,2.494c0.452-1.907,1.174-3.76,2.182-5.502     c1.097-1.9,2.478-3.568,4.067-4.991c-0.149,0.133-0.302,0.262-0.447,0.399l18.963-4.947c-3.328-0.847-6.831-0.847-10.239,0.066     c-0.025,0.007-0.049,0.016-0.075,0.022c0.024-0.006,0.047-0.017,0.072-0.023c1.754-0.471,3.53-0.702,5.296-0.702     c3.518,0,6.997,0.924,10.126,2.732c2.968,1.712,5.4,4.093,7.146,6.932c-0.674-1.091-1.449-2.115-2.317-3.059L55.7,18.563     c0.253,0.123,0.505,0.249,0.754,0.389C54.55,17.866,52.436,17.305,50.3,17.305z M43.349,10.7     c-0.154,0.056-0.308,0.111-0.46,0.171C43.042,10.811,43.195,10.755,43.349,10.7z M41.377,11.525     c-0.138,0.067-0.271,0.143-0.408,0.213C41.105,11.667,41.239,11.592,41.377,11.525z M39.852,12.358     c-0.167,0.099-0.334,0.196-0.498,0.3C39.518,12.554,39.686,12.457,39.852,12.358z M38.106,13.521     c-0.178,0.133-0.35,0.273-0.523,0.412C37.757,13.794,37.929,13.654,38.106,13.521z M56.613,19.044     c0.29,0.171,0.572,0.353,0.845,0.545C57.185,19.397,56.903,19.215,56.613,19.044z M58.69,20.58     c0.153,0.139,0.3,0.283,0.444,0.429C58.99,20.863,58.844,20.719,58.69,20.58z M57.782,19.831c0.189,0.142,0.375,0.288,0.555,0.44     C58.157,20.119,57.972,19.973,57.782,19.831z M33.385,90.602c0.139,0.115,0.289,0.221,0.447,0.316     C33.673,90.822,33.525,90.716,33.385,90.602z M35.847,91.49c-0.096,0-0.193-0.012-0.291-0.019     c0.145,0.011,0.288,0.016,0.432,0.011c-0.038,0.002-0.075,0.008-0.113,0.008H35.847z M33.984,91.006     c0.174,0.096,0.353,0.174,0.534,0.24C34.337,91.18,34.158,91.102,33.984,91.006z M34.742,91.322     c0.179,0.054,0.36,0.096,0.542,0.123C35.103,91.418,34.922,91.376,34.742,91.322z M38.295,90.645     c0.148-0.117,0.287-0.247,0.418-0.387C38.582,90.397,38.443,90.527,38.295,90.645z M36.272,91.465     c0.161-0.018,0.32-0.044,0.477-0.08C36.592,91.421,36.434,91.448,36.272,91.465z M37.013,91.313     c0.155-0.048,0.306-0.104,0.454-0.17C37.319,91.21,37.168,91.266,37.013,91.313z M37.686,91.038     c0.164-0.086,0.324-0.182,0.476-0.292C38.009,90.856,37.85,90.952,37.686,91.038z M38.863,90.09     c0.123-0.147,0.237-0.305,0.34-0.473C39.1,89.786,38.986,89.942,38.863,90.09z M62.562,49.173l-10.658,2.781l-5.18,8.972     l10.659-2.78l-5.832,10.101l-10.658,2.78l-4.775,8.27l10.656-2.778l-5.831,10.099l-8.749,2.282     c0.218,0.607,0.583,1.162,1.079,1.607c-0.792-0.697-1.259-1.672-1.322-2.686l0.027-0.084l-0.036-0.277     c0.016-0.627,0.188-1.268,0.521-1.836L61.09,36.037c0.12-0.208,0.209-0.427,0.316-0.64c-0.107,0.213-0.194,0.434-0.314,0.643     l-3.356,5.812l10.597-2.764c1.168-2.266,1.895-4.686,2.157-7.163c-0.294,2.795-1.165,5.525-2.608,8.038L62.562,49.173z      M59.497,21.38c0.105,0.115,0.202,0.237,0.302,0.355C59.698,21.617,59.603,21.495,59.497,21.38z M60.595,22.781     c0.04,0.06,0.084,0.118,0.123,0.179C60.679,22.899,60.635,22.841,60.595,22.781z M70.489,31.919     c0.038-0.353,0.065-0.707,0.084-1.061l-8.226,2.146c0.278-1.041,0.42-2.11,0.422-3.185c-0.003-1.089-0.145-2.179-0.43-3.25     c-0.183-0.684-0.432-1.338-0.721-1.971c0.002,0.004,0.005,0.009,0.007,0.013l7.668-2c0.234,0.626,0.439,1.267,0.614,1.921     c0.471,1.754,0.701,3.53,0.701,5.296C70.609,30.529,70.562,31.225,70.489,31.919z M61.136,23.654     c0.033,0.059,0.066,0.118,0.099,0.178C61.202,23.772,61.169,23.713,61.136,23.654z"})))),n.default.createElement("g",{display:"none"},n.default.createElement("g",{display:"inline"},n.default.createElement("g",null,n.default.createElement("path",{d:"M94.989,19.581c0.002-4.529-1.055-7.934-3.164-10.234c-2.109-2.303-5.086-3.19-8.108-3.177     c-7.831,0.074-17.25,5.25-23.746,9.922c-3.305-0.894-6.768-1.385-10.343-1.382c-0.001,0-0.028-0.002-0.1,0     c-3.285,0.009-6.482,0.422-9.546,1.188c-6.49-4.63-15.736-9.653-23.45-9.725c-3.03-0.01-6.005,0.875-8.12,3.18     c-2.108,2.3-3.168,5.705-3.166,10.234c0.007,5.496,1.521,12.805,5.02,22.645c-1.645,4.238-2.569,8.735-2.589,13.372     c-0.017,0.053-0.015,0.151,0,0.275c0.096,21.038,18.911,38.133,41.863,38.31c22.518-0.162,41.032-16.614,41.865-37.106     l0.031-0.01v-1.377c0-4.12-0.71-8.125-2.006-11.94C93.313,33.138,94.981,25.355,94.989,19.581z M73.799,58.601     c0.157,0.931,0.969,1.592,1.884,1.592c0.105,0,0.214-0.008,0.324-0.028l11.492-1.952c-0.138,1.729-0.42,3.425-0.836,5.08     l-11.298,1.921c-1.042,0.177-1.743,1.166-1.567,2.207c0.16,0.932,0.971,1.592,1.889,1.592c0.105,0,0.213-0.007,0.32-0.025     l9.328-1.589C80.04,80.56,66.068,90.235,49.543,90.362c-16.604-0.136-30.63-9.905-35.852-23.147l10.407,1.771     c0.108,0.019,0.215,0.028,0.322,0.028c0.917,0,1.728-0.661,1.886-1.592c0.177-1.044-0.524-2.033-1.567-2.21l-12.23-2.079     c-0.041-0.007-0.081-0.004-0.122-0.008c-0.405-1.659-0.675-3.359-0.8-5.089l12.511,2.127c0.108,0.019,0.216,0.028,0.322,0.028     c0.917,0,1.728-0.658,1.886-1.592c0.177-1.041-0.524-2.03-1.567-2.208l-13.188-2.241c0.194-3.844,1.069-7.585,2.529-11.158     l0.279-0.68l-0.25-0.692c-3.594-9.942-5.044-17.143-5.037-22.036c0-3.976,0.928-6.318,2.155-7.642     c1.221-1.32,2.933-1.931,5.304-1.944c6.266-0.074,15.881,4.977,21.922,9.512l0.746,0.555l0.9-0.248     c2.43-0.665,4.953-1.072,7.544-1.216v4.124H35.568c-1.06,0-1.916,0.858-1.916,1.915c0,1.054,0.855,1.912,1.916,1.912h12.076     v3.826H35.568c-1.06,0-1.916,0.855-1.916,1.912c0,1.057,0.855,1.915,1.916,1.915h12.076v3.825H35.568     c-1.06,0-1.916,0.855-1.916,1.913c0,1.058,0.855,1.912,1.916,1.912h12.076v3.922c0,1.056,0.856,1.913,1.913,1.913     c1.058,0,1.912-0.857,1.912-1.913v-3.922h12.3c1.059,0,1.913-0.854,1.913-1.912c0-1.057-0.854-1.913-1.913-1.913h-12.3v-3.825     h12.3c1.059,0,1.913-0.858,1.913-1.915c0-1.057-0.854-1.912-1.913-1.912h-12.3v-3.826h12.3c1.059,0,1.913-0.857,1.913-1.912     c0-1.057-0.854-1.915-1.913-1.915h-12.3v-4.124c2.871,0.151,5.661,0.628,8.338,1.418l0.919,0.271l0.767-0.577     c6.022-4.569,15.854-9.798,22.225-9.722c2.366,0.014,4.073,0.625,5.293,1.942c1.224,1.323,2.151,3.668,2.151,7.645     c0.01,5.128-1.583,12.792-5.557,23.488l-0.241,0.653l0.236,0.66c1.15,3.202,1.831,6.526,1.979,9.936l-12.214,2.076     C74.322,56.57,73.621,57.557,73.799,58.601z M64.392,72.068c-1.056,0-1.911,0.856-1.911,1.912     c0.082,0.635-0.801,1.985-3.232,3.089c-1.956,0.904-4.698,1.563-7.779,1.76v-9.135c2.054-1.839,4.68-3.749,6.165-5.635     c0.386-0.497,0.467-1.163,0.212-1.738c-0.254-0.575-0.798-0.964-1.423-1.021c-2.289-0.193-4.58-0.291-6.866-0.291     c-2.29,0-4.58,0.098-6.866,0.291c-0.628,0.058-1.169,0.446-1.424,1.021c-0.254,0.575-0.173,1.241,0.211,1.738     c1.486,1.885,4.112,3.796,6.166,5.635v9.134c-3.084-0.196-5.825-0.854-7.78-1.759c-2.43-1.104-3.314-2.454-3.232-3.089     c0-1.056-0.856-1.912-1.913-1.912c-1.056,0-1.912,0.856-1.912,1.912c0.078,3.131,2.519,5.198,5.458,6.563     c3.018,1.383,6.951,2.17,11.293,2.175c4.335-0.005,8.27-0.792,11.286-2.175c2.94-1.365,5.38-3.433,5.462-6.563     C66.307,72.925,65.448,72.068,64.392,72.068z M17.147,33.22c-0.007,0.217,4.18-7.562,13.63-10.992     C23.853,15.842,8.472,8.682,17.147,33.22z M82.812,33.22c8.674-24.538-6.706-17.379-13.63-10.992     C78.634,25.658,82.82,33.438,82.812,33.22z M35.658,55.232c2.203,0,3.986-1.783,3.986-3.984c0-2.202-1.783-3.988-3.986-3.988     c-0.551,0-1.076,0.112-1.553,0.314l-4.712-1.251l2.328,4.437c-0.02,0.162-0.049,0.321-0.049,0.488     C31.671,53.449,33.457,55.232,35.658,55.232z M65.324,47.575c-0.478-0.202-1.002-0.314-1.554-0.314     c-2.202,0-3.986,1.786-3.986,3.988c0,2.201,1.784,3.984,3.986,3.984s3.986-1.783,3.986-3.984c0-0.167-0.029-0.325-0.049-0.486     l2.328-4.438L65.324,47.575z"})))),n.default.createElement("g",{display:"none"},n.default.createElement("g",{display:"inline"},n.default.createElement("g",null,n.default.createElement("path",{d:"M35.784,45.171c-1.649,0-2.985,1.336-2.985,2.985c0,1.649,1.336,2.985,2.985,2.985c1.648,0,2.984-1.336,2.984-2.985     C38.769,46.508,37.432,45.171,35.784,45.171z M64.818,45.171c-1.648,0-2.984,1.336-2.984,2.985c0,1.649,1.336,2.985,2.984,2.985     s2.984-1.336,2.984-2.985C67.803,46.508,66.467,45.171,64.818,45.171z M89.4,14.458c-3.6-3.36-8.541-5.121-13.928-5.118     c-0.078,0.002-0.15,0.002-0.217,0.003c-0.113-0.003-0.205-0.001-0.268-0.001c-5.387-0.005-10.328,1.755-13.93,5.118     c-1.228,1.142-2.277,2.476-3.139,3.968c-2.462-0.699-5.016-1.101-7.64-1.136c-2.698,0.036-5.321,0.458-7.846,1.191     c-0.867-1.515-1.93-2.868-3.174-4.023c-3.6-3.362-8.542-5.121-13.928-5.118c-0.065,0-0.155-0.002-0.27,0.001     c-0.066-0.001-0.138-0.001-0.214-0.001c-5.388-0.003-10.332,1.755-13.931,5.116c-3.608,3.354-5.78,8.292-5.771,14.256v0.029     C5.16,37.171,9.535,44.428,16.002,47.95c-0.576,2.338-0.951,4.721-1.103,7.112c-0.042,0.67-0.061,1.341-0.061,2.006     c0.002,18.465,15.567,33.323,35.412,33.47c19.875-0.146,35.439-15.005,35.441-33.47c0-0.665-0.02-1.331-0.059-2.006l-1.789,0.108     l-1.787,0.107c0.037,0.598,0.053,1.194,0.053,1.79c0.002,16.353-13.781,29.715-31.859,29.888     c-18.05-0.173-31.833-13.535-31.831-29.888c0-0.596,0.018-1.19,0.057-1.782c0.996-17.405,15.538-34.418,31.804-34.414     c16.236-0.004,30.781,17.009,31.777,34.406l3.576-0.216c-0.153-2.43-0.54-4.85-1.133-7.224     c6.363-3.559,10.658-10.75,10.672-19.095v-0.03C95.182,22.75,93.01,17.812,89.4,14.458z M21.665,34.803     c-1.778-1.223-3.012-3.4-3.026-6.077l0.003-0.012c0.084-4.085,2.563-6.075,6.337-6.189c0,0,0.025,0,0.081,0l0.067,0.003     l0.07-0.005v0.002c2.312,0.07,4.124,0.864,5.204,2.404C27.031,27.683,24.07,31.043,21.665,34.803z M33.292,22.788     c-0.331-0.456-0.696-0.881-1.105-1.26c-1.84-1.716-4.335-2.588-6.989-2.585c-0.014,0-0.059-0.001-0.137,0.001     c-0.022,0-0.049-0.001-0.082-0.001c-2.656-0.002-5.151,0.87-6.991,2.585c-1.831,1.696-2.924,4.212-2.928,7.123     c0,0.022-0.002,0.047-0.002,0.075c0.006,3.873,1.894,7.303,4.79,9.19c-1.106,2.083-2.047,4.26-2.807,6.495     c-4.91-2.994-8.286-8.737-8.313-15.627l0.002-0.03v-0.04c0.085-10.134,6.879-15.677,16.118-15.791c0.062,0,0.133,0,0.216,0.002     h0.044l0.046-0.002h0.178c5.954,0.073,10.875,2.419,13.654,6.784C37.002,20.542,35.1,21.58,33.292,22.788z M78.802,34.704     c-2.428-3.773-5.413-7.143-8.812-9.895c1.094-1.461,2.873-2.217,5.132-2.284l0.002-0.003l0.07,0.005l0.066-0.002     c0.053,0,0.078,0,0.078,0c3.773,0.112,6.254,2.105,6.338,6.189h0.004l-0.004,0.011C81.663,31.328,80.5,33.463,78.802,34.704z      M91.59,28.744c-0.014,6.825-3.311,12.537-8.134,15.568c-0.77-2.246-1.723-4.431-2.842-6.523     c2.806-1.908,4.637-5.263,4.646-9.064v-0.011c0.012-2.938-1.084-5.478-2.932-7.186c-1.84-1.718-4.334-2.589-6.99-2.587     c-0.033,0-0.061,0.001-0.084,0.001c-0.074-0.003-0.121-0.001-0.133-0.001c-2.656-0.002-5.152,0.869-6.988,2.587     c-0.379,0.351-0.717,0.745-1.028,1.163c-1.818-1.203-3.73-2.23-5.722-3.058c2.787-4.317,7.685-6.639,13.605-6.712     c0.088,0,0.146,0,0.178,0.002h0.09c0.08,0,0.152-0.002,0.217-0.002c9.236,0.115,16.033,5.658,16.117,15.792V28.744z      M50.326,45.368c-0.024,0-0.045,0-0.062,0.001c-0.042-0.001-0.06,0-0.06-0.001c-3.204-0.008-6.134,1.501-8.155,3.969     c-2.018,2.448-3.199,5.817-3.217,9.682c-0.005,0.073-0.003,0.102-0.003,0.104c-0.005,3.89,1.207,7.112,3.3,9.335     c2.079,2.224,4.98,3.38,8.034,3.38h0.029c0,0,0.021,0,0.075,0h0.044l0.046-0.004c3.057,0.004,5.963-1.152,8.045-3.376     c2.094-2.226,3.305-5.445,3.301-9.335v-0.003h0.002c0-3.91-1.186-7.313-3.221-9.783C56.459,46.869,53.529,45.359,50.326,45.368z      M58.121,59.122c-0.117,6.308-3.461,9.03-7.782,9.131c-0.042,0-0.076,0-0.103,0.002h-0.044c-4.32-0.103-7.665-2.827-7.782-9.133     v-0.003c0.059-6.41,3.703-10.148,7.774-10.171l0.029,0.002l0.102-0.002h0.011c4.078,0.01,7.738,3.749,7.795,10.171V59.122z"})))),n.default.createElement("g",{display:"none"},n.default.createElement("g",{display:"inline"},n.default.createElement("g",null,n.default.createElement("path",{d:"M71.687,42.905c-0.084-9.975-10.058-17.434-21.834-17.452c-11.778,0.018-21.75,7.478-21.836,17.452     c0,2.378,0.614,4.639,1.675,6.679c-2.482,2.877-4,6.387-4,10.199c0,5.279,2.865,9.974,7.253,13.253     c4.397,3.293,10.356,5.271,16.907,5.273c6.549-0.002,12.508-1.98,16.905-5.273c4.389-3.279,7.257-7.974,7.253-13.253     c0.002-3.812-1.515-7.321-3.998-10.198C71.074,47.544,71.688,45.283,71.687,42.905z M70.722,59.783     c0,4.046-2.174,7.791-5.937,10.623c-3.752,2.817-9.049,4.62-14.933,4.615c-5.885,0.005-11.183-1.798-14.935-4.615     c-3.761-2.832-5.937-6.577-5.937-10.623c0.002-3.242,1.408-6.261,3.906-8.818l0.906-0.925l-0.684-1.096     c-1.161-1.869-1.802-3.894-1.805-6.039c0.003-3.778,1.945-7.259,5.284-9.884c3.332-2.612,8.03-4.28,13.253-4.28h0.011     c5.228-0.002,9.93,1.666,13.262,4.28c3.341,2.625,5.283,6.106,5.283,9.884c0,2.145-0.642,4.17-1.803,6.039L65.91,50.04     l0.905,0.925C69.315,53.522,70.72,56.541,70.722,59.783z M42.487,50.041c1.39,0,2.518-1.128,2.518-2.519     s-1.128-2.519-2.518-2.519c-1.392,0-2.52,1.128-2.52,2.519S41.095,50.041,42.487,50.041z M59.794,47.522     c0-1.39-1.128-2.519-2.52-2.519c-1.39,0-2.519,1.128-2.519,2.519s1.129,2.519,2.519,2.519     C58.666,50.041,59.794,48.913,59.794,47.522z M40.997,36.302c0.968,0.013,1.207,0.104,1.765,0.262     c0.557,0.171,1.433,0.408,2.696,0.395c1.264,0.013,2.139-0.224,2.696-0.395c0.558-0.158,0.798-0.25,1.769-0.262     c0.969,0.013,1.209,0.104,1.77,0.262c0.558,0.171,1.433,0.408,2.698,0.395c0.029,0.001,0.059,0.001,0.09,0.001     c1.214,0,2.062-0.229,2.607-0.396c0.561-0.158,0.801-0.25,1.772-0.262c0.908,0,1.643-0.735,1.643-1.643     c0-0.909-0.734-1.645-1.643-1.645c-1.265-0.011-2.14,0.225-2.699,0.396c-0.559,0.157-0.802,0.252-1.771,0.264     c-0.97-0.012-1.214-0.106-1.771-0.264c-0.559-0.171-1.434-0.407-2.696-0.396c-1.264-0.011-2.141,0.225-2.698,0.396     c-0.558,0.157-0.798,0.25-1.766,0.261c-0.968-0.011-1.21-0.104-1.765-0.261c-0.557-0.171-1.435-0.407-2.696-0.396     c-0.91,0-1.645,0.736-1.645,1.645C39.352,35.566,40.087,36.302,40.997,36.302z M40.997,41.257     c0.968,0.011,1.207,0.104,1.765,0.261c0.557,0.171,1.433,0.407,2.696,0.398h0.072c1.226,0,2.077-0.231,2.624-0.398     c0.558-0.157,0.798-0.25,1.769-0.261c0.969,0.011,1.209,0.104,1.77,0.261c0.558,0.171,1.433,0.407,2.698,0.396     c1.264,0.011,2.14-0.225,2.697-0.396c0.561-0.157,0.801-0.25,1.772-0.261c0.908,0,1.643-0.736,1.643-1.644     c0-0.909-0.734-1.644-1.643-1.644c-1.265-0.013-2.14,0.224-2.699,0.396c-0.559,0.157-0.802,0.251-1.771,0.264     c-0.97-0.013-1.214-0.107-1.771-0.264c-0.559-0.171-1.434-0.408-2.696-0.396c-1.264-0.013-2.141,0.224-2.698,0.396     c-0.558,0.157-0.798,0.251-1.766,0.262c-0.968-0.011-1.21-0.105-1.765-0.262c-0.557-0.171-1.435-0.408-2.696-0.396     c-0.91,0-1.645,0.735-1.645,1.644C39.352,40.521,40.087,41.257,40.997,41.257z M46.013,56.439     c-0.706,0.329-0.877,1.457-0.382,2.518c0.494,1.061,1.468,1.656,2.174,1.325c0.707-0.328,0.877-1.456,0.383-2.518     C47.693,56.704,46.719,56.111,46.013,56.439z M51.698,57.765c-0.495,1.062-0.323,2.189,0.381,2.518     c0.708,0.331,1.681-0.265,2.176-1.325s0.323-2.188-0.383-2.518C53.165,56.111,52.191,56.704,51.698,57.765z M57.052,61.55     c0.271,0.164,0.567,0.244,0.861,0.244c0.553,0,1.092-0.279,1.402-0.782c0.581-0.938,0.925-2.035,0.923-3.18     c0.002-1.146-0.342-2.239-0.926-3.179c-0.575-0.94-1.379-1.737-2.321-2.384c-0.942-0.648-2.033-1.152-3.222-1.5     c-1.19-0.344-2.479-0.532-3.828-0.532s-2.638,0.188-3.829,0.534c-1.189,0.346-2.28,0.85-3.221,1.498     c-0.942,0.646-1.746,1.443-2.326,2.386c-0.576,0.936-0.926,2.029-0.924,3.177c-0.002,1.147,0.348,2.241,0.924,3.178     c0.474,0.772,1.488,1.015,2.26,0.54c0.775-0.476,1.016-1.487,0.542-2.263c-0.298-0.488-0.436-0.963-0.438-1.455     c0.002-0.495,0.139-0.967,0.438-1.456c0.297-0.483,0.761-0.969,1.386-1.396c0.625-0.429,1.395-0.796,2.274-1.05     c0.886-0.258,1.872-0.403,2.913-0.403c1.042,0,2.027,0.146,2.908,0.403c0.883,0.254,1.657,0.621,2.28,1.05     c0.624,0.428,1.087,0.913,1.384,1.396c0.298,0.485,0.435,0.959,0.437,1.456c-0.002,0.498-0.139,0.967-0.437,1.452     C56.038,60.061,56.279,61.074,57.052,61.55z M58.912,64.666h-0.003c-1.114,0.783-2.475,1.438-4.005,1.893     c-1.532,0.456-3.233,0.71-5.024,0.71c-1.792,0-3.492-0.254-5.022-0.71c-1.534-0.454-2.893-1.109-4.01-1.893     c-0.743-0.521-1.768-0.342-2.29,0.403c-0.522,0.742-0.343,1.765,0.4,2.287c1.438,1.01,3.118,1.805,4.962,2.354     c1.845,0.55,3.856,0.847,5.959,0.847c2.104,0,4.115-0.297,5.962-0.847c1.842-0.549,3.521-1.344,4.957-2.354     c0.743-0.522,0.923-1.547,0.4-2.287C60.678,64.326,59.652,64.145,58.912,64.666z M85.047,30.718     c-0.191-0.014-0.389-0.019-0.57-0.016c-2.392,0.011-4.57,0.898-6.323,2.358c-6.417-11.569-17.14-19.003-28.143-19.123     c-11.021,0.12-21.75,7.555-28.167,19.127c-1.753-1.463-3.932-2.353-6.325-2.364c-0.184,0-0.38,0.005-0.59,0.019     c-5.614,0.357-9.721,5.416-9.713,11.26c0.002,0.229,0.005,0.481,0.026,0.754c0.349,5.958,4.859,10.766,10.489,10.792     c0.137,0,0.262-0.005,0.388-0.01v0.001c0.002,8.717,3.502,16.952,9.49,23.01c5.984,6.056,14.489,9.932,24.39,9.932     c9.902,0,18.403-3.876,24.388-9.936c5.988-6.054,9.487-14.289,9.487-23.006c0-0.001,0-0.001,0-0.002     c0.129,0.005,0.257,0.011,0.391,0.011c5.632-0.025,10.143-4.835,10.491-10.797l0.003-0.016c0.011-0.242,0.018-0.485,0.018-0.734     C94.788,36.137,90.686,31.076,85.047,30.718z M16.293,50.202c-0.063,0.005-0.124,0.022-0.187,0.026     c-0.126,0.004-0.258,0.008-0.375,0.008c-3.619,0.026-6.937-3.245-7.206-7.704l-0.002-0.03c-0.014-0.156-0.018-0.332-0.018-0.524     c0.012-4.36,3.015-7.791,6.641-7.979c0.122-0.007,0.242-0.012,0.374-0.012c1.78-0.012,3.479,0.781,4.787,2.112     c-1.606,3.48-2.842,7.268-3.604,11.3C16.521,48.334,16.389,49.269,16.293,50.202z M49.999,83.168     C31.956,83.152,19.426,69.18,19.408,53.516c0-1.816,0.169-3.66,0.522-5.503c3.4-18.22,17.121-30.768,30.08-30.789     c12.938,0.021,26.658,12.569,30.057,30.783v0.002c0.351,1.846,0.52,3.69,0.52,5.506C80.571,69.18,68.039,83.152,49.999,83.168z      M91.474,42.551c-0.281,4.449-3.593,7.713-7.209,7.685c-0.12,0.002-0.25-0.002-0.39-0.009c-0.059-0.003-0.114-0.02-0.172-0.024     c-0.096-0.933-0.226-1.868-0.404-2.805c-0.762-4.03-1.998-7.815-3.603-11.293c1.295-1.323,2.975-2.116,4.738-2.117     c0.014,0,0.027,0,0.042,0c0.13,0,0.246,0.002,0.359,0.012c3.642,0.19,6.641,3.616,6.652,7.978     C91.488,42.16,91.483,42.351,91.474,42.551L91.474,42.551z"})))),n.default.createElement("g",{display:"none"},n.default.createElement("g",{display:"inline"},n.default.createElement("g",null,n.default.createElement("path",{d:"M49.598,43.922c-11.819,0.019-21.697,8.245-21.743,18.887c0.046,10.646,9.924,18.869,21.743,18.891     c11.818-0.021,21.696-8.245,21.743-18.891C71.294,52.167,61.416,43.941,49.598,43.922z M62.67,73.68     c-3.305,2.837-7.93,4.628-13.072,4.628c-5.142,0-9.769-1.791-13.073-4.628c-3.306-2.845-5.278-6.669-5.278-10.87     s1.973-8.024,5.278-10.868c3.304-2.836,7.931-4.629,13.073-4.629c5.143,0,9.768,1.792,13.072,4.629     c3.308,2.844,5.278,6.667,5.278,10.868S65.978,70.835,62.67,73.68z M69.568,41.598c-1.836,0-3.323,1.489-3.323,3.323     c0,1.837,1.487,3.325,3.323,3.325c1.835,0,3.324-1.488,3.324-3.325C72.893,43.087,71.403,41.598,69.568,41.598z M32.972,44.921     c0-1.834-1.488-3.323-3.324-3.323c-1.836,0-3.323,1.489-3.323,3.323c0,1.837,1.487,3.325,3.323,3.325     C31.484,48.246,32.972,46.758,32.972,44.921z M49.597,49.491c-3.578,0-6.478,2.9-6.478,6.479c0,3.578,2.9,6.479,6.478,6.479     s6.481-2.901,6.481-6.479C56.078,52.392,53.175,49.491,49.597,49.491z M94.845,26c-0.003-8.287-6.719-15.003-15.006-15.006     c-6.609,0.002-12.201,4.28-14.202,10.213c-4.886-2.1-10.319-3.28-16.04-3.291c-5.495,0.01-10.724,1.101-15.458,3.047     c-2.071-5.804-7.594-9.967-14.11-9.969C11.743,10.997,5.026,17.713,5.026,26c0,6.238,3.814,11.566,9.23,13.829     c-1.868,4.179-2.909,8.764-2.913,13.59c0.019,19.711,17.225,35.465,38.253,35.502c21.028-0.037,38.236-15.791,38.256-35.502     c-0.005-4.742-1.013-9.25-2.819-13.369C90.754,37.936,94.842,32.457,94.845,26z M8.417,26c0.011-6.413,5.2-11.602,11.612-11.613     c5.15,0.009,9.492,3.365,11.013,8.005c-6.453,3.329-11.766,8.334-15.242,14.402C11.485,35.102,8.426,30.918,8.417,26z      M74.298,76.078c-6.301,5.827-15.032,9.45-24.701,9.45c-9.67,0-18.397-3.623-24.699-9.45     c-6.303-5.833-10.163-13.829-10.165-22.659c0.002-8.833,3.862-16.829,10.165-22.66c6.298-5.824,15.024-9.45,24.69-9.45h0.009     c9.669-0.002,18.4,3.623,24.701,9.45c6.303,5.831,10.161,13.827,10.165,22.66C84.459,62.249,80.601,70.245,74.298,76.078z      M83.505,36.994c-3.37-5.974-8.515-10.931-14.775-14.295c1.427-4.799,5.846-8.303,11.109-8.312     c6.413,0.011,11.601,5.2,11.612,11.613C91.441,31.129,88.115,35.456,83.505,36.994z"})))),n.default.createElement("g",{display:"none"},n.default.createElement("g",{display:"inline"},n.default.createElement("g",null,n.default.createElement("path",{d:"M39.245,50.489c1.546,0,2.799-1.254,2.799-2.798c0-1.546-1.252-2.8-2.799-2.8c-1.546,0-2.799,1.254-2.799,2.8     C36.446,49.235,37.699,50.489,39.245,50.489z M61.255,50.489c1.546,0,2.8-1.254,2.8-2.798c0-1.546-1.254-2.8-2.8-2.8     s-2.798,1.254-2.798,2.8C58.457,49.235,59.709,50.489,61.255,50.489z M55.426,84.195c0.181,0.067,0.367,0.097,0.55,0.097     c0.658,0,1.277-0.405,1.517-1.061l1.32-3.626c0.304-0.838-0.128-1.765-0.967-2.066c-0.836-0.305-1.763,0.128-2.066,0.964     l-1.317,3.623C54.155,82.965,54.587,83.889,55.426,84.195z M42.465,83.231c0.237,0.655,0.856,1.062,1.515,1.062     c0.183,0,0.369-0.031,0.551-0.099c0.839-0.307,1.27-1.23,0.964-2.069l-1.321-3.623c-0.304-0.839-1.23-1.271-2.067-0.964     c-0.838,0.302-1.27,1.229-0.964,2.069L42.465,83.231z M85.582,33.575c-0.005-2.875-0.906-4.688-0.982-4.84     c-0.394-0.777-1.329-1.099-2.118-0.731L66.1,35.643c-2.299-2.6-5.219-4.542-8.497-5.702l1.479-8.391     c3.849-0.085,7.219-2.862,7.914-6.794L67,14.75c0.08-0.477,0.121-0.954,0.121-1.43c0-3.922-2.807-7.386-6.799-8.094     c-0.481-0.088-0.964-0.127-1.437-0.127c-3.927,0-7.388,2.81-8.096,6.802c-0.086,0.481-0.128,0.962-0.125,1.434     c0,3.391,2.097,6.432,5.239,7.657l-1.43,8.113c-1.472-0.288-2.983-0.447-4.524-0.438c-0.419-0.002-0.833,0.026-1.25,0.046     l0.002-0.02l-0.331,0.032c-0.46,0.029-0.915,0.078-1.368,0.133l-0.281,0.027c-0.063,0.007-0.119,0.022-0.182,0.03     c-0.342,0.049-0.681,0.104-1.018,0.168c-0.231,0.04-0.472,0.07-0.696,0.115l-1.446-8.209c3.143-1.223,5.239-4.265,5.241-7.654     c0-0.472-0.042-0.953-0.127-1.434V11.9c-0.709-3.993-4.17-6.801-8.094-6.801c-0.479,0-0.958,0.042-1.438,0.128     c-3.992,0.706-6.8,4.169-6.8,8.094c0,0.476,0.042,0.958,0.127,1.438c0.695,3.928,4.064,6.708,7.916,6.792l1.507,8.54     c-3.653,1.349-6.22,3.473-7.939,5.44l-16.143-7.527c-0.789-0.369-1.723-0.046-2.118,0.73c-0.077,0.152-0.978,1.965-0.982,4.84     c-0.038,4.701,2.582,11.886,13.959,18.434c-0.457,7.045-0.912,14.084-1.366,21.117c-0.04,0.495-0.06,1.012-0.06,1.519     c0.007,11.62,10.136,20.672,22.888,20.692c12.751-0.021,22.878-9.072,22.885-20.692c0-0.509-0.02-1.02-0.06-1.538     c-0.45-6.982-0.902-13.984-1.355-20.985C82.963,45.544,85.619,38.305,85.582,33.575z M53.891,13.335     c0-0.288,0.024-0.58,0.076-0.87c0.426-2.432,2.544-4.139,4.919-4.139c0.289,0,0.579,0.024,0.873,0.077     c2.429,0.424,4.139,2.544,4.139,4.917l-0.08,0.883h0.002c-0.427,2.424-2.545,4.128-4.918,4.128c-0.285,0-0.583-0.026-0.881-0.078     C55.6,17.83,53.891,15.71,53.891,13.335z M41.262,18.255c-0.295,0.053-0.587,0.077-0.877,0.077c-2.378,0-4.497-1.71-4.92-4.135     c-0.052-0.298-0.076-0.589-0.079-0.877c0-2.374,1.71-4.494,4.137-4.917c0.298-0.053,0.59-0.079,0.877-0.079     c2.375,0,4.492,1.708,4.917,4.136c0.052,0.294,0.078,0.586,0.078,0.875C45.396,15.71,43.685,17.83,41.262,18.255z M33.264,42.575     c1.004,0.151,1.955,0.229,2.849,0.229h0.127c5.687,0,9.047-3.197,10.571-6.214c0.924-1.77,1.345-3.476,1.54-4.621     c0.528-0.042,1.061-0.07,1.6-0.074c9.352,0.063,17.168,5.967,17.99,16.386c0.502,7.769,1.005,15.552,1.508,23.336H30.452     c0.504-7.797,1.007-15.576,1.509-23.353C32.125,46.181,32.582,44.287,33.264,42.575z M28.724,48.36     c-9.448-5.883-10.932-11.464-10.967-14.785c-0.001-0.725,0.075-1.354,0.175-1.869l13.884,6.473     c-0.698,1.146-1.021,1.951-1.038,2.005l-0.054,0.141c-1.073,2.287-1.776,4.863-1.98,7.716     C28.738,48.147,28.731,48.253,28.724,48.36z M69.56,75.565c-0.019,0.321-0.028,0.644-0.065,0.96     c-0.032,0.274-0.09,0.541-0.136,0.812c-0.052,0.302-0.093,0.606-0.161,0.903c-0.062,0.274-0.149,0.54-0.227,0.809     c-0.08,0.284-0.151,0.572-0.247,0.851c-0.094,0.271-0.212,0.533-0.319,0.799c-0.107,0.264-0.204,0.533-0.324,0.791     c-0.125,0.267-0.273,0.521-0.412,0.782c-0.131,0.244-0.252,0.494-0.395,0.732c-0.155,0.259-0.334,0.504-0.503,0.754     c-0.152,0.226-0.294,0.457-0.457,0.675c-0.186,0.247-0.392,0.479-0.591,0.717c-0.172,0.206-0.335,0.42-0.518,0.619     c-0.211,0.231-0.444,0.445-0.669,0.666c-0.192,0.188-0.375,0.386-0.577,0.566c-0.238,0.214-0.496,0.409-0.747,0.611     c-0.21,0.17-0.411,0.349-0.63,0.51c-0.262,0.194-0.544,0.368-0.818,0.549c-0.228,0.15-0.445,0.311-0.682,0.452     c-0.285,0.173-0.59,0.322-0.887,0.481c-0.243,0.13-0.478,0.27-0.728,0.391c-0.312,0.15-0.642,0.277-0.965,0.412     c-0.253,0.106-0.497,0.225-0.756,0.321c-0.342,0.127-0.7,0.229-1.052,0.34c-0.258,0.081-0.507,0.175-0.77,0.247     c-0.367,0.101-0.75,0.174-1.127,0.256c-0.263,0.057-0.518,0.128-0.785,0.176c-0.417,0.075-0.849,0.12-1.277,0.172     c-0.24,0.029-0.473,0.074-0.717,0.096c-0.678,0.061-1.367,0.093-2.069,0.095c-0.702-0.002-1.392-0.034-2.07-0.095     c-0.233-0.021-0.457-0.064-0.687-0.092c-0.438-0.053-0.88-0.099-1.307-0.176c-0.276-0.049-0.54-0.123-0.812-0.182     c-0.369-0.081-0.742-0.151-1.101-0.25c-0.274-0.074-0.535-0.172-0.803-0.258c-0.34-0.107-0.687-0.205-1.017-0.328     c-0.272-0.102-0.529-0.225-0.794-0.337c-0.31-0.131-0.627-0.252-0.927-0.396c-0.259-0.125-0.502-0.27-0.753-0.404     c-0.289-0.154-0.585-0.3-0.863-0.467c-0.241-0.146-0.464-0.31-0.698-0.464c-0.269-0.178-0.545-0.348-0.802-0.537     c-0.225-0.166-0.432-0.35-0.647-0.524c-0.245-0.197-0.497-0.388-0.729-0.597c-0.206-0.185-0.392-0.385-0.588-0.577     c-0.221-0.218-0.451-0.429-0.659-0.655c-0.185-0.201-0.349-0.417-0.522-0.626c-0.197-0.235-0.402-0.465-0.585-0.71     c-0.163-0.218-0.304-0.448-0.456-0.673c-0.17-0.251-0.35-0.498-0.505-0.758c-0.139-0.231-0.256-0.476-0.384-0.713     c-0.143-0.267-0.295-0.529-0.423-0.803c-0.114-0.245-0.206-0.5-0.308-0.75c-0.114-0.28-0.238-0.557-0.337-0.843     c-0.088-0.256-0.152-0.521-0.227-0.781c-0.084-0.293-0.178-0.582-0.247-0.881c-0.061-0.266-0.097-0.539-0.144-0.81     c-0.053-0.303-0.115-0.603-0.151-0.91c-0.032-0.277-0.039-0.561-0.057-0.841c-0.018-0.276-0.042-0.551-0.046-0.83H69.6     C69.597,75.087,69.573,75.325,69.56,75.565z M71.186,48.488c-0.009-0.144-0.018-0.287-0.027-0.431     c-0.268-3.744-1.371-7.025-3.078-9.777l14.099-6.574c0.1,0.516,0.177,1.146,0.176,1.869     C82.316,36.923,80.818,42.559,71.186,48.488z"})))),n.default.createElement("g",{display:"none"},n.default.createElement("g",{display:"inline"},n.default.createElement("g",null,n.default.createElement("path",{d:"M37.417,53.831c-1.797,0-3.254,1.457-3.254,3.254s1.457,3.256,3.254,3.256c1.797,0,3.255-1.459,3.255-3.256     S39.214,53.831,37.417,53.831z M62.383,53.831c-1.796,0-3.253,1.457-3.253,3.254s1.457,3.256,3.253,3.256     c1.799,0,3.256-1.459,3.256-3.256S64.182,53.831,62.383,53.831z M49.93,63.314c-2.96,0-5.361,2.026-5.361,4.527     c0,2.502,2.401,4.528,5.361,4.528c2.959,0,5.358-2.026,5.358-4.528C55.288,65.341,52.889,63.314,49.93,63.314z M89.653,26.499     c-9.357-8.477-26.96-13.235-27.072-13.302l-0.747-0.207c-0.639-0.208-1.29-0.388-1.952-0.541l-0.561-0.155l0.01,0.028     c-1.499-0.308-3.05-0.47-4.637-0.471l-9.21,0.002c-1.589,0-3.142,0.163-4.643,0.471l0.012-0.034l-0.665,0.185     c-0.61,0.144-1.211,0.31-1.801,0.501l-0.793,0.22c-0.059,0.02-7.937,2.199-15.92,6.103c-3.996,1.96-8.021,4.341-11.153,7.196     c-3.106,2.841-5.443,6.272-5.46,10.33c0.002,0.291,0.013,0.591,0.042,0.901c1.313,14.392,12.783,32.298,12.82,32.425l1.984,3.144     l2.471-7.196c0.859,11.989,10.907,21.512,23.108,21.52l9.21-0.002v0.002c12.2-0.008,22.245-9.531,23.103-21.521l2.472,7.196     l1.989-3.141c0.032-0.128,11.503-18.034,12.815-32.437c0.024-0.299,0.038-0.584,0.038-0.889     C95.098,32.768,92.758,29.337,89.653,26.499z M22.31,35.026v20.29l-3.315,9.654c-3.271-5.735-9.55-18.081-10.343-27.562     c-0.017-0.195-0.026-0.381-0.026-0.581c-0.015-2.568,1.55-5.188,4.3-7.698c3.717-3.412,9.383-6.356,14.435-8.496     C24.207,24.591,22.312,29.593,22.31,35.026z M74.297,64.447c-0.017,10.769-8.834,19.586-19.603,19.605h-9.21     c-10.772-0.02-19.59-8.837-19.606-19.605V35.026c0.016-10.774,8.833-19.589,19.606-19.609h9.21     c10.771,0.02,19.586,8.835,19.603,19.609V64.447z M91.52,37.438c-0.542,6.394-3.598,14.196-6.548,20.293     c-1.386,2.879-2.746,5.392-3.792,7.235l-3.316-9.657V35.026c-0.003-5.43-1.895-10.431-5.045-14.389     c3.198,1.355,6.634,3.016,9.681,4.94c5.36,3.342,9.143,7.432,9.047,11.251C91.546,37.006,91.537,37.209,91.52,37.438z"})))),n.default.createElement("g",{display:"none"},n.default.createElement("g",{display:"inline"},n.default.createElement("g",null,n.default.createElement("path",{d:"M56.673,66.258c-1.14,0.768-2.073,0.97-2.875,0.974c-0.801,0.003-1.494-0.229-1.984-0.466     c-0.007-0.003-0.011-0.006-0.017-0.009l-0.058-3.309c3.021-2.598,8.367-8.189-1.615-8.189c-9.818,0-4.806,5.411-1.765,8.061     l0.058,3.413c-0.489,0.244-1.222,0.51-2.052,0.501c-0.804-0.005-1.736-0.209-2.868-0.976c-0.772-0.528-1.823-0.328-2.349,0.44     c-0.526,0.771-0.33,1.82,0.442,2.347c1.635,1.127,3.306,1.565,4.739,1.565h0.035c1.625-0.013,2.883-0.496,3.718-0.94     c0.834,0.444,2.091,0.927,3.714,0.94h0.035c1.436,0,3.103-0.44,4.741-1.564c0.771-0.525,0.97-1.576,0.441-2.347     C58.491,65.93,57.442,65.729,56.673,66.258z M36.737,47.11c-2.167,0-3.925,1.757-3.925,3.926c0,2.169,1.757,3.927,3.925,3.927     c2.169,0,3.927-1.758,3.927-3.927C40.664,48.868,38.906,47.11,36.737,47.11z M63.48,47.11c-2.167,0-3.925,1.757-3.925,3.926     c0,2.169,1.758,3.927,3.925,3.927c2.17,0,3.927-1.758,3.927-3.927C67.407,48.868,65.65,47.11,63.48,47.11z M93.312,75.994     l-11.885-4.123c0.893-1.36,1.672-2.785,2.328-4.267h9.347c0.934,0,1.69-0.755,1.69-1.688s-0.757-1.69-1.69-1.69h-8.091     c0.568-1.896,0.938-3.866,1.099-5.891l7.202-2.499c0.882-0.306,1.348-1.268,1.043-2.149c-0.306-0.881-1.267-1.349-2.15-1.043     l-6.04,2.095c-0.008-0.181-0.006-0.357-0.018-0.539c-0.313-4.567-1.561-9.103-3.552-13.336     c1.808-10.314,5.398-13.745,8.584-19.619c0.626-1.167,0.96-2.275,0.96-3.352c0.014-1.362-0.587-2.557-1.367-3.342     c-2.374-2.288-5.754-2.328-5.896-2.402c-0.663-0.069-1.361-0.105-2.044-0.105c-8.679,0.093-15.306,5.385-19.166,9.479     c-4.211-1.996-8.808-3.161-13.612-3.218c-4.809,0.057-9.409,1.221-13.621,3.216c-3.862-4.094-10.487-9.383-19.163-9.477     c-0.687,0-1.383,0.036-2.092,0.109c-0.043,0.007-1.585,0.111-3.296,0.778c-0.851,0.339-1.77,0.821-2.552,1.62     c-0.781,0.783-1.381,1.979-1.369,3.341c0.002,1.07,0.332,2.187,0.965,3.354c3.182,5.866,6.768,9.296,8.576,19.592     c-1.999,4.241-3.25,8.786-3.564,13.363c-0.013,0.182-0.009,0.36-0.018,0.542l-6.053-2.1c-0.882-0.306-1.844,0.161-2.15,1.043     c-0.305,0.881,0.162,1.843,1.043,2.148l7.216,2.503c0.161,2.023,0.53,3.992,1.098,5.888H6.97c-0.934,0-1.689,0.757-1.689,1.69     c0,0.931,0.755,1.689,1.689,1.689h9.36c0.655,1.48,1.434,2.903,2.325,4.263L6.76,75.994c-0.882,0.306-1.348,1.269-1.043,2.149     c0.243,0.698,0.896,1.136,1.597,1.136c0.183,0,0.37-0.03,0.553-0.093l12.892-4.473c6.533,7.855,17.135,12.941,29.271,13.028     c12.148-0.087,22.756-5.172,29.292-13.025l12.883,4.469c0.184,0.063,0.371,0.094,0.555,0.094c0.7,0,1.354-0.438,1.596-1.137     C94.659,77.263,94.193,76.301,93.312,75.994z M82.832,15.423c0.571,0,1.148,0.026,1.74,0.088     c0.049,0.005,0.304,0.024,0.765,0.108c0.688,0.119,1.73,0.405,2.434,0.839c0.725,0.479,0.972,0.804,0.99,1.434     c0.002,0.358-0.117,0.933-0.557,1.751c-2.476,4.594-5.964,8.53-8.086,16.705c-1.066-1.686-2.26-3.294-3.557-4.814     c0.768-2.73,1.946-4.049,2.895-5.803c1.215-2.248-1.857-2.481-1.857-2.481c-2.885-0.298-5.264,1.251-6.822,2.702     c-1.278-1.007-2.616-1.932-4.007-2.765C70.378,19.59,76.104,15.355,82.832,15.423z M11.896,19.638     c-0.443-0.816-0.557-1.383-0.557-1.746c0.014-0.453,0.126-0.669,0.416-0.987c0.424-0.463,1.378-0.897,2.23-1.113     c0.424-0.111,0.816-0.185,1.094-0.225c0.275-0.04,0.402-0.047,0.402-0.05c0.635-0.066,1.215-0.094,1.789-0.094h0.034     c5.817,0,10.856,3.076,14.465,6.282c0.562,0.498,1.077,0.993,1.559,1.478c-1.391,0.833-2.729,1.757-4.007,2.763     c-1.559-1.449-3.935-2.993-6.815-2.696c0,0-3.073,0.233-1.857,2.481c0.946,1.75,2.123,3.068,2.891,5.787     c-1.297,1.519-2.491,3.125-3.558,4.81C17.858,28.163,14.372,24.233,11.896,19.638z M78.132,70.728l-4.37-1.516     c-0.882-0.306-1.844,0.162-2.149,1.043c-0.305,0.883,0.163,1.844,1.044,2.149l3.229,1.12     c-5.91,6.492-15.128,10.738-25.855,10.842c-10.716-0.104-19.928-4.351-25.835-10.845l3.221-1.117     c0.881-0.306,1.348-1.268,1.042-2.148c-0.306-0.882-1.268-1.348-2.15-1.042l-4.358,1.512c-0.702-1.001-1.328-2.044-1.882-3.12     h7.141c0.931,0,1.687-0.759,1.687-1.689c0-0.934-0.755-1.69-1.687-1.69h-8.594c-0.521-1.508-0.892-3.068-1.115-4.665l8.808,3.055     c0.184,0.064,0.371,0.095,0.554,0.095c0.7,0,1.354-0.438,1.596-1.137c0.306-0.881-0.162-1.843-1.042-2.149L17.26,55.901     c0.002-0.492,0.015-0.983,0.048-1.469c1.016-16.354,15.879-32.726,32.746-32.75c16.845,0.024,31.706,16.396,32.724,32.738     c0.031,0.494,0.043,0.985,0.048,1.476l-10.169,3.527c-0.881,0.307-1.349,1.27-1.044,2.15c0.242,0.698,0.896,1.136,1.597,1.136     c0.184,0,0.371-0.029,0.553-0.092l8.824-3.062c-0.223,1.599-0.596,3.16-1.116,4.669h-8.604c-0.935,0-1.689,0.757-1.689,1.69     s0.755,1.688,1.689,1.688h7.15C79.462,68.682,78.835,69.726,78.132,70.728z"})))),n.default.createElement("g",{display:"none"},n.default.createElement("g",{display:"inline"},n.default.createElement("g",null,n.default.createElement("path",{d:"M69.504,42.666c0.841-0.76,1.687-1.659,2.572-2.69c2.446-2.959,4.969-7.031,7.169-11.746     c3.082-6.646,4.806-12.897,4.821-17.251c-0.031-2.351-0.423-4.545-2.496-5.633c-0.479-0.227-1.007-0.327-1.503-0.325     c-2.683,0.131-4.861,2.154-7.363,5.069c-2.447,2.961-4.967,7.031-7.169,11.748c-2.701,5.815-4.355,11.332-4.738,15.537     c-3.403-1.34-7.107-2.084-10.987-2.084c-3.785,0-7.402,0.707-10.737,1.985c-0.398-4.193-2.045-9.666-4.726-15.437     c-2.202-4.717-4.722-8.786-7.169-11.748c-2.502-2.915-4.681-4.938-7.363-5.069c-0.496-0.002-1.024,0.098-1.503,0.325     c-2.073,1.087-2.465,3.282-2.496,5.633c0.016,4.354,1.739,10.605,4.821,17.251c2.2,4.715,4.723,8.786,7.169,11.746     c0.841,0.979,1.645,1.835,2.443,2.571c-6.398,5.503-10.455,13.651-10.455,22.752c0,16.576,13.438,30.01,30.015,30.012     c16.574-0.002,30.01-13.436,30.01-30.012C79.819,56.264,75.821,48.167,69.504,42.666z M68.43,23.188     c2.099-4.504,4.518-8.381,6.736-11.064c2.063-2.603,4.178-3.919,4.819-3.919c0.031,0,0.059,0.003,0.082,0.009     c0.097,0.002,0.122,0.013,0.144,0.024c0.049,0.021,0.194,0.097,0.371,0.562c0.167,0.45,0.294,1.209,0.291,2.177     c0.015,3.524-1.566,9.586-4.523,15.901c-2.099,4.501-4.515,8.377-6.736,11.061c-0.93,1.173-1.865,2.075-2.676,2.722     c-0.969-0.675-1.978-1.295-3.024-1.854C63.977,35.248,65.546,29.339,68.43,23.188z M23.533,26.88     c-2.957-6.315-4.538-12.377-4.523-15.901c-0.003-0.968,0.124-1.727,0.291-2.177c0.177-0.466,0.322-0.541,0.371-0.562     c0.021-0.011,0.047-0.022,0.144-0.024c0.023-0.006,0.051-0.009,0.082-0.009c0.642,0,2.756,1.316,4.819,3.919     c2.219,2.683,4.638,6.56,6.736,11.064c2.848,6.074,4.414,11.911,4.514,15.485c-1.09,0.567-2.141,1.196-3.147,1.889     c-0.781-0.64-1.668-1.509-2.551-2.622C28.047,35.257,25.631,31.381,23.533,26.88z M49.81,92.115     c-14.811-0.027-26.792-12.006-26.819-26.816c0.026-14.81,12.008-26.789,26.819-26.815c14.808,0.027,26.789,12.005,26.815,26.815     C76.599,80.109,64.617,92.088,49.81,92.115z M52.441,76.102l-2.655,2.652l-2.612-2.607c-0.624-0.625-1.636-0.625-2.259,0     c-0.625,0.625-0.625,1.635,0,2.26v-0.002l3.273,3.273v2.568c0,0.883,0.713,1.598,1.597,1.598c0.882,0,1.598-0.715,1.598-1.598     v-2.568l3.315-3.316c0.624-0.625,0.624-1.637,0-2.26S53.064,75.479,52.441,76.102z M63.466,64.121     c-1.822,0-3.301,1.48-3.301,3.305c0,1.822,1.479,3.303,3.301,3.303c1.825,0,3.305-1.48,3.305-3.303     C66.771,65.602,65.291,64.121,63.466,64.121z M36.15,64.121c-1.824,0-3.303,1.48-3.303,3.305c0,1.822,1.479,3.303,3.303,3.303     c1.824,0,3.303-1.48,3.303-3.303C39.453,65.602,37.974,64.121,36.15,64.121z"})))),n.default.createElement("g",{display:"none"},n.default.createElement("g",{display:"inline"},n.default.createElement("g",null,n.default.createElement("path",{d:"M59.362,28.011c-1.176,0-2.13,0.954-2.13,2.129s0.954,2.128,2.13,2.128c1.175,0,2.128-0.953,2.128-2.128     S60.537,28.011,59.362,28.011z M40.996,28.011c-1.175,0-2.129,0.954-2.129,2.129s0.954,2.128,2.129,2.128     s2.128-0.953,2.128-2.128S42.171,28.011,40.996,28.011z M93.949,41.597l-0.073-0.158L76.301,19.061     c-2.768-3.435-6.001-5.844-9.854-5.861c-0.898-0.001-1.81,0.151-2.721,0.428c-1.828-1.314-4.063-2.098-6.485-2.1H43.223     c-2.476,0.001-4.756,0.82-6.606,2.189c-1.014-0.342-2.03-0.519-3.031-0.517c-3.851,0.017-7.086,2.426-9.841,5.846L6.16,41.438     l-0.074,0.158c-0.677,1.451-1,2.986-1,4.498c0,4.035,2.288,7.911,6.177,9.729l16.638,7.76c1.447,0.676,2.979,0.995,4.483,0.995     H32.4c0.048,0,0.096-0.007,0.144-0.008c-0.407,1.334-0.919,2.407-1.442,2.938c-0.417,0.397-0.489,0.417-0.968,0.448     c-2.518,0.005-4.557,2.043-4.559,4.562c0.002,2.517,2.041,4.555,4.559,4.559c0.019,0.001,0.037,0.001,0.055,0.001     c2.917,0,5.573-1.18,7.575-3.345c3.124-3.438,4.301-8.529,4.751-12.884h0.426v4.984c0,0.005-0.001,0.01-0.001,0.015     s0.001,0.01,0.001,0.015v4.876c0,0.002,0,0.003,0,0.005s0,0.003,0,0.005v4.889c0,0.002,0,0.003,0,0.005s0,0.003,0,0.005v5.123     c0.002,2.081,0.547,4.059,1.75,5.594c1.19,1.54,3.111,2.529,5.342,2.511h0.062c2.202,0.001,4.098-0.985,5.277-2.511     c1.203-1.535,1.748-3.513,1.752-5.594V60.853h0.806c0.451,4.354,1.63,9.444,4.753,12.881c2.002,2.165,4.657,3.345,7.574,3.345     c0.019,0,0.036,0,0.056-0.001c2.518-0.004,4.556-2.042,4.559-4.559C74.87,70,72.832,67.962,70.314,67.96     c-0.479-0.034-0.549-0.054-0.966-0.451c-0.526-0.531-1.039-1.607-1.446-2.943c1.422-0.035,2.863-0.345,4.23-0.982l16.638-7.76     l-0.643-1.376l0.645,1.376c3.885-1.818,6.175-5.694,6.175-9.729C94.947,44.585,94.624,43.049,93.949,41.597z M32.4,61.539     c-1.083,0-2.172-0.227-3.211-0.711l-16.641-7.76l0,0.002c-2.776-1.294-4.419-4.081-4.421-6.976c0-1.03,0.209-2.071,0.65-3.066     l17.348-22.09c2.492-3.096,5.009-4.716,7.461-4.696c0.175,0,0.353,0.009,0.531,0.026c-1.279,1.813-2.037,4.02-2.038,6.405v35.141     c0.003,1.028,0.52,1.925,1.301,2.473c-0.048,0.404-0.11,0.8-0.172,1.197C32.94,61.516,32.671,61.539,32.4,61.539z M35.542,71.658     c-1.534,1.616-3.241,2.362-5.408,2.378c-0.833,0-1.518-0.686-1.52-1.518c0.002-0.835,0.687-1.52,1.52-1.52     c1.189,0.031,2.401-0.525,3.189-1.416c1.536-1.693,2.25-4.134,2.75-6.735c0.475-2.601,0.639-5.359,0.639-7.568     c0-0.876-0.027-1.665-0.069-2.322c-0.004-0.057-0.006-0.093-0.006-0.111c0-0.786,0.62-1.463,1.417-1.514     c0.034-0.002,0.072-0.002,0.104-0.004c0.841,0.015,1.45,0.584,1.52,1.414c0.021,0.326,0.08,1.33,0.08,2.735     C39.809,59.821,39.046,68.037,35.542,71.658z M57.741,52.535c-0.029,0.386-0.089,1.452-0.091,2.945     c0.008,0.692,0.026,1.483,0.063,2.33h-0.839c-1.518,0.003-2.721,1.206-2.788,2.67l-0.002,0.041v20.249     c0.004,1.549-0.423,2.864-1.099,3.713c-0.688,0.846-1.553,1.334-2.952,1.353c-1.402-0.019-2.267-0.507-2.955-1.353     c-0.676-0.849-1.102-2.164-1.098-3.713l0-3.608h4.251c0.839,0,1.52-0.681,1.52-1.52c0-0.841-0.681-1.52-1.52-1.52h-4.251l0-1.858     h4.251c0.841,0,1.522-0.682,1.522-1.521c0-0.84-0.681-1.519-1.522-1.519H45.98l0-1.857h4.254c0.837,0,1.52-0.682,1.52-1.52     c0-0.84-0.683-1.52-1.52-1.52H45.98l0-3.74c-0.028-1.546-1.261-2.775-2.794-2.778h-0.452c0.037-0.848,0.054-1.64,0.062-2.333     c0-1.49-0.061-2.559-0.088-2.942c-0.149-2.395-2.152-4.259-4.55-4.247c-0.095,0-0.19,0.004-0.285,0.01     c-1.074,0.073-2.018,0.518-2.754,1.181V22.672c0.008-4.464,3.639-8.096,8.105-8.105h14.019c4.465,0.009,8.097,3.641,8.105,8.105     v26.823c-0.736-0.672-1.684-1.123-2.756-1.197c-0.107-0.006-0.202-0.01-0.3-0.008C59.894,48.276,57.893,50.141,57.741,52.535z      M70.314,70.999c0.832,0,1.517,0.685,1.52,1.52c-0.003,0.832-0.686,1.518-1.52,1.52v-0.002c-2.167-0.016-3.875-0.762-5.409-2.378     c-3.503-3.619-4.267-11.837-4.214-16.178c-0.002-1.408,0.058-2.418,0.08-2.728c0.072-0.841,0.679-1.41,1.52-1.423     c0.034,0,0.068,0,0.106,0.002c0.796,0.053,1.411,0.729,1.411,1.514c0,0.033-0.002,0.073-0.005,0.126     c-0.045,0.643-0.071,1.432-0.071,2.306c0,2.209,0.165,4.97,0.642,7.57c0.496,2.6,1.214,5.042,2.752,6.735     C67.913,70.474,69.125,71.03,70.314,70.999z M87.487,53.07v-0.002l-16.639,7.76c-1.043,0.484-2.131,0.711-3.214,0.711     c-0.132,0-0.262-0.018-0.393-0.028c-0.062-0.402-0.126-0.803-0.175-1.212c0.792-0.546,1.316-1.449,1.318-2.485V22.672     c-0.002-2.395-0.767-4.608-2.055-6.425c0.038-0.001,0.078-0.008,0.116-0.008h0.038c2.439,0,4.943,1.62,7.438,4.714l17.34,22.08     c0.438,0.995,0.643,2.033,0.645,3.061C91.905,48.989,90.261,51.778,87.487,53.07z"})))),n.default.createElement("g",null,n.default.createElement("path",{d:"M50.157,93.705c-0.225,0-0.453,0.004-0.682,0.004l0,0c-12.14-0.004-23.118-3.309-31.142-9.75l0,0   c-8.015-6.418-12.962-16.037-12.957-28.07l0,0c-0.001-0.027-0.002-0.064-0.002-0.115l0,0C5.372,43.754,10.319,33,18.306,25.289l0,0   c7.987-7.718,19.023-12.414,31.197-12.414l0,0c0.214,0,0.438,0,0.67,0.006l0,0c0.197-0.002,0.4-0.006,0.615-0.006l0,0   c12.174,0,23.21,4.696,31.194,12.412l0,0c7.974,7.695,12.913,18.421,12.932,30.408l0,0l0.005,0.05v0.089   c0.021,12.06-4.929,21.7-12.957,28.126l0,0c-8.023,6.441-19.003,9.746-31.141,9.75l0,0C50.589,93.709,50.361,93.705,50.157,93.705   L50.157,93.705z M9.101,55.79v0.043c0.018,11.054,4.381,19.424,11.564,25.223l0,0c7.193,5.787,17.333,8.932,28.81,8.932l0,0   c0.214,0,0.436-0.004,0.682-0.004l0,0c0.225,0,0.443,0.004,0.664,0l0,0c11.474,0.004,21.615-3.138,28.807-8.925l0,0   C86.8,75.267,91.16,66.92,91.194,55.894l0,0c-0.002-0.035-0.005-0.076-0.005-0.126l0,0c-0.002-21.942-17.981-39.153-40.401-39.171   l0,0c-0.192,0-0.396,0.005-0.608,0.007l0,0h-0.049h-0.037c-0.188-0.005-0.382-0.007-0.591-0.007l0,0   C27.1,16.615,9.127,33.803,9.096,55.724l0,0c0.001,0.001,0.001,0.002,0.001,0.015l0,0L9.101,55.79L9.101,55.79z M93.059,55.833   l1.851-0.185L93.059,55.833L93.059,55.833z"}),n.default.createElement("path",{d:"M34.837,43.667c0,2.334-1.891,4.225-4.225,4.225c-2.334,0-4.225-1.891-4.225-4.225c0-2.332,1.891-4.224,4.225-4.224   C32.946,39.443,34.837,41.335,34.837,43.667"}),n.default.createElement("path",{d:"M73.913,43.667c0,2.334-1.891,4.225-4.225,4.225c-2.335,0-4.226-1.891-4.226-4.225c0-2.332,1.891-4.224,4.226-4.224   C72.022,39.443,73.913,41.335,73.913,43.667"}),n.default.createElement("path",{d:"M38.208,81.05c-7.99-0.006-14.498-6.513-14.503-14.503l0,0c0.006-7.992,6.516-14.498,14.503-14.504l0,0h23.919   c7.988,0.006,14.497,6.512,14.506,14.504l0,0c-0.009,7.99-6.516,14.497-14.506,14.503l0,0v-1.861v-1.864   c5.916-0.007,10.771-4.862,10.78-10.777l0,0c-0.01-5.918-4.862-10.771-10.78-10.782l0,0l-23.919,0.003   c-5.918,0.008-10.771,4.861-10.779,10.779l0,0c0.009,5.915,4.864,10.771,10.779,10.781l0,0h23.919v1.86v1.861H38.208L38.208,81.05z   "}),n.default.createElement("path",{d:"M44.482,66.413c0,2.123-1.721,3.847-3.845,3.847c-2.125,0-3.847-1.724-3.847-3.847s1.722-3.847,3.847-3.847   C42.761,62.566,44.482,64.29,44.482,66.413"}),n.default.createElement("path",{d:"M63.303,66.413c0,2.123-1.722,3.847-3.845,3.847c-2.125,0-3.847-1.724-3.847-3.847s1.722-3.847,3.847-3.847   C61.581,62.566,63.303,64.29,63.303,66.413"}),n.default.createElement("path",{d:"M13.443,33.256c-0.372-1.087-0.832-2.508-1.292-4.125c-1.064-3.703-2.103-8.425-2.095-12.237   c-0.01-2.272,0.386-4.173,1.098-5.28c0.733-1.085,1.52-1.653,3.483-1.705c0.038,0,0.076,0,0.114,0   c3.075-0.001,8.686,2.18,17.123,8.068c1.379-0.55,2.827-1.042,4.363-1.445C26.181,9.231,19.565,6.246,14.637,6.187   c-2.943-0.052-5.38,1.344-6.641,3.453c-1.285,2.085-1.653,4.607-1.665,7.255c0.036,8.833,4.442,19.875,4.46,19.985l0.346,0.884   c0.655-1.34,1.563-3.01,2.775-4.842L13.443,33.256z"}),n.default.createElement("path",{d:"M84.058,9.911c1.966,0.05,2.753,0.618,3.487,1.703c0.711,1.109,1.109,3.008,1.099,5.282   c0.008,3.809-1.031,8.533-2.091,12.236c-0.391,1.367-0.775,2.58-1.111,3.583c0.542,0.732,1.074,1.491,1.594,2.286l0.226-0.316   l-0.226,0.316c0.335,0.513,0.662,1.042,0.986,1.581c0.68-1.819,4.315-11.663,4.346-19.686c-0.011-2.648-0.38-5.173-1.667-7.256   c-1.261-2.108-3.698-3.503-6.643-3.454c-4.895,0.062-11.463,3.012-21.424,10.227c1.159,0.347,2.599,0.843,4.233,1.539   C75.387,12.007,81.02,9.854,84.058,9.911z"})))};o.propTypes={className:r.default.string};var s=o;t.default=s},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(0)),r=l(a(1)),o=function ERCCIcon(e){return n.default.createElement("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 463 463",className:e.className},n.default.createElement("g",null,n.default.createElement("path",{d:"M103.5,251c1.97,0,3.91-0.8,5.3-2.2c1.4-1.39,2.2-3.32,2.2-5.3c0-1.97-0.8-3.91-2.2-5.3c-1.39-1.4-3.33-2.2-5.3-2.2 c-1.97,0-3.91,0.8-5.3,2.2c-1.4,1.39-2.2,3.33-2.2,5.3c0,1.98,0.8,3.91,2.2,5.3C99.59,250.2,101.53,251,103.5,251z"}),n.default.createElement("path",{d:"M79.5,283c1.97,0,3.91-0.8,5.3-2.2c1.4-1.39,2.2-3.33,2.2-5.3c0-1.97-0.8-3.91-2.2-5.3c-1.39-1.4-3.33-2.2-5.3-2.2 c-1.97,0-3.91,0.8-5.3,2.2c-1.4,1.39-2.2,3.33-2.2,5.3c0,1.97,0.8,3.91,2.2,5.3C75.59,282.2,77.53,283,79.5,283z"}),n.default.createElement("path",{d:"M375.5,251c1.97,0,3.91-0.8,5.3-2.2c1.4-1.39,2.2-3.33,2.2-5.3c0-1.97-0.8-3.91-2.2-5.3c-1.39-1.4-3.33-2.2-5.3-2.2 c-1.97,0-3.91,0.8-5.3,2.2c-1.4,1.39-2.2,3.33-2.2,5.3c0,1.97,0.8,3.91,2.2,5.3C371.59,250.2,373.53,251,375.5,251z"}),n.default.createElement("path",{d:"M359.5,227c1.97,0,3.91-0.8,5.3-2.2c1.4-1.39,2.2-3.33,2.2-5.3c0-1.97-0.8-3.91-2.2-5.3c-1.39-1.4-3.33-2.2-5.3-2.2 c-1.97,0-3.91,0.8-5.3,2.2c-1.4,1.39-2.2,3.33-2.2,5.3c0,1.97,0.8,3.91,2.2,5.3C355.59,226.2,357.53,227,359.5,227z"}),n.default.createElement("path",{d:"M359.5,291c1.97,0,3.91-0.8,5.3-2.2c1.4-1.39,2.2-3.33,2.2-5.3c0-1.97-0.8-3.91-2.2-5.3c-1.39-1.4-3.33-2.2-5.3-2.2 c-1.97,0-3.91,0.8-5.3,2.2c-1.4,1.39-2.2,3.33-2.2,5.3c0,1.97,0.8,3.91,2.2,5.3C355.59,290.2,357.53,291,359.5,291z"}),n.default.createElement("path",{d:"M375.5,323c1.97,0,3.91-0.8,5.3-2.2c1.4-1.39,2.2-3.33,2.2-5.3c0-1.97-0.8-3.91-2.2-5.3c-1.39-1.4-3.33-2.2-5.3-2.2 c-1.98,0-3.91,0.8-5.3,2.2c-1.4,1.39-2.2,3.33-2.2,5.3c0,1.97,0.8,3.91,2.2,5.3C371.59,322.2,373.53,323,375.5,323z"}),n.default.createElement("path",{d:"M239.5,275c1.97,0,3.91-0.8,5.3-2.2c1.4-1.39,2.2-3.32,2.2-5.3c0-1.97-0.8-3.91-2.2-5.3c-1.39-1.4-3.33-2.2-5.3-2.2 c-1.97,0-3.91,0.8-5.3,2.2c-1.4,1.39-2.2,3.33-2.2,5.3c0,1.98,0.8,3.91,2.2,5.3C235.59,274.2,237.53,275,239.5,275z"}),n.default.createElement("path",{d:"M231.5,315c1.97,0,3.91-0.8,5.3-2.2c1.4-1.39,2.2-3.33,2.2-5.3c0-1.97-0.8-3.91-2.2-5.3c-1.39-1.4-3.33-2.2-5.3-2.2 c-1.97,0-3.91,0.8-5.3,2.2c-1.4,1.39-2.2,3.32-2.2,5.3s0.8,3.91,2.2,5.3C227.59,314.2,229.53,315,231.5,315z"}),n.default.createElement("path",{d:"M103.5,315c1.97,0,3.91-0.8,5.3-2.2c1.4-1.39,2.2-3.33,2.2-5.3c0-1.98-0.8-3.91-2.2-5.3c-1.39-1.4-3.33-2.2-5.3-2.2 c-1.97,0-3.91,0.8-5.3,2.2c-1.4,1.39-2.2,3.32-2.2,5.3c0,1.97,0.8,3.91,2.2,5.3C99.59,314.2,101.53,315,103.5,315z"}),n.default.createElement("path",{d:"M431.5,180H415V51.5c0-4.687,3.813-8.5,8.5-8.5c4.142,0,7.5-3.358,7.5-7.5s-3.358-7.5-7.5-7.5h-112 c-4.142,0-7.5,3.358-7.5,7.5s3.358,7.5,7.5,7.5c4.687,0,8.5,3.813,8.5,8.5V180h-41V51.5c0-4.687,3.813-8.5,8.5-8.5 c4.142,0,7.5-3.358,7.5-7.5s-3.358-7.5-7.5-7.5h-112c-4.142,0-7.5,3.358-7.5,7.5s3.358,7.5,7.5,7.5c4.687,0,8.5,3.813,8.5,8.5V180 h-41V51.5c0-4.687,3.813-8.5,8.5-8.5c4.142,0,7.5-3.358,7.5-7.5s-3.358-7.5-7.5-7.5h-112c-4.142,0-7.5,3.358-7.5,7.5 s3.358,7.5,7.5,7.5c4.687,0,8.5,3.813,8.5,8.5V180H31.5C14.131,180,0,194.131,0,211.5v176C0,404.869,14.131,419,31.5,419H32v8.5 c0,4.142,3.358,7.5,7.5,7.5s7.5-3.358,7.5-7.5V419h369v8.5c0,4.142,3.358,7.5,7.5,7.5s7.5-3.358,7.5-7.5V419h0.5 c17.369,0,31.5-14.131,31.5-31.5v-176C463,194.131,448.869,180,431.5,180z M401.597,43C400.57,45.638,400,48.503,400,51.5v102.719 c-0.638-0.345-1.282-0.73-1.984-1.151c-3.765-2.258-8.451-5.068-17.197-5.068s-13.432,2.81-17.197,5.068 c-2.945,1.766-4.89,2.932-9.484,2.932c-4.58,0-6.52-1.166-9.457-2.929c-2.506-1.506-5.429-3.252-9.681-4.253V51.5 c0-2.997-0.57-5.862-1.597-8.5H401.597z M335,164.791c0.629,0.342,1.265,0.722,1.957,1.138c3.761,2.259,8.442,5.071,17.181,5.071 c8.747,0,13.433-2.81,17.198-5.068c2.944-1.766,4.889-2.932,9.483-2.932s6.539,1.167,9.483,2.932 c2.511,1.505,5.438,3.252,9.698,4.252V180h-65V164.791z M335,195h65v136.5c0,17.92-14.58,32.5-32.5,32.5S335,349.42,335,331.5V195z M197.403,43h68.195C264.57,45.638,264,48.503,264,51.5V180h-65V51.5C199,48.503,198.43,45.638,197.403,43z M199,236.791 c0.629,0.342,1.265,0.722,1.957,1.138c3.761,2.259,8.442,5.071,17.181,5.071c8.747,0,13.433-2.81,17.198-5.068 c2.944-1.766,4.889-2.932,9.483-2.932s6.539,1.167,9.483,2.932c2.511,1.505,5.438,3.252,9.698,4.252V331.5 c0,17.92-14.58,32.5-32.5,32.5S199,349.42,199,331.5V236.791z M264,226.219c-0.638-0.345-1.282-0.73-1.984-1.151 c-3.765-2.258-8.451-5.068-17.197-5.068s-13.432,2.81-17.197,5.068c-2.945,1.766-4.89,2.932-9.484,2.932 c-4.58,0-6.52-1.166-9.457-2.929c-2.506-1.506-5.429-3.252-9.681-4.253V195h65V226.219z M61.403,43h68.195 C128.57,45.638,128,48.503,128,51.5V180H63V51.5C63,48.503,62.43,45.638,61.403,43z M63,220.791 c0.629,0.342,1.265,0.722,1.957,1.138c3.761,2.259,8.442,5.071,17.181,5.071c8.747,0,13.433-2.81,17.198-5.068 c2.944-1.766,4.889-2.932,9.483-2.932s6.539,1.167,9.483,2.932c2.511,1.505,5.438,3.252,9.698,4.252V331.5 c0,17.92-14.58,32.5-32.5,32.5S63,349.42,63,331.5V220.791z M128,210.219c-0.638-0.345-1.282-0.73-1.984-1.151 c-3.765-2.258-8.451-5.068-17.197-5.068s-13.432,2.81-17.197,5.068c-2.945,1.766-4.89,2.932-9.484,2.932 c-4.58,0-6.52-1.166-9.457-2.929c-2.506-1.506-5.429-3.252-9.681-4.253V195h65V210.219z M448,387.5c0,9.098-7.402,16.5-16.5,16.5 h-400c-9.098,0-16.5-7.402-16.5-16.5v-176c0-9.098,7.402-16.5,16.5-16.5H48v136.5c0,26.191,21.309,47.5,47.5,47.5 s47.5-21.309,47.5-47.5V195h41v136.5c0,26.191,21.309,47.5,47.5,47.5s47.5-21.309,47.5-47.5V195h41v136.5 c0,26.191,21.309,47.5,47.5,47.5s47.5-21.309,47.5-47.5V195h16.5c9.098,0,16.5,7.402,16.5,16.5V387.5z"})))};o.propTypes={className:r.default.string};var s=o;t.default=s},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(0)),r=l(a(1)),o=function HumanIcon(e){return n.default.createElement("svg",{className:e.className,x:"0px",y:"0px",viewBox:"0 0 511.997 511.997"},n.default.createElement("g",null,n.default.createElement("g",null,n.default.createElement("path",{d:"M157.897,185.906c-3.217-2.609-7.939-2.117-10.549,1.101c-3.03,3.736-7.047,5.793-11.313,5.793 c-4.266,0-8.283-2.058-11.313-5.793c-2.609-3.217-7.333-3.709-10.549-1.101c-3.217,2.609-3.71,7.332-1.101,10.549 c5.847,7.21,14.217,11.345,22.963,11.345c8.746,0,17.115-4.135,22.963-11.345C161.607,193.238,161.114,188.515,157.897,185.906z"}))),n.default.createElement("g",null,n.default.createElement("g",null,n.default.createElement("path",{d:"M101.759,141.386c-4.142,0-7.5,3.358-7.5,7.5v8.569c0,4.142,3.358,7.5,7.5,7.5c4.142,0,7.5-3.358,7.5-7.5v-8.569 C109.259,144.744,105.901,141.386,101.759,141.386z"}))),n.default.createElement("g",null,n.default.createElement("g",null,n.default.createElement("path",{d:"M170.311,141.386c-4.142,0-7.5,3.358-7.5,7.5v8.569c0,4.142,3.357,7.5,7.5,7.5c4.142,0,7.5-3.358,7.5-7.5v-8.569 C177.811,144.744,174.453,141.386,170.311,141.386z"}))),n.default.createElement("g",null,n.default.createElement("g",null,n.default.createElement("path",{d:"M406.397,228.75c-3.217-2.609-7.94-2.117-10.549,1.101c-3.03,3.735-7.048,5.793-11.313,5.793 c-4.266,0-8.283-2.058-11.313-5.793c-2.608-3.217-7.332-3.71-10.549-1.101c-3.217,2.609-3.709,7.332-1.1,10.549 c5.846,7.211,14.216,11.345,22.962,11.345c8.746,0,17.115-4.135,22.962-11.345C410.106,236.082,409.614,231.359,406.397,228.75z"}))),n.default.createElement("g",null,n.default.createElement("g",null,n.default.createElement("path",{d:"M350.259,184.231c-4.142,0-7.5,3.358-7.5,7.5v8.569c0,4.142,3.358,7.5,7.5,7.5c4.142,0,7.5-3.358,7.5-7.5v-8.569 C357.759,187.589,354.401,184.231,350.259,184.231z"}))),n.default.createElement("g",null,n.default.createElement("g",null,n.default.createElement("path",{d:"M418.811,184.231c-4.142,0-7.5,3.358-7.5,7.5v8.569c0,4.142,3.357,7.5,7.5,7.5c4.142,0,7.5-3.358,7.5-7.5v-8.569 C426.311,187.589,422.953,184.231,418.811,184.231z"}))),n.default.createElement("g",null,n.default.createElement("g",null,n.default.createElement("path",{d:"M491.126,332.545l-58.757-23.503c-0.318-0.127-0.612-0.289-0.91-0.445c40.583-9.234,59.803-24.676,60.656-25.375 c2.029-1.663,3.042-4.265,2.671-6.862c-0.085-0.594-8.494-60.135-8.494-118.904c0-56.11-45.649-101.759-101.759-101.759 c-56.11,0-101.758,45.648-101.758,101.759c0,15.374-0.698,34.178-1.834,51.979l-16.373,8.187l-48.06-24.029 c-0.138-0.069-0.283-0.119-0.424-0.179c2.286-6.663,3.781-13.689,4.33-20.98c10.053-3.106,17.378-12.487,17.378-23.547 c0-7.449-3.328-14.131-8.569-18.653v-49.9c0-13.785-6.965-26.683-18.387-34.433c-3.87-14.38-16.79-24.481-31.958-24.481h-68.552 c-37.21,0-67.483,30.273-67.483,67.483v41.33c-5.241,4.521-8.569,11.204-8.569,18.653c0,11.06,7.325,20.441,17.378,23.547 c1.894,25.179,14.87,47.302,34.036,61.54v20.73L23.664,273.31C9.51,277.557,0,290.338,0,305.116v83.701c0,4.142,3.358,7.5,7.5,7.5 h1.069v86.759c0,4.142,3.358,7.5,7.5,7.5c4.142,0,7.5-3.358,7.5-7.5v-86.759h27.845v86.759c0,4.142,3.358,7.5,7.5,7.5 c4.142,0,7.5-3.358,7.5-7.5v-129.32c0-6.578-1.929-12.948-5.577-18.42l-12.82-19.23c-2.298-3.447-6.955-4.377-10.4-2.081 c-3.447,2.297-4.378,6.954-2.08,10.401l12.82,19.231c2,3,3.058,6.492,3.058,10.099v27.561H16.069H15v-76.201 c0-8.103,5.214-15.11,12.976-17.439l25.747-7.724c8.966,37.542,43.017,64.95,82.312,64.95c14.117,0,27.827-3.481,40.104-10.105 c4.487,6.121,11.724,10.105,19.878,10.105h1.069v1.069c0,25.143,13.832,47.103,34.276,58.712v12.233 c0,0.46-0.294,0.868-0.731,1.014l-27.977,9.326c-13.581,4.527-22.706,17.187-22.706,31.503v24.316c0,4.142,3.358,7.5,7.5,7.5 c4.142,0,7.5-3.358,7.5-7.5V458.76c0-7.849,5.003-14.791,12.449-17.272l8.227-2.743c10.884,16.232,29.189,26.125,48.944,26.125 c19.776,0,38.064-9.887,48.946-26.124l8.225,2.742c7.446,2.482,12.449,9.423,12.449,17.272v24.316c0,4.142,3.358,7.5,7.5,7.5 c4.142,0,7.5-3.358,7.5-7.5V458.76c0-14.316-9.125-26.976-22.706-31.502l-27.977-9.326c-0.437-0.146-0.731-0.553-0.731-1.014 v-12.233c15.307-8.692,26.893-23.188,31.753-40.481c14.173,14.83,33.968,23.546,55.005,23.546 c33.212,0,62.353-21.469,72.391-52.728l28.629,11.451c6.953,2.781,11.445,9.417,11.445,16.904v35.079h-1.069h-26.776v-9.638 c0-4.142-3.358-7.5-7.5-7.5c-4.142,0-7.5,3.358-7.5,7.5v94.259c0,4.142,3.358,7.5,7.5,7.5c4.142,0,7.5-3.358,7.5-7.5v-69.621 h19.276v69.621c0,4.142,3.358,7.5,7.5,7.5c4.142,0,7.5-3.358,7.5-7.5v-69.621h1.069c1.989,0,3.896-0.79,5.303-2.196 c1.407-1.407,2.197-3.314,2.197-5.304v-42.579C512,349.719,503.807,337.617,491.126,332.545z M297.776,157.455 c0-47.839,38.92-86.759,86.759-86.759c47.839,0,86.758,38.92,86.758,86.759c0,50.363,6.065,101.274,8.036,116.479 c-6.721,4.397-23.929,14.081-53.018,20.445v-11.935c3.984-2.258,7.798-4.835,11.384-7.733 c14.758-11.929,25.187-28.636,29.363-47.042c1.392-6.133,2.098-12.458,2.098-18.799c0-42.391-30.657-48.477-60.305-54.363 c-18.865-3.745-38.372-7.618-53.906-20.045c-2.251-1.801-5.335-2.152-7.934-0.903c-2.599,1.249-4.251,3.876-4.251,6.76 c0,0.199-0.327,19.933-28.595,27c-4.019,1.005-6.462,5.077-5.457,9.096c1.004,4.019,5.077,6.46,9.095,5.457 c23.66-5.915,33.312-19.188,37.248-29.16c16.264,9.638,34.483,13.254,50.879,16.509c31.689,6.291,48.226,10.912,48.226,39.65 c0,5.226-0.581,10.434-1.726,15.48c-3.435,15.134-12.016,28.876-24.165,38.696c-12.5,10.104-27.622,15.444-43.73,15.444 c-14.684,0-28.659-4.504-40.519-13.015c-4.345-11.859-11.324-22.709-20.533-31.649v-33.525c0-2.6-1.346-5.014-3.557-6.38 c-2.211-1.366-4.971-1.491-7.297-0.328l-16.193,8.096C297.324,186.071,297.776,171.221,297.776,157.455z M308.483,212.435v27.143 l-27.144-13.571L308.483,212.435z M220.655,212.435l27.143,13.572l-27.143,13.571V212.435z M179.948,294.558v7.123 c-5.37,4.637-8.569,11.423-8.569,18.583c-10.682,6.311-22.817,9.639-35.345,9.639c-32.624,0-60.849-22.958-67.91-54.27 l18.529-5.559c4.571,23.088,24.972,40.553,49.382,40.553c19.383,0,36.231-11.017,44.641-27.112 C180.195,287.157,179.948,290.845,179.948,294.558z M100.69,260.27v-17.373c10.762,4.97,22.734,7.747,35.345,7.747 c12.61,0,24.583-2.778,35.345-7.746v17.383c0,19.489-15.855,35.345-35.345,35.345c-19.457,0-35.29-15.804-35.343-35.249 C100.692,260.341,100.69,260.305,100.69,260.27z M136.035,235.644c-38.39,0-69.621-31.231-69.621-69.62c0-4.142-3.358-7.5-7.5-7.5 c-5.314,0-9.638-4.324-9.638-9.638c0-5.314,4.323-9.638,9.638-9.638h17.138c3.228,0,6.094-2.065,7.115-5.128l6.884-20.652 c17.235-0.389,70.664-2.812,100.751-17.856c3.705-1.853,5.207-6.357,3.354-10.062c-1.852-3.705-6.356-5.207-10.062-3.354 c-32.281,16.14-98.807,16.346-99.475,16.346c-3.228,0.001-6.094,2.066-7.114,5.129l-6.859,20.578H58.914 c-0.358,0-0.714,0.012-1.069,0.027V88.903c0-28.939,23.544-52.483,52.483-52.483h68.552c8.956,0,16.48,6.455,17.893,15.347 c0.359,2.26,1.73,4.232,3.723,5.356c8.468,4.776,13.729,13.669,13.729,23.21v43.941c-0.355-0.016-0.71-0.027-1.069-0.027h-8.569 c-4.142,0-7.5,3.358-7.5,7.5c0,4.142,3.358,7.5,7.5,7.5h8.569c5.314,0,9.638,4.323,9.638,9.638s-4.323,9.638-9.638,9.638 c-4.142,0-7.5,3.358-7.5,7.5C205.656,204.412,174.425,235.644,136.035,235.644z M186.379,260.283v-26.31 c7.461-5.543,13.982-12.276,19.276-19.928v19.781c-8.399,8.154-14.946,17.895-19.329,28.543 C186.355,261.676,186.379,260.982,186.379,260.283z M298.548,433.756c-8.257,10.087-20.661,16.113-33.979,16.113 c-13.302,0-25.714-6.03-33.974-16.114l4.78-1.593c6.572-2.19,10.988-8.317,10.988-15.244v-5.978 c5.796,1.627,11.898,2.516,18.207,2.516c6.309,0,12.411-0.889,18.207-2.516v5.978c-0.001,6.926,4.414,13.053,10.987,15.243 L298.548,433.756z M324.553,329.903c-4.142,0-7.5,3.358-7.5,7.5v7.457c0,0.065-0.001,0.13,0,0.195v0.917 c-0.001,28.939-23.545,52.483-52.484,52.483c-28.939,0-52.482-23.544-52.482-52.483v-8.569c0-4.142-3.358-7.5-7.5-7.5h-8.569 c-5.314,0-9.638-4.323-9.638-9.638c0-3.42,1.81-6.515,4.841-8.279c0.677-0.394,1.266-0.893,1.776-1.457 c18.54-0.537,78.639-4.026,118.138-26.597c3.596-2.055,4.846-6.636,2.791-10.233c-2.055-3.597-6.638-4.846-10.233-2.791 c-34.602,19.772-88.974,23.731-108.744,24.522v-0.872c0-13.949,4.224-27.458,11.878-38.847c0.599,0.949,1.4,1.773,2.386,2.382 c1.205,0.744,2.572,1.12,3.943,1.12c1.146,0,2.295-0.263,3.354-0.792l48.06-24.03l48.06,24.03 c1.059,0.529,2.208,0.792,3.354,0.792c1.372,0,2.739-0.376,3.943-1.12c0.985-0.609,1.786-1.434,2.385-2.382 c7.654,11.389,11.878,24.898,11.878,38.847v10.946c0,2.67,1.419,5.139,3.728,6.482c3.032,1.765,4.842,4.859,4.842,8.279 c0,5.314-4.324,9.638-9.638,9.638H324.553z M384.535,372.748c-20.764,0-40.028-10.571-51.242-27.849 c13.506-0.093,24.466-11.106,24.466-24.633c0-7.16-3.199-13.947-8.569-18.584v-7.123c0-3.019-0.163-6.021-0.482-8.995 c11.121,5.214,23.263,7.925,35.827,7.925c9.145,0,18.189-1.515,26.776-4.379v10.983c0,10.133,6.079,19.113,15.487,22.876 l16.173,6.469C435.22,355.066,411.55,372.748,384.535,372.748z"}))),n.default.createElement("g",null,n.default.createElement("g",null,n.default.createElement("path",{d:"M286.432,357.285c-3.217-2.609-7.94-2.117-10.549,1.101c-3.031,3.736-7.048,5.793-11.313,5.793 c-4.265,0-8.283-2.057-11.313-5.793c-2.609-3.217-7.333-3.71-10.549-1.101c-3.217,2.609-3.71,7.332-1.101,10.549 c5.848,7.209,14.217,11.345,22.963,11.345c8.746,0,17.115-4.135,22.963-11.344C290.141,364.618,289.648,359.894,286.432,357.285z"}))),n.default.createElement("g",null,n.default.createElement("g",null,n.default.createElement("circle",{cx:"239",cy:"328.868",r:"7.5"}))),n.default.createElement("g",null,n.default.createElement("g",null,n.default.createElement("circle",{cx:"290",cy:"328.868",r:"7.5"}))))};o.propTypes={className:r.default.string};var s=o;t.default=s},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(0)),r=l(a(1)),o=function MosquitoIcon(e){return n.default.createElement("svg",{className:e.className,x:"0px",y:"0px",viewBox:"0 0 463.003 463.003"},n.default.createElement("path",{d:"M359.418,189.996c12.73-3.407,35.161-10.159,42.347-17.101c5.774-5.578,7.161-13.759,3.62-21.351 c-5.167-11.076-18.691-17.164-34.458-15.502c-10.467,1.102-33.561,7.968-58.011,15.238c-20.258,6.023-44.515,13.235-57.914,15.777 v-7.556c0-1.22-0.094-2.419-0.274-3.589l24.98-14.988c9.434-5.66,15.294-16.01,15.294-27.011V89.579l46.932-78.219 c2.131-3.552,0.979-8.159-2.573-10.29c-3.552-2.131-8.159-0.98-10.29,2.572l-48,80c-0.699,1.166-1.068,2.5-1.068,3.859v26.412 c0,5.762-3.069,11.184-8.011,14.148l-24.203,14.522c-2.473-2.381-5.463-4.226-8.786-5.348V71.501c0-4.142-3.357-7.5-7.5-7.5 s-7.5,3.358-7.5,7.5v65.734c-3.322,1.122-6.313,2.966-8.786,5.348l-24.203-14.522c-4.941-2.965-8.011-8.386-8.011-14.148V87.501 c0-1.359-0.369-2.693-1.068-3.859l-48-80c-2.133-3.552-6.738-4.702-10.29-2.572c-3.552,2.131-4.704,6.738-2.573,10.29l46.932,78.219 v24.334c0,11.001,5.86,21.351,15.294,27.011l24.98,14.988c-0.18,1.171-0.274,2.369-0.274,3.589v7.556 c-13.399-2.542-37.656-9.754-57.914-15.777c-24.45-7.27-47.544-14.136-58.011-15.238c-15.763-1.658-29.29,4.427-34.458,15.502 c-3.541,7.591-2.154,15.772,3.62,21.351c7.186,6.942,29.616,13.694,42.347,17.101c21.07,5.639,41.239,9.005,53.951,9.005 c10.197,0,21.08-1.139,30.733-2.57l-16.829,14.024c-6.79,5.659-11.857,13.083-14.653,21.47l-19.979,59.936l-63.164,78.956 c-2.588,3.234-2.063,7.954,1.171,10.542c1.383,1.106,3.038,1.644,4.681,1.644c2.2,0,4.38-0.964,5.861-2.815l64-80 c0.553-0.691,0.979-1.474,1.259-2.313l20.401-61.205c1.913-5.738,5.38-10.818,10.026-14.69l26.957-22.464v5.356l-21.591,26.989 c-6.712,8.389-10.409,18.927-10.409,29.673v56.292l-63.286,134.483c-1.764,3.748-0.155,8.216,3.593,9.979 c1.032,0.486,2.118,0.716,3.188,0.716c2.814,0,5.513-1.593,6.791-4.309l64-136c0.47-0.999,0.714-2.089,0.714-3.193v-57.969 c0-7.353,2.529-14.563,7.122-20.303l9.878-12.348v26.619c0,22.519,10.103,39.5,23.5,39.5s23.5-16.981,23.5-39.5v-26.619 l9.878,12.348c4.593,5.74,7.122,12.95,7.122,20.302v57.969c0,1.104,0.244,2.194,0.714,3.193l64,136 c1.278,2.716,3.976,4.309,6.791,4.309c1.069,0,2.156-0.23,3.188-0.716c3.748-1.764,5.356-6.232,3.593-9.979l-63.286-134.483v-56.292 c0-10.746-3.697-21.284-10.409-29.673l-21.591-26.989v-5.356l26.957,22.464c4.646,3.872,8.113,8.952,10.026,14.689l20.401,61.205 c0.28,0.839,0.706,1.623,1.259,2.313l64,80c1.481,1.852,3.661,2.815,5.861,2.815c1.643,0,3.298-0.538,4.681-1.644 c3.234-2.587,3.759-7.307,1.171-10.542l-63.164-78.956l-19.979-59.937c-2.796-8.386-7.863-15.81-14.653-21.469l-16.829-14.024 c9.653,1.431,20.536,2.57,30.733,2.57C318.178,199.001,338.347,195.635,359.418,189.996z M317.19,165.658 c22.722-6.756,46.217-13.742,55.307-14.698c10.576-1.115,17.312,2.677,19.294,6.926c0.809,1.733,0.657,3.153-0.448,4.221 c-6.067,5.861-58.5,21.894-85.876,21.894c-13.068,0-27.758-2.11-38.832-4.132C279.162,176.881,296.154,171.913,317.19,165.658z M223.002,200.001v-18.597c2.638,1.027,5.503,1.597,8.5,1.597s5.862-0.57,8.5-1.597v18.597H223.002z M240.002,215.001v17h-17v-17 H240.002z M231.502,151.001c4.687,0,8.5,3.813,8.5,8.5s-3.813,8.5-8.5,8.5s-8.5-3.813-8.5-8.5S226.815,151.001,231.502,151.001z M71.661,162.107c-1.105-1.068-1.257-2.488-0.448-4.221c1.744-3.739,7.168-7.123,15.653-7.123c1.157,0,2.372,0.063,3.641,0.197 c9.09,0.956,32.585,7.942,55.307,14.698c21.036,6.255,38.028,11.223,50.556,14.211c-11.074,2.021-25.764,4.132-38.832,4.132 C130.161,184.001,77.728,167.969,71.661,162.107z M231.502,280.001c-2.116,0-8.5-8.689-8.5-24.5v-8.5h17v8.5 C240.002,271.312,233.618,280.001,231.502,280.001z"}))};o.propTypes={className:r.default.string};var s=o;t.default=s},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(0)),r=l(a(1)),o=function MouseIcon(e){return n.default.createElement("svg",{className:e.className,x:"0px",y:"0px",viewBox:"0 0 463.003 463.003"},n.default.createElement("g",null,n.default.createElement("path",{d:"M210.273,269.991c0-4.373-3.545-7.917-7.917-7.917h-39.004c-4.373,0-7.918,3.545-7.918,7.917 c0,4.373,3.545,7.918,7.918,7.918h39.004C206.728,277.909,210.273,274.364,210.273,269.991z"}),n.default.createElement("path",{d:"M175.54,234.866c4.373,0,7.918-3.545,7.918-7.918c0-3.353,2.728-6.081,6.081-6.081c3.353,0,6.081,2.728,6.081,6.081 c0,4.373,3.545,7.918,7.918,7.918c4.373,0,7.918-3.545,7.918-7.918c0-12.084-9.831-21.916-21.916-21.916 c-12.084,0-21.916,9.831-21.916,21.916C167.622,231.322,171.167,234.866,175.54,234.866z"}),n.default.createElement("path",{d:"M256,232.779c-20.519,0-37.212,16.693-37.212,37.212c0,20.519,16.693,37.212,37.212,37.212 c20.518,0,37.212-16.693,37.212-37.212C293.212,249.472,276.518,232.779,256,232.779z M256,291.368 c-11.788,0-21.377-9.59-21.377-21.377c0-11.788,9.59-21.377,21.377-21.377s21.377,9.59,21.377,21.377 S267.788,291.368,256,291.368z"}),n.default.createElement("path",{d:"M401.196,2.296c-45.195,0-85.45,27.263-102.447,68.565c-13.671-3.518-27.995-5.39-42.748-5.39s-29.077,1.873-42.748,5.39 C196.254,29.558,156,2.296,110.805,2.296C49.706,2.296,0,52.002,0,113.1c0,26.4,9.441,51.971,26.585,72.002 c15.302,17.88,35.889,30.387,58.571,35.779c-0.503,5.335-0.771,10.739-0.771,16.203c0,45.338,17.308,79.977,51.442,102.953 c5.659,3.81,11.798,7.265,18.369,10.368c-11.509,18.723-17.552,40.075-17.552,62.32c0,6.744,0.573,13.156,1.69,19.231 c-22.722-9.759-42.908-25.538-57.797-45.447c-18.376-24.572-28.088-53.826-28.088-84.604v-31.462 c0-4.373-3.545-7.918-7.918-7.918s-7.918,3.545-7.918,7.918v31.462c0,34.222,10.804,66.756,31.243,94.087 c19.133,25.584,46.139,45.042,76.29,55.103c1.596,3.625,3.44,7.083,5.53,10.371c-7.457,4.583-12.383,12.801-12.383,22.181 c0,14.368,11.689,26.057,26.057,26.057h52.374c5.673,0,11.205-1.898,15.703-5.295c7.763,0.861,15.956,1.304,24.572,1.304 c8.614,0,16.807-0.442,24.572-1.304c4.498,3.398,10.03,5.295,15.703,5.295h52.374c14.368,0,26.057-11.689,26.057-26.057 c0-9.38-4.926-17.598-12.383-22.181c8.561-13.472,13.033-29.811,13.033-48.741c0-22.245-6.043-43.597-17.552-62.32 c6.572-3.103,12.709-6.558,18.37-10.368c34.134-22.977,51.442-57.615,51.442-102.953c0-5.465-0.268-10.868-0.771-16.205 c22.681-5.391,43.268-17.899,58.57-35.779C502.559,165.071,512,139.5,512,113.1C512,52.002,462.294,2.296,401.196,2.296z M87.379,205.141c-18.868-4.799-35.966-15.381-48.764-30.335c-14.69-17.165-22.78-39.08-22.78-61.707 c0-52.367,42.603-94.97,94.969-94.97c38.246,0,72.374,22.771,87.253,57.416c-10.478,3.77-20.484,8.531-29.909,14.171 c-9.364-22.864-31.972-38.55-57.344-38.55c-34.15,0-61.933,27.783-61.933,61.933c0,29.239,20.254,53.881,47.774,60.296 C92.577,183.538,89.455,194.156,87.379,205.141z M154.599,98.723c-21.347,15.686-38.949,36.18-51.188,59.879 c-22.068-3.541-38.705-22.635-38.705-45.501c0-25.418,20.68-46.098,46.098-46.098C130.793,67.002,148.471,80.079,154.599,98.723z M163.351,493.87c-5.636,0-10.222-4.586-10.222-10.222c0-4.362,2.725-8.079,6.599-9.536c7.932,8.085,17.825,14.704,29.557,19.758 H163.351z M348.649,493.87h-25.934c11.732-5.052,21.624-11.673,29.557-19.758c3.874,1.457,6.599,5.174,6.599,9.536 C358.87,489.285,354.285,493.87,348.649,493.87z M359.52,412.726c0,67.129-64.859,77.153-103.52,77.153 s-103.521-10.024-103.521-77.153c0-20.146,5.727-39.44,16.584-56.179c24.57,8.832,53.985,13.419,86.938,13.419 c32.952,0,62.367-4.586,86.937-13.419C353.793,373.287,359.52,392.58,359.52,412.726z M256,354.131 c-58.179,0-155.78-15.206-155.78-117.046c0-85.898,69.882-155.78,155.78-155.78s155.78,69.882,155.78,155.78 C411.78,338.926,314.179,354.131,256,354.131z M357.401,98.723c6.127-18.643,23.805-31.721,43.794-31.721 c25.418,0,46.098,20.68,46.098,46.098c0,22.867-16.637,41.961-38.704,45.501C396.35,134.902,378.748,114.409,357.401,98.723z M473.385,174.806c-12.798,14.954-29.896,25.536-48.762,30.335c-2.077-10.984-5.199-21.603-9.268-31.746 c27.519-6.413,47.774-31.056,47.774-60.295c0-34.15-27.783-61.933-61.933-61.933c-25.372,0-47.981,15.686-57.345,38.55 c-9.425-5.639-19.432-10.402-29.909-14.171C328.822,40.9,362.95,18.13,401.196,18.13c52.365,0,94.969,42.603,94.969,94.97 C496.165,135.727,488.074,157.642,473.385,174.806z"}),n.default.createElement("path",{d:"M203.343,288.531l-34.186,21.565c-3.698,2.333-4.805,7.222-2.472,10.921c1.505,2.387,4.076,3.695,6.705,3.695 c1.444,0,2.905-0.395,4.216-1.222l34.186-21.565c3.698-2.333,4.805-7.222,2.472-10.921 C211.931,287.304,207.041,286.197,203.343,288.531z"}),n.default.createElement("path",{d:"M308.464,234.866c4.374,0,7.918-3.545,7.918-7.918c0-3.353,2.728-6.081,6.081-6.081c3.353,0,6.081,2.728,6.081,6.081 c0,4.373,3.544,7.918,7.918,7.918s7.918-3.545,7.918-7.918c0-12.084-9.831-21.916-21.916-21.916s-21.916,9.831-21.916,21.916 C300.546,231.322,304.091,234.866,308.464,234.866z"}),n.default.createElement("path",{d:"M342.844,310.096l-34.186-21.565c-3.7-2.333-8.588-1.227-10.922,2.472c-2.333,3.699-1.226,8.588,2.472,10.921 l34.186,21.565c1.312,0.828,2.773,1.222,4.217,1.222c2.628,0,5.198-1.308,6.705-3.695 C347.648,317.318,346.542,312.429,342.844,310.096z"}),n.default.createElement("path",{d:"M233.72,410.124c-4.348-3.97-6.593-9.624-6.954-11.19c-0.7-14.079-12.553-25.158-26.684-24.747 c-14.362,0.363-25.752,12.344-25.389,26.707c0.334,13.199,7.849,33.071,23.888,47.715c4.813,4.395,11.051,6.814,17.564,6.814 c7.307,0,14.323-3.093,19.248-8.488c4.693-5.14,7.104-11.799,6.788-18.753C241.865,421.232,238.86,414.818,233.72,410.124z M223.7,436.259c-1.96,2.147-4.643,3.33-7.554,3.33c-2.553,0-4.999-0.949-6.887-2.673c-11.971-10.93-18.487-26.596-18.735-36.422 c-0.143-5.634,4.326-10.334,9.978-10.478c0.094-0.002,0.188-0.003,0.282-0.003c5.474,0,10.011,4.392,10.177,9.917 c0.004,0.166,0.015,0.331,0.031,0.497c0.438,4.713,4.468,14.465,12.054,21.391c2.016,1.841,3.194,4.358,3.319,7.085 C226.486,431.63,225.541,434.243,223.7,436.259z"}),n.default.createElement("path",{d:"M311.926,374.128c-7.005-0.185-13.596,2.351-18.637,7.137c-4.905,4.659-7.755,10.917-8.057,17.672 c-0.363,1.568-2.605,7.217-6.954,11.186c-10.609,9.688-11.36,26.202-1.673,36.812c4.925,5.394,11.94,8.488,19.248,8.488 c6.515,0,12.752-2.42,17.564-6.814c16.041-14.645,23.557-34.519,23.889-47.717c0.175-6.955-2.365-13.57-7.151-18.628 C325.354,377.194,318.877,374.304,311.926,374.128z M302.74,436.916c-1.886,1.723-4.332,2.672-6.886,2.672 c-2.911,0-5.594-1.182-7.553-3.33c-3.802-4.162-3.506-10.64,0.656-14.44c7.579-6.918,11.679-16.916,12.063-21.495 c0.014-0.154,0.022-0.308,0.025-0.463c0.068-2.723,1.187-5.249,3.149-7.112c1.903-1.807,4.391-2.793,7.04-2.793 c0.094,0,0.189,0.001,0.283,0.003c2.719,0.069,5.255,1.202,7.138,3.191c1.889,1.995,2.889,4.604,2.821,7.344 C321.229,410.318,314.713,425.985,302.74,436.916z"}),n.default.createElement("path",{d:"M348.649,262.074h-39.003c-4.374,0-7.917,3.545-7.917,7.917c0,4.373,3.544,7.918,7.917,7.918h39.003 c4.374,0,7.918-3.545,7.918-7.918C356.566,265.619,353.021,262.074,348.649,262.074z"})))};o.propTypes={className:r.default.string};var s=o;t.default=s},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(0)),r=l(a(1)),o=function TickIcon(e){return n.default.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 611.998 611.998",className:e.className},n.default.createElement("g",null,n.default.createElement("path",{d:"M473.464,291.435c-1.868-14.686-4.712-29.002-8.488-42.812c34.441,14.354,66.161,34.293,94.581,59.559 c2.992,2.66,6.721,3.969,10.432,3.969c4.335,0,8.647-1.78,11.75-5.273c5.765-6.488,5.183-16.419-1.304-22.186 c-37.986-33.768-81.373-58.852-129.043-74.678c-6.564-15-14.334-29.089-23.313-41.946c-3.722-5.329-7.599-10.367-11.606-15.135 c61.79-18.314,118.097-51.803,164.139-97.845c6.135-6.135,6.135-16.087,0-22.222c-6.138-6.135-16.087-6.135-22.224,0 c-46.55,46.552-104.52,79.089-168.027,94.507c-0.258-0.204-0.516-0.402-0.775-0.604c-1.511-16.197-7.686-31.529-17.818-44.289 V47.187C371.769,21.169,350.6,0,324.581,0h-9.608c-3.17,0-6.191,0.622-8.98,1.715C303.206,0.622,300.184,0,297.014,0h-9.608 c-26.007,0-47.165,21.169-47.165,47.187v35.26c-10.147,12.762-16.332,28.108-17.842,44.325c-0.256,0.2-0.512,0.397-0.768,0.599 c-63.503-15.418-121.473-47.955-168.023-94.507c-6.135-6.135-16.087-6.135-22.222,0C25.249,39,25.249,48.952,31.384,55.087 c46.04,46.043,102.351,79.532,164.144,97.845c-4.007,4.768-7.884,9.806-11.604,15.133c-8.977,12.854-16.747,26.943-23.311,41.943 c-47.657,15.813-91.046,40.9-129.049,74.681c-6.488,5.765-7.071,15.698-1.304,22.184c3.105,3.493,7.417,5.275,11.75,5.275 c3.711,0,7.44-1.309,10.432-3.969c28.434-25.275,60.156-45.216,94.59-59.566c-3.776,13.811-6.622,28.128-8.488,42.814 c-49.372,40.657-87.488,93.773-110.379,154.08c-3.078,8.113,1.001,17.187,9.116,20.267c1.836,0.698,3.72,1.028,5.574,1.028 c6.337,0,12.311-3.863,14.695-10.142c17.304-45.596,44.112-86.693,78.358-120.577c0.07,8.551,0.48,16.801,1.203,24.775 c-11.162,91.499,19.764,181.279,85.02,246.538c3.069,3.069,7.089,4.602,11.112,4.602c4.021,0,8.043-1.535,11.11-4.602 c6.138-6.135,6.138-16.087,0.002-22.222c-35.215-35.216-59.242-78.416-70.584-125.119c3.83,4.651,7.929,9.047,12.336,13.142 c29.19,27.132,69.531,40.888,119.895,40.888s90.704-13.757,119.895-40.888c4.402-4.092,8.499-8.483,12.329-13.13 c-11.343,46.698-35.37,89.896-70.581,125.107c-6.135,6.138-6.135,16.087,0.002,22.222c3.066,3.069,7.089,4.602,11.11,4.602 s8.043-1.535,11.112-4.602c65.25-65.252,96.18-155.02,85.023-246.517c0.725-7.978,1.136-16.233,1.206-24.788 c34.243,33.882,61.047,74.979,78.358,120.573c2.384,6.277,8.355,10.142,14.693,10.142c1.854,0,3.74-0.33,5.574-1.028 c8.113-3.08,12.194-12.154,9.114-20.269C560.943,385.204,522.829,332.088,473.464,291.435z M234.49,157.481 c1.125-0.761,3.803-3.28,4.171-3.583c19.953-16.477,42.92-25.879,67.342-25.879c24.424,0,47.392,9.404,67.346,25.883 c0.361,0.299,3.046,2.831,4.187,3.596c13.063,11.691,24.723,26.485,34.517,43.681c-26.178,31.159-65.138,49.527-106.057,49.527 c-40.917,0-79.868-18.363-106.048-49.515C209.747,183.979,221.415,169.177,234.49,157.481z M340.347,47.187v10.872 c-5.949-2.667-12.201-4.638-18.633-5.87V31.428h2.873C333.276,31.428,340.347,38.498,340.347,47.187z M287.411,31.428h2.873v20.761 c-6.42,1.232-12.668,3.199-18.61,5.864V47.187C271.676,38.498,278.734,31.428,287.411,31.428z M267.48,98.914 c10.064-10.845,23.744-16.819,38.52-16.819c14.578,0,28.622,6.135,38.533,16.832c1.468,1.585,2.786,3.271,4.036,5.002 c-13.714-4.842-27.985-7.339-42.568-7.339c-14.587,0-28.86,2.496-42.576,7.341C264.681,102.194,266.006,100.501,267.48,98.914z M404.501,450.178c-23.187,21.553-56.329,32.481-98.499,32.481s-75.311-10.928-98.499-32.481 c-26.685-24.801-40.215-64.087-40.215-116.763c0-10.888,0.581-21.578,1.688-32.012c0.002-0.02,0.004-0.04,0.007-0.061 c2.649-24.907,8.331-48.341,16.468-69.445c31.653,31.81,75.118,50.234,120.541,50.234c45.427,0,88.9-18.428,120.555-50.245 c8.129,21.079,13.808,44.485,16.462,69.358c0.009,0.081,0.018,0.162,0.027,0.242c1.102,10.407,1.679,21.068,1.679,31.927 C444.716,386.091,431.184,425.376,404.501,450.178z"})))};o.propTypes={className:r.default.string};var s=o;t.default=s},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(0)),r=l(a(1)),o=function WormIcon(e){return n.default.createElement("svg",{className:e.className,xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"4 5 90 90"},n.default.createElement("g",null,n.default.createElement("path",{d:"M74,14.5c-19.0781,0-27.6289,16.2227-34.498,29.26C34.2012,53.8145,29.623,62.5,22,62.5c-7.2207,0-11,5.0313-11,10s3.7793,10,11,10c18.3906,0,25.66-14.7129,32.0723-27.6953C59.4551,43.91,64.1035,34.5,74,34.5c7.2207,0,11-5.0312,11-10S81.2207,14.5,74,14.5ZM41,49.457a12.1427,12.1427,0,0,0,2.6482,3.2364,11.1,11.1,0,0,0,5.73,2.5739,101.6768,101.6768,0,0,1-5.4058,9.7788c-4.96-1.2023-7.2756-5.1633-7.009-8.7421C38.365,54.1907,39.6924,51.8752,41,49.457ZM15,72.5c0-2.9863,2.1641-6,7-6a13.8162,13.8162,0,0,0,2.5034-.25A13.5658,13.5658,0,0,0,24.49,70.85a14.3745,14.3745,0,0,0,3.335,6.9883A25.2629,25.2629,0,0,1,22,78.5C17.1641,78.5,15,75.4863,15,72.5Zm17.0383,3.886a10.1286,10.1286,0,0,1-3.6047-6.2083,7.9788,7.9788,0,0,1,1.0593-5.9165,20.3481,20.3481,0,0,0,4.1355-3.5876,12.7348,12.7348,0,0,0,7.8963,7.8425A26.1631,26.1631,0,0,1,32.0383,76.386ZM51.366,51.2583a6.3922,6.3922,0,0,1-5.1433-1.6274,6.51,6.51,0,0,1-2.6158-5.0816c1.6258-3.0786,3.2788-6.1567,5.0684-9.0683a12.25,12.25,0,0,0,2.8325,4.7163A10.0238,10.0238,0,0,0,55.97,42.7441C54.3181,45.42,52.8225,48.3286,51.366,51.2583Zm7.061-12.1189a6.288,6.288,0,0,1-4.0911-1.77A9.4425,9.4425,0,0,1,51.89,30.7139,34.3518,34.3518,0,0,1,59.8,22.8306a14.1153,14.1153,0,0,0,5.4075,10.0337A23.7991,23.7991,0,0,0,58.427,39.1394ZM74,30.5a17.9064,17.9064,0,0,0-4.4084.5354c-4.8538-2.7629-6.35-7.2319-5.67-10.502A24.8872,24.8872,0,0,1,74,18.5c4.8359,0,7,3.0137,7,6S78.8359,30.5,74,30.5Z"}),n.default.createElement("path",{d:"M74,21.5H72a2,2,0,0,0,0,4h2a2,2,0,0,0,0-4Z"})))};o.propTypes={className:r.default.string};var s=o;t.default=s},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.startUploadHeartbeat=t.bulkUploadLocal=t.bulkUploadLocalWithMetadata=t.bulkUploadRemote=t.bulkUploadBasespace=void 0;var n=l(a(32)),r=l(a(2)),o=l(a(26)),s=l(a(27)),i=a(17),d=a(42),c=a(102);function ownKeys(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(a,!0).forEach(function(t){(0,r.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var u=function(){var e=(0,s.default)(o.default.mark(function _callee(e){var t,a;return o.default.wrap(function _callee$(l){for(;;)switch(l.prev=l.next){case 0:return t=e.samples,a=e.metadata,l.abrupt("return",p(t,a));case 2:case"end":return l.stop()}},_callee)}));return function bulkUploadBasespace(t){return e.apply(this,arguments)}}();t.bulkUploadBasespace=u;t.bulkUploadRemote=function bulkUploadRemote(e){var t=e.samples,a=e.metadata;return a?p(t,a):(0,d.bulkUploadRemoteSamples)(t)};var f=function(){var e=(0,s.default)(o.default.mark(function _callee3(e){var t,a,l,n,r,c,u,f,h,g,v;return o.default.wrap(function _callee3$(y){for(;;)switch(y.prev=y.next){case 0:return t=e.samples,a=e.metadata,l=e.callbacks,n=void 0===l?{onCreateSamplesError:null,onSampleUploadProgress:null,onSampleUploadError:null,onSampleUploadSuccess:null,onMarkSampleUploadedError:null}:l,r={},c={},u=(0,i.mapValues)("files",(0,i.keyBy)("name",t)),f=(0,i.map)((0,i.pick)(["client","host_genome_id","input_files_attributes","name","project_id","do_not_process"]),t),h=function(){var e=(0,s.default)(o.default.mark(function _callee2(e,t){var a;return o.default.wrap(function _callee2$(l){for(;;)switch(l.prev=l.next){case 0:if(a=u[e.name],c[e.name]||!(0,i.every)(function(e){return 1===r[e.name]},a)){l.next=12;break}return c[e.name]=!0,l.prev=3,l.next=6,(0,d.markSampleUploaded)(t);case 6:n.onSampleUploadSuccess&&n.onSampleUploadSuccess(e),l.next=12;break;case 9:l.prev=9,l.t0=l.catch(3),n.onMarkSampleUploadedError&&n.onMarkSampleUploadedError(e.name);case 12:case"end":return l.stop()}},_callee2,null,[[3,9]])}));return function onFileUploadSuccess(t,a){return e.apply(this,arguments)}}(),g=function getSampleUploadPercentage(e){var t=e.input_files.map(function(t){return u[e.name][t.name]}),a=(0,i.map)(function(e){return{percentage:r[e.name]||null,size:e.size}},t);return(0,i.sum)((0,i.map)(function(e){return(e.percentage||0)*e.size},a))/(0,i.sum)((0,i.map)(function(e){return e.size},a))},y.prev=7,y.next=10,p(f,a);case 10:v=y.sent,y.next=17;break;case 13:return y.prev=13,y.t0=y.catch(7),n.onCreateSamplesError&&n.onCreateSamplesError([y.t0],(0,i.map)("name",t)),y.abrupt("return");case 17:v.errors.length>0&&n.onCreateSamplesError&&n.onCreateSamplesError(v.errors,v.errored_sample_names),v.samples.forEach(function(e){var t=u[e.name],a=m(e.id);e.input_files.map(function(l){var o=t[l.name],s=l.presigned_url;(0,d.uploadFileToUrlWithRetries)(o,s,{onUploadProgress:function onUploadProgress(t){var a=t.loaded/t.total;if(r[o.name]=a,n.onSampleUploadProgress){var l=g(e);n.onSampleUploadProgress(e,l)}},onSuccess:function onSuccess(){r[o.name]=1,h(e,e.id),clearInterval(a)},onError:function onError(t){n.onSampleUploadError&&n.onSampleUploadError(e,t),clearInterval(a)}})})});case 19:case"end":return y.stop()}},_callee3,null,[[7,13]])}));return function bulkUploadLocalWithMetadata(t){return e.apply(this,arguments)}}();t.bulkUploadLocalWithMetadata=f;var p=function(){var e=(0,s.default)(o.default.mark(function _callee4(e,t){var a,l;return o.default.wrap(function _callee4$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,c.postWithCSRF)("/samples/bulk_upload_with_metadata.json",{samples:e,metadata:t,client:"web"});case 2:if(!((a=n.sent).errors.length>0)){n.next=6;break}return l=(0,i.difference)((0,i.map)("name",e),(0,i.map)("name",a.samples)),n.abrupt("return",_objectSpread({},a,{errored_sample_names:l}));case 6:return n.abrupt("return",a);case 7:case"end":return n.stop()}},_callee4)}));return function bulkUploadWithMetadata(t,a){return e.apply(this,arguments)}}();t.bulkUploadLocal=function bulkUploadLocal(e){var t=e.sampleNamesToFiles,a=e.project,l=e.hostId,r=e.onCreateSampleError,o=e.onUploadProgress,s=e.onUploadError,i=e.onAllUploadsComplete,c=e.onMarkSampleUploadedError,u={},f={},p=!1;window.onbeforeunload=function(){return"Uploading is in progress. Are you sure you want to exit?"};for(var h=function _loop(){var e=(0,n.default)(v[g],2),h=e[0],y=e[1];(0,d.createSample)(h,a.name,l,y,"local").then(function(e){var a=e.id;m(a),y.map(function(l,n){var r=e.input_files[n].presigned_url;(0,d.uploadFileToUrlWithRetries)(l,r,{onUploadProgress:function onUploadProgress(e){var t=Math.round(100*e.loaded/e.total);u[l.name]=t,o&&o(t,l)},onSuccess:function onSuccess(){return function onFileUploadSuccess(e,a){var l=t[e];!f[e]&&l.every(function(e){return 100===u[e.name]})&&(f[e]=!0,(0,d.markSampleUploaded)(a).then(function(){!p&&Object.keys(t).every(function(e){return f[e]})&&(p=!0,window.onbeforeunload=null,i())}).catch(c))}(h,a)},onError:function onError(e){return s(l,e)}})})}).catch(function(e){r&&r(e,h)})},g=0,v=Object.entries(t);g<v.length;g++)h()};var m=function(){var e=(0,s.default)(o.default.mark(function _callee5(e){var t,a;return o.default.wrap(function _callee5$(l){for(;;)switch(l.prev=l.next){case 0:return(t=function sendHeartbeat(){(0,c.putWithCSRF)("/samples/".concat(e,"/upload_heartbeat.json")).catch(function(){return console.error("Can't connect to IDseq server.")})})(),a=6e4,l.abrupt("return",setInterval(t,a));case 4:case"end":return l.stop()}},_callee5)}));return function startUploadHeartbeat(t){return e.apply(this,arguments)}}();t.startUploadHeartbeat=m},,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=function(e){function ErrorBoundary(){return(0,n.default)(this,ErrorBoundary),(0,o.default)(this,(0,s.default)(ErrorBoundary).apply(this,arguments))}return(0,i.default)(ErrorBoundary,e),(0,r.default)(ErrorBoundary,[{key:"componentDidCatch",value:function componentDidCatch(e,t){console.error("ErrorBoundary",e,t)}},{key:"render",value:function render(){return this.props.children}}]),ErrorBoundary}(l(a(0)).default.Component);t.default=d},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(0)),r=l(a(4)),o=l(a(1)),s=function CompareIcon(e){return n.default.createElement("svg",{className:(0,r.default)("compare-svg",e.className),xmlns:"http://www.w3.org/2000/svg",version:"1.1",x:"0",y:"0",viewBox:"0 0 100 100",enableBackground:"new 0 0 100 100",preserveAspectRatio:"xMinYMin meet",xmlSpace:"preserve"},n.default.createElement("path",{d:"M66.457,21.458c-4.615,0-9.031,1.078-13.124,3.204c-0.939,0.488-1.304,1.644-0.817,2.582  c0.488,0.938,1.644,1.303,2.582,0.817c3.542-1.84,7.364-2.773,11.358-2.773c13.627,0,24.713,11.085,24.713,24.711  c0,13.627-11.086,24.713-24.713,24.713c-3.995,0-7.816-0.933-11.358-2.773c-0.938-0.487-2.095-0.122-2.582,0.817  c-0.487,0.938-0.122,2.094,0.817,2.582c4.093,2.126,8.508,3.204,13.124,3.204C82.196,78.542,95,65.738,95,49.999  C95,34.262,82.196,21.458,66.457,21.458z"}),n.default.createElement("path",{d:"M33.542,78.542c4.614,0,9.029-1.078,13.123-3.204c0.939-0.488,1.304-1.644,0.817-2.582  c-0.488-0.938-1.643-1.303-2.582-0.817c-3.543,1.84-7.364,2.773-11.357,2.773c-13.627,0-24.712-11.086-24.712-24.713  c0-13.625,11.086-24.711,24.712-24.711c3.992,0,7.814,0.933,11.358,2.772c0.939,0.488,2.095,0.122,2.582-0.817  c0.487-0.939,0.121-2.094-0.817-2.582c-4.094-2.125-8.509-3.203-13.122-3.203C17.804,21.458,5,34.262,5,49.999  C5,65.738,17.804,78.542,33.542,78.542z"}),n.default.createElement("path",{d:"M48.813,27.571c-6.927,5.456-10.9,13.631-10.9,22.428c0,8.799,3.973,16.974,10.9,22.428c0.348,0.273,0.766,0.41,1.185,0.41  c0.418,0,0.837-0.137,1.185-0.41c6.927-5.454,10.901-13.629,10.901-22.428c0-8.797-3.973-16.972-10.901-22.428  C50.487,27.024,49.508,27.024,48.813,27.571z M53.913,63.983l-12.09-12.09c-0.047-0.627-0.08-1.258-0.08-1.893  c0-0.403,0.013-0.804,0.032-1.204l13.313,13.312C54.725,62.749,54.333,63.374,53.913,63.983z M42.465,44.069  c0.196-0.796,0.43-1.579,0.703-2.347l14.333,14.333c-0.199,0.792-0.437,1.572-0.713,2.336L42.465,44.069z M58.253,49.999  c0,0.454-0.013,0.906-0.037,1.355L44.854,37.992c0.359-0.645,0.748-1.273,1.166-1.884l12.167,12.168  C58.226,48.847,58.253,49.421,58.253,49.999z M49.998,68.426c-2.979-2.656-5.228-5.933-6.621-9.564l8.11,8.11  C51.011,67.473,50.519,67.962,49.998,68.426z M56.705,41.378l-8.272-8.272c0.498-0.529,1.016-1.044,1.564-1.533  C53.042,34.287,55.32,37.652,56.705,41.378z"}))};s.propTypes={className:o.default.string};var i=s;t.default=i},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(51)),r=l(a(282)),o=l(a(1)),s=l(a(0)),i=function PhylogenyButton(e){var t=e.disabled,a=e.onClick;return s.default.createElement(n.default,{text:"Phylogeny",label:s.default.createElement(r.default,null),disabled:t,onClick:a})};i.propTypes={disabled:o.default.bool,onClick:o.default.func};var d=i;t.default=d},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(51)),c=l(a(88)),u=l(a(58)),f=l(a(1)),p=l(a(0)),m=l(a(4)),h=l(a(1254)),g=function(e){function ButtonDropdown(){return(0,n.default)(this,ButtonDropdown),(0,o.default)(this,(0,s.default)(ButtonDropdown).apply(this,arguments))}return(0,i.default)(ButtonDropdown,e),(0,r.default)(ButtonDropdown,[{key:"getButton",value:function getButton(){return this.props.primary?p.default.createElement(d.default,{text:this.props.text,disabled:this.props.disabled,icon:this.props.icon,className:h.default.button,hasDropdownArrow:!0}):p.default.createElement(c.default,{text:this.props.text,disabled:this.props.disabled,icon:this.props.icon,className:h.default.button,hasDropdownArrow:!0})}},{key:"render",value:function render(){return p.default.createElement(u.default,{className:(0,m.default)(h.default.buttonDropdown,this.props.className),hideArrow:!0,disabled:this.props.disabled,floating:!0,onChange:this.props.onClick,options:this.props.options,trigger:this.getButton(),direction:this.props.direction})}}]),ButtonDropdown}(p.default.Component);g.propTypes={className:f.default.string,disabled:f.default.bool,icon:f.default.element,onClick:f.default.func,options:f.default.array,primary:f.default.bool,secondary:f.default.bool,text:f.default.string,direction:f.default.oneOf(["left","right"])};var v=g;t.default=v},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(0)),r=l(a(1)),o=l(a(58)),s=l(a(172)),i=l(a(1261)),d=l(a(4)),c=function CheckboxItem(e){var t=e.value,a=e.label,l=e.checked,r=e.onOptionClick,c=e.boxed;return n.default.createElement(o.default.Item,{onClick:function onClick(e){e.stopPropagation(),r(t,!l)}},n.default.createElement("div",{className:i.default.listElement},n.default.createElement("div",{className:(0,d.default)(l&&i.default.checked,i.default.listCheckmark,c&&i.default.boxed)},n.default.createElement(s.default,{size:"small",className:i.default.icon})),n.default.createElement("div",{className:i.default.listLabel},a)))};c.propTypes={value:r.default.any,label:r.default.string,checked:r.default.bool,onOptionClick:r.default.func};var u=c;t.default=u},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(26)),r=l(a(27)),o=l(a(7)),s=l(a(8)),i=l(a(10)),d=l(a(9)),c=l(a(3)),u=l(a(11)),f=l(a(2)),p=l(a(1)),m=l(a(0)),h=l(a(4)),g=l(a(51)),v=l(a(88)),y=m.default.createContext({currentPage:0,actions:{}}),b=function(e){function Wizard(e){var t;return(0,o.default)(this,Wizard),t=(0,i.default)(this,(0,d.default)(Wizard).call(this,e)),(0,f.default)((0,c.default)(t),"resetPageState",function(){t.setState({continueEnabled:!0,onContinueValidation:null})}),(0,f.default)((0,c.default)(t),"handleContinueEnabled",function(e){t.setState({continueEnabled:e})}),(0,f.default)((0,c.default)(t),"handleSetOnContinueValidation",function(e){t.setState({onContinueValidation:e})}),(0,f.default)((0,c.default)(t),"setOverlay",function(e){t.setState({overlay:e})}),(0,f.default)((0,c.default)(t),"handleContinueClick",(0,r.default)(n.default.mark(function _callee(){var e,a;return n.default.wrap(function _callee$(l){for(;;)switch(l.prev=l.next){case 0:if(e=t.props.children[t.state.currentPage].props.onContinue,a=t.props.children[t.state.currentPage].props.onContinueAsync,!e){l.next=6;break}e()&&t.advancePage(),l.next=21;break;case 6:if(!a){l.next=13;break}return l.next=9,a();case 9:l.sent&&t.advancePage(),l.next=21;break;case 13:if(!t.state.onContinueValidation){l.next=20;break}return l.next=16,t.state.onContinueValidation();case 16:l.sent&&t.advancePage(),l.next=21;break;case 20:t.advancePage();case 21:case"end":return l.stop()}},_callee)}))),(0,f.default)((0,c.default)(t),"advancePage",function(){t.state.currentPage<t.props.children.length-1&&(t.setState({currentPage:t.state.currentPage+1}),t.resetPageState())}),t.state={currentPage:0,continueEnabled:!0,overlay:null},t.showPageInfo=t.props.showPageInfo||!0,t.skipPageInfoNPages=t.props.skipPageInfoNPages||0,t.handleBackClick=t.handleBackClick.bind((0,c.default)(t)),t.handleContinueClick=t.handleContinueClick.bind((0,c.default)(t)),t.handleFinishClick=t.handleFinishClick.bind((0,c.default)(t)),t.labels=Object.assign({back:"Back",continue:"Continue",finish:"Finish"},t.props.labels),t}return(0,u.default)(Wizard,e),(0,s.default)(Wizard,[{key:"handleBackClick",value:function handleBackClick(){this.state.currentPage>0&&(this.setState({currentPage:this.state.currentPage-1}),this.resetPageState())}},{key:"handleFinishClick",value:function handleFinishClick(){this.props.onComplete()}},{key:"render",value:function render(){var e=this.props.children[this.state.currentPage],t={continue:this.handleContinueClick,back:this.handleBackClick,finish:this.handleFinishClick},a=null;return this.showPageInfo&&this.state.currentPage>=this.skipPageInfoNPages&&(a="".concat(this.state.currentPage-this.skipPageInfoNPages+1," of ").concat(this.props.children.length-this.skipPageInfoNPages)),m.default.createElement(y.Provider,{value:{currentPage:this.state.currentPage,actions:t}},this.state.overlay,m.default.createElement("div",{className:(0,h.default)("wizard",this.props.className,this.state.overlay&&"wizard__hidden")},m.default.createElement("div",{className:"wizard__header"},a&&m.default.createElement("div",{className:"wizard__header__page"},a),m.default.createElement("div",{className:"wizard__header__title"},e.props.title||this.props.title)),m.default.createElement("div",{className:(0,h.default)("wizard__page_wrapper")},m.default.cloneElement(e,{wizardEnableContinue:this.handleContinueEnabled,wizardSetOnContinueValidation:this.handleSetOnContinueValidation,wizardSetOverlay:this.setOverlay})),!e.props.skipDefaultButtons&&m.default.createElement("div",{className:"wizard__nav"},this.state.currentPage>0&&m.default.createElement(v.default,{text:this.labels.back,onClick:this.handleBackClick,rounded:!1}),this.state.currentPage<this.props.children.length-1&&m.default.createElement(g.default,{text:this.labels.continue,onClick:this.handleContinueClick,disabled:!this.state.continueEnabled,rounded:!1}),this.state.currentPage==this.props.children.length-1&&m.default.createElement(g.default,{text:this.labels.finish,onClick:this.handleFinishClick,rounded:!1}))))}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(e,t){return e.defaultPage!==t.lastDefaultPage?{lastDefaultPage:e.defaultPage,currentPage:e.defaultPage}:null}}]),Wizard}(m.default.Component);b.propTypes={children:p.default.oneOfType([p.default.shape({type:b.Page}),p.default.arrayOf(p.default.shape({type:b.Page}))]).isRequired,labels:p.default.objectOf(p.default.string),onComplete:p.default.func,showPageInfo:p.default.bool,skipPageInfoNPages:p.default.number,title:p.default.string,className:p.default.string};var C=function(e){function Page(e){var t;return(0,o.default)(this,Page),(t=(0,i.default)(this,(0,d.default)(Page).call(this,e))).state={},t}return(0,u.default)(Page,e),(0,s.default)(Page,[{key:"componentDidMount",value:function componentDidMount(){this.props.onLoad&&this.props.onLoad()}},{key:"render",value:function render(){return m.default.createElement("div",{className:"wizard__page"},m.default.Children.toArray(this.props.children))}}]),Page}(m.default.Component);C.propTypes={children:p.default.oneOfType([p.default.PropTypes.node,p.default.arrayOf(p.default.node)]).isRequired,onLoad:p.default.func,skipDefaultButtons:p.default.bool},b.Page=C;var w=function Action(e){var t=e.action,a=e.onAfterAction,l=e.children;return m.default.createElement(y.Consumer,null,function(e){var n=e.actions;return m.default.createElement("div",{className:"wizard__action wizard__action--".concat(t),onClick:function onClick(){return function handleOnClick(e){e(),a&&a()}(n[t])}},l)})};w.propTypes={action:p.default.oneOf(["back","continue","finish"]),children:p.default.node.isRequired,onAfterAction:p.default.func},b.Action=w;var E=b;t.default=E},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(3)),d=l(a(11)),c=l(a(2)),u=l(a(0)),f=l(a(1)),p=l(a(58)),m=a(20),h=l(a(742)),g=l(a(1330)),v=function(e){function ProjectUploadMenu(){var e,t;(0,n.default)(this,ProjectUploadMenu);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return t=(0,o.default)(this,(e=(0,s.default)(ProjectUploadMenu)).call.apply(e,[this].concat(l))),(0,c.default)((0,i.default)(t),"state",{modalOpen:!1}),(0,c.default)((0,i.default)(t),"goToPage",function(e){location.href=e}),(0,c.default)((0,i.default)(t),"openModal",function(){return t.setState({modalOpen:!0})}),(0,c.default)((0,i.default)(t),"closeModal",function(){return t.setState({modalOpen:!1})}),t}return(0,d.default)(ProjectUploadMenu,e),(0,r.default)(ProjectUploadMenu,[{key:"render",value:function render(){var e=this,t=this.props,a=t.onMetadataUpdated,l=t.project,n=this.state.modalOpen,r=u.default.createElement("div",{className:g.default.trigger},u.default.createElement("i",{className:"fa fa-plus-circle"}),u.default.createElement("span",{className:g.default.label},"Upload")),o=[u.default.createElement(p.default.Item,{text:"Upload Samples",key:"1",onClick:function onClick(){(0,m.logAnalyticsEvent)("ProjectUploadMenu_upload-sample-btn_clicked"),e.goToPage("/samples/upload?projectId=".concat(l.id))}}),u.default.createElement(p.default.Item,{text:"Upload Metadata",key:"2",onClick:this.openModal})];return u.default.createElement("div",null,u.default.createElement(p.default,{trigger:r,hideArrow:!0,items:o,direction:"left"}),n&&u.default.createElement(h.default,{onClose:this.closeModal,onComplete:a,project:l}))}}]),ProjectUploadMenu}(u.default.Component);v.propTypes={onMetadataUpdated:f.default.func,project:f.default.shape({id:f.default.number,name:f.default.string})};var y=v;t.default=y},,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(0)),c=l(a(1)),u=l(a(4)),f=l(a(73)),p=l(a(1286)),m=l(a(141)),h=function(e){function ListNotification(){return(0,n.default)(this,ListNotification),(0,o.default)(this,(0,s.default)(ListNotification).apply(this,arguments))}return(0,i.default)(ListNotification,e),(0,r.default)(ListNotification,[{key:"render",value:function render(){var e=this.props,t=e.type,a=e.onClose,l=e.className,n=e.label,r=e.listItems,o=e.listItemName;return d.default.createElement(f.default,{type:t,onClose:a,className:(0,u.default)(l,p.default.listNotification,p.default[t])},d.default.createElement("div",{className:p.default.label},n),d.default.createElement(m.default,{className:p.default.accordion,header:d.default.createElement("div",{className:p.default.title},r.length," ",o,r.length>1?"s":""),iconClassName:p.default.accordionIcon},d.default.createElement("div",{className:p.default.content},r.map(function(e,t){return d.default.createElement("div",{key:t,className:p.default.listItem},e)}))))}}]),ListNotification}(d.default.Component);h.propTypes={className:c.default.string,children:c.default.node,onClose:c.default.func,type:c.default.oneOf(["success","info","warn","error"]),label:c.default.node,listItems:c.default.arrayOf(c.default.string),listItemName:c.default.string};var g=h;t.default=g},function(e,t,a){"use strict";var l=a(96),n=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(32)),o=n(a(26)),s=n(a(27)),i=n(a(7)),d=n(a(8)),c=n(a(10)),u=n(a(9)),f=n(a(3)),p=n(a(11)),m=n(a(2)),h=n(a(0)),g=n(a(4)),v=l(a(17)),y=n(a(750)),b=l(a(752)),C=n(a(24)),w=n(a(95)),E=n(a(97)),S=a(42),_=a(89),k=a(20),N=n(a(81)),x=a(82),M=n(a(1322)),T=n(a(757)),P=n(a(289));function ownKeys(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}var D=v.default.map.convert({cap:!1}),I=function(e){function MetadataUpload(){var e,t;(0,i.default)(this,MetadataUpload);for(var a=arguments.length,l=new Array(a),n=0;n<a;n++)l[n]=arguments[n];return t=(0,c.default)(this,(e=(0,u.default)(MetadataUpload)).call.apply(e,[this].concat(l))),(0,m.default)((0,f.default)(t),"state",{currentTab:"Manual Input",issues:{errors:[],warnings:[]},projectMetadataFields:null,hostGenomes:[],sampleTypes:[],validatingCSV:!1,CSVLocationWarnings:{}}),(0,m.default)((0,f.default)(t),"ordering",{host_genome:1,sample_type:2,water_control:3,nucleotide_type:4,collection_date:5,collection_location:6,collection_location_v2:7}),(0,m.default)((0,f.default)(t),"processProjectMetadataFields",function(e){var a=(0,v.sortBy)(function(e){return t.ordering[e.key]||Number.MAX_SAFE_INTEGER},e);return(0,v.keyBy)("key",a)}),(0,m.default)((0,f.default)(t),"handleTabChange",function(e){t.setState({currentTab:e,issues:null}),t.props.onMetadataChange({metadata:null,issues:null,wasManual:"Manual Input"===e}),(0,k.logAnalyticsEvent)("MetadataUpload_tab_changed",{tab:e,projectId:t.props.project.id,projectName:t.props.project.name})}),(0,m.default)((0,f.default)(t),"onMetadataChangeCSV",function(e){var a=e.metadata,l=e.issues,n=e.validatingCSV,r=e.newHostGenomes;t.props.onMetadataChange({metadata:a,issues:l,wasManual:!1,newHostGenomes:r}),t.setState({issues:l,validatingCSV:n}),n||(0,k.logAnalyticsEvent)("MetadataUpload_csv-metadata_changed",{errors:l.errors.length,warnings:l.warnings.length,projectId:t.props.project.id,projectName:t.props.project.name}),l&&l.errors.length>0||t.getCSVLocationMatches(a)}),(0,m.default)((0,f.default)(t),"getCSVLocationMatches",function(){var e=(0,s.default)(o.default.mark(function _callee(e){var a,l,n,r;return o.default.wrap(function _callee$(o){for(;;)switch(o.prev=o.next){case 0:if(a=t.props.onMetadataChange,e){o.next=3;break}return o.abrupt("return");case 3:return o.prev=3,o.next=6,(0,b.geosearchCSVLocations)(e,t.getRequiredLocationMetadataType());case 6:l=o.sent,n=l.newMetadata,r=l.warnings,a({metadata:n}),t.setState({CSVLocationWarnings:r}),o.next=16;break;case 13:o.prev=13,o.t0=o.catch(3),console.error(o.t0);case 16:case"end":return o.stop()}},_callee,null,[[3,13]])}));return function(t){return e.apply(this,arguments)}}()),(0,m.default)((0,f.default)(t),"onMetadataChangeManual",function(e){var a=e.metadata;t.props.onDirty&&t.props.onDirty(),t.props.onMetadataChange({metadata:a,wasManual:!0}),(0,k.logAnalyticsEvent)("MetadataUpload_manual-metadata_changed",{projectId:t.props.project.id,projectName:t.props.project.name})}),(0,m.default)((0,f.default)(t),"getCSVUrl",function(){var e=function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(a,!0).forEach(function(t){(0,m.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},t.props.samplesAreNew?{new_sample_names:D("name",t.props.samples)}:{},{project_id:t.props.project.id});return"/metadata/metadata_template_csv?".concat((0,x.getURLParamString)(e))}),(0,m.default)((0,f.default)(t),"getRequiredLocationMetadataType",function(){var e=t.state.projectMetadataFields;return(0,v.find)({dataType:"location",is_required:1},Object.values(e))}),(0,m.default)((0,f.default)(t),"handleCSVLocationWarningsChange",function(e){return t.setState({CSVLocationWarnings:e})}),(0,m.default)((0,f.default)(t),"renderTab",function(){return"Manual Input"===t.state.currentTab?t.props.samples&&t.state.projectMetadataFields?h.default.createElement(T.default,{project:t.props.project,samples:t.props.samples,samplesAreNew:t.props.samplesAreNew,onMetadataChange:t.onMetadataChangeManual,withinModal:t.props.withinModal,projectMetadataFields:t.state.projectMetadataFields,hostGenomes:t.state.hostGenomes,sampleTypes:t.state.sampleTypes}):h.default.createElement("div",{className:M.default.loadingMsg},"Loading..."):"CSV Upload"===t.state.currentTab?h.default.createElement(h.default.Fragment,null,h.default.createElement("div",null,h.default.createElement("span",{className:M.default.link,onClick:(0,k.withAnalytics)(t.props.onShowCSVInstructions,"MetadataUpload_instruction-link_clicked")},"View CSV Upload Instructions")),h.default.createElement(y.default,{className:M.default.metadataCSVUpload,samples:t.props.samples,onMetadataChange:t.onMetadataChangeCSV,project:t.props.project,samplesAreNew:t.props.samplesAreNew,visible:t.props.visible,onDirty:t.props.onDirty}),h.default.createElement("a",{className:M.default.link,href:t.getCSVUrl(),target:"_blank",rel:"noopener noreferrer",onClick:function onClick(){return(0,k.logAnalyticsEvent)("MetadataUpload_download-csv-template_clicked",{projectId:t.props.project.id,projectName:t.props.project.name})}},"Download Metadata CSV Template"),t.state.validatingCSV&&h.default.createElement("div",{className:M.default.validationMessage},h.default.createElement(N.default,{className:M.default.loadingIcon}),"Validating metadata...")):null}),(0,m.default)((0,f.default)(t),"renderIssue",function(e,t,a){return e.isGroup?h.default.createElement(P.default,{caption:e.caption,headers:e.headers,rows:e.rows,key:a,type:t,className:M.default.issueGroup}):h.default.createElement("div",{className:(0,g.default)(M.default.issue,M.default[t]),key:a},h.default.createElement(w.default,{className:(0,g.default)(M.default.icon,M.default[t])}),e)}),(0,m.default)((0,f.default)(t),"renderIssues",function(){var e=t.props.issues||t.state.issues,a=e&&e.errors.length>0,l=e&&e.warnings.length>0;return a||l?h.default.createElement("div",{className:M.default.issues},a&&h.default.createElement("div",{className:M.default.errors},h.default.createElement("div",{className:M.default.header},"Manual Input"===t.state.currentTab?"Fix the following errors.":"Fix these errors and upload your CSV again."),h.default.createElement("div",null,e.errors.map(function(e,a){return t.renderIssue(e,"error",a)}))),l&&h.default.createElement("div",{className:M.default.warnings},h.default.createElement("div",{className:M.default.header},"Warnings"),h.default.createElement("div",null,e.warnings.map(function(e,a){return t.renderIssue(e,"warning",a)})))):null}),(0,m.default)((0,f.default)(t),"renderCSVLocationsMenu",function(){var e=t.props,a=e.metadata,l=e.onMetadataChange,n=t.state,r=n.CSVLocationWarnings,o=n.currentTab,s=t.props.issues||t.state.issues,i=s&&s.errors.length>0;return"CSV Upload"!==o||i?null:h.default.createElement(b.default,{CSVLocationWarnings:r,locationMetadataType:t.getRequiredLocationMetadataType(),metadata:a,onCSVLocationWarningsChange:t.handleCSVLocationWarningsChange,onMetadataChange:l})}),t}return(0,p.default)(MetadataUpload,e),(0,d.default)(MetadataUpload,[{key:"componentDidMount",value:function(){var e=(0,s.default)(o.default.mark(function _callee2(){var e,t,a,l,n;return o.default.wrap(function _callee2$(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Promise.all([(0,_.getProjectMetadataFields)(this.props.project.id),(0,S.getAllHostGenomes)(),(0,S.getAllSampleTypes)()]);case 2:e=o.sent,t=(0,r.default)(e,3),a=t[0],l=t[1],n=t[2],this.setState({projectMetadataFields:this.processProjectMetadataFields(a),hostGenomes:l,sampleTypes:n});case 8:case"end":return o.stop()}},_callee2,this)}));return function componentDidMount(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=(0,s.default)(o.default.mark(function _callee3(e){var t;return o.default.wrap(function _callee3$(a){for(;;)switch(a.prev=a.next){case 0:if(e.project.id===this.props.project.id){a.next=6;break}return this.setState({projectMetadataFields:null}),a.next=4,(0,_.getProjectMetadataFields)(this.props.project.id);case 4:t=a.sent,this.setState({projectMetadataFields:this.processProjectMetadataFields(t)});case 6:case"end":return a.stop()}},_callee3,this)}));return function componentDidUpdate(t){return e.apply(this,arguments)}}()},{key:"render",value:function render(){var e=this,t=this.state,a=t.hostGenomes,l=t.projectMetadataFields,n=t.currentTab,r=this.props.samplesAreNew,o=(0,v.concat)("Host Organism",D("name",(0,v.filter)(["is_required",1],l)));return h.default.createElement("div",{className:(0,g.default)(M.default.metadataUpload,this.props.className)},r&&h.default.createElement("div",{className:M.default.info},h.default.createElement("div",{className:M.default.details},h.default.createElement("span",{className:M.default.label},"Required fields: "),"We require the following metadata to determine how to process your data and display the results:"," ",o&&o.join(", "),". Please be as accurate as possible!"," ",h.default.createElement("a",{href:"/metadata/dictionary",className:M.default.link,target:"_blank",onClick:function onClick(){return(0,k.logAnalyticsEvent)("MetadataUpload_full-dictionary-link_clicked",{projectId:e.props.project.id,projectName:e.props.project.name})}},"View Full Metadata Dictionary"),"."),h.default.createElement("div",{className:M.default.details},h.default.createElement("span",{className:M.default.label},"Available organisms for host subtraction: "),a&&a.filter(function(e){return!e.ercc_only}).map(function(e){return e.name}).join(", "),".")),h.default.createElement("div",null,!r&&h.default.createElement("span",null,h.default.createElement("a",{href:"/metadata/dictionary",className:M.default.link,target:"_blank",onClick:function onClick(){return(0,k.logAnalyticsEvent)("MetadataUpload_dictionary-link_clicked",{projectId:e.props.project.id,projectName:e.props.project.name})}},"View Metadata Dictionary"))),h.default.createElement(E.default,{className:M.default.tabs,tabs:["Manual Input","CSV Upload"],value:n,onChange:this.handleTabChange}),this.renderTab(),this.renderIssues(),this.renderCSVLocationsMenu())}}]),MetadataUpload}(h.default.Component);I.propTypes={className:C.default.string,issues:C.default.shape({errors:C.default.arrayOf(C.default.string),warnings:C.default.arrayOf(C.default.string)}),metadata:C.default.object,onDirty:C.default.func,onMetadataChange:C.default.func.isRequired,onShowCSVInstructions:C.default.func.isRequired,project:C.default.Project,samples:C.default.arrayOf(C.default.Sample),samplesAreNew:C.default.bool,withinModal:C.default.bool,visible:C.default.bool};var j=I;t.default=j},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.createCSVObjectURL=t.parseCSVBlob=void 0;var n=a(17),r=l(a(1291));t.parseCSVBlob=function parseCSVBlob(e){var t=r.default.parse(e,{skipEmptyLines:!0}).data;return{headers:(0,n.head)(t),rows:(0,n.tail)(t)}};t.createCSVObjectURL=function createCSVObjectURL(e,t){var a=[e].concat(t).join("\n"),l=new Blob([a],{type:"text/csv"});return URL.createObjectURL(l)}},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(0)),c=l(a(4)),u=l(a(1)),f=l(a(46)),p=l(a(1296)),m=function(e){function ToolbarIcon(){return(0,n.default)(this,ToolbarIcon),(0,o.default)(this,(0,s.default)(ToolbarIcon).apply(this,arguments))}return(0,i.default)(ToolbarIcon,e),(0,r.default)(ToolbarIcon,[{key:"render",value:function render(){var e=this.props,t=e.className,a=e.popupText,l=e.popupSubtitle,n=e.disabled,r=e.onClick,o=e.icon,s=e.popperDependencies,i=d.default.createElement("div",{className:(0,c.default)(t,p.default.iconWrapper,n&&p.default.disabled),onClick:n?void 0:r},o);return a?d.default.createElement(f.default,{trigger:i,content:d.default.createElement("div",{className:p.default.popupText},a,d.default.createElement("div",{className:p.default.popupSubtitle},l)),position:"top center",basic:!1,popperDependencies:s}):i}}]),ToolbarIcon}(d.default.Component);m.propTypes={className:u.default.string,icon:u.default.node,popupText:u.default.string,popupSubtitle:u.default.string,disabled:u.default.bool,onClick:u.default.func,popperDependencies:u.default.arrayOf(u.default.any)};var h=m;t.default=h},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=function(){function ArrayUtils(){(0,n.default)(this,ArrayUtils)}return(0,r.default)(ArrayUtils,null,[{key:"equal",value:function equal(e,t){if(e===t)return!0;if(!Array.isArray(e)||!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(var a=0;a<e.length;a++)if(e[a]!==t[a])return!1;return!0}},{key:"findClosestNeighbors",value:function findClosestNeighbors(e,t){if(0===e.length)return[];if(1===e.length)return[e[0],e[0]];for(var a=0,l=e.length-1;a+1<l;){var n=Math.round((a+l)/2);e[n]<=t?a=n:l=n}return t<e[a]?[e[a]]:t>e[l]?[e[l]]:[e[a],e[l]]}}]),ArrayUtils}();t.default=o},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(0)),c=a(37),u=l(a(1)),f=l(a(4)),p=l(a(1308)),m=function(e){function Toggle(e){var t;return(0,n.default)(this,Toggle),(t=(0,o.default)(this,(0,s.default)(Toggle).call(this,e))).state={},t}return(0,i.default)(Toggle,e),(0,r.default)(Toggle,[{key:"render",value:function render(){var e=this,t=this.props,a=t.onLabel,l=t.offLabel,n=t.onChange;return d.default.createElement(c.Radio,{toggle:!0,checked:this.state.checked,label:this.state.checked?a:l,onChange:function onChange(t,r){var o=r.checked;e.setState({checked:o}),n&&n(o?a:l)},className:(0,f.default)(this.props.className,p.default.toggle)})}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(e,t){return e.initialChecked!==t.prevInitialChecked?{prevInitialChecked:e.initialChecked,checked:e.initialChecked}:{prevInitialChecked:e.initialChecked,checked:t.checked}}}]),Toggle}(d.default.PureComponent);m.propTypes={className:u.default.string,onChange:u.default.func,onLabel:u.default.string.isRequired,offLabel:u.default.string.isRequired,initialChecked:u.default.bool.isRequired},m.defaultProps={onLabel:"On",offLabel:"Off",initialChecked:!1};var h=m;t.default=h},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(0)),c=l(a(1)),u=l(a(285)),f=l(a(4)),p=l(a(59)),m=function(e){function UploadInstructions(){return(0,n.default)(this,UploadInstructions),(0,o.default)(this,(0,s.default)(UploadInstructions).apply(this,arguments))}return(0,i.default)(UploadInstructions,e),(0,r.default)(UploadInstructions,[{key:"render",value:function render(){var e=this.props,t=e.standalone,a=e.onClose,l=e.size,n=d.default.createElement("div",{className:(0,f.default)(u.default.uploadInstructions,t&&u.default.standalone)},d.default.createElement("div",{className:u.default.header},!t&&d.default.createElement("div",{className:u.default.backButton,onClick:a},"< Back"),d.default.createElement("div",{className:u.default.title},"How to Upload a Metadata CSV")),d.default.createElement("div",{className:u.default.content},d.default.createElement("div",{className:u.default.sectionTitle},"Instructions"),d.default.createElement("ol",{className:u.default.section},d.default.createElement("li",null,"Review the fields in our"," ",d.default.createElement("a",{href:"/metadata/dictionary",target:"_blank",rel:"noopener noreferrer",className:u.default.link},"metadata dictionary"),", where you will find definitions and format requirements. Take special note of the ",d.default.createElement("b",null,"required")," fields, which you must provide when uploading a new sample."),d.default.createElement("li",null,"You can use your own CSV or copy your metadata into our"," ",d.default.createElement("a",{href:"/metadata/metadata_template_csv",target:"_blank",rel:"noopener noreferrer",className:u.default.link},"CSV template."),d.default.createElement("p",null,"If your entered Host Organism does not match a supported host\n              genome, we will only subtract out ERCCs and the Human genome. You can\n              read more about how to request a new genome to be added to IDseq ",d.default.createElement("a",{href:"https://chanzuckerberg.zendesk.com/hc/en-us/articles/360034790814-How-do-I-request-a-new-host-genome-be-added-to-IDseq-",target:"_blank",rel:"noopener noreferrer",className:u.default.link},"here."))),d.default.createElement("li",null,"Make sure your column headers match our naming convention."),d.default.createElement("li",null,"Make sure your metadata values are in the correct format."),d.default.createElement("li",null,"Upload your CSV file."),d.default.createElement("li",null,"If there are errors, please make the necessary changes in your CSV and upload it again."))));return t?d.default.createElement(p.default,{size:l},n):n}}]),UploadInstructions}(d.default.Component);m.propTypes={onClose:c.default.func.isRequired,standalone:c.default.bool,size:c.default.oneOf(["small"])};var h=m;t.default=h},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(760)).default;t.default=n},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"SearchBoxList",{enumerable:!0,get:function get(){return n.default}}),Object.defineProperty(t,"Input",{enumerable:!0,get:function get(){return r.default}});var n=l(a(762)),r=l(a(83))},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(5)),r=l(a(47)),o=a(37),s=l(a(1)),i=l(a(88)),d=l(a(0)),c=function DownloadButton(e){var t=e.disabled,a=e.onClick,l=(0,r.default)(e,["disabled","onClick"]);return d.default.createElement(i.default,(0,n.default)({},l,{text:"Download",disabled:t,onClick:a,icon:d.default.createElement(o.Icon,{size:"large",className:"cloud download alternate"})}))};c.propTypes={disabled:s.default.bool,onClick:s.default.func};var u=c;t.default=u},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(5)),r=l(a(281)),o=l(a(0)),s=function TransparentButton(e){return o.default.createElement(r.default,(0,n.default)({className:"transparent-btn"},e))};t.default=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ALL_COLUMNS=t.INITIAL_COLUMNS=t.SAMPLE_TABLE_COLUMNS=t.SAMPLE_TABLE_COLUMNS_V2=void 0;var l=a(17),n="https://help.idseq.net/hc/en-us/articles/",r={sample:{tooltip:"The user-defined sample name."},createdAt:{tooltip:"The date on which the sample was initially uploaded to IDseq."},host:{tooltip:"User-selected organism from which this sample was collected; this\n      value is selected by the user at sample upload and dictates which\n      genomes are used for initial host subtraction pipeline steps.",link:n+"360035296613-Project-Page#metrics-meanings"},collectionLocationV2:{tooltip:"User-defined location from which the sample was collected."},totalReads:{tooltip:"The total number of reads uploaded."},nonHostReads:{tooltip:"The percentage of reads that came out of step (8) of the host filtration\n    and QC steps as compared to what went in at step (1).",link:n+"360034790554-Pipeline-Details#passed-filters"},qcPercent:{tooltip:"The percentage of reads that came out of PriceSeq, step (3) of the host\n    filtration and QC steps, compared to what went in to Trimmomatic, step (2).",link:n+"360034790554-Pipeline-Details#passed-qc"},duplicateCompressionRatio:{tooltip:"Duplicate Compression Ratio is the ratio of sequences present prior to\n    running cd-hit-dup (duplicate removal) vs after duplicate removal.\n    High values indicate the presence of more duplicate reads, indicating lower\n    library complexity.",link:n+"360035296613-Project-Page#metrics-meanings"},erccReads:{tooltip:"The total number of reads aligning to ERCC (External RNA Controls\n      Consortium) sequences.",link:n+"360034790834-How-to-Interpret-ERCC-Quality"},notes:{tooltip:"User-supplied notes."},nucleotideType:{tooltip:"User-selected metadata field indicating the nucleotide type (RNA, DNA)."},sampleType:{tooltip:"User-supplied metadata field indicating the sample type."},subsampledFraction:{tooltip:"After host filtration and QC, the remaining reads are subsampled to 1\n    million fragments (2 million paired reads). This field indicates the ratio of\n    subsampled reads to total reads passing host filtration and QC steps.",link:n+"360035296613-Project-Page#metrics-meanings"},totalRuntime:{tooltip:"The total time required by the IDseq pipeline to process .fastq files into\n    IDseq reports."},waterControl:{tooltip:"Whether a sample is water-only as a control."}};t.SAMPLE_TABLE_COLUMNS_V2=r;var o={total_reads:{display_name:"Total reads",type:"pipeline_data"},nonhost_reads:{display_name:"Passed filters",type:"pipeline_data"},total_ercc_reads:{display_name:"ERCC reads",type:"pipeline_data"},fraction_subsampled:{display_name:"Subsampled fraction",type:"pipeline_data"},quality_control:{display_name:"Passed QC",tooltip:"Passed quality control",type:"pipeline_data"},compression_ratio:{display_name:"DCR",tooltip:"Duplicate compression ratio",type:"pipeline_data"},pipeline_status:{display_name:"Status",type:"pipeline_data"},nucleotide_type:{display_name:"Nucleotide type",type:"metadata"},collection_location:{display_name:"Collection Location",type:"metadata"},host_genome:{display_name:"Host",type:"sampleMetadata"},sample_type:{display_name:"Sample type",type:"metadata"},notes:{display_name:"Notes",type:"sampleMetadata"}};t.SAMPLE_TABLE_COLUMNS=o;t.INITIAL_COLUMNS=["total_reads","nonhost_reads","quality_control","compression_ratio","host_genome","collection_location","pipeline_status"];var s=(0,l.keys)(o);t.ALL_COLUMNS=s},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.publicSampleNotificationsByProject=t.publicSampleNotification=void 0;var n=l(a(0)),r=a(17),o=l(a(767)),s=a(217),i=function publicSampleNotification(e,t,a){(0,s.showToast)(function(a){var l=a.closeToast;return n.default.createElement(o.default,{samples:e,projectName:t,onClose:l})},{onClose:a})};t.publicSampleNotification=i;t.publicSampleNotificationsByProject=function publicSampleNotificationsByProject(e){for(var t={},a=0;a<e.length;a++){var l=e[a];t[l.project.id]||(t[l.project.id]=[]),t[l.project.id].push(l)}for(var n=function _loop(){var e=s[o];i(e,e[0].project.name,function(){localStorage.setItem("dismissedPublicSamples",JSON.stringify((0,r.union)(JSON.parse(localStorage.getItem("dismissedPublicSamples")),e.map(function(e){return e.id}))))})},o=0,s=Object.values(t);o<s.length;o++)n()}},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(0)),r=l(a(46)),o=l(a(111)),s=a(177),i=function PathogenPreview(e){var t=e.tag2Count,a=Object.keys(t).sort();if(0===a.length)return null;var l=Object.values(t).reduce(function(e,t){return e+t}),i=n.default.createElement("span",{className:"idseq-ui pathogen-preview"},a.map(function(e){return n.default.createElement(o.default,{circular:!0,color:s.CATEGORIES[e].color,key:e})}),n.default.createElement("span",{className:"pathogen-count"},l));return n.default.createElement(r.default,{trigger:i,content:"Contains flagged pathogen species",basic:!1})};t.default=i},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(408)),r=l(a(0)),o=function ReportInsightIcon(){return r.default.createElement(n.default,{tooltip:"Highest-scoring organisms satisfying certain thresholds"})};t.default=o},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(46)),r=l(a(0)),o=function InsightIcon(e){var t=e.tooltip,a=r.default.createElement("span",{className:"ui icon insight-icon"},r.default.createElement("span",{className:"fa-stack fa-lg"},r.default.createElement("i",{className:"fa fa-circle fa-stack-2x"}),r.default.createElement("i",{className:"fa fa-lightbulb-o fa-stack-1x fa-inverse"})));return r.default.createElement(n.default,{trigger:a,content:t,basic:!1})};t.default=o},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.REPORT_TABLE_COLUMNS=void 0;var l="https://help.idseq.net/hc/en-us/articles/360034790574-Single-Sample-Report-Table",n={NT_aggregatescore:{title:"Aggregate score",tooltip:"Experimental ranking score for prioritizing microbes based on abundance within the sample (rPM) as well as compared to control samples (Z-score).",link:l+"#score"},zscore:{title:"Z-score",tooltip:"Statistic used for evaluating the prevelance of microbes in the sample as compared to background contaminants.",link:l+"#z-score"},rpm:{tooltip:"Number of reads aligning to the taxon in the NCBI NR/NT database, per million reads sequenced.",link:l+"#rpm"},r:{tooltip:"Number of reads aligning to the taxon in the NCBI NT/NR database.",link:l+"#reads"},contigs:{tooltip:"Number of assembled contigs aligning to the taxon in the NCBI NT/NR database.",link:l+"#contig"},contigreads:{tooltip:"Total number of reads across all assembled contigs.",link:l+"#contig-r"},percentidentity:{tooltip:"Average percent-identity of alignments to NCBI NT/NR.",link:l+"#identity-match"},alignmentlength:{tooltip:"Average length of the local alignment for all contigs and reads assigned to this taxon.",link:l+"#average-length"},neglogevalue:{tooltip:"Average log10 transformed expect value (e-value) of alignments to NCBI NT/NR.",link:l+"#inverse-of-e-value"}};t.REPORT_TABLE_COLUMNS=n},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(0)),r=l(a(24)),o=l(a(74)),s=function BackgroundModelFilter(e){var t=e.allBackgrounds,a=e.value,l=e.onChange,r=!1,s=t.map(function(e){return{text:e.name,value:e.id}});return 0==s.length&&(s=[{text:"No background models to display",value:-1}],r=!0),n.default.createElement(o.default,{options:s,value:a,disabled:r,label:"Background",onChange:l,rounded:!0})};s.propTypes={allBackgrounds:r.default.arrayOf(r.default.BackgroundData),value:r.default.number,onChange:r.default.func.isRequired};var i=s;t.default=i},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(0)),r=l(a(24)),o=l(a(288)),s=function CategoryFilter(e){var t=e.allCategories,a=e.categoryParentChild,l=e.categoryChildParent,r=e.selectedCategories,s=e.selectedSubcategories,i=e.onChange,d=[];t.forEach(function(e){d.push({text:e.name,value:e.name});var t=[];(a[e.name]||[]).forEach(function(e){t.push({text:e,value:e})}),t.length>0&&(d[d.length-1].suboptions=t)});var c={};return s.forEach(function(e){var t=l[e];c[t]||(c[t]=[]),c[t].push(e)}),n.default.createElement(o.default,{options:d,selectedOptions:r,selectedSuboptions:c,boxed:!0,rounded:!0,label:"Categories",onChange:i})};s.propTypes={allCategories:r.default.arrayOf(r.default.shape({name:r.default.string})).isRequired,categoryParentChild:r.default.objectOf(r.default.arrayOf(r.default.string)).isRequired,categoryChildParent:r.default.objectOf(r.default.string).isRequired,selectedCategories:r.default.arrayOf(r.default.string).isRequired,selectedSubcategories:r.default.arrayOf(r.default.string).isRequired,onChange:r.default.func.isRequired};var i=s;t.default=i},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(0)),r=l(a(24)),o=l(a(74)),s=function MetricPicker(e){var t=e.value,a=e.onChange,l=e.options;return n.default.createElement(o.default,{options:l,value:t,label:"Tree Metric",onChange:a,rounded:!0})};s.propTypes={value:r.default.string.isRequired,onChange:r.default.func.isRequired,options:r.default.arrayOf(r.default.shape({text:r.default.string,value:r.default.string}))};var i=s;t.default=i},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(0)),r=l(a(24)),o=l(a(74)),s=[{text:"All",value:0},{text:"Specific Only",value:1}],i=function SpecificityFilter(e){var t=e.value,a=e.onChange;return n.default.createElement(o.default,{options:s,value:t,label:"Read Specificity",onChange:a,rounded:!0})};i.propTypes={value:r.default.number.isRequired,onChange:r.default.func.isRequired};var d=i;t.default=d},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(0)),r=l(a(24)),o=l(a(74)),s=[{text:"Scientific",value:"Scientific name"},{text:"Common",value:"Common name"}],i=function NameTypeFilter(e){var t=e.value,a=e.onChange;return n.default.createElement(o.default,{options:s,value:t,label:"Name Type",onChange:a,rounded:!0})};i.propTypes={value:r.default.string.isRequired,onChange:r.default.func.isRequired};var d=i;t.default=d},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(3)),d=l(a(11)),c=l(a(2)),u=l(a(0)),f=l(a(1)),p=l(a(83)),m=l(a(416)),h=l(a(1363)),g=l(a(58)),v=l(a(174)),y=4,b=function(e){function MinContigReadsFilter(){var e,t;(0,n.default)(this,MinContigReadsFilter);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return t=(0,o.default)(this,(e=(0,s.default)(MinContigReadsFilter)).call.apply(e,[this].concat(l))),(0,c.default)((0,i.default)(t),"state",{value:t.props.value,error:"",previousValue:t.props.value}),(0,c.default)((0,i.default)(t),"handleChange",function(e){t.setState({value:e})}),(0,c.default)((0,i.default)(t),"handleBlur",function(){var e=Number(t.state.value);isNaN(e)||e<y?t.setState({value:t.state.previousValue,error:"Size must be at least 4."}):(t.setState({error:""}),t.props.onChange&&t.props.onChange(e))}),(0,c.default)((0,i.default)(t),"renderContents",function(){return u.default.createElement("div",{className:h.default.contents},u.default.createElement("div",{className:h.default.labelContainer},u.default.createElement("span",{className:h.default.label},"Set the Min Contig Reads:"),u.default.createElement(m.default,{text:"\n      Contig Size refers to the number of reads that covered the contig.\n      Only contigs that were assembled from at least {Min Contig Reads} reads will be counted in the contig and contig r columns.\n    "})),u.default.createElement(p.default,{value:t.state.value,onChange:t.handleChange,onBlur:t.handleBlur,type:"number",className:h.default.input}),t.state.error&&u.default.createElement("div",{className:h.default.error},t.state.error))}),t}return(0,d.default)(MinContigReadsFilter,e),(0,r.default)(MinContigReadsFilter,[{key:"componentDidUpdate",value:function componentDidUpdate(e){e.value!==this.props.value&&this.setState({value:this.props.value,previousValue:this.props.value})}},{key:"render",value:function render(){var e="Min Contig Reads"+(void 0!==this.state.value&&null!==this.state.value?":":"");return u.default.createElement(g.default,{className:h.default.minContigReadsFilter,trigger:u.default.createElement(v.default,{className:h.default.dropdownTrigger,label:e,value:this.state.value,rounded:!0}),floating:!0,arrowInsideTrigger:!0,closeOnClick:!1},this.renderContents())}}]),MinContigReadsFilter}(u.default.Component);b.propTypes={value:f.default.number,onChange:f.default.func};var C=b;t.default=C},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(0)),c=l(a(1)),u=l(a(4)),f=a(37),p=l(a(1361)),m=function(e){function HelpIcon(){return(0,n.default)(this,HelpIcon),(0,o.default)(this,(0,s.default)(HelpIcon).apply(this,arguments))}return(0,i.default)(HelpIcon,e),(0,r.default)(HelpIcon,[{key:"render",value:function render(){return d.default.createElement(f.Popup,{trigger:d.default.createElement("i",{className:(0,u.default)("fa fa-question-circle",p.default.helpIcon,this.props.className)}),inverted:!0,content:this.props.text,horizontalOffset:13})}}]),HelpIcon}(d.default.Component);m.propTypes={className:c.default.string,text:c.default.string};var h=m;t.default=h},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(35)),r=l(a(7)),o=l(a(8)),s=a(953),i=a(48),d=a(246),c=function(){function TidyTree(e,t,a){(0,r.default)(this,TidyTree),this.container=(0,i.select)(e),this.svg=null,this.pathContainer=null,this.nodeContainer=null,this.options=Object.assign({addOverlays:!0,attribute:"aggregatescore",leafNodeHeight:35,minWidth:960,minHeight:300,transitionDuration:500,onNodeHover:null,onCreatedTree:null,tooltipContainer:null,collapseThreshold:.4,useCommonName:!1,minNonCollapsableChildren:2,smallerFont:8,largerFont:12,onCollapsedStateChange:function onCollapsedStateChange(){},collapsed:new Set,svgBackgroundColor:"white"},a||{}),this.margins={top:20,right:200,left:40,bottom:20},this.range=[0,1],this.setTree(t)}return(0,o.default)(TidyTree,[{key:"initialize",value:function initialize(){this.svg=this.container.append("svg").attr("class","tidy-tree").attr("width",this.options.width).attr("height",this.options.height).attr("style","background-color: ".concat(this.options.svgBackgroundColor)),this.pathContainer=this.svg.append("g").attr("transform","translate("+this.margins.left+","+this.margins.top+")"),this.nodeContainer=this.svg.append("g").attr("transform","translate("+this.margins.left+","+this.margins.top+")"),this.tooltipContainer=(0,i.select)(this.options.tooltipContainer)}},{key:"setOptions",value:function setOptions(e){Object.assign(this.options,e),(e.attribute||e.collapseThreshold)&&this.sortAndScaleTree(),this.update()}},{key:"setTree",value:function setTree(e){var t=(0,s.stratify)().id(function(e){return e.id}).parentId(function(e){return e.parentId});this.root=t(e),this.options.onCreatedTree&&this.options.onCreatedTree(this.root),this.sortAndScaleTree(),this.update()}},{key:"resetTree",value:function resetTree(){this.root.eachBefore(function(e){(e.children||e.collapsedChildren||e.hiddenChildren)&&(e.children=(e.children||[]).concat(e.collapsedChildren||[]).concat(e.hiddenChildren||[]),e.children=e.children.filter(function(e){return!e.isAggregated}),e.collapsedChildren=null,e.hiddenChildren=null),e.isAggregated=!1})}},{key:"sortAndScaleTree",value:function sortAndScaleTree(){var e=this;this.resetTree(),this.root.sort(function(t,a){return a.data.values[e.options.attribute]-t.data.values[e.options.attribute]}),this.range=[Math.min.apply(Math,(0,n.default)(this.root.leaves().map(function(t){return t.data.values[e.options.attribute]}))),this.root.data.values[this.options.attribute]];var t=(0,d.scaleLinear)().domain(this.range).range([0,1]);this.root.eachAfter(function(a){e.options.collapsed.has(a.id)?(a.collapsedChildren=a.children,a.children=null):!a.data.highlight&&t(a.data.values[e.options.attribute])<e.options.collapseThreshold?(a.collapsedChildren=a.children,a.children=null):a.children&&(a.collapsedChildren=a.children.filter(function(a){return!a.data.highlight&&t(a.data.values[e.options.attribute])<e.options.collapseThreshold}),a.collapsedChildren.length<=e.options.minNonCollapsableChildren?a.collapsedChildren=null:(a.children=a.children.filter(function(a){return a.data.highlight||t(a.data.values[e.options.attribute])>=e.options.collapseThreshold}),a.children.length||(a.children=null),e.hasVisibleChildren(a)&&e.hasHiddenChildren(a)&&a.children.push({id:"other-".concat(a.id),depth:a.depth+1,height:0,parent:a,isAggregated:!0,data:{commonName:"(".concat(a.collapsedChildren.length,")"),highlight:a.collapsedChildren.some(function(e){return e.data.highlight}),scientificName:"(".concat(a.collapsedChildren.length,")"),lineageRank:a.collapsedChildren[0].data.lineageRank,values:a.collapsedChildren[0].data.values}})))})}},{key:"toggleCollapseNode",value:function toggleCollapseNode(e){var t=this,a=e;if(this.hasAllChildrenCollapsed(e)||this.hasAllChildrenVisible(e)){var l=e.children;e.children=e.collapsedChildren,e.collapsedChildren=l,e.collapsedChildren||(e.collapsedChildren=e.hiddenChildren,e.hiddenChildren=null)}else if(this.hasHiddenChildren(e))e.hiddenChildren=e.collapsedChildren,e.collapsedChildren=e.children,e.children=null;else if(e.isAggregated){var n=e.parent;n.children.pop(),n.children=n.children.concat(n.collapsedChildren),n.collapsedChildren=null,a=n}a.children&&a.children.forEach(function(e){t.expandCollapsedWithFewChildrenOrNoName(e)}),this.update(Object.assign(e,{x0:e.x,y0:e.y})),this.options.onCollapsedStateChange&&this.options.onCollapsedStateChange(e)}},{key:"expandCollapsedWithFewChildrenOrNoName",value:function expandCollapsedWithFewChildrenOrNoName(e){var t=this;e&&e.collapsedChildren&&(e.collapsedChildren.length<=this.options.minNonCollapsableChildren||!(e.data||{}).name)&&(e.children=(e.children||[]).concat(e.collapsedChildren),e.collapsedChildren=null,e.children.forEach(function(e){t.expandCollapsedWithFewChildrenOrNoName(e)}))}},{key:"curvedPath",value:function curvedPath(e,t){return"M ".concat(e.y," ").concat(e.x,"\n            C ").concat((e.y+t.y)/2," ").concat(e.x,",\n            ").concat((e.y+t.y)/2," ").concat(t.x,",\n            ").concat(t.y," ").concat(t.x)}},{key:"getNodeBoxRefSvg",value:function getNodeBoxRefSvg(e,t){var a=t.getBBox(),l=e.y+this.margins.left;return{x:e.x+this.margins.top,y:l,width:a.width,height:a.height}}},{key:"hasAllChildrenCollapsed",value:function hasAllChildrenCollapsed(e){return!(e.children||!e.collapsedChildren)}},{key:"hasAllChildrenVisible",value:function hasAllChildrenVisible(e){return!(!e.children||e.collapsedChildren)}},{key:"hasChildren",value:function hasChildren(e){return!(!e.children&&!e.collapsedChildren)}},{key:"hasHiddenChildren",value:function hasHiddenChildren(e){return!!e.collapsedChildren}},{key:"hasVisibleChildren",value:function hasVisibleChildren(e){return!!e.children}},{key:"wrap",value:function wrap(e,t){var a=this;e.each(function(e,l,n){var r,o=(0,i.select)(n[l]),s=o.text().split(/\s+/),d=[],c=1,u=parseFloat(o.style("font-size")),f=1.2*u,p=o.attr("x"),m=o.text(null).append("tspan").attr("x",p);if(1==s.length)m.text(s[0]);else for(;r=s.pop();)d.unshift(r),m.text(d.join(" ")),m.node().getComputedTextLength()>t&&(d.shift(),m.text(d.join(" ")),d=[r],m=o.append("tspan").attr("x",p).attr("dy","".concat(-f,"px")).text(r),c++);a.hasVisibleChildren(e)||o.attr("dy","".concat((u+(c-1)*f-3)/2,"px"))})}},{key:"update",value:function update(e){var t=this;if(this.svg||this.initialize(),this.options.attribute){var a=this.options.minWidth,l=Math.max(this.options.minHeight,this.options.leafNodeHeight*this.root.leaves().length);this.root.x0=l/2,this.root.y0=0,this.svg.transition().duration(this.options.transitionDuration).attr("width",a+this.margins.left+this.margins.right).attr("height",l+this.margins.top+this.margins.bottom),(0,s.tree)().size([l,a])(this.root),e=e||this.root;var n=(0,d.scaleLinear)().domain(this.range).range([4,20]),r=(0,d.scaleLinear)().domain(this.range).range([1,20]),o=(0,d.scaleLinear)().domain(this.range).range([this.options.smallerFont,this.options.largerFont]),c=this.pathContainer.selectAll(".link").data(this.root.links(),function(e){return e.target.id});c.enter().append("path").attr("class",function(e){return"link ".concat(e.target.data.highlight?"highlighted":"")}).attr("d",function(){var a={x:e.x0,y:e.y0};return t.curvedPath(a,a)}).merge(c).lower().transition().duration(this.options.transitionDuration).attr("class",function(e){return"link ".concat(e.target.data.highlight?"highlighted":"")}).attr("d",function(e){return t.curvedPath(e.source,e.target)}).attr("stroke-width",function(e){return r(e.target.data.values[t.options.attribute])}),c.exit().transition().duration(this.options.transitionDuration).attr("d",this.curvedPath(e,e)).remove();var u=this.nodeContainer.selectAll("g.node").data(this.root.descendants(),function(e){return e.id}),f=u.enter().append("g").attr("class","node").attr("transform",function(){var a=e&&e.x0||t.root.x0,l=e&&e.y0||t.root.y0;return"translate(".concat(l,",").concat(a,")")}),p=f.append("g").attr("class","clickable");p.append("circle").attr("r",0),p.filter(function(e){return t.hasChildren(e)||e.isAggregated}).append("path").attr("class","cross").attr("d","M0,0");var m=f.append("text").style("fill-opacity",0).on("click",this.options.onNodeLabelClick);this.tooltipContainer&&f.on("mouseenter",function(e){t.options.onNodeHover&&t.options.onNodeHover(e),t.tooltipContainer.classed("visible",!0)}).on("mousemove",function(e){t.tooltipContainer.style("left",i.event.pageX+20+"px").style("top",i.event.pageY+20+"px")}).on("mouseleave",function(){t.tooltipContainer.classed("visible",!1)});var h=u.merge(f);h.transition().duration(this.options.transitionDuration).attr("class",function(e){return"node "+"node-".concat(e.id)+(t.hasChildren(e)?" node__internal":" node__leaf")+(t.hasAllChildrenCollapsed(e)||e.isAggregated?"--collapsed":"")}).attr("transform",function(e){return"translate("+e.y+","+e.x+")"});var g=m.merge(u.select("text"));g.text(function(e){return(t.options.useCommonName?e.data.commonName:null)||e.data.scientificName}).style("text-anchor",function(e){return t.hasVisibleChildren(e)?"middle":"start"}).style("alignment-baseline",function(e){return t.hasVisibleChildren(e)?"baseline":"middle"}).style("font-size",function(e){return o(e.data.values[t.options.attribute])}).style("font-weight",600).style("letter-spacing",.3).attr("dy",function(e){return t.hasVisibleChildren(e)?-4-1.3*n(e.data.values[t.options.attribute]):0}).attr("x",function(e){return t.hasVisibleChildren(e)?0:4+1.3*n(e.data.values[t.options.attribute])}).call(this.wrap.bind(this),110),g.transition().duration(this.options.transitionDuration).attr("class",function(e){return t.options.useCommonName&&!e.data.commonName?"name-missing":null}).style("fill-opacity",1),h.select(".clickable").on("click",function(e){return t.toggleCollapseNode(e)}),h.select("circle").attr("r",function(e){return!e.parent||e.data.scientificName||t.hasHiddenChildren(e)?n(e.data.values[t.options.attribute]):0}),h.select("path.cross").attr("d",function(e){var a=.9*n(e.data.values[t.options.attribute]);return a=Math.min(a,8),"M".concat(-a,",0 L").concat(a,",0 M0,").concat(-a," L0,").concat(a)}),this.options.addOverlays&&h.each(function(e,a,l){var r=t.container.select(".node-overlay__".concat(e.id));if(!r.empty()){var o=(0,i.select)(l[a]).select("text"),s=t.getNodeBoxRefSvg(e,o.node()),d=t.hasVisibleChildren(e)?s.y-s.width/2-20:s.y+n(e.data.values[t.options.attribute])+s.width,c=t.hasVisibleChildren(e)?s.x-n(e.data.values[t.options.attribute])-s.height-20:s.x-n(e.data.values[t.options.attribute])+s.height-20;r.transition().duration(t.options.transitionDuration).style("opacity",1).style("position","absolute").style("left","".concat(d,"px")).style("top","".concat(c,"px")).select("div.pathogen-label").style("font-size","".concat(t.options.smallerFont,"px"))}});var v=u.exit().transition().duration(this.options.transitionDuration).attr("transform",function(t){return"translate("+e.y+","+e.x+")"}).remove();v.each(function(e){t.container.select(".node-overlay__".concat(e.id)).transition().duration(t.options.transitionDuration).style("opacity",0)}),v.select("circle").attr("r",1e-6),v.select("text").style("fill-opacity",1e-6)}else console.error("TidyTree: Option 'attribute' is not defined.")}}]),TidyTree}();t.default=c},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(35)),r=l(a(7)),o=l(a(8)),s=l(a(10)),i=l(a(9)),d=l(a(3)),c=l(a(11)),u=l(a(2)),f=l(a(0)),p=l(a(4)),m=l(a(46)),h=l(a(282)),g=l(a(419)),v=l(a(24)),y=a(87),b=l(a(1366)),C=!0,w=function(e){function HoverActions(){var e,t;(0,r.default)(this,HoverActions);for(var a=arguments.length,l=new Array(a),o=0;o<a;o++)l[o]=arguments[o];return t=(0,s.default)(this,(e=(0,i.default)(HoverActions)).call.apply(e,[this].concat(l))),(0,u.default)((0,d.default)(t),"handlePhyloModalOpen",function(){var e=t.props,a=e.taxId,l=e.taxName,n=e.onPhyloTreeModalOpened;n&&n({taxId:a,taxName:l})}),(0,u.default)((0,d.default)(t),"getHoverActions",function(){var e=t.props.pipelineVersion,a=(0,y.pipelineVersionHasCoverageViz)(e),l={pipelineVersion:e,taxCommonName:t.props.taxCommonName,taxId:t.props.taxId,taxLevel:1===t.props.taxLevel?"species":"genus",taxName:t.props.taxName,taxSpecies:t.props.taxSpecies};return[{key:"taxonomy_browser_".concat(l.taxId),message:"NCBI Taxonomy Browser",icon:"fa-link",handleClick:t.props.onNcbiActionClick,enabled:t.props.ncbiEnabled,disabledMessage:"NCBI Taxonomy Not Found",params:l},a?{key:"coverage_viz_".concat(l.taxId),message:"Coverage Visualization",iconComponentClass:g.default,handleClick:t.props.onCoverageVizClick,enabled:t.props.coverageVizEnabled,disabledMessage:"Coverage Visualization Not Available - requires reads in NT",params:l}:{key:"alignment_viz_".concat(l.taxId),message:"Alignment Visualization",icon:"fa-bars",handleClick:t.props.onCoverageVizClick,enabled:t.props.coverageVizEnabled,disabledMessage:"Alignment Visualization Not Available - requires reads in NT",params:l}].concat((0,n.default)(C?[]:[{key:"phylo_tree_".concat(l.taxId),message:f.default.createElement("div",null,"Phylogenetic Analysis ",f.default.createElement(h.default,null)),icon:"fa-code-fork",handleClick:t.handlePhyloModalOpen,enabled:t.props.phyloTreeEnabled,disabledMessage:"Phylogenetic Analysis Not Available - requires 100+ reads in NT/NR"}]))}),(0,u.default)((0,d.default)(t),"renderHoverAction",function(e){var t,a,l=e.iconComponentClass;if(e.enabled){var n=function onClickFn(){return e.handleClick(e.params||{})};t=l?f.default.createElement("div",{onClick:n,className:b.default.actionDot},f.default.createElement(l,{className:b.default.icon})):f.default.createElement("i",{onClick:n,className:(0,p.default)("fa",e.icon,b.default.actionDot)}),a=e.message}else t=l?f.default.createElement("div",{className:b.default.actionDot},f.default.createElement(l,{className:(0,p.default)(b.default.icon,b.default.disabled)})):f.default.createElement("i",{className:(0,p.default)("fa",e.icon,b.default.actionDot,b.default.disabled)}),a=e.disabledMessage;return f.default.createElement(m.default,{basic:!1,position:"top center",key:e.key,trigger:t,content:a})}),t}return(0,c.default)(HoverActions,e),(0,o.default)(HoverActions,[{key:"render",value:function render(){var e=this.props.className;return f.default.createElement("span",{className:(0,p.default)(b.default.hoverActions,e)},this.getHoverActions().map(this.renderHoverAction))}}]),HoverActions}(f.default.Component);w.propTypes={className:v.default.string,contigVizEnabled:v.default.bool,coverageVizEnabled:v.default.bool,fastaEnabled:v.default.bool,ncbiEnabled:v.default.bool,onContigVizClick:v.default.func.isRequired,onCoverageVizClick:v.default.func.isRequired,onFastaActionClick:v.default.func.isRequired,onNcbiActionClick:v.default.func.isRequired,onPhyloTreeModalOpened:v.default.func,phyloTreeEnabled:v.default.bool,pipelineVersion:v.default.string,taxCommonName:v.default.string,taxId:v.default.number,taxLevel:v.default.number,taxName:v.default.string,taxSpecies:v.default.array};var E=w;t.default=E},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(0)),r=l(a(1)),o=function CoverageIcon(e){return n.default.createElement("svg",{className:e.className,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 11.79 11.79"},n.default.createElement("path",{d:"M-294.47-278.45a1,1,0,0,1,.84-.37H-290a1,1,0,0,1,.84.37l1,1.18a3.23,3.23,0,0,0,2.53,1.21H-273a1.14,1.14,0,0,1,.8.33,1.27,1.27,0,0,1,.3.85l-.08.55h-22.35l-.37-3.28A1.12,1.12,0,0,1-294.47-278.45Zm23,20.22A1.44,1.44,0,0,1-273-256.9h-20.81a1.43,1.43,0,0,1-1.47-1.33l-1.18-12.68a1.15,1.15,0,0,1,.29-.85,1.05,1.05,0,0,1,.81-.37h23.9a1.05,1.05,0,0,1,.81.37,1.16,1.16,0,0,1,.3.85Zm-27.1-12.5,1.14,12.72a3.67,3.67,0,0,0,3.68,3.31H-273a3.68,3.68,0,0,0,3.68-3.31l1.14-12.72a3.29,3.29,0,0,0-.85-2.54,3.24,3.24,0,0,0-.85-.66l.08-.73a3.25,3.25,0,0,0-.84-2.53,3.27,3.27,0,0,0-2.43-1.08h-12.62a1,1,0,0,1-.84-.4l-1-1.18A3.25,3.25,0,0,0-290-281h-3.61a3.15,3.15,0,0,0-2.46,1.1,3.23,3.23,0,0,0-.84,2.57l.36,3.27a3.2,3.2,0,0,0-1.17.81A3.22,3.22,0,0,0-298.59-270.73Z"}),n.default.createElement("rect",{x:"1.82",y:"4.07",width:"1.51",height:"7.17",rx:"0.65",ry:"0.65"}),n.default.createElement("rect",{x:"4.03",y:"2.12",width:"1.51",height:"9.13",rx:"0.65",ry:"0.65"}),n.default.createElement("rect",{x:"6.25",y:"0.55",width:"1.51",height:"10.69",rx:"0.65",ry:"0.65"}),n.default.createElement("rect",{x:"8.46",y:"4.23",width:"1.51",height:"7.01",rx:"0.65",ry:"0.65"}))};o.propTypes={className:r.default.string};var s=o;t.default=s},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(5)),r=l(a(47)),o=l(a(7)),s=l(a(8)),i=l(a(10)),d=l(a(9)),c=l(a(11)),u=l(a(0)),f=l(a(4)),p=l(a(1)),m=a(66),h=l(a(110)),g=a(37),v=l(a(1378)),y=function(e){function Sidebar(){return(0,o.default)(this,Sidebar),(0,i.default)(this,(0,d.default)(Sidebar).apply(this,arguments))}return(0,c.default)(Sidebar,e),(0,s.default)(Sidebar,[{key:"render",value:function render(){var e=this.props,t=e.children,a=e.className,l=(0,r.default)(e,["children","className"]);return u.default.createElement(g.Sidebar,(0,n.default)({},l,{animation:"overlay",className:(0,f.default)(v.default.sidebar,a,v.default[this.props.direction])}),t,u.default.createElement(h.default,{className:v.default.closeIcon,onClick:this.props.onClose}))}}]),Sidebar}(u.default.Component);y.propTypes=(0,m.forbidExtraProps)({direction:p.default.string,width:p.default.string,visible:p.default.bool,children:p.default.node,className:p.default.string,onClose:p.default.func.isRequired}),y.defaultProps={direction:"right"};var b=y;t.default=b},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(32)),r=l(a(7)),o=l(a(8)),s=l(a(2)),i=a(50),d=l(a(4)),c=a(1990),u=a(48),f=a(246),p=a(17),m=l(a(397)),h=a(298),g=l(a(1380)),v=function(){function Histogram(e,t,a){var l=this;(0,r.default)(this,Histogram),(0,s.default)(this,"getDomain",function(){if(l.options.domain)return l.options.domain;for(var e=[],t=[],a=function _loop(a){var n=l.data[a],r=(0,i.extent)(n);if(e.push(r[0]),t.push(r[1]),l.options.refValues&&l.options.refValues.length){var o=l.options.refValues.map(function(e){return parseFloat(e.values[a])});e.push((0,i.min)(o)),t.push((0,i.max)(o))}},n=0;n<l.data.length;n++)a(n);return l.options.xScaleLog?[1,(0,i.max)(t)]:[(0,i.min)(e),(0,i.max)(t)]}),(0,s.default)(this,"getBins",function(e){if(l.options.skipBins)return l.data;for(var t=[],a=0;a<l.data.length;a++)t[a]=(0,i.histogram)().domain(e.domain()).thresholds(e.ticks(20))(l.data[a]);return t}),(0,s.default)(this,"getBarWidth",function(e,t){return l.options.skipBins?(l.size.width-l.margins.right-l.margins.left)/(l.options.numBins||(0,i.max)((0,p.map)(function(e){return e.length},l.data))):l.options.xScaleLog?(e(t.x1)-e(t.x0))/2:(l.size.width-l.margins.right-l.margins.left)/(20*l.data.length)}),(0,s.default)(this,"getColors",function(){return l.options.colors?l.options.colors:(new h.CategoricalColormap).getNScale(l.data.length+1)}),(0,s.default)(this,"getBarOpacity",function(){return l.options.barOpacity||.8}),(0,s.default)(this,"onMouseMove",function(){if(0!=l.sortedBarCenters.length){var e=(0,u.mouse)(l.svg.node())[0],t=m.default.findClosestNeighbors(l.sortedBarCenters,e),a=null;a=1===t.length?t[0]:Math.abs(t[0]-e)<Math.abs(t[1]-e)?t[0]:t[1];var n=l.getBarWidth()/2+l.options.hoverBuffer,r=Math.abs(a-e)<n?l.barCentersToIndices[a]:null,o=l.lastHoveredBarX?l.barCentersToIndices[l.lastHoveredBarX]:null;l.lastHoveredBarX!==a&&null!==r?(l.options.onHistogramBarEnter&&l.options.onHistogramBarEnter(r),l.highlightBar(r,!0),l.highlightBar(o,!1),l.lastHoveredBarX=a):null===r&&l.lastHoveredBarX&&(l.options.onHistogramBarExit&&l.options.onHistogramBarExit(),l.highlightBar(o,!1),l.lastHoveredBarX=null),null!==r&&l.options.onHistogramBarHover&&l.options.onHistogramBarHover(u.event.clientX,u.event.clientY)}}),(0,s.default)(this,"onMouseLeave",function(){l.options.onHistogramBarExit&&l.options.onHistogramBarExit();var e=l.lastHoveredBarX?l.barCentersToIndices[l.lastHoveredBarX]:null;l.highlightBar(e,!1),l.lastHoveredBarX=null}),(0,s.default)(this,"highlightBar",function(e,t){if(e&&l.options.hoverColors){var a=(0,n.default)(e,2),r=a[0],o=a[1],s=t?l.options.hoverColors[r]:l.getColors()[r];l.svg.select(".bar-".concat(r," .rect-").concat(o)).attr("fill",s)}}),this.g=null,this.container=(0,u.select)(e),this.data=this.parseData(t),this.margins=a.margins||{top:20,right:40,bottom:40,left:40},this.size={width:e.clientWidth||800,height:e.clientHeight||400},this.options=Object.assign({colormap:"viridis",labelX:"",labelY:"",seriesNames:null,showStatistics:!0,refValues:[],skipBin:!1,hoverBuffer:5,xScaleLog:!1},a),this.lastHoveredBarX=null,this.container.selectAll("svg").remove(),this.svg=this.container.append("svg").attr("width",this.size.width).attr("height",this.size.height),this.svg.remove}return(0,o.default)(Histogram,[{key:"parseData",value:function parseData(e){return Array.isArray(e)?Array.isArray(e[0])?e:[e]:null}},{key:"xAxis",value:function xAxis(e,t){if(e.attr("transform","translate(0,".concat(this.size.height-this.margins.bottom,")")).call((0,c.axisBottom)(t).tickSizeOuter(0)),this.options.xScaleLog){var a=Math.log10(t.domain()[1])+1;e.call((0,c.axisBottom)(t).ticks(a))}e.append("text").attr("x",(this.size.width+this.margins.left)/2-2).attr("y",30).attr("fill","#000").attr("font-weight",600).attr("text-anchor","end").attr("class",g.default.labelX).text(this.options.labelX),e.select(".domain").attr("class",g.default.xAxis),e.selectAll(".tick line").attr("class",g.default.xAxisTickLine),e.selectAll(".tick text").attr("class",g.default.xAxisTickText)}},{key:"yAxis",value:function yAxis(e,t){var a=this.options.numTicksY?(0,c.axisLeft)(t).ticks(this.options.numTicksY):(0,c.axisLeft)(t);e.attr("transform","translate(".concat(this.margins.left,",0)")).call(a),e.select(".domain").remove(),e.selectAll(".tick text").attr("class",g.default.yAxisTickText),e.selectAll(".tick line").attr("class",g.default.yAxisTickLine),e.select(".tick:last-of-type text").clone().attr("x",12).attr("y",-30-(this.options.labelYOffset||0)).attr("transform","rotate(-90)").attr("text-anchor","end").attr("font-weight",600).attr("class",(0,d.default)(g.default.labelY,this.options.labelYLarge&&g.default.large)).text(this.options.labelY)}},{key:"update",value:function update(){var e=this;if(this.data){var t=this.getColors();if(this.options.xScaleLog)for(var a=0;a<this.data.length;a++)this.data[a]=this.data[a].map(function(e){return e+1});var l=this.getDomain(),n=this.options.xScaleLog?(0,f.scaleLog)():(0,f.scaleLinear)();n.domain(l).nice().range([this.margins.left,this.size.width-this.margins.right]);var r=this.getBins(n),o=(0,f.scaleLinear)().domain([0,(0,i.max)(r.map(function(e){return(0,i.max)(e,function(e){return e.length})}))]).nice().range([this.size.height-this.margins.bottom,this.margins.top]);this.svg.append("g").call(this.xAxis.bind(this),n),this.svg.append("g").call(this.yAxis.bind(this),o);for(var s=this.getBarOpacity(),d={},c=[],u=function _loop2(a){if(e.svg.append("g").attr("class","bar-".concat(a)).attr("fill",t[a]).selectAll("rect").data(r[a]).enter().append("rect").attr("class",function(e,t){return"rect-".concat(t)}).attr("x",function(t){return n(t.x0)+a*e.getBarWidth(n,t)}).attr("width",function(t){return e.getBarWidth(n,t)}).attr("y",function(e){return o(e.length)}).attr("height",function(e){return o(0)-o(e.length)}).style("opacity",s),r[a].forEach(function(t,l){var r=e.getBarWidth(n,t),o=n(t.x0)+a*r+r/2;d[o]=[a,l],c.push(o)}),e.options.showStatistics){var l=(0,i.mean)(e.data[a]),u=(0,i.deviation)(e.data[a]),f=e.svg.append("g");f.append("line").attr("stroke",t[a]).attr("x1",n(l)).attr("x2",n(l)).attr("y1",e.margins.top).attr("y2",e.size.height-e.margins.bottom);var p=(0,i.max)([n(l-u),e.margins.left]),m=(0,i.min)([n(l+u),e.size.width-e.margins.right])-p;f.append("rect").attr("fill",t[a]).attr("fill-opacity",.2).attr("x",p).attr("width",m).attr("y",e.margins.top).attr("height",e.size.height-e.margins.top-e.margins.bottom).lower()}if(e.options.refValues&&e.options.refValues.length){var h=e.svg.append("g").attr("class","refs"),g=!0,v=!1,y=void 0;try{for(var b,C=e.options.refValues[Symbol.iterator]();!(g=(b=C.next()).done);g=!0){var w=b.value,E=e.options.xScaleLog?n(w.values[a]+1):n(w.values[a]);h.append("line").attr("stroke",t[a]).style("stroke-dasharray","4, 4").attr("x1",E).attr("x2",E).attr("y1",e.margins.top).attr("y2",e.size.height-e.margins.bottom),h.append("text").attr("x",-e.margins.top).attr("y",E-4).attr("transform","rotate(-90)").attr("text-anchor","end").attr("font-weight","bold").attr("font-size",10).style("fill",t[a]).text(w.name)}}catch(e){v=!0,y=e}finally{try{g||null==C.return||C.return()}finally{if(v)throw y}}}},p=0;p<r.length;p++)u(p);if(this.barCentersToIndices=d,this.sortedBarCenters=c.sort(function(e,t){return e-t}),this.svg.append("rect").attr("class",g.default.hoverRect).attr("transform","translate(".concat(this.margins.left,", ").concat(this.margins.top,")")).attr("width",this.size.width-this.margins.right-this.margins.left).attr("height",this.size.height-this.margins.top-this.margins.bottom).on("mousemove",this.onMouseMove).on("mouseleave",this.onMouseLeave),this.options.seriesNames){var m=this.svg.append("g").attr("class","histogram__legend").attr("font-family","sans-serif").attr("font-size",10).attr("text-anchor","end").attr("text-anchor","end").selectAll("g").data(this.options.seriesNames).enter().append("g").attr("transform",function(e,t){return"translate(-20,".concat(20*(t+1),")")});m.append("rect").attr("x",this.size.width-5).attr("width",14).attr("height",14).attr("fill",function(e,a){return t[a]}),m.append("text").attr("x",this.size.width-10).attr("y",this.margins.top).attr("dy",-11).attr("alignment-baseline","middle").text(function(e){return e})}}}}]),Histogram}();t.default=v},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(32)),r=l(a(7)),o=l(a(8)),s=l(a(2)),i=a(48),d=a(50),c=a(17),u=a(246),f=a(41),p="#3867FA",m=function(){function GenomeViz(e,t,a){var l=this;(0,r.default)(this,GenomeViz),(0,s.default)(this,"getDomain",function(){if(l.options.domain)return l.options.domain;for(var e=[],t=[],a=0;a<l.data.length;a++){var n=(0,c.flatten)(l.data[a]),r=(0,d.extent)(n);e.push(r[0]),t.push(r[1])}return[(0,d.min)(e),(0,d.max)(t)]}),(0,s.default)(this,"getDataIndexForSvgX",function(e){var t=null,a=null,r=null,o=null;return l.barEndpoints.forEach(function(s){var i=(0,n.default)(s,3),d=i[0],c=i[1],u=i[2];if(d<=e&&e<=c&&(null===t||c-d<a)&&(t=u,a=c-d),null===t&&d-l.options.hoverBuffer<=e&&e<=c+l.options.hoverBuffer){var f=Math.min(Math.abs(d-e),Math.abs(e-c));(null===r||f<o)&&(o=f,r=u)}}),null!==t?t:r}),(0,s.default)(this,"onMouseMove",function(){if(l.barEndpoints&&0!=l.barEndpoints.length){var e=(0,i.mouse)(l.svg.node())[0],t=l.getDataIndexForSvgX(e);l.lastHoveredDataIndex!==t&&null!==t?(l.options.onGenomeVizBarEnter&&l.options.onGenomeVizBarEnter(t),l.highlightBar(t,!0),l.lastHoveredDataIndex=t):null===t&&null!==l.lastHoveredDataIndex&&l.options.onGenomeVizBarExit&&(l.options.onGenomeVizBarExit&&l.options.onGenomeVizBarExit(),l.highlightBar(l.lastHoveredDataIndex,!1),l.lastHoveredDataIndex=null),null!==t&&l.options.onGenomeVizBarHover&&l.options.onGenomeVizBarHover(i.event.clientX,i.event.clientY)}}),(0,s.default)(this,"onMouseClick",function(){if(l.barEndpoints&&0!=l.barEndpoints.length){var e=(0,i.mouse)(l.svg.node())[0],t=l.getDataIndexForSvgX(e);if(l.options.onGenomeVizBarClick)if(null!==t){var a=l.svg.select(".bar-container").filter(function(e,a){return a===t}).node().getBoundingClientRect();l.options.onGenomeVizBarClick(t,a.right,a.top),l.outlineBar(t,!0)}else l.options.onGenomeVizBarClick(null),l.outlineBar(null,!1)}}),(0,s.default)(this,"onMouseLeave",function(){l.options.onGenomeVizBarExit&&l.options.onGenomeVizBarExit(),l.highlightBar(l.lastHoveredDataIndex,!1),l.lastHoveredDataIndex=null}),(0,s.default)(this,"highlightBar",function(e,t){if(l.svg.selectAll(".highlight-container rect").remove(),t){if(null===e)return;var a=l.data[e],n=(0,f.color)(l.options.color).darker(l.options.hoverDarkenFactor);l.svg.select(".highlight-container").append("rect").attr("fill",n).attr("x",l.x(a[0])).attr("width",l.x(a[1])-l.x(a[0])).attr("y",0).attr("height",l.size.height)}}),(0,s.default)(this,"outlineBar",function(e,t){if(l.svg.selectAll(".outline-container rect").remove(),t){if(null===e)return;var a=l.data[e];l.svg.select(".outline-container").append("rect").attr("fill",l.options.color).attr("x",l.x(a[0])+1).attr("width",l.x(a[1])-l.x(a[0])-2).attr("y",1).attr("height",l.size.height-2).attr("stroke","#000").attr("stroke-width",2)}}),this.g=null,this.container=(0,i.select)(e),this.data=t,this.margins=a.margins||{top:0,right:0,bottom:0,left:0},this.size={width:e.clientWidth||800,height:e.clientHeight||400},this.options=Object.assign({color:p,hoverBuffer:5,hoverDarkenFactor:.25},a),this.lastHoveredDataIndex=null,this.barEndpoints=null,this.container.selectAll("svg").remove(),this.svg=this.container.append("svg").attr("width",this.size.width).attr("height",this.size.height),this.svg.remove}return(0,o.default)(GenomeViz,[{key:"update",value:function update(){var e=this;if(this.data){var t=this.getDomain(),a=(0,u.scaleLinear)().domain(t).nice().range([this.margins.left,this.size.width-this.margins.right]);this.x=a;var l=[];this.svg.append("g").attr("class","bar-container").selectAll("rect").data(this.data).enter().append("rect").attr("fill",this.options.color).attr("x",function(e){return a(e[0])}).attr("width",function(e){return a(e[1])-a(e[0])}).attr("y",function(){return 0}).attr("height",function(){return e.size.height}),this.data.forEach(function(e,t){l.push([a(e[0]),a(e[1]),t])}),this.barEndpoints=l,this.svg.append("g").attr("class","highlight-container"),this.svg.append("g").attr("class","outline-container"),this.svg.append("rect").attr("style","fill: transparent").attr("transform","translate(".concat(this.margins.left,", ").concat(this.margins.top,")")).attr("width",this.size.width-this.margins.right-this.margins.left).attr("height",this.size.height-this.margins.top-this.margins.bottom).on("mousemove",this.onMouseMove).on("click",this.onMouseClick).on("mouseleave",this.onMouseLeave)}}}]),GenomeViz}();t.default=m},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(0)),r=l(a(1)),o=a(17),s=l(a(4)),i=l(a(1383)),d=function DataTooltip(e){var t=e.data,a=e.subtitle,l=e.title,r=e.singleColumn;return n.default.createElement("div",{className:i.default.dataTooltip},l&&n.default.createElement("div",{className:i.default.dataTooltipTitle},l),a&&n.default.createElement("div",{className:i.default.dataTooltipSubtitle},a),n.default.createElement("div",{className:i.default.dataTooltipData},function renderSections(e){return e.map(function(e){return function renderSection(e,t,a){return n.default.createElement("div",{className:(0,s.default)(i.default.dataTooltipSection,a&&i.default.disabled),key:"section-".concat(e)},n.default.createElement("div",{className:i.default.dataTooltipSectionName},e),t.map(function(t){return n.default.createElement("div",{className:i.default.dataTooltipValuePair,key:"value-".concat(e,"-").concat(t[0])},r?n.default.createElement("div",{className:i.default.dataTooltipValue},t[0]):n.default.createElement(n.default.Fragment,null,n.default.createElement("div",{className:i.default.dataTooltipLabel},t[0]),n.default.createElement("div",{className:i.default.dataTooltipValue},(0,o.isObject)(t[1])&&t[1].hasOwnProperty("name")?t[1].name:t[1])))}))}(e.name,e.data,e.disabled)})}(t)))};d.propTypes={data:r.default.arrayOf(r.default.shape({name:r.default.string,data:r.default.arrayOf(r.default.array),disabled:r.default.bool})),subtitle:r.default.string,title:r.default.string,singleColumn:r.default.bool},d.defaultProps={singleColumn:!1};var c=d;t.default=c},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.getSortedAccessionSummaries=t.generateContigReadVizData=t.generateCoverageVizData=t.selectReadsFromHitGroups=t.selectContigsFromHitGroups=t.getGenomeVizTooltipData=t.getHistogramTooltipData=void 0;var n=l(a(35)),r=l(a(300)),o=a(17),s=a(143),i=(0,r.default)(function(e,t){var a=e.coverage[t],l=e.coverage_bin_size;return[{name:"Coverage",data:[["Base Pair Range","".concat(Math.round(a[0]*l),"").concat(Math.round((a[0]+1)*l))],["Coverage Depth","".concat(a[1],"x")],["Coverage Breadth",(0,s.formatPercent)(a[2])],["Overlapping Contigs",a[3]],["Overlapping Loose Reads",a[4]]]}]});t.getHistogramTooltipData=i;var d=(0,r.default)(function(e,t){var a=e[t],l=a[0],r=a[1],o=l+r>1,i=null,d=[];l>0&&r>0?(i="Aggregated Contigs and Reads",d=[["# Contigs",l],["# Loose Reads",r],["Contig Read Count",a[2]]]):r>1?(i="Aggregated Loose Reads",d=[["# Loose Reads",r]]):1==r?i="Loose Read":l>1?(i="Aggregated Contigs",d=[["# Contigs",l],["Contig Read Count",a[2]]]):1==l&&(i="Contig",d=[["Contig Read Count",a[2]]]);var c=o?"Avg. ":"";return[{name:i,data:[].concat((0,n.default)(d),[["Reference Alignment Range","".concat(Math.round(a[3]),"").concat(Math.round(a[4]))],[c+"Alignment Length",a[5]],[c+"Percentage Matched",(0,s.formatPercent)(a[6])],[c+"# Mismatches",a[7]],[c+"# Gaps",a[8]]])}]});t.getGenomeVizTooltipData=d;var c=(0,r.default)(function(e){return(0,o.filter)(function(e){return e[0]>0},e)});t.selectContigsFromHitGroups=c;var u=(0,r.default)(function(e){return(0,o.filter)(function(e){return e[1]>0},e)});t.selectReadsFromHitGroups=u;t.generateCoverageVizData=function generateCoverageVizData(e,t){return e.map(function(e){return{x0:e[0]*t,length:e[1]}})};t.generateContigReadVizData=function generateContigReadVizData(e,t){return e.map(function(e){return function getDisplayNumbers(e){return Math.abs(e[4]-e[3])<t||e[0]+e[1]>1?[e[9]*t,(e[9]+1)*t]:[e[3],e[4]]}(e)})};t.getSortedAccessionSummaries=function getSortedAccessionSummaries(e){return(0,o.sortBy)(function(e){return-e.score},e.best_accessions)}},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(775)).default;t.default=n},function(e,t,a){e.exports={content:"content-3Hy3J",title:"title-2itLz",loadingMsg:"loadingMsg-3WrH-",adminDetails:"adminDetails-2akMp",logUrl:"logUrl--DhkG",tabs:"tabs-1dJuO",notification:"notification-3FcwL",accordion:"accordion-2pJlR",header:"header-19htT",detailsTab:"detailsTab-pQNVz",samplesList:"samplesList-2IFb4",sampleName:"sampleName-1FK0v",advancedDownloadTab:"advancedDownloadTab-2D-3c",description:"description-1_1Vw",cloudCommandContainer:"cloudCommandContainer-tj-Td",enabled:"enabled-2qzDg",command:"command-1_ezV",icon:"icon-flJS-",loadingBackgroundAnimation:"loadingBackgroundAnimation-n7Vsp"}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateSampleIdsForBulkDownload=t.getPresignedOutputUrl=t.getBulkDownload=t.getBulkDownloads=t.createBulkDownload=t.getBulkDownloadTypes=void 0;var l=a(102);t.getBulkDownloadTypes=function getBulkDownloadTypes(){return(0,l.get)("/bulk_downloads/types")};t.createBulkDownload=function createBulkDownload(e){return(0,l.postWithCSRF)("/bulk_downloads",{download_type:e.downloadType,sample_ids:e.sampleIds,params:e.fields})};t.getBulkDownloads=function getBulkDownloads(){return(0,l.get)("/bulk_downloads.json")};t.getBulkDownload=function getBulkDownload(e){return(0,l.get)("/bulk_downloads/".concat(e,".json"))};t.getPresignedOutputUrl=function getPresignedOutputUrl(e){return(0,l.get)("/bulk_downloads/".concat(e,"/presigned_output_url"))};t.validateSampleIdsForBulkDownload=function validateSampleIdsForBulkDownload(e){return(0,l.postWithCSRF)("/bulk_downloads/validate_sample_ids",{sampleIds:e})}},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(32)),r=l(a(1)),o=l(a(0)),s=l(a(783)),i=l(a(784)),d=l(a(785)),c=l(a(786)),u=l(a(4)),f=l(a(787)),p=l(a(226)),m=function ViewHeader(e){var t=e.className,a=e.children,l=(0,f.default)(a,[s.default.CLASS_NAME,d.default.CLASS_NAME]),r=(0,n.default)(l,2),i=r[0],c=r[1];return o.default.createElement("div",{className:(0,u.default)(p.default.viewHeader,t)},i,o.default.createElement("div",{className:p.default.fill}),c)};m.Content=s.default,m.Controls=d.default,m.Title=c.default,m.Pretitle=i.default,m.propTypes={className:r.default.string,title:r.default.string,preTitle:r.default.string,subTitle:r.default.string,children:r.default.oneOfType([r.default.arrayOf(r.default.node),r.default.node])};var h=m;t.default=h},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(0)),c=l(a(420)),u=l(a(24)),f=l(a(788)),p=l(a(789)),m=l(a(795)),h=l(a(797)),g=l(a(807)),v=function(e){function DetailsSidebar(){return(0,n.default)(this,DetailsSidebar),(0,o.default)(this,(0,s.default)(DetailsSidebar).apply(this,arguments))}return(0,i.default)(DetailsSidebar,e),(0,r.default)(DetailsSidebar,[{key:"renderContents",value:function renderContents(){var e=this.props,t=e.mode,a=e.params;if(!e.visible)return null;switch(t){case"sampleDetails":return d.default.createElement(p.default,a);case"taxonDetails":return d.default.createElement(m.default,a);case"pipelineStepDetails":return d.default.createElement(h.default,a);case"geneDetails":return d.default.createElement(g.default,a);case"bulkDownloadDetails":return d.default.createElement(f.default,a);default:return null}}},{key:"render",value:function render(){var e=this.props,t=e.visible,a=e.onClose;return d.default.createElement(c.default,{visible:t,width:"very wide",onClose:a},this.renderContents())}}]),DetailsSidebar}(d.default.Component);t.default=v,v.propTypes={mode:u.default.string,visible:u.default.bool,onClose:u.default.func.isRequired,params:u.default.any}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HOST_FILTERING_WIKI=t.PIPELINE_INFO_FIELDS=t.SAMPLE_ADDITIONAL_INFO=void 0;t.SAMPLE_ADDITIONAL_INFO=[{name:"Sample Name",key:"name"},{name:"Project",key:"project_name"},{name:"Upload Date",key:"upload_date"},{name:"Host",key:"host_genome_name"}];t.PIPELINE_INFO_FIELDS=[{name:"Pipeline Version",key:"pipelineVersion"},{name:"Host Subtracted",key:"hostSubtracted"},{name:"Total Reads",key:"totalReads"},{name:"ERCC Reads",key:"totalErccReads"},{name:"Passed Filters",key:"nonhostReads"},{name:"Unmapped Reads",key:"unmappedReads"},{name:"Passed Quality Control",key:"qcPercent"},{name:"Compression Ratio",key:"compressionRatio"},{name:"Date Processed",key:"lastProcessedAt"}];t.HOST_FILTERING_WIKI="https://github.com/chanzuckerberg/idseq-dag/wiki/IDseq-Pipeline-Stage-%231:-Host-Filtering-and-QC"},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.getDownloadLinks=t.getLinkInfoForDownloadOption=t.getDownloadDropdownOptions=void 0;var n=l(a(2)),r=a(17),o=function getDownloadOptions(e){e&&e.adjusted_remaining_reads,e&&e.assembled;return(0,r.compact)([!1,!1,!1,!1,!1,e.pipeline_version&&"View Pipeline Visualization"])};t.getDownloadDropdownOptions=function getDownloadDropdownOptions(e){return o(e).map(function(e){return{text:e,value:e}})};var s=function getDownloadLinkInfoMap(e,t){var a;return a={},(0,n.default)(a,"Download Non-Host Reads (.fasta)",{path:"/samples/".concat(e,"/nonhost_fasta?pipeline_version=").concat(t.pipeline_version),newPage:!1}),(0,n.default)(a,"Download Non-Host Contigs (.fasta)",{path:"/samples/".concat(e,"/contigs_fasta?pipeline_version=").concat(t.pipeline_version),newPage:!1}),(0,n.default)(a,"Download Non-Host Contigs Summary (.csv)",{path:"/samples/".concat(e,"/contigs_summary?pipeline_version=").concat(t.pipeline_version),newPage:!1}),(0,n.default)(a,"Download Unmapped Reads (.fasta)",{path:"/samples/".concat(e,"/unidentified_fasta?pipeline_version=").concat(t.pipeline_version),newPage:!1}),(0,n.default)(a,"View Results Folder",{path:"/samples/".concat(e,"/results_folder?pipeline_version=").concat(t.pipeline_version),newPage:!0}),(0,n.default)(a,"View Pipeline Visualization",{path:"/samples/".concat(e,"/pipeline_viz/").concat(t.pipeline_version),newPage:!0}),a};t.getLinkInfoForDownloadOption=function getLinkInfoForDownloadOption(e,t,a){return s(t,a)[e]};t.getDownloadLinks=function getDownloadLinks(e,t){var a=o(t),l=s(e,t);return a.map(function(e){return{label:e,path:l[e].path,newPage:l[e].newPage}})}},,,,,,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(1)),r=l(a(0)),o=l(a(4)),s=l(a(290)),i=l(a(304)),d=l(a(81)),c=l(a(438)),u=function PipelineVizStatusIcon(e){var t=e.type,a=e.className;switch(t){case"inProgress":return r.default.createElement(d.default,{className:(0,o.default)(a,c.default.inProgressIcon)});case"finished":return r.default.createElement(s.default,{className:(0,o.default)(a,c.default.finishedIcon)});case"pipelineErrored":return r.default.createElement(i.default,{className:(0,o.default)(a,c.default.pipelineErroredIcon)});case"userErrored":return r.default.createElement(i.default,{className:(0,o.default)(a,c.default.userErroredIcon)});default:return null}};u.propTypes={type:n.default.string,className:n.default.string};var f=u;t.default=f},function(e,t,a){e.exports={defaultNodeText:"#000000",notStartedBg:"#ffffff",notStartedText:"rgba(0, 0, 0, 0.5)",notStartedShadow:"rgba(0, 0, 0, 0.11)",inProgressBg:"#eff2fc",inProgressHoverBg:"#dae1f8",finishedBg:"#e6f7ed",finishedHoverBg:"#d3f1df",pipelineErroredBg:"#f9ebeb",pipelineEroredHoverBg:"#f3d7d7",userErroredBg:"#fcf6ec",userErroredHoverBg:"#f9ecd6",stageBg:"#f8f8f8",defaultEdgeColor:"#999999",outputEdgeColor:"#3867fa",inputEdgeColor:"#000000",nodeShadowColor:"rgba(0, 0, 0, 0.22)",pipelineVizPage:"pipelineVizPage-OtMcS",pipelineVizContainer:"pipelineVizContainer-dxbob",panZoomContainer:"panZoomContainer-2WGYB",pipelineViz:"pipelineViz-2AokQ",stageAndArrow:"stageAndArrow-Mtsu9",stage:"stage-1V9jf",stageButton:"stageButton-OHHd-",disabled:"disabled-1G8M6",finished:"finished-3WYjX",notStarted:"notStarted-IVYws",inProgress:"inProgress-2oWNs",pipelineErrored:"pipelineErrored-m1M9g",userErrored:"userErrored-17eY7",stageNameAndIcon:"stageNameAndIcon-cPS4n",inProgressIcon:"inProgressIcon-3Iciz",pipelineErroredIcon:"pipelineErroredIcon-mMtbv",userErroredIcon:"userErroredIcon-3w7qY",finishedIcon:"finishedIcon-2ptKv",stageName:"stageName-3gb-N",stageArrow:"stageArrow-2rq1Z",stageArrowBody:"stageArrowBody-hqeCQ",fromColoring:"fromColoring-2hfc1",toColoring:"toColoring-25Nwh",stageArrowHead:"stageArrowHead-gPrlF",graphLabel:"graphLabel-2mPg6",closeIcon:"closeIcon-3Fr3j",hidden:"hidden-1FXKr",graph:"graph-2613Z",openedStage:"openedStage-3Jd99",plusMinusControl:"plusMinusControl-3eV1Y",hovered:"hovered-3ihH9",headerSection:"headerSection-3-jM2",pipelineInfo:"pipelineInfo-V9eAT",headerDivider:"headerDivider-ibuYh",loadingBackgroundAnimation:"loadingBackgroundAnimation-2iFlA"}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAmrData=t.getOntology=t.getAMRCounts=void 0;var l=a(102);t.getAMRCounts=function getAMRCounts(e){return(0,l.get)("amr_heatmap/amr_counts.json",{params:{sampleIds:e}})};t.getOntology=function getOntology(e){return(0,l.get)("amr_heatmap/fetch_ontology.json",{params:{geneName:e}})};t.getAmrData=function getAmrData(e){return(0,l.get)("/samples/".concat(e,"/amr.json"))}},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(0)),c=l(a(1)),u=l(a(4)),f=a(179),p=l(a(1517)),m=function(e){function MetadataLegend(){return(0,n.default)(this,MetadataLegend),(0,o.default)(this,(0,s.default)(MetadataLegend).apply(this,arguments))}return(0,i.default)(MetadataLegend,e),(0,r.default)(MetadataLegend,[{key:"render",value:function render(){var e=this.props,t=e.metadataColors,a=e.tooltipLocation;return d.default.createElement("div",{className:(0,u.default)(p.default.tooltip,t&&p.default.visible),style:(0,f.getTooltipStyle)(a,{buffer:20,below:!0})},d.default.createElement("div",{className:p.default.legend},Object.keys(t).sort().map(function(e){return d.default.createElement("div",{className:p.default.legendRow,key:e},d.default.createElement("span",{className:p.default.legendEntryColor,style:{backgroundColor:t[e]}}),e)})))}}]),MetadataLegend}(d.default.Component);t.default=m,m.propTypes={metadataColors:c.default.object,tooltipLocation:c.default.object}},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(0)),c=l(a(1)),u=a(178),f=a(401),p=l(a(1519)),m=function(e){function MetadataSelector(){return(0,n.default)(this,MetadataSelector),(0,o.default)(this,(0,s.default)(MetadataSelector).apply(this,arguments))}return(0,i.default)(MetadataSelector,e),(0,r.default)(MetadataSelector,[{key:"render",value:function render(){var e=this.props,t=e.addMetadataTrigger,a=e.metadataTypes,l=e.onMetadataSelectionChange,n=e.onMetadataSelectionClose,r=e.selectedMetadata;return d.default.createElement(u.ContextPlaceholder,{closeOnOutsideClick:!0,context:t,horizontalOffset:5,verticalOffset:10,onClose:n,position:"bottom right"},d.default.createElement("div",{className:p.default.metadataContainer},d.default.createElement(f.SearchBoxList,{options:a,onChange:l,selected:r,title:"Select Metadata Fields"})))}}]),MetadataSelector}(d.default.Component);t.default=m,m.propTypes={addMetadataTrigger:c.default.object,metadataTypes:c.default.array,selectedMetadata:c.default.object,onMetadataSelectionChange:c.default.func,onMetadataSelectionClose:c.default.func}},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(0)),c=l(a(1528)),u=l(a(4)),f=l(a(1)),p=function(e){function RadioButton(){return(0,n.default)(this,RadioButton),(0,o.default)(this,(0,s.default)(RadioButton).apply(this,arguments))}return(0,i.default)(RadioButton,e),(0,r.default)(RadioButton,[{key:"render",value:function render(){return d.default.createElement("div",{className:(0,u.default)(c.default.radioButton,this.props.className,this.props.selected&&c.default.selected,this.props.disabled&&c.default.disabled),onClick:this.props.disabled?void 0:this.props.onClick})}}]),RadioButton}(d.default.Component);p.propTypes={selected:f.default.bool,disabled:f.default.bool,onClick:f.default.func,className:f.default.string};var m=p;t.default=m},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BaseMultipleFilter",{enumerable:!0,get:function get(){return n.default}}),Object.defineProperty(t,"BaseSingleFilter",{enumerable:!0,get:function get(){return r.default}}),Object.defineProperty(t,"LocationFilter",{enumerable:!0,get:function get(){return o.default}}),Object.defineProperty(t,"TaxonFilter",{enumerable:!0,get:function get(){return s.default}}),Object.defineProperty(t,"VisibilityFilter",{enumerable:!0,get:function get(){return i.default}});var n=l(a(814)),r=l(a(815)),o=l(a(816)),s=l(a(817)),i=l(a(818))},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(0)),c=l(a(1)),u=l(a(4)),f=a(17),p=l(a(1676)),m=function(e){function LoadingBar(){return(0,n.default)(this,LoadingBar),(0,o.default)(this,(0,s.default)(LoadingBar).apply(this,arguments))}return(0,i.default)(LoadingBar,e),(0,r.default)(LoadingBar,[{key:"render",value:function render(){var e=this.props,t=e.percentage,a=e.showHint,l=e.tiny;return d.default.createElement("div",{className:(0,u.default)(p.default.loadingBarBackground,l&&p.default.tiny)},d.default.createElement("div",{className:(0,u.default)(p.default.loadingBar,a&&p.default.showHint),style:{width:"".concat(100*(0,f.clamp)(0,1,t),"%")}}))}}]),LoadingBar}(d.default.Component);m.propTypes={percentage:c.default.number,showHint:c.default.bool,tiny:c.default.bool};var h=m;t.default=h},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(4)),r=l(a(1)),o=l(a(0)),s=l(a(852)),i=l(a(853)),d=l(a(1678)),c=function PlusMinusControl(e){var t=e.onPlusClick,a=e.onMinusClick,l=e.plusDisabled,r=e.minusDisabled,c=e.className;return o.default.createElement("div",{className:(0,n.default)(c,d.default.plusMinusContainer)},o.default.createElement("button",{disabled:l,onClick:t},o.default.createElement(s.default,{className:d.default.icon})),o.default.createElement("button",{disabled:r,onClick:a},o.default.createElement(i.default,{className:d.default.icon})))};c.propTypes={onPlusClick:r.default.func,onMinusClick:r.default.func,plusDisabled:r.default.bool,minusDisabled:r.default.bool};var u=c;t.default=u},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(5)),r=l(a(7)),o=l(a(8)),s=l(a(10)),i=l(a(9)),d=l(a(3)),c=l(a(11)),u=l(a(1)),f=l(a(0)),p=l(a(1987)),m=function(e){function Slider(e){var t;return(0,r.default)(this,Slider),(t=(0,s.default)(this,(0,i.default)(Slider).call(this,e))).onChangeParent=t.props.onChange,t.state={value:t.props.value},t.onChange=t.onChange.bind((0,d.default)(t)),t}return(0,c.default)(Slider,e),(0,o.default)(Slider,[{key:"onChange",value:function onChange(e){this.setState({value:e}),"function"==typeof this.onChangeParent&&this.onChangeParent()}},{key:"render",value:function render(){var e="idseq-ui slider ".concat(this.props.disabled?"disabled":" ");return f.default.createElement("div",{className:e},f.default.createElement("span",{className:"label-title"},this.props.label),this.state.value,f.default.createElement(p.default,(0,n.default)({},this.props,{value:this.state.value,onChange:this.onChange})))}}]),Slider}(f.default.Component);m.propTypes={disabled:u.default.bool,label:u.default.string,onChange:u.default.func,value:u.default.number};var h=m;t.default=h},,,,,,,,,,,,,,,,,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(0)),r=a(37),o=l(a(1)),s=l(a(4)),i=function NextActionButton(e){var t=e.label,a=e.onClick;return n.default.createElement(r.Button,{primary:!0,className:(0,s.default)("idseq-ui next-action-button"),onClick:a},t,n.default.createElement("i",{className:(0,s.default)("fa fa-angle-right right-icon")}))};i.propTypes={label:o.default.string,onClick:o.default.func};var d=i;t.default=d},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(0)),r=l(a(1)),o=function DecipherIcon(e){return n.default.createElement("svg",{fill:"#000",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 60",x:"0px",y:"0px",className:e.className},n.default.createElement("g",null,n.default.createElement("path",{d:"M29.077,13.386l1.846-.772a14,14,0,1,0,0,10.772l-1.846-.772a12,12,0,1,1,0-9.228Z"}),n.default.createElement("path",{d:"M40.707,33.293a1,1,0,0,0-1.414,0l-.793.793-5.768-5.768a17.788,17.788,0,0,0,2.115-3.965l-1.871-.706a16,16,0,1,1,0-11.294l1.871-.706a18.037,18.037,0,1,0-6.534,21.08L34.086,38.5l-.793.793a1,1,0,0,0,0,1.414l5.757,5.757a5.243,5.243,0,0,0,7.415-7.414ZM29.891,31.477a18.258,18.258,0,0,0,1.592-1.58l5.6,5.6L35.5,37.086ZM42.758,46a3.217,3.217,0,0,1-2.293-.95L35.414,40,40,35.414l5.05,5.05A3.243,3.243,0,0,1,42.758,46Z"}),n.default.createElement("path",{d:"M15,19V17a5,5,0,1,0,5,5H18a3,3,0,1,1-3-3Z"}),n.default.createElement("path",{d:"M43,2a3,3,0,0,1,0,6v2a5,5,0,1,0-5-5h2A3,3,0,0,1,43,2Z"}),n.default.createElement("path",{d:"M42.207,4.39l-7.64,9.931a3.989,3.989,0,0,0-4.862,1.418l-3.743-1.363c.012-.126.038-.247.038-.376a4,4,0,1,0-7.3,2.253l-4.452,5.089,1.506,1.316,4.46-5.1a3.946,3.946,0,0,0,5.082-1.3l3.743,1.363c-.012.126-.038.247-.038.376a4,4,0,0,0,8,0,3.954,3.954,0,0,0-.858-2.445L43.793,5.61ZM22,16a2,2,0,1,1,2-2A2,2,0,0,1,22,16Zm11,4a2,2,0,1,1,2-2A2,2,0,0,1,33,20Z"}),n.default.createElement("rect",{x:"41",y:"12",width:"5",height:"2"}),n.default.createElement("rect",{x:"41",y:"16",width:"2",height:"2"}),n.default.createElement("rect",{x:"44",y:"16",width:"2",height:"2"}),n.default.createElement("rect",{x:"41",y:"20",width:"5",height:"2"}),n.default.createElement("rect",{x:"41",y:"24",width:"2",height:"2"}),n.default.createElement("rect",{x:"44",y:"24",width:"2",height:"2"}),n.default.createElement("rect",{x:"12",y:"14",width:"5",height:"2"}),n.default.createElement("rect",{x:"15",y:"10",width:"2",height:"2"}),n.default.createElement("rect",{x:"12",y:"10",width:"2",height:"2"})))};o.propTypes={className:r.default.string};var s=o;t.default=s},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(0)),r=l(a(1)),o=function DetectIcon(e){return n.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"#000",version:"1.1",x:"0px",y:"0px",viewBox:"0 0 64 80",className:e.className},n.default.createElement("path",{d:"M38.456,44.41c0.152-0.079,0.301-0.162,0.45-0.247c0.361-0.206,0.714-0.424,1.054-0.66c0.167-0.116,0.327-0.243,0.49-0.366  c0.262-0.199,0.517-0.405,0.764-0.622c0.149-0.131,0.297-0.263,0.441-0.401c0.291-0.278,0.567-0.569,0.833-0.87  c0.077-0.088,0.16-0.169,0.236-0.259c0.349-0.416,0.672-0.852,0.971-1.306c0.013-0.019,0.029-0.036,0.041-0.056  c0.013-0.02,0.02-0.043,0.031-0.064C45.173,37.376,46,34.785,46,32s-0.827-5.376-2.234-7.559c-0.012-0.021-0.018-0.044-0.031-0.064  c-0.013-0.02-0.029-0.036-0.041-0.056c-0.299-0.454-0.622-0.891-0.971-1.306c-0.075-0.09-0.158-0.171-0.236-0.259  c-0.266-0.301-0.542-0.593-0.833-0.87c-0.144-0.138-0.291-0.269-0.441-0.401c-0.247-0.217-0.502-0.423-0.764-0.622  c-0.163-0.124-0.322-0.25-0.49-0.366c-0.34-0.236-0.693-0.454-1.054-0.66c-0.149-0.085-0.298-0.168-0.45-0.247  c-0.384-0.201-0.777-0.385-1.181-0.55c-0.172-0.07-0.348-0.128-0.523-0.192c-0.328-0.119-0.659-0.227-0.998-0.322  c-0.184-0.051-0.368-0.099-0.554-0.143c-0.358-0.084-0.722-0.151-1.09-0.207c-0.164-0.025-0.327-0.056-0.493-0.075  C33.086,18.04,32.548,18,32,18s-1.086,0.04-1.618,0.101c-0.166,0.019-0.328,0.05-0.493,0.075c-0.368,0.056-0.732,0.123-1.09,0.207  c-0.186,0.044-0.37,0.092-0.554,0.143c-0.339,0.094-0.67,0.203-0.998,0.322c-0.175,0.063-0.351,0.122-0.523,0.192  c-0.404,0.165-0.797,0.349-1.181,0.55c-0.152,0.079-0.301,0.162-0.45,0.247c-0.361,0.206-0.714,0.424-1.054,0.66  c-0.167,0.116-0.327,0.243-0.49,0.366c-0.262,0.199-0.517,0.405-0.764,0.622c-0.149,0.131-0.297,0.263-0.441,0.401  c-0.291,0.278-0.567,0.569-0.833,0.87c-0.077,0.088-0.16,0.169-0.236,0.259c-0.349,0.416-0.672,0.852-0.971,1.306  c-0.013,0.019-0.029,0.036-0.041,0.056c-0.013,0.02-0.02,0.043-0.031,0.064C18.827,26.624,18,29.215,18,32s0.827,5.376,2.234,7.559  c0.012,0.021,0.018,0.044,0.031,0.064c0.013,0.02,0.029,0.036,0.041,0.056c0.299,0.454,0.622,0.891,0.971,1.306  c0.075,0.09,0.158,0.171,0.236,0.259c0.266,0.301,0.542,0.593,0.833,0.87c0.144,0.138,0.291,0.269,0.441,0.401  c0.247,0.217,0.502,0.423,0.764,0.622c0.163,0.124,0.322,0.25,0.49,0.366c0.34,0.236,0.693,0.454,1.054,0.66  c0.149,0.085,0.298,0.168,0.45,0.247c0.384,0.201,0.777,0.385,1.181,0.55c0.172,0.07,0.348,0.128,0.523,0.192  c0.328,0.119,0.659,0.227,0.998,0.322c0.184,0.051,0.368,0.099,0.554,0.143c0.358,0.084,0.722,0.151,1.09,0.207  c0.164,0.025,0.327,0.056,0.493,0.075C30.914,45.96,31.452,46,32,46s1.086-0.04,1.618-0.101c0.166-0.019,0.328-0.05,0.493-0.075  c0.368-0.056,0.732-0.123,1.09-0.207c0.186-0.044,0.37-0.092,0.554-0.143c0.339-0.094,0.67-0.203,0.998-0.322  c0.175-0.063,0.351-0.122,0.523-0.192C37.679,44.795,38.072,44.611,38.456,44.41z M39.447,41.393  c-0.148,0.118-0.301,0.23-0.455,0.341c-0.176,0.127-0.355,0.25-0.538,0.367c-0.164,0.105-0.33,0.207-0.5,0.304  c-0.189,0.108-0.381,0.21-0.576,0.308c-0.17,0.086-0.34,0.17-0.514,0.248c-0.21,0.093-0.425,0.176-0.64,0.257  c0.709-1.06,1.308-2.383,1.768-3.908c1.109,0.115,2.182,0.252,3.165,0.43c-0.054,0.064-0.114,0.123-0.169,0.186  c-0.202,0.23-0.41,0.455-0.628,0.667c-0.12,0.117-0.247,0.226-0.372,0.338C39.81,41.089,39.632,41.245,39.447,41.393z   M26.622,42.713c-0.195-0.098-0.387-0.2-0.576-0.308c-0.169-0.097-0.335-0.199-0.499-0.304c-0.183-0.117-0.362-0.24-0.539-0.368  c-0.154-0.111-0.307-0.223-0.455-0.341c-0.185-0.147-0.364-0.303-0.54-0.462c-0.125-0.112-0.252-0.221-0.372-0.338  c-0.218-0.212-0.425-0.437-0.628-0.667c-0.056-0.063-0.115-0.122-0.169-0.186c0.982-0.178,2.056-0.314,3.165-0.43  c0.459,1.525,1.059,2.848,1.768,3.908c-0.215-0.081-0.43-0.164-0.64-0.257C26.962,42.883,26.792,42.798,26.622,42.713z M20.051,33  h4.974c0.052,1.534,0.218,2.995,0.489,4.344c-1.402,0.154-2.72,0.357-3.92,0.607C20.742,36.468,20.199,34.791,20.051,33z   M21.594,26.049c1.2,0.25,2.518,0.454,3.92,0.607c-0.271,1.349-0.437,2.809-0.489,4.344h-4.974  C20.199,29.209,20.742,27.532,21.594,26.049z M23.013,24.074c0.202-0.23,0.41-0.455,0.628-0.667c0.12-0.117,0.247-0.226,0.372-0.338  c0.177-0.159,0.355-0.315,0.54-0.462c0.148-0.118,0.301-0.23,0.455-0.341c0.177-0.127,0.356-0.25,0.539-0.368  c0.164-0.105,0.33-0.206,0.499-0.304c0.189-0.108,0.382-0.21,0.576-0.308c0.17-0.086,0.34-0.17,0.514-0.248  c0.21-0.093,0.425-0.176,0.64-0.257c-0.709,1.06-1.308,2.383-1.768,3.908c-1.109-0.115-2.182-0.252-3.165-0.43  C22.898,24.196,22.958,24.137,23.013,24.074z M37.378,21.288c0.194,0.098,0.387,0.199,0.576,0.308  c0.169,0.097,0.336,0.199,0.5,0.304c0.183,0.117,0.362,0.24,0.538,0.367c0.154,0.111,0.307,0.223,0.455,0.341  c0.185,0.147,0.364,0.303,0.54,0.462c0.125,0.112,0.252,0.221,0.372,0.338c0.218,0.212,0.425,0.437,0.628,0.667  c0.056,0.063,0.115,0.122,0.169,0.186c-0.982,0.178-2.056,0.314-3.165,0.43c-0.459-1.525-1.059-2.848-1.768-3.908  c0.215,0.081,0.43,0.164,0.64,0.257C37.038,21.117,37.208,21.202,37.378,21.288z M43.949,31h-4.974  c-0.052-1.534-0.218-2.995-0.489-4.344c1.402-0.154,2.72-0.357,3.92-0.607C43.258,27.532,43.801,29.209,43.949,31z M42.406,37.951  c-1.2-0.25-2.518-0.454-3.92-0.607c0.271-1.349,0.437-2.809,0.489-4.344h4.974C43.801,34.791,43.258,36.468,42.406,37.951z   M36.977,33c-0.054,1.507-0.228,2.901-0.492,4.159C35.038,37.054,33.531,37,32,37s-3.038,0.054-4.485,0.159  c-0.264-1.257-0.438-2.652-0.492-4.159H36.977z M27.023,31c0.054-1.507,0.228-2.901,0.492-4.159C28.962,26.946,30.469,27,32,27  s3.038-0.054,4.485-0.159c0.264,1.257,0.438,2.652,0.492,4.159H27.023z M35.962,24.862C34.677,24.946,33.356,25,32,25  s-2.677-0.054-3.962-0.138C29.022,21.835,30.56,20,32,20S34.978,21.835,35.962,24.862z M28.038,39.138  C29.323,39.054,30.644,39,32,39s2.677,0.054,3.962,0.138C34.978,42.165,33.44,44,32,44S29.022,42.165,28.038,39.138z"}),n.default.createElement("path",{d:"M2,11c0,0.553,0.447,1,1,1h4v2H3v2h10v-2H9v-2h4c0.553,0,1-0.447,1-1V3c0-0.553-0.447-1-1-1H3C2.447,2,2,2.447,2,3V11z M4,4  h8v6H4V4z"}),n.default.createElement("path",{d:"M61,2H51c-0.553,0-1,0.447-1,1v8c0,0.553,0.447,1,1,1h4v2h-4v2h10v-2h-4v-2h4c0.553,0,1-0.447,1-1V3C62,2.447,61.553,2,61,2  z M60,10h-8V4h8V10z"}),n.default.createElement("path",{d:"M2,60v2h12v-2H9v-2h4c0.553,0,1-0.447,1-1v-8c0-0.553-0.447-1-1-1H3c-0.553,0-1,0.447-1,1v8c0,0.553,0.447,1,1,1h4v2H2z   M4,50h8v6H4V50z"}),n.default.createElement("path",{d:"M61,48H51c-0.553,0-1,0.447-1,1v8c0,0.553,0.447,1,1,1h4v2h-5v2h12v-2h-5v-2h4c0.553,0,1-0.447,1-1v-8  C62,48.447,61.553,48,61,48z M60,56h-8v-6h8V56z"}),n.default.createElement("path",{d:"M18.684,14.052l-3,1c-0.299,0.099-0.533,0.333-0.632,0.632l-1,3l1.896,0.633l0.489-1.465l2.856,2.856l1.414-1.414  l-2.856-2.856l1.465-0.489L18.684,14.052z"}),n.default.createElement("path",{d:"M48.316,15.052l-3-1l-0.633,1.896l1.465,0.489l-2.856,2.856l1.414,1.414l2.856-2.856l0.489,1.465l1.896-0.633l-1-3  C48.85,15.385,48.615,15.15,48.316,15.052z"}),n.default.createElement("path",{d:"M19.293,43.293l-2.856,2.856l-0.489-1.465l-1.896,0.633l1,3c0.099,0.299,0.333,0.533,0.632,0.632l3,1l0.633-1.896  l-1.465-0.489l2.856-2.856L19.293,43.293z"}),n.default.createElement("path",{d:"M45.316,49.948l3-1c0.299-0.099,0.533-0.333,0.632-0.632l1-3l-1.896-0.633l-0.489,1.465l-2.856-2.856l-1.414,1.414  l2.856,2.856l-1.465,0.489L45.316,49.948z"}),n.default.createElement("rect",{x:"31",y:"6",width:"2",height:"8"}),n.default.createElement("rect",{x:"31",y:"2",width:"2",height:"2"}),n.default.createElement("rect",{x:"35.586",y:"14",transform:"matrix(0.7071 -0.7071 0.7071 0.7071 0.2304 30.5563)",width:"2.828",height:"2"}),n.default.createElement("rect",{x:"26",y:"13.586",transform:"matrix(0.7071 -0.7071 0.7071 0.7071 -2.6985 23.4853)",width:"2",height:"2.828"}),n.default.createElement("rect",{x:"31",y:"50",width:"2",height:"8"}),n.default.createElement("rect",{x:"31",y:"60",width:"2",height:"2"}),n.default.createElement("rect",{x:"36",y:"47.586",transform:"matrix(0.7071 -0.7071 0.7071 0.7071 -23.8112 40.5147)",width:"2",height:"2.828"}),n.default.createElement("rect",{x:"26.189",y:"47.75",transform:"matrix(0.7071 -0.7071 0.7071 0.7071 -26.4901 33.5472)",width:"2.121",height:"2"}),n.default.createElement("rect",{x:"50",y:"31",width:"8",height:"2"}),n.default.createElement("rect",{x:"60",y:"31",width:"2",height:"2"}),n.default.createElement("rect",{x:"47.586",y:"26",transform:"matrix(0.7071 -0.7071 0.7071 0.7071 -4.7401 42.5564)",width:"2.828",height:"2"}),n.default.createElement("rect",{x:"48",y:"35.586",transform:"matrix(0.7071 -0.7071 0.7071 0.7071 -11.8112 45.4853)",width:"2",height:"2.828"}),n.default.createElement("rect",{x:"6",y:"31",width:"8",height:"2"}),n.default.createElement("rect",{x:"2",y:"31",width:"2",height:"2"}),n.default.createElement("rect",{x:"14",y:"25.586",transform:"matrix(0.7071 -0.7071 0.7071 0.7071 -14.6985 18.5147)",width:"2",height:"2.828"}),n.default.createElement("rect",{x:"13.586",y:"36",transform:"matrix(0.7071 -0.7071 0.7071 0.7071 -21.7696 21.4437)",width:"2.828",height:"2"}))};o.propTypes={className:r.default.string};var s=o;t.default=s},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(0)),r=l(a(1)),o=function DiscoverIcon(e){return n.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"#000",version:"1.1",x:"0px",y:"0px",viewBox:"0 0 64 80",className:e.className},n.default.createElement("g",null,n.default.createElement("path",{d:"M21,23C9.972,23,1,31.972,1,43s8.972,20,20,20s20-8.972,20-20S32.028,23,21,23z M21,61c-9.925,0-18-8.075-18-18   s8.075-18,18-18s18,8.075,18,18S30.925,61,21,61z"}),n.default.createElement("rect",{x:"41",y:"1",width:"4",height:"2"}),n.default.createElement("rect",{x:"33.729",y:"2.446",transform:"matrix(0.9238 -0.3828 0.3828 0.9238 1.4023 13.94)",width:"4.001",height:"2"}),n.default.createElement("rect",{x:"27.565",y:"6.565",transform:"matrix(0.7071 -0.7071 0.7071 0.7071 3.3101 23.1213)",width:"4",height:"2"}),n.default.createElement("rect",{x:"23.446",y:"12.729",transform:"matrix(0.3828 -0.9238 0.9238 0.3828 3.0219 31.9813)",width:"4",height:"2"}),n.default.createElement("rect",{x:"23",y:"19",width:"2",height:"4"}),n.default.createElement("rect",{x:"41",y:"39",width:"4",height:"2"}),n.default.createElement("rect",{x:"48.271",y:"37.554",transform:"matrix(0.9238 -0.3828 0.3828 0.9238 -10.9295 22.1811)",width:"4.001",height:"2"}),n.default.createElement("rect",{x:"54.435",y:"33.435",transform:"matrix(0.7071 -0.7071 0.7071 0.7071 -7.8198 49.9914)",width:"4",height:"2"}),n.default.createElement("rect",{x:"58.554",y:"27.271",transform:"matrix(0.3828 -0.9238 0.9238 0.3828 11.2555 73.3896)",width:"4",height:"2"}),n.default.createElement("rect",{x:"61",y:"19",width:"2",height:"4"}),n.default.createElement("rect",{x:"59.554",y:"11.729",transform:"matrix(0.9238 -0.3828 0.3828 0.9238 -0.643 24.2265)",width:"2",height:"4"}),n.default.createElement("rect",{x:"55.435",y:"5.565",transform:"matrix(0.707 -0.7072 0.7072 0.707 11.1862 42.1291)",width:"2",height:"4"}),n.default.createElement("rect",{x:"49.271",y:"1.446",transform:"matrix(0.3825 -0.9239 0.9239 0.3825 27.8573 48.5758)",width:"2",height:"4.001"}),n.default.createElement("path",{d:"M42,9v2c2.757,0,5-2.243,5-5h-2C45,7.654,43.654,9,42,9z"}),n.default.createElement("path",{d:"M42,32v2c2.757,0,5-2.243,5-5h-2C45,30.654,43.654,32,42,32z"}),n.default.createElement("path",{d:"M29,18h-2c0,2.757,2.243,5,5,5v-2C30.346,21,29,19.654,29,18z"}),n.default.createElement("path",{d:"M58,21v-2c-1.654,0-3-1.346-3-3h-2C53,18.757,55.243,21,58,21z"}),n.default.createElement("path",{d:"M51,22c-1.654,0-3,1.346-3,3s1.346,3,3,3s3-1.346,3-3S52.654,22,51,22z M51,26c-0.552,0-1-0.449-1-1s0.448-1,1-1   s1,0.449,1,1S51.552,26,51,26z"}),n.default.createElement("path",{d:"M36,19c1.654,0,3-1.346,3-3s-1.346-3-3-3s-3,1.346-3,3S34.346,19,36,19z M36,15c0.552,0,1,0.449,1,1s-0.448,1-1,1   s-1-0.449-1-1S35.448,15,36,15z"}),n.default.createElement("path",{d:"M21,27c-8.822,0-16,7.178-16,16s7.178,16,16,16s16-7.178,16-16S29.822,27,21,27z M21,57c-7.72,0-14-6.28-14-14   s6.28-14,14-14s14,6.28,14,14S28.72,57,21,57z"}),n.default.createElement("path",{d:"M26,41c0-0.479-0.089-0.932-0.215-1.371l2.286-2.286l-1.414-1.414l-1.858,1.858c-0.712-0.841-1.68-1.458-2.799-1.686V34h-2   v2.101c-1.119,0.228-2.087,0.845-2.799,1.686l-1.858-1.858l-1.414,1.414l2.286,2.286C16.089,40.068,16,40.521,16,41v1h-3v2h3v1   c0,0.479,0.089,0.932,0.215,1.371l-2.286,2.286l1.414,1.414l1.858-1.858c0.712,0.841,1.68,1.458,2.799,1.686V52h2v-2.101   c1.119-0.228,2.087-0.845,2.799-1.686l1.858,1.858l1.414-1.414l-2.286-2.286C25.911,45.932,26,45.479,26,45v-1h3v-2h-3V41z M24,45   c0,1.654-1.346,3-3,3s-3-1.346-3-3v-4c0-1.654,1.346-3,3-3s3,1.346,3,3V45z"}),n.default.createElement("rect",{x:"20",y:"42",width:"2",height:"2"}),n.default.createElement("rect",{x:"30",y:"38",width:"2",height:"2"}),n.default.createElement("rect",{x:"16",y:"32",width:"2",height:"2"}),n.default.createElement("rect",{x:"9",y:"44",width:"2",height:"2"}),n.default.createElement("rect",{x:"24",y:"52",width:"2",height:"2"}),n.default.createElement("rect",{x:"36",y:"7",width:"2",height:"2"}),n.default.createElement("rect",{x:"47",y:"13",width:"2",height:"2"}),n.default.createElement("rect",{x:"50",y:"32",width:"2",height:"2"}),n.default.createElement("rect",{x:"39",y:"23",width:"2",height:"2"})))};o.propTypes={className:r.default.string};var s=o;t.default=s},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(0)),r=l(a(1)),o=function FiltersIcon(e){return n.default.createElement("svg",{className:e.className,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 38 38",fill:"#3867fa",fillRule:"evenodd"},n.default.createElement("g",null,n.default.createElement("path",{d:"M21,10.06H7A.95.95,0,1,0,7,12H21a3.39,3.39,0,0,0,3.27,2.44A3.35,3.35,0,0,0,27.54,12H31a1,1,0,1,0,0-1.9H27.54a3.38,3.38,0,0,0-6.5,0Zm4.71.95a1.48,1.48,0,1,1-1.48-1.49A1.51,1.51,0,0,1,25.75,11Z"}),n.default.createElement("path",{d:"M9.62,17.67H7a.95.95,0,0,0,0,1.9H9.62A3.4,3.4,0,0,0,12.89,22a3.37,3.37,0,0,0,3.24-2.44H31a.95.95,0,0,0,0-1.9H16.13a3.39,3.39,0,0,0-6.51,0Zm4.72.95a1.49,1.49,0,1,1-1.49-1.48A1.49,1.49,0,0,1,14.34,18.62Z"}),n.default.createElement("path",{d:"M16.47,26H7a.95.95,0,1,0,0,1.9h9.48a3.4,3.4,0,0,0,3.27,2.44A3.37,3.37,0,0,0,23,27.94h8A.95.95,0,0,0,31,26H23a3.39,3.39,0,0,0-6.51,0Zm4.72.95a1.49,1.49,0,1,1-3,0,1.49,1.49,0,0,1,3,0Z"})))};o.propTypes={className:r.default.string};var s=o;t.default=s},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(5)),r=l(a(0)),o=l(a(1)),s=a(66),i=function HeatmapIcon(e){return r.default.createElement("svg",(0,n.default)({},e,{viewBox:"0 0 27 26",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",fill:"#3867FA",fillRule:"nonzero"}),r.default.createElement("g",null,r.default.createElement("g",{transform:"translate(-1190.000000, -163.000000)"},r.default.createElement("g",{transform:"translate(1190.000000, 163.000000)"},r.default.createElement("path",{d:"M0.806262705,0.00117611891 C0.346158516,0.0476128028 -0.00246191583,0.422341101 1.30960208e-05,0.867805026 L1.30960208e-05,25.1333624 C5.68803296e-05,25.6119717 0.402973031,25.9999521 0.900012659,26 L26.1000004,26 C26.5970401,25.9999521 26.9999562,25.6119717 27,25.1333624 L27,0.867805026 C26.9999512,0.389199186 26.5970366,0.00122397241 26.1000004,0.00117611891 L0.900012659,0.00117611891 C0.868783892,-0.000392039637 0.837491473,-0.000392039637 0.806262705,0.00117611891 Z M1.80001222,1.73443104 L6.60000989,1.73443104 L6.60000989,6.35644418 L1.80001222,6.35644418 L1.80001222,1.73443104 Z M8.40000902,1.73443104 L12.600007,1.73443104 L12.600007,6.35644418 L8.40000902,6.35644418 L8.40000902,1.73443104 Z M14.4000061,1.73443104 L18.6000041,1.73443104 L18.6000041,6.35644418 L14.4000061,6.35644418 L14.4000061,1.73443104 Z M20.4000032,1.73443104 L25.2000009,1.73443104 L25.2000009,6.35644418 L20.4000032,6.35644418 L20.4000032,1.73443104 Z M1.80001222,8.08969622 L6.60000989,8.08969622 L6.60000989,12.1339577 L1.80001222,12.1339577 L1.80001222,8.08969622 Z M8.40000902,8.08969622 L12.600007,8.08969622 L12.600007,12.1339577 L8.40000902,12.1339577 L8.40000902,8.08969622 Z M14.4000061,8.08969622 L18.6000041,8.08969622 L18.6000041,12.1339577 L14.4000061,12.1339577 L14.4000061,8.08969622 Z M20.4000032,8.08969622 L25.2000009,8.08969622 L25.2000009,12.1339577 L20.4000032,12.1339577 L20.4000032,8.08969622 Z M1.80001222,13.8672184 L6.60000989,13.8672184 L6.60000989,17.9114597 L1.80001222,17.9114597 L1.80001222,13.8672184 Z M8.40000902,13.8672184 L12.600007,13.8672184 L12.600007,17.9114597 L8.40000902,17.9114597 L8.40000902,13.8672184 Z M14.4000061,13.8672184 L18.6000041,13.8672184 L18.6000041,17.9114597 L14.4000061,17.9114597 L14.4000061,13.8672184 Z M20.4000032,13.8672184 L25.2000009,13.8672184 L25.2000009,17.9114597 L20.4000032,17.9114597 L20.4000032,13.8672184 Z M1.80001222,19.6447348 L6.60000989,19.6447348 L6.60000989,24.2667537 L1.80001222,24.2667537 L1.80001222,19.6447348 Z M8.40000902,19.6447348 L12.600007,19.6447348 L12.600007,24.2667537 L8.40000902,24.2667537 L8.40000902,19.6447348 Z M14.4000061,19.6447348 L18.6000041,19.6447348 L18.6000041,24.2667537 L14.4000061,24.2667537 L14.4000061,19.6447348 Z M20.4000032,19.6447348 L25.2000009,19.6447348 L25.2000009,24.2667537 L20.4000032,24.2667537 L20.4000032,19.6447348 Z",id:"Shape"})))))};i.propTypes=(0,s.forbidExtraProps)({className:o.default.string,onMouseEnter:o.default.func,onMouseLeave:o.default.func,onBlur:o.default.func,onClick:o.default.func,onFocus:o.default.func});var d=i;t.default=d},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(0)),r=l(a(1)),o=function InfoPanelIcon(e){return n.default.createElement("svg",{className:e.className,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 38 38",fill:"#3867fa",fillRule:"evenodd"},n.default.createElement("g",null,n.default.createElement("path",{d:"M20.3,18.48c.34,0,.55.2.57.61a8.76,8.76,0,0,1-.08,1c-.19,1.26-.38,2.55-.59,3.81-.06.43-.13.84-.17,1.27a2,2,0,0,0,0,.61c.06.25.21.38.39.38h.05a2.53,2.53,0,0,0,.55-.18c.14-.08.27-.18.42-.25l.11,0c.16,0,.27.16.22.38a1.08,1.08,0,0,1-.21.43,2.55,2.55,0,0,1-2,1.06,5.4,5.4,0,0,1-1.06-.07,2,2,0,0,1-1.28-2c.06-.63.15-1.29.25-1.92.15-1.11.31-2.22.48-3.34,0-.07,0-.15,0-.2,0-.46-.12-.63-.5-.68a3.39,3.39,0,0,1-.48-.1.42.42,0,0,1-.25-.46.34.34,0,0,1,.33-.35,1.31,1.31,0,0,1,.34,0h2.8m0-1.7H17.5a3.28,3.28,0,0,0-.64,0,2.05,2.05,0,0,0-1.72,1.86,2.1,2.1,0,0,0,1.11,2.11c-.13.87-.26,1.73-.37,2.59-.11.63-.19,1.31-.26,2a3.61,3.61,0,0,0,2.57,3.79,6.78,6.78,0,0,0,1.46.12h.06a4.22,4.22,0,0,0,3.2-1.68,2.66,2.66,0,0,0,.54-1.06v-.08a2,2,0,0,0-.38-1.73,1.91,1.91,0,0,0-1.19-.7c.17-1,.33-2.11.49-3.17l.08-.51a10.87,10.87,0,0,0,.1-1.29V19a2.25,2.25,0,0,0-2.27-2.22Z"}),n.default.createElement("path",{d:"M19.26,33.51a14.53,14.53,0,0,1-6.79-1.69,8.5,8.5,0,0,1-6,1.36,1.55,1.55,0,0,1-1.27-1.34,1.47,1.47,0,0,1,.85-1.55,4.83,4.83,0,0,0,2-2.07,14.5,14.5,0,1,1,21.44,1h0A14.5,14.5,0,0,1,19.26,33.51ZM7,32.09H7Zm6.09-2.23a12.51,12.51,0,0,0,15.05-2h0a12.5,12.5,0,1,0-18.26-.63l.69.52-.34.73a8.42,8.42,0,0,1-2,2.79,7,7,0,0,0,3.6-1.42l.69-.52Z"}),n.default.createElement("path",{d:"M19.89,15.67a3.23,3.23,0,1,1,0-6.45,3.23,3.23,0,0,1,0,6.45Zm0-4.75a1.53,1.53,0,1,0,1.49,1.52A1.51,1.51,0,0,0,19.89,10.92Z"})))};o.propTypes={className:r.default.string};var s=o;t.default=s},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(5)),r=l(a(0)),o=function LargeDownloadIcon(e){return r.default.createElement("svg",(0,n.default)({},e,{viewBox:"0 0 142 110",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"}),r.default.createElement("path",{d:"M52.9794601,74.0692488 C51.6852858,74.0692488 50.6361502,75.1183844 50.6361502,76.4125587 C50.6361502,77.706733 51.6852858,78.7558685 52.9794601,78.7558685 C54.2736344,78.7558685 55.32277,77.706733 55.32277,76.4125587 C55.32277,75.1183844 54.2736344,74.0692488 52.9794601,74.0692488 L52.9794601,74.0692488 Z M45.1684272,74.0692488 C43.8742529,74.0692488 42.8251174,75.1183844 42.8251174,76.4125587 C42.8251174,77.706733 43.8742529,78.7558685 45.1684272,78.7558685 C46.4626015,78.7558685 47.5117371,77.706733 47.5117371,76.4125587 C47.5117371,75.1183844 46.4626015,74.0692488 45.1684272,74.0692488 L45.1684272,74.0692488 Z M74.8503521,18.251608 C79.9796966,13.819223 87.1685985,12.6547253 93.4348934,15.2411823 C99.7011883,17.8276393 103.975767,23.7237687 104.485411,30.4836854 C104.56593,31.2849432 105.242334,31.8937069 106.047617,31.8896913 C106.490484,31.8918918 106.913481,31.7060371 107.211389,31.3783383 C107.509297,31.0506395 107.654117,30.6118957 107.609824,30.1712441 C106.968003,22.2853816 101.966425,15.4221272 94.6561021,12.3959171 C87.3457796,9.369707 78.9566377,10.6896858 72.928838,15.8145657 C72.58861,16.0949299 72.3826825,16.5059983 72.3618542,16.9463679 C72.3410259,17.3867375 72.5072361,17.815407 72.8194836,18.1266315 L72.8194836,18.1266315 C73.3772716,18.6817105 74.2608547,18.735261 74.8815962,18.251608 L74.8503521,18.251608 Z M117.811033,31.8896714 C117.811033,18.4412471 109.205459,6.50165085 96.4471633,2.24888569 C83.6888678,-2.00387947 69.6406508,2.38445309 61.5715962,13.1431925 C54.4709539,7.81771069 44.9708964,6.96109104 37.0321368,10.9304708 C29.0933773,14.8998506 24.0786385,23.0138684 24.0786385,31.8896714 C17.3651206,31.8887545 10.9736472,34.7673689 6.52512324,39.7954856 C2.07659926,44.8236024 -0.00166662875,51.5182393 0.817382629,58.181608 C2.46775242,70.0732725 12.6985812,78.8855691 24.7035211,78.7558685 L37.3573944,78.7558685 C38.6515687,78.7558685 39.7007042,77.706733 39.7007042,76.4125587 C39.7007042,75.1183844 38.6515687,74.0692488 37.3573944,74.0692488 L24.6254108,74.0692488 C14.8414727,74.182421 6.55330582,66.8855971 5.42589202,57.1661737 C4.90727536,51.9186317 6.62270395,46.6953173 10.1515405,42.7770303 C13.6803771,38.8587433 18.6962712,36.6078511 23.969284,36.5762911 C26.6260291,36.5088447 28.7492405,34.3441373 28.7652582,31.6865845 C28.8765664,21.4125876 37.2371373,13.1425896 47.5117371,13.1431925 C51.5737266,13.1385092 55.5250778,14.4666022 58.7596244,16.9237324 C59.5747501,17.5210213 60.5611001,17.8388452 61.5715962,17.8298122 L62.227723,17.8298122 C63.4719465,17.6635646 64.5974723,17.0051321 65.3521362,16.0020305 C72.2235558,6.87741695 84.159805,3.16869752 94.9922984,6.79251724 C105.824792,10.416337 113.12669,20.5608394 113.124413,31.9834038 C113.175457,34.5350746 115.258852,36.5768016 117.811033,36.5762911 C123.118161,36.5748741 128.177204,38.823002 131.732912,42.7628693 C135.28862,46.7027367 137.00776,51.9651081 136.463779,57.244284 C135.300209,66.9266678 127.031316,74.178783 117.279883,74.0692488 L88.9102113,74.0692488 C87.616037,74.0692488 86.5669014,75.1183844 86.5669014,76.4125587 C86.5669014,77.706733 87.616037,78.7558685 88.9102113,78.7558685 L117.18615,78.7558685 C129.19109,78.8855691 139.421919,70.0732725 141.072289,58.181608 C141.891338,51.5182393 139.813072,44.8236024 135.364548,39.7954856 C130.916024,34.7673689 124.524551,31.8887545 117.811033,31.8896714 Z M86.4106808,95.1890433 L72.0540023,109.545722 C71.4446833,110.151426 70.4606102,110.151426 69.8512911,109.545722 L55.4789906,95.1890433 C55.0331741,94.8072559 54.8389828,94.2077926 54.9762567,93.6371177 C55.1135306,93.0664427 55.5591013,92.6208721 56.1297762,92.4835982 C56.7004512,92.3463242 57.2999144,92.5405156 57.6817019,92.9863321 L69.3826291,104.687259 L69.3826291,44.4017077 C69.3826291,43.5389248 70.0820528,42.8395011 70.9448357,42.8395011 C71.8076185,42.8395011 72.5070423,43.5389248 72.5070423,44.4017077 L72.5070423,104.687259 L84.2079695,92.9863321 C84.589757,92.5405156 85.1892202,92.3463242 85.7598951,92.4835982 C86.3305701,92.6208721 86.7761407,93.0664427 86.9134147,93.6371177 C87.0506886,94.2077926 86.8564973,94.8072559 86.4106808,95.1890433 Z",id:"Shape"}))};t.default=o},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(0)),r=l(a(1)),o=function NoResultsIcon(e){return n.default.createElement("svg",{className:e.className,viewBox:"0 0 140 190",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",fill:"#EAEAEA",fillRule:"nonzero"},n.default.createElement("g",null,n.default.createElement("path",{d:"M138.126833,76.2905417 C139.182521,77.3715625 139.817438,78.8717708 139.817438,80.5829583 C139.817438,82.296125 139.182521,83.7967292 137.916646,84.8524167 L137.916646,85.0633958 C136.860167,86.1420417 135.359958,86.7765625 133.671729,86.7765625 C131.981125,86.7765625 130.503875,86.1416458 129.21425,84.8524167 C128.158563,83.7967292 127.526021,82.296125 127.526021,80.5829583 C127.526021,78.8717708 128.158563,77.3719583 129.21425,76.0799583 L129.448188,76.0799583 C130.503875,75.0013125 131.981125,74.3691667 133.671729,74.3691667 C135.359958,74.3691667 136.860167,75.0013125 137.916646,76.0799583 L138.126833,76.2905417 Z M136.228021,80.5829583 C136.228021,79.9278542 136.017438,79.2933333 135.359958,78.63625 C134.938792,78.2146875 134.304271,78.0041042 133.671729,78.0041042 C133.037208,78.0041042 132.405458,78.2146875 131.770542,78.63625 C131.348979,79.2937292 131.138,79.92825 131.138,80.5829583 C131.138,81.2174792 131.348583,81.849625 131.770542,82.296125 C132.405458,82.9282708 133.037208,83.1412292 133.671729,83.1412292 C134.304271,83.1412292 134.938396,82.9282708 135.359958,82.296125 C136.017438,81.8492292 136.228021,81.2170833 136.228021,80.5829583 Z",id:"Shape"}),n.default.createElement("path",{d:"M122.648167,58.3007083 C125.836604,71.7871458 123.280312,85.5095 116.502854,96.650625 C109.935583,107.556229 98.9120208,116.118104 85.5419583,119.354042 C74.5658958,121.935667 63.5898333,120.762813 54.0886458,116.587563 L55.0046042,115.062021 L52.0477292,113.114917 L50.9002083,115.039063 C49.7732708,114.429875 48.6712708,113.794958 47.592625,113.114917 C46.4201667,112.412313 45.2702708,111.638063 44.1686667,110.840458 L45.2473125,109.058813 L42.2928125,107.134667 L41.3994167,108.634875 C33.4973958,101.999521 27.6564792,92.6859583 25.1231458,81.849625 C21.72175,68.1526042 24.2550833,54.4551875 31.057875,43.5250417 C37.8353333,32.3843125 48.6487083,24.0353958 62.2293542,20.6110417 C75.5740833,17.3976667 89.1543333,19.9539583 100.178292,26.8252292 C110.991271,33.6731458 119.456958,44.6036875 122.648167,58.3007083 Z M113.522625,94.7035208 C119.667542,84.4308542 122.226208,71.7871458 119.035792,59.1687708 C116.0805,46.5274375 108.433,36.254375 98.2771042,29.827625 C88.0752917,23.6110625 75.5740833,21.2427917 63.0720833,24.2455833 C50.5475208,27.248375 40.3686667,35.176125 34.2233542,45.4487917 C27.8674583,55.510875 25.5447083,68.3627917 28.4996042,81.0065 C30.0021875,87.3145 32.6978125,92.9903542 36.2872292,97.8943333 C39.8992083,102.795938 44.4022083,106.923688 49.4918333,110.137458 C59.6706875,116.328688 72.1722917,118.696958 84.6988333,115.696542 C97.1980625,112.693354 107.379292,104.976979 113.522625,94.7035208 Z",id:"Shape"}),n.default.createElement("path",{d:"M118.190688,18.4759167 C119.035792,19.1080625 119.246375,20.1867083 118.825208,21.0322083 C118.614229,21.2427917 118.401667,21.453375 118.190688,21.6892917 L111.623417,25.5352083 C110.778312,25.956375 109.724604,25.7457917 109.301062,24.9030625 C108.645958,24.035 109.067521,22.9563542 109.935583,22.3218333 L113.735979,20.1871042 L109.935583,17.8188333 C109.067917,17.3976667 108.645958,16.318625 109.301062,15.4735208 C109.724604,14.6054583 110.778312,14.1838958 111.623417,14.8160417 L118.190688,18.4759167 Z",id:"Path"}),n.default.createElement("path",{d:"M110.778312,140.113125 C111.623417,140.113125 112.468521,140.979208 112.468521,142.034896 C112.468521,142.902563 111.623417,143.748063 110.778312,143.748063 L101.233979,143.748063 C100.388875,143.748063 99.543375,142.902563 99.543375,142.034896 C99.543375,140.978813 100.388875,140.113125 101.233979,140.113125 L110.778312,140.113125 Z",id:"Path"}),n.default.createElement("path",{d:"M101.655146,41.8138542 C108.856146,49.0837292 113.31125,58.9352292 113.31125,70.0759583 C113.31125,81.0065 108.856146,90.8576042 101.655146,98.127875 C94.6671042,105.423479 84.6984375,109.926479 73.8854583,109.926479 C62.8607083,109.926479 53.1034167,105.423479 45.9047917,98.127875 C38.8910208,90.858 34.4339375,81.0065 34.4339375,70.0759583 C34.4339375,58.9352292 38.8910208,49.0837292 45.9047917,41.8138542 C53.1034167,34.7521875 62.8607083,30.2491875 73.8854583,30.2491875 C84.6988333,30.2491875 94.6671042,34.7521875 101.655146,41.8138542 Z M109.724604,70.0763542 C109.724604,60.0142708 105.689083,51.0308333 99.1218125,44.3931042 C92.7429583,37.9659583 83.6431458,33.8865 73.8854583,33.8865 C63.9167917,33.8865 55.0046042,37.9659583 48.4353542,44.3931042 C42.0790625,51.0308333 38.0459167,60.0142708 38.0459167,70.0763542 C38.0459167,79.9278542 42.0790625,89.1448333 48.4353542,95.5719792 C55.0046042,102.2105 63.9167917,106.267 73.8854583,106.267 C83.64275,106.267 92.7429583,102.2105 99.1218125,95.5719792 C105.689083,89.1448333 109.724604,79.9278542 109.724604,70.0763542 Z"}),n.default.createElement("path",{d:"M104.399063,145.037688 C105.478104,145.037688 106.322813,145.905354 106.322813,146.748479 C106.322813,147.827521 105.477708,148.672229 104.399063,148.672229 L84.4854792,148.672229 C83.4321667,148.672229 82.5870625,147.827125 82.5870625,146.748479 C82.5870625,145.905354 83.4321667,145.037688 84.4854792,145.037688 L104.399063,145.037688 Z",id:"Path"}),n.default.createElement("path",{d:"M94.6671042,59.37975 L96.7768958,66.2308333 L93.4004375,68.5761458 L93.6110208,70.0763542 L93.4004375,71.3659792 L96.7768958,73.7112917 L94.6671042,80.5829583 L90.6315833,80.372375 L89.7884583,81.6390417 L88.9433542,82.7180833 L90.2092292,86.5659792 L84.4854792,90.8583958 L81.2966458,88.2771667 L79.8197917,88.93425 L78.5535208,89.3558125 L77.4974375,93.2037083 L70.2730833,93.2037083 L69.2173958,89.3558125 L67.73975,88.93425 L66.4505208,88.2771667 L63.2830625,90.8583958 L57.5608958,86.5659792 L58.8275625,82.7180833 L57.9824583,81.6390417 L57.1397292,80.372375 L53.1038125,80.5829583 L50.9690833,73.7112917 L54.1595,71.3659792 L54.1595,70.0763542 L54.1595,68.5761458 L50.9690833,66.2308333 L53.1038125,59.37975 L57.1397292,59.5927083 L57.9824583,58.3007083 L58.8275625,57.2220625 L57.5608958,53.3761458 L63.2830625,49.0837292 L66.4505208,51.6625833 L67.73975,51.0304375 L69.2173958,50.7968958 L70.2730833,46.7384167 L77.4974375,46.7384167 L78.5535208,50.7968958 L80.0307708,51.0304375 L81.2966458,51.6625833 L84.4854792,49.0837292 L90.2092292,53.3761458 L88.9433542,57.2220625 L89.7884583,58.3007083 L90.6315833,59.5927083 L94.6671042,59.37975 Z M92.532375,64.7278542 L91.8978542,63.0170625 L88.5213958,63.2276458 L87.8647083,62.1486042 C87.6537292,61.7250625 87.2297917,61.0929167 86.8082292,60.4354375 C86.3874583,59.8032917 85.963125,59.37975 85.5419583,58.7246458 L84.6988333,58.090125 L85.963125,54.6657708 L84.485875,53.587125 L81.7193958,55.7218542 L80.6633125,55.3006875 C80.24175,55.0897083 79.6072292,54.87675 78.9750833,54.6657708 C78.1295833,54.4551875 77.4978333,54.2446042 76.8399583,54.0082917 L75.7842708,53.7977083 L74.7305625,50.3733542 L73.0399583,50.3733542 L71.9609167,53.7977083 L70.9052292,54.0082917 C70.2726875,54.2442083 69.4275833,54.4547917 68.7954375,54.6657708 C68.1609167,54.87675 67.5287708,55.0893125 66.8712917,55.3006875 L66.0257917,55.7218542 L63.2822708,53.587125 L61.7812708,54.6657708 L62.8603125,58.090125 L62.2281667,58.7246458 C61.5706875,59.37975 61.149125,59.8032917 60.7255833,60.4354375 C60.5146042,61.0929167 60.0934375,61.5144792 59.6698958,62.1486042 L59.2483333,63.2276458 L55.6363542,63.0170625 L55.2147917,64.7278542 L57.9816667,66.8625833 L57.7710833,69.0202708 L57.7710833,70.0759583 L57.7710833,71.155 L57.9816667,73.2897292 L55.2147917,75.2115 L55.6363542,76.9250625 L59.2483333,76.7140833 L59.6698958,77.7927292 C60.0938333,78.424875 60.515,78.8717708 60.9365625,79.5039167 C61.1495208,80.1384375 61.7816667,80.5829583 62.2285625,81.2170833 L62.8607083,81.8492292 L61.7816667,85.2985208 L63.0712917,86.352625 L66.0257917,84.219875 L66.8712917,84.6414375 C67.5287708,84.8520208 68.1609167,85.2985208 68.7954375,85.5095 C69.6381667,85.7204792 70.2722917,85.7204792 70.9052292,85.9306667 L71.9609167,86.14125 L73.0399583,89.5656042 L74.7305625,89.5656042 L75.7842708,86.14125 L76.8399583,85.9306667 C77.4974375,85.7200833 78.1295833,85.7200833 78.7637083,85.5095 C79.39625,85.2985208 80.0307708,84.8520208 80.6629167,84.6414375 L81.719,84.219875 L84.4854792,86.352625 L85.9627292,85.2985208 L84.6984375,81.8492292 L85.5415625,81.2170833 C85.9627292,80.5825625 86.3870625,80.1380417 86.8078333,79.5039167 C87.2293958,79.08275 87.6533333,78.424875 87.8643125,77.7927292 L88.521,76.7140833 L91.8974583,76.9250625 L92.5319792,75.2115 L89.5751042,73.2897292 L89.7880625,71.155 L89.9986458,70.0759583 L89.7880625,69.0202708 L89.5751042,66.8625833 L92.532375,64.7278542 Z",id:"Shape"}),n.default.createElement("path",{d:"M83.4321667,60.2248542 C85.963125,62.8041042 87.44275,66.2304375 87.44275,70.0763542 C87.44275,73.7112917 85.963125,77.1356458 83.4321667,79.7172708 C81.0864583,82.296125 77.7080208,83.7967292 73.8854583,83.7967292 C70.0625,83.7967292 66.6611042,82.296125 64.1277708,79.7172708 C61.7820625,77.1356458 60.3048125,73.7112917 60.3048125,70.0763542 C60.3048125,66.2308333 61.7816667,62.8041042 64.1277708,60.2248542 C66.6607083,57.8795417 70.0625,56.1683542 73.8854583,56.1683542 C77.7080208,56.1683542 81.0868542,57.8795417 83.4321667,60.2248542 Z M83.8537292,70.0763542 C83.8537292,67.3094792 82.7980417,64.72825 80.8738958,62.8041042 C79.1860625,61.0933125 76.629375,59.8032917 73.8858542,59.8032917 C71.1189792,59.8032917 68.58525,61.0929167 66.6615,62.8041042 C64.9736667,64.72825 63.9175833,67.0735625 63.9175833,70.0763542 C63.9175833,72.8661875 64.9736667,75.2118958 66.6615,77.1356458 C68.5856458,79.08275 71.1189792,80.1384375 73.8858542,80.1384375 C76.6297708,80.1384375 79.1864583,79.08275 80.8738958,77.1356458 C82.7980417,75.2115 83.8537292,72.8661875 83.8537292,70.0763542 Z"}),n.default.createElement("path",{d:"M55.0046042,115.062021 L54.0886458,116.587562 C52.9870417,116.095146 51.9313542,115.577 50.9002083,115.039062 L52.0477292,113.114917 L55.0046042,115.062021 Z",id:"Path"}),n.default.createElement("path",{d:"M54.0886458,116.587562 L44.2854375,132.957646 L41.2826458,131.081792 L50.9002083,115.039062 C51.9309583,115.577 52.9866458,116.095146 54.0886458,116.587562 Z",id:"Path"}),n.default.createElement("path",{d:"M46.115375,134.107146 C46.9581042,134.554042 47.1714583,135.60775 46.7475208,136.475813 L27.6564792,167.741104 C26.1792292,170.509958 23.4099792,172.243708 20.6656667,172.878625 L20.4546875,172.878625 C17.6878125,173.511167 14.7333125,173.089208 11.9636667,171.589 L11.9636667,171.376438 C9.21975,169.66525 7.50895833,167.086 6.8744375,164.31675 C6.24229167,161.526521 6.66345833,158.313542 8.14110417,155.75725 L27.2345208,124.466625 C27.8666667,123.6235 28.9223542,123.413313 29.7654792,123.834083 L31.618375,124.983979 L30.6335417,126.625896 L33.5908125,128.547667 L34.5986042,126.859438 L41.28225,131.081 L40.3682708,132.606542 L43.3457292,134.55325 L44.2850417,132.95725 L46.115375,134.107146 Z M24.7011875,165.819333 L42.7135833,136.264833 L29.3443125,127.890979 L11.3319167,157.679021 C10.2758333,159.392583 9.85466667,161.526917 10.4868125,163.448688 C10.9079792,165.372438 11.9636667,167.319542 13.8648542,168.375229 C15.2003958,169.266646 16.5379167,169.642292 17.8758333,169.642292 C18.4387083,169.642292 19.0253333,169.570646 19.586625,169.453875 L19.7972083,169.453875 C21.7213542,169.030333 23.6225417,167.7415 24.7011875,165.819333 Z",id:"Shape"}),n.default.createElement("path",{d:"M45.2473125,109.058813 L44.1686667,110.840458 C43.2293542,110.160021 42.2924167,109.434458 41.3990208,108.634875 L42.2924167,107.134667 L45.2473125,109.058813 Z",id:"Path"}),n.default.createElement("polygon",{id:"Path",points:"44.2850417 132.958042 43.3457292 134.554042 40.3682708 132.607333 41.28225 131.081792"}),n.default.createElement("path",{d:"M44.1686667,110.840458 L34.599,126.860625 L31.6187708,124.984771 L41.3990208,108.634875 C42.2924167,109.434458 43.2293542,110.160021 44.1686667,110.840458 Z",id:"Path"}),n.default.createElement("path",{d:"M39.102,5.83458333 C39.3125833,6.913625 38.8910208,7.9669375 37.8349375,8.17989583 L34.6445208,9.04558333 C33.8017917,9.2589375 32.7461042,8.62441667 32.5347292,7.75635417 C32.1111875,6.6773125 32.7457083,5.83458333 33.8013958,5.41064583 L36.9898333,4.54258333 C37.8349375,4.332 38.8910208,4.96652083 39.102,5.83458333 Z",id:"Path"}),n.default.createElement("path",{d:"M34.6445208,13.7619375 C34.8574792,14.6050625 34.4339375,15.6837083 33.3778542,15.8946875 C32.5347292,16.1076458 31.4790417,15.6837083 31.2680625,14.6050625 L30.4229583,11.6276042 C30.1890208,10.5485625 30.6335417,9.46991667 31.689625,9.25933333 C32.5347292,9.04597917 33.5908125,9.6805 33.8013958,10.5489583 L34.6445208,13.7619375 Z",id:"Path"}),n.default.createElement("polygon",{id:"Path",points:"34.599 126.860229 33.5908125 128.548458 30.6339375 126.626292 31.6187708 124.984375"}),n.default.createElement("path",{d:"M32.1115833,4.54297917 C32.535125,5.41104167 31.9006042,6.467125 30.8449167,6.67770833 C29.9788333,6.913625 28.9231458,6.25654167 28.7121667,5.41104167 L27.8670625,2.40825 C27.6564792,1.32920833 28.2882292,0.486875 29.1337292,0.0399791667 C30.1894167,-0.171 31.0574792,0.486479167 31.4790417,1.32920833 L32.1115833,4.54297917 Z",id:"Path"}),n.default.createElement("path",{d:"M30.1894167,8.390875 C30.4233542,9.2589375 29.765875,10.3379792 28.92275,10.5485625 L25.7548958,11.3912917 C24.7011875,11.6272083 23.6225417,11.1807083 23.4099792,10.1016667 C23.199,9.2589375 23.8335208,8.17989583 24.7015833,7.96654167 L28.0776458,7.1238125 C28.92275,6.913625 29.9784375,7.33479167 30.1894167,8.390875 Z",id:"Path"}),n.default.createElement("path",{d:"M20.6656667,181.862062 C21.5107708,182.729729 21.9323333,184.019354 21.9323333,185.308979 C21.9323333,186.575646 21.5107708,187.865271 20.6656667,188.733333 C19.7976042,189.578438 18.5309375,189.999604 17.2666458,189.999604 C15.9999792,189.999604 14.7337083,189.578438 13.86525,188.733333 C13.0201458,187.865271 12.5985833,186.575646 12.5985833,185.308979 C12.5985833,184.019354 13.0201458,182.729729 13.86525,181.862062 C14.7337083,181.016562 16.000375,180.384812 17.2666458,180.384812 C18.5309375,180.384812 19.7976042,181.016958 20.6656667,181.862062 Z M18.3199583,185.308979 C18.3199583,184.862479 18.3199583,184.651896 18.109375,184.441313 C17.8987917,184.230729 17.4772292,184.01975 17.2666458,184.01975 C16.8431042,184.01975 16.6325208,184.230729 16.4215417,184.441313 C16.2105625,184.651896 16.000375,184.862479 16.000375,185.308979 C16.000375,185.519563 16.2109583,185.941521 16.4215417,186.154479 C16.6325208,186.365063 16.8431042,186.365063 17.2666458,186.365063 C17.477625,186.365063 17.8991875,186.365063 18.109375,186.154479 C18.3199583,185.941521 18.3199583,185.519958 18.3199583,185.308979 Z",id:"Shape"}),n.default.createElement("polygon",{id:"Path",points:"10.6973958 82.0855417 11.5425 85.5095 8.1415 86.352625 7.29797917 83.1412292"}),n.default.createElement("polygon",{id:"Path",points:"8.1415 86.352625 9.21975 89.7769792 5.81875 90.858 4.76504167 87.4316667"}),n.default.createElement("polygon",{id:"Path",points:"6.2426875 79.9278542 7.29797917 83.1412292 3.89697917 84.219875 2.84089583 81.0065"}),n.default.createElement("polygon",{id:"Path",points:"3.89697917 84.219875 4.76504167 87.4316667 1.36364583 88.4869583 0.307958333 85.2989167"})))};o.propTypes={className:r.default.string};var s=o;t.default=s},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(5)),r=l(a(0)),o=l(a(1)),s=a(66),i=function PhyloTreeIcon(e){return r.default.createElement("svg",(0,n.default)({},e,{viewBox:"0 0 26 26",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",fill:"#3867FA",fillRule:"nonzero"}),r.default.createElement("g",null,r.default.createElement("g",{transform:"translate(-1245.000000, -164.000000)"},r.default.createElement("g",{transform:"translate(1258.000000, 177.000000) rotate(-90.000000) translate(-1258.000000, -177.000000) translate(1245.000000, 164.000000)"},r.default.createElement("path",{d:"M12.9487786,3.70480204e-13 C10.833464,3.70480204e-13 9.09692685,1.73904706 9.09692685,3.85806767 C9.09692685,5.68673113 10.4156671,7.16360947 12.1292354,7.55172997 L12.1292354,12.2099907 L3.83136289,12.2099907 C3.38503871,12.2171891 3.02816999,12.5838084 3.03230886,13.0308769 L3.03230886,18.4688003 C1.31874031,18.8569208 0,20.3337992 0,22.1624626 C0,24.2813203 1.73653746,26 3.85185168,26 C5.96716541,26 7.68321511,24.2813203 7.68321511,22.1624626 C7.68321511,20.3266299 6.37421719,18.8495886 4.65090587,18.4688003 L4.65090587,13.8517632 L12.1292354,13.8517632 L12.1292354,18.4688003 C10.4156671,18.8569208 9.09692685,20.3337992 9.09692685,22.1624626 C9.09692685,24.2813203 10.833464,26 12.9487786,26 C15.0640935,26 16.8006305,24.2813203 16.8006305,22.1624626 C16.8006305,20.3266299 15.4711446,18.8495886 13.7478328,18.4688003 L13.7478328,13.8517632 L21.2466502,13.8517632 L21.2466502,18.4893306 C19.5740609,18.907269 18.2962969,20.3631282 18.2962969,22.1624626 C18.2962969,24.2813203 20.0328331,26 22.1481476,26 C24.2634638,26 26,24.2813203 26,22.1624626 C26,20.2976267 24.6295204,18.7969593 22.8652486,18.44827 L22.8652486,13.0308769 C22.8672505,12.8125641 22.7815506,12.6026086 22.6274217,12.4482271 C22.4732928,12.2938457 22.2636737,12.2079981 22.0457053,12.2099907 L13.7478328,12.2099907 L13.7478328,7.55172997 C15.4711446,7.17077879 16.8006305,5.69373751 16.8006305,3.85806767 C16.8006305,1.73888412 15.0640935,0 12.9487786,0 Z M12.9487786,1.64160959 C14.186401,1.64160959 15.1615445,2.61810251 15.1615445,3.85806767 C15.1615445,5.09738107 14.186401,6.09456724 12.9487786,6.09456724 C11.7111581,6.09456724 10.715524,5.09738107 10.715524,3.85806767 C10.715524,2.61810251 11.7111581,1.64160959 12.9487786,1.64160959 Z M3.85185168,19.9258001 C5.08947234,19.9258001 6.06461762,20.9226604 6.06461762,22.1624626 C6.06461762,23.4022649 5.08947234,24.3790837 3.85185168,24.3790837 C2.61422971,24.3790837 1.61859712,23.4022649 1.61859712,22.1624626 C1.61859712,20.9228234 2.61422971,19.9258001 3.85185168,19.9258001 Z M12.9487786,19.9258001 C14.186401,19.9258001 15.1615445,20.9226604 15.1615445,22.1624626 C15.1615445,23.4022649 14.186401,24.3790837 12.9487786,24.3790837 C11.7111581,24.3790837 10.715524,23.4022649 10.715524,22.1624626 C10.715524,20.9228234 11.7111581,19.9258001 12.9487786,19.9258001 Z M22.1481476,19.9258001 C23.3857683,19.9258001 24.3814032,20.9226604 24.3814032,22.1624626 C24.3814032,23.4022649 23.3857683,24.3790837 22.1481476,24.3790837 C20.910527,24.3790837 19.9353818,23.4022649 19.9353818,22.1624626 C19.9353818,20.9228234 20.910527,19.9258001 22.1481476,19.9258001 Z",id:"Shape"})))))};i.propTypes=(0,s.forbidExtraProps)({className:o.default.string,onMouseEnter:o.default.func,onMouseLeave:o.default.func,onBlur:o.default.func,onClick:o.default.func,onFocus:o.default.func});var d=i;t.default=d},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(0)),r=l(a(1)),o=l(a(873)),s=function SamplePrivateIcon(e){return n.default.createElement("svg",{className:e.className,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 38 38"},n.default.createElement("defs",null,n.default.createElement("clipPath",{id:"clip-path"},n.default.createElement("path",{className:o.default.cls1,d:"M-323.37,40.65a1.06,1.06,0,0,1,.85-.36h3.6a1,1,0,0,1,.85.36l1,1.18A3.22,3.22,0,0,0-314.54,43h12.61a1.18,1.18,0,0,1,.81.33,1.26,1.26,0,0,1,.29.85l-.07.55h-22.36l-.36-3.27A1.09,1.09,0,0,1-323.37,40.65Zm23,20.23a1.42,1.42,0,0,1-1.47,1.32h-20.81a1.44,1.44,0,0,1-1.47-1.32l-1.18-12.69a1.13,1.13,0,0,1,.3-.84,1,1,0,0,1,.81-.37h23.9a1,1,0,0,1,.81.37,1.13,1.13,0,0,1,.29.84Zm-27.1-12.51,1.14,12.73a3.69,3.69,0,0,0,3.68,3.31h20.81a3.68,3.68,0,0,0,3.68-3.31L-297,48.37a3.2,3.2,0,0,0-.85-2.53,3,3,0,0,0-.84-.66l.07-.74a3.27,3.27,0,0,0-.83-2.53,3.25,3.25,0,0,0-2.44-1.07h-12.61a1,1,0,0,1-.85-.41l-1-1.17a3.31,3.31,0,0,0-2.54-1.18h-3.6a3.16,3.16,0,0,0-2.46,1.1,3.27,3.27,0,0,0-.85,2.58l.37,3.27a3.2,3.2,0,0,0-1.18.81A3.27,3.27,0,0,0-327.49,48.37Z"})),n.default.createElement("clipPath",{id:"clip-path-2"},n.default.createElement("circle",{className:o.default.cls2,cx:"-302.21",cy:"62.51",r:"7.5"})),n.default.createElement("clipPath",{id:"clip-path-3"},n.default.createElement("path",{className:o.default.cls2,d:"M-303.92,56.35a.11.11,0,0,1,.15.06,4.66,4.66,0,0,1,.25.5,1.49,1.49,0,0,1,.06,1.22c-.21.44-.71.63-1.12.84a5.81,5.81,0,0,0-2.09,1.88s-.07.09-.1.09a.11.11,0,0,1-.15-.06.67.67,0,0,1-.25-.22s-.13,0-.13.1a1,1,0,0,0,.47,1.12.64.64,0,0,1,.19.13c.12.15,0,.37,0,.56s.34.4.62.37a2.76,2.76,0,0,0,.75-.25,1.93,1.93,0,0,1,1.69.22c.25.16.47.41.72.56a1.08,1.08,0,0,0,.75.25.29.29,0,0,1,.16.07.89.89,0,0,1-.16.78,6,6,0,0,1-.69.65c-.53.6-.65,1.5-1.09,2.16a1.55,1.55,0,0,0-.25.41,1.44,1.44,0,0,0-.06.65s0,.1-.07.07a2,2,0,0,1-.31-.13.2.2,0,0,1-.12-.16,8.6,8.6,0,0,0-.91-2.59,2.28,2.28,0,0,0-.69-.84c-.09-.07-.19-.13-.22-.22s0-.16,0-.22a2.37,2.37,0,0,0-1-2.22.94.94,0,0,1-.31-.28c-.06-.13-.06-.31-.12-.44a2,2,0,0,0-.44-.37c-.06,0-.06-.1-.06-.16A6.34,6.34,0,0,1-303.92,56.35Zm3.15-.09a7.36,7.36,0,0,1,.85.25,1.4,1.4,0,0,0,.5.21,6.35,6.35,0,0,1,2.06,1.57.23.23,0,0,1,.06.15,1,1,0,0,1,0,.41.76.76,0,0,0-.06.25.35.35,0,0,0,.28.31,1.42,1.42,0,0,0,.37,0,.24.24,0,0,1,.22.16,2.09,2.09,0,0,0,.22.47,6.33,6.33,0,0,1,.47,2.15.48.48,0,0,1-.09.29,2.66,2.66,0,0,0-.35.46,6.49,6.49,0,0,1-.72,1.32,1.51,1.51,0,0,0-.4.59,2.87,2.87,0,0,0-.07.5c0,.06-.12.06-.18,0a3.41,3.41,0,0,1-.53-1.22c-.07-.31-.13-.62-.22-.93a1.21,1.21,0,0,0-.57-.75,2.56,2.56,0,0,0-1-.16,1.13,1.13,0,0,1-.93-.34.74.74,0,0,1-.16-.44,2,2,0,0,1,1-2.06c.09-.07.19-.1.28-.16a.66.66,0,0,0,.22-.66.08.08,0,0,0-.12-.06,2.9,2.9,0,0,0-.54.22c-.09,0-.18,0-.15-.09a3.46,3.46,0,0,1,.12-.94,1.34,1.34,0,0,0,0-1,.26.26,0,0,0-.18-.13h-.88a0,0,0,0,1,0,0,2.25,2.25,0,0,0,.41-.34A.23.23,0,0,1-300.77,56.26Zm-.84-1.07a7.35,7.35,0,0,0-7.91,7.91,7.36,7.36,0,0,0,6.72,6.72,7.33,7.33,0,0,0,7.91-7.91A7.36,7.36,0,0,0-301.61,55.19Z"})),n.default.createElement("clipPath",{id:"clip-path-4"},n.default.createElement("path",{className:o.default.cls2,d:"M-807.84,71.47a.69.69,0,0,0-.72.65.63.63,0,0,0,.37.56v.87a.32.32,0,0,0,.35.31.33.33,0,0,0,.35-.31v-.87a.66.66,0,0,0,.36-.56A.69.69,0,0,0-807.84,71.47Z"}))),n.default.createElement("path",{className:o.default.cls1,d:"M-323.37,40.65a1.06,1.06,0,0,1,.85-.36h3.6a1,1,0,0,1,.85.36l1,1.18A3.22,3.22,0,0,0-314.54,43h12.61a1.18,1.18,0,0,1,.81.33,1.26,1.26,0,0,1,.29.85l-.07.55h-22.36l-.36-3.27A1.09,1.09,0,0,1-323.37,40.65Zm23,20.23a1.42,1.42,0,0,1-1.47,1.32h-20.81a1.44,1.44,0,0,1-1.47-1.32l-1.18-12.69a1.13,1.13,0,0,1,.3-.84,1,1,0,0,1,.81-.37h23.9a1,1,0,0,1,.81.37,1.13,1.13,0,0,1,.29.84Zm-27.1-12.51,1.14,12.73a3.69,3.69,0,0,0,3.68,3.31h20.81a3.68,3.68,0,0,0,3.68-3.31L-297,48.37a3.2,3.2,0,0,0-.85-2.53,3,3,0,0,0-.84-.66l.07-.74a3.27,3.27,0,0,0-.83-2.53,3.25,3.25,0,0,0-2.44-1.07h-12.61a1,1,0,0,1-.85-.41l-1-1.17a3.31,3.31,0,0,0-2.54-1.18h-3.6a3.16,3.16,0,0,0-2.46,1.1,3.27,3.27,0,0,0-.85,2.58l.37,3.27a3.2,3.2,0,0,0-1.18.81A3.27,3.27,0,0,0-327.49,48.37Z"}),n.default.createElement("g",{className:o.default.cls3},n.default.createElement("rect",{className:o.default.cls1,x:"-518.71",y:"-746.99",width:"1478",height:"1395"})),n.default.createElement("path",{className:o.default.cls7,d:"M21.63,28.12c0-.1,0-.2,0-.31H11.3a.65.65,0,0,1-.66-.65.62.62,0,0,1,.12-.36l1.47-2.38H22.62a7.43,7.43,0,0,1,3.72-3.25l-3.53-5.81V9.51A2.49,2.49,0,0,0,24.75,7V6.87a2.52,2.52,0,0,0-2.52-2.52H15.74a2.52,2.52,0,0,0-2.52,2.52V7a2.49,2.49,0,0,0,1.94,2.48v5.85l-4.34,7.13a.91.91,0,0,0-.33.52L8.87,25.64a2.88,2.88,0,0,0,.91,3.93A3.07,3.07,0,0,0,11.3,30H21.88A7.38,7.38,0,0,1,21.63,28.12ZM17.21,16.26a1.06,1.06,0,0,0,.17-.57V8.45a1.11,1.11,0,0,0-1.11-1.1h-.53a.3.3,0,0,1-.3-.31V6.87a.31.31,0,0,1,.3-.31h6.49a.31.31,0,0,1,.31.31V7a.31.31,0,0,1-.31.31H21.7a1.11,1.11,0,0,0-1.1,1.1v7.24a1,1,0,0,0,.16.56l3.65,5.95H13.56Z"}),n.default.createElement("path",{className:o.default.cls8,d:"M29,23.84a1.76,1.76,0,0,0-1.75,1.75v.88h3.5v-.88A1.75,1.75,0,0,0,29,23.84Z"}),n.default.createElement("path",{className:o.default.cls8,d:"M29,27.9a.65.65,0,0,0-.64.65.62.62,0,0,0,.33.55V30a.32.32,0,0,0,.63,0V29.1a.64.64,0,0,0,.33-.55A.65.65,0,0,0,29,27.9Z"}),n.default.createElement("path",{className:o.default.cls8,d:"M29,20.29a7.5,7.5,0,1,0,7.5,7.5A7.5,7.5,0,0,0,29,20.29Zm3.5,10.55a.87.87,0,0,1-.87.88H26.39a.88.88,0,0,1-.88-.88v-3.5a.88.88,0,0,1,.88-.87v-.88a2.63,2.63,0,0,1,5.25,0v.88a.87.87,0,0,1,.87.87Z"}))};s.propTypes={className:r.default.string};var i=s;t.default=i},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(0)),r=l(a(1)),o=l(a(873)),s=function PublicSampleIcon(e){return n.default.createElement("svg",{className:e.className,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 38 38"},n.default.createElement("defs",null,n.default.createElement("clipPath",{id:"clip-path"},n.default.createElement("path",{className:o.default.cls1,d:"M-281.37,40.65a1.06,1.06,0,0,1,.85-.36h3.6a1,1,0,0,1,.85.36l1,1.18A3.22,3.22,0,0,0-272.54,43h12.61a1.18,1.18,0,0,1,.81.33,1.26,1.26,0,0,1,.29.85l-.07.55h-22.36l-.36-3.27A1.09,1.09,0,0,1-281.37,40.65Zm23,20.23a1.42,1.42,0,0,1-1.47,1.32h-20.81a1.44,1.44,0,0,1-1.47-1.32l-1.18-12.69a1.13,1.13,0,0,1,.3-.84,1,1,0,0,1,.81-.37h23.9a1,1,0,0,1,.81.37,1.13,1.13,0,0,1,.29.84Zm-27.1-12.51,1.14,12.73a3.69,3.69,0,0,0,3.68,3.31h20.81a3.68,3.68,0,0,0,3.68-3.31L-255,48.37a3.2,3.2,0,0,0-.85-2.53,3,3,0,0,0-.84-.66l.07-.74a3.27,3.27,0,0,0-.83-2.53,3.25,3.25,0,0,0-2.44-1.07h-12.61a1,1,0,0,1-.85-.41l-1-1.17a3.31,3.31,0,0,0-2.54-1.18h-3.6a3.16,3.16,0,0,0-2.46,1.1,3.27,3.27,0,0,0-.85,2.58l.37,3.27a3.2,3.2,0,0,0-1.18.81A3.27,3.27,0,0,0-285.49,48.37Z"})),n.default.createElement("clipPath",{id:"clip-path-2"},n.default.createElement("circle",{className:o.default.cls2,cx:"-260.21",cy:"62.51",r:"7.5"})),n.default.createElement("clipPath",{id:"clip-path-3"},n.default.createElement("path",{className:o.default.cls2,d:"M-261.92,56.35a.11.11,0,0,1,.15.06,4.66,4.66,0,0,1,.25.5,1.49,1.49,0,0,1,.06,1.22c-.21.44-.71.63-1.12.84a5.81,5.81,0,0,0-2.09,1.88s-.07.09-.1.09a.11.11,0,0,1-.15-.06.67.67,0,0,1-.25-.22s-.13,0-.13.1a1,1,0,0,0,.47,1.12.64.64,0,0,1,.19.13c.12.15,0,.37,0,.56s.34.4.62.37a2.76,2.76,0,0,0,.75-.25,1.93,1.93,0,0,1,1.69.22c.25.16.47.41.72.56a1.08,1.08,0,0,0,.75.25.29.29,0,0,1,.16.07.89.89,0,0,1-.16.78,6,6,0,0,1-.69.65c-.53.6-.65,1.5-1.09,2.16a1.55,1.55,0,0,0-.25.41,1.44,1.44,0,0,0-.06.65s0,.1-.07.07a2,2,0,0,1-.31-.13.2.2,0,0,1-.12-.16,8.6,8.6,0,0,0-.91-2.59,2.28,2.28,0,0,0-.69-.84c-.09-.07-.19-.13-.22-.22s0-.16,0-.22a2.37,2.37,0,0,0-1-2.22.94.94,0,0,1-.31-.28c-.06-.13-.06-.31-.12-.44a2,2,0,0,0-.44-.37c-.06,0-.06-.1-.06-.16A6.34,6.34,0,0,1-261.92,56.35Zm3.15-.09a7.36,7.36,0,0,1,.85.25,1.4,1.4,0,0,0,.5.21,6.35,6.35,0,0,1,2.06,1.57.23.23,0,0,1,.06.15,1,1,0,0,1,0,.41.76.76,0,0,0-.06.25.35.35,0,0,0,.28.31,1.42,1.42,0,0,0,.37,0,.24.24,0,0,1,.22.16,2.09,2.09,0,0,0,.22.47,6.33,6.33,0,0,1,.47,2.15.48.48,0,0,1-.09.29,2.66,2.66,0,0,0-.35.46,6.49,6.49,0,0,1-.72,1.32,1.51,1.51,0,0,0-.4.59,2.87,2.87,0,0,0-.07.5c0,.06-.12.06-.18,0a3.41,3.41,0,0,1-.53-1.22c-.07-.31-.13-.62-.22-.93a1.21,1.21,0,0,0-.57-.75,2.56,2.56,0,0,0-1-.16,1.13,1.13,0,0,1-.93-.34.74.74,0,0,1-.16-.44,2,2,0,0,1,1-2.06c.09-.07.19-.1.28-.16a.66.66,0,0,0,.22-.66.08.08,0,0,0-.12-.06,2.9,2.9,0,0,0-.54.22c-.09,0-.18,0-.15-.09a3.46,3.46,0,0,1,.12-.94,1.34,1.34,0,0,0,0-1,.26.26,0,0,0-.18-.13h-.88a0,0,0,0,1,0,0,2.25,2.25,0,0,0,.41-.34A.23.23,0,0,1-258.77,56.26Zm-.84-1.07a7.35,7.35,0,0,0-7.91,7.91,7.36,7.36,0,0,0,6.72,6.72,7.33,7.33,0,0,0,7.91-7.91A7.36,7.36,0,0,0-259.61,55.19Z"})),n.default.createElement("clipPath",{id:"clip-path-4"},n.default.createElement("path",{className:o.default.cls2,d:"M-765.84,71.47a.69.69,0,0,0-.72.65.63.63,0,0,0,.37.56v.87a.32.32,0,0,0,.35.31.33.33,0,0,0,.35-.31v-.87a.66.66,0,0,0,.36-.56A.69.69,0,0,0-765.84,71.47Z"}))),n.default.createElement("path",{className:o.default.cls1,d:"M-281.37,40.65a1.06,1.06,0,0,1,.85-.36h3.6a1,1,0,0,1,.85.36l1,1.18A3.22,3.22,0,0,0-272.54,43h12.61a1.18,1.18,0,0,1,.81.33,1.26,1.26,0,0,1,.29.85l-.07.55h-22.36l-.36-3.27A1.09,1.09,0,0,1-281.37,40.65Zm23,20.23a1.42,1.42,0,0,1-1.47,1.32h-20.81a1.44,1.44,0,0,1-1.47-1.32l-1.18-12.69a1.13,1.13,0,0,1,.3-.84,1,1,0,0,1,.81-.37h23.9a1,1,0,0,1,.81.37,1.13,1.13,0,0,1,.29.84Zm-27.1-12.51,1.14,12.73a3.69,3.69,0,0,0,3.68,3.31h20.81a3.68,3.68,0,0,0,3.68-3.31L-255,48.37a3.2,3.2,0,0,0-.85-2.53,3,3,0,0,0-.84-.66l.07-.74a3.27,3.27,0,0,0-.83-2.53,3.25,3.25,0,0,0-2.44-1.07h-12.61a1,1,0,0,1-.85-.41l-1-1.17a3.31,3.31,0,0,0-2.54-1.18h-3.6a3.16,3.16,0,0,0-2.46,1.1,3.27,3.27,0,0,0-.85,2.58l.37,3.27a3.2,3.2,0,0,0-1.18.81A3.27,3.27,0,0,0-285.49,48.37Z"}),n.default.createElement("g",{className:o.default.cls3},n.default.createElement("rect",{className:o.default.cls1,x:"-476.71",y:"-746.99",width:"1478",height:"1395"})),n.default.createElement("path",{className:o.default.cls7,d:"M21.63,28.12c0-.1,0-.2,0-.31H11.3a.65.65,0,0,1-.66-.65.62.62,0,0,1,.12-.36l1.47-2.38H22.62a7.43,7.43,0,0,1,3.72-3.25l-3.53-5.81V9.51A2.49,2.49,0,0,0,24.75,7V6.87a2.52,2.52,0,0,0-2.52-2.52H15.74a2.52,2.52,0,0,0-2.52,2.52V7a2.49,2.49,0,0,0,1.94,2.48v5.85l-4.34,7.13a.91.91,0,0,0-.33.52L8.87,25.64a2.88,2.88,0,0,0,.91,3.93A3.07,3.07,0,0,0,11.3,30H21.88A7.38,7.38,0,0,1,21.63,28.12ZM17.21,16.26a1.06,1.06,0,0,0,.17-.57V8.45a1.11,1.11,0,0,0-1.11-1.1h-.53a.3.3,0,0,1-.3-.31V6.87a.31.31,0,0,1,.3-.31h6.49a.31.31,0,0,1,.31.31V7a.31.31,0,0,1-.31.31H21.7a1.11,1.11,0,0,0-1.1,1.1v7.24a1,1,0,0,0,.16.56l3.65,5.95H13.56Z"}),n.default.createElement("path",{className:o.default.cls8,d:"M29.74,20.65a7.5,7.5,0,1,0,6.87,6.87A7.5,7.5,0,0,0,29.74,20.65Zm.86,1.09a8.47,8.47,0,0,1,.86.25,1.57,1.57,0,0,0,.51.23,6.36,6.36,0,0,1,2.11,1.59.29.29,0,0,1,.07.16.86.86,0,0,1,0,.42.76.76,0,0,0-.06.25.37.37,0,0,0,.29.32,1.46,1.46,0,0,0,.38,0,.24.24,0,0,1,.22.16,2.16,2.16,0,0,0,.23.48,6.44,6.44,0,0,1,.48,2.21.4.4,0,0,1-.1.28,2.81,2.81,0,0,0-.35.48A7.31,7.31,0,0,1,34.47,30a1.56,1.56,0,0,0-.42.6,3,3,0,0,0-.06.51c0,.07-.13.07-.2,0a3.86,3.86,0,0,1-.54-1.25c-.06-.32-.13-.64-.22-1a1.3,1.3,0,0,0-.58-.77,2.9,2.9,0,0,0-1-.15,1.18,1.18,0,0,1-1-.36.76.76,0,0,1-.16-.44,2,2,0,0,1,1-2.11c.09-.07.19-.1.28-.16a.68.68,0,0,0,.23-.67.09.09,0,0,0-.13-.07,2.92,2.92,0,0,0-.54.23c-.1,0-.2,0-.16-.1a3.66,3.66,0,0,1,.12-1,1.39,1.39,0,0,0,0-1,.3.3,0,0,0-.2-.13h-.89a0,0,0,0,1,0,0,1.73,1.73,0,0,0,.41-.35A.25.25,0,0,1,30.6,21.74Zm-3.23.09a.11.11,0,0,1,.16.07c.1.16.16.32.26.51a1.5,1.5,0,0,1,.06,1.24c-.22.45-.73.64-1.15.87a5.86,5.86,0,0,0-2.14,1.91s-.06.1-.09.1a.11.11,0,0,1-.16-.07.78.78,0,0,1-.26-.22s-.12,0-.12.1a1,1,0,0,0,.47,1.15.71.71,0,0,1,.2.12c.12.16,0,.39,0,.58s.35.41.64.38a3.23,3.23,0,0,0,.76-.25,1.92,1.92,0,0,1,1.73.22c.25.16.48.42.73.58a1.24,1.24,0,0,0,.77.25.26.26,0,0,1,.16.06.92.92,0,0,1-.16.8,6.31,6.31,0,0,1-.7.67c-.55.61-.67,1.54-1.12,2.21a1.91,1.91,0,0,0-.26.41,1.72,1.72,0,0,0-.06.67s0,.1-.06.07a1.27,1.27,0,0,1-.32-.13.21.21,0,0,1-.13-.16,8.63,8.63,0,0,0-.93-2.65,2.28,2.28,0,0,0-.7-.86c-.1-.07-.19-.13-.22-.23s0-.16,0-.22a2.46,2.46,0,0,0-1-2.27.82.82,0,0,1-.32-.29c-.07-.12-.07-.32-.13-.44a1.92,1.92,0,0,0-.45-.39c-.06,0-.06-.09-.06-.16A6.5,6.5,0,0,1,27.37,21.83Z"}))};s.propTypes={className:r.default.string};var i=s;t.default=i},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(5)),r=l(a(0)),o=l(a(1)),s=a(66),i=function SaveIcon(e){return r.default.createElement("svg",(0,n.default)({},e,{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 23 23",fill:"#3867FA",fillRule:"nonzero"}),r.default.createElement("g",{transform:"translate(-805.000000, -219.000000)"},r.default.createElement("g",{id:"noun_Save_1343796_000000",transform:"translate(805.000000, 219.000000)"},r.default.createElement("path",{d:"M1.64285714,0 L18.4861729,0 C18.9218858,0 19.3397529,0.173086226 19.6478484,0.48118174 L22.5188183,3.35215159 C22.8269138,3.66024711 23,4.07811423 23,4.51382705 L23,21.3571429 C23,22.2644678 22.2644678,23 21.3571429,23 L1.64285714,23 C0.735532224,23 0,22.2644678 0,21.3571429 L0,1.64285714 C0,0.735532224 0.735532224,0 1.64285714,0 Z M4.92857143,1.64285714 L2.19047619,1.64285714 C1.88803457,1.64285714 1.64285714,1.88803457 1.64285714,2.19047619 L1.64285714,20.8095238 C1.64285714,21.1119654 1.88803457,21.3571429 2.19047619,21.3571429 L20.8095238,21.3571429 C21.1119654,21.3571429 21.3571429,21.1119654 21.3571429,20.8095238 L21.3571429,4.74065825 C21.3571429,4.5954207 21.2994475,4.4561316 21.196749,4.35343315 L18.6465668,1.80325104 C18.5438684,1.70055253 18.4045793,1.64285714 18.2593417,1.64285714 L18.0049913,1.64285714 C17.7392419,1.64285714 17.5238095,1.85828955 17.5238095,2.12403888 L17.5238095,6.02380952 C17.5238095,6.93113444 16.7882773,7.66666667 15.8809524,7.66666667 L7.11904762,7.66666667 C6.2117227,7.66666667 5.47619048,6.93113444 5.47619048,6.02380952 L5.47619048,2.19047619 C5.47619048,1.88803457 5.23101305,1.64285714 4.92857143,1.64285714 Z M11.5,9.85714286 C14.070754,9.85714286 16.1547619,11.9411507 16.1547619,14.5119048 C16.1547619,17.0826588 14.070754,19.1666667 11.5,19.1666667 C8.92924597,19.1666667 6.8452381,17.0826588 6.8452381,14.5119048 C6.8452381,11.9411507 8.92924597,9.85714286 11.5,9.85714286 Z M11.5,11.5 C9.83657095,11.5 8.48809524,12.8484757 8.48809524,14.5119048 C8.48809524,16.1753338 9.83657095,17.5238095 11.5,17.5238095 C13.1634291,17.5238095 14.5119048,16.1753338 14.5119048,14.5119048 C14.5119048,12.8484757 13.1634291,11.5 11.5,11.5 Z M7.66666667,6.02380952 L15.3333333,6.02380952 C15.635775,6.02380952 15.8809524,5.7786321 15.8809524,5.47619048 L15.8809524,2.19047619 C15.8809524,1.88803457 15.635775,1.64285714 15.3333333,1.64285714 L7.66666667,1.64285714 C7.36422505,1.64285714 7.11904762,1.88803457 7.11904762,2.19047619 L7.11904762,5.47619048 C7.11904762,5.7786321 7.36422505,6.02380952 7.66666667,6.02380952 Z",id:"Shape"}))))};i.propTypes=(0,s.forbidExtraProps)({className:o.default.string,onMouseEnter:o.default.func,onMouseLeave:o.default.func,onBlur:o.default.func,onClick:o.default.func,onFocus:o.default.func});var d=i;t.default=d},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(0)),r=l(a(1)),o=function UploadIcon(e){return n.default.createElement("svg",{id:"prefix__Layer_1",x:0,y:0,viewBox:"0 0 97.7 76.6",xmlSpace:"preserve",className:e.className},n.default.createElement("style",null),n.default.createElement("defs",null,n.default.createElement("path",{id:"prefix__SVGID_1_",d:"M-392-243.8c.2-.2.5-.4.8-.4h3.6c.3 0 .6.1.8.4l1 1.2c.6.8 1.6 1.2 2.5 1.2h12.6c.3 0 .6.1.8.3.2.2.3.5.3.8l-.1.6h-22.4l-.4-3.3c.2-.3.3-.6.5-.8zm22.9 20.2c-.1.8-.7 1.3-1.5 1.3h-20.8c-.8 0-1.4-.6-1.5-1.3l-1.2-12.7c0-.3.1-.6.3-.8.2-.2.5-.4.8-.4h23.9c.3 0 .6.1.8.4.2.2.3.5.3.8l-1.1 12.7zm-27.1-12.5l1.1 12.7c.2 1.9 1.8 3.3 3.7 3.3h20.8c1.9 0 3.5-1.4 3.7-3.3l1.1-12.7c.1-.9-.2-1.9-.8-2.5-.2-.3-.5-.5-.8-.7l.1-.7c.1-.9-.2-1.8-.8-2.5-.6-.7-1.5-1.1-2.4-1.1h-12.6c-.3 0-.6-.1-.8-.4l-1-1.2c-.6-.7-1.6-1.2-2.5-1.2h-3.6c-.9 0-1.8.4-2.5 1.1-.6.7-.9 1.6-.8 2.6l.4 3.3c-.4.2-.9.5-1.2.8-.8.6-1.1 1.5-1.1 2.5z"})),n.default.createElement("use",{xlinkHref:"#prefix__SVGID_1_",overflow:"visible",fill:"#a300df"}),n.default.createElement("clipPath",{id:"prefix__SVGID_2_"},n.default.createElement("use",{xlinkHref:"#prefix__SVGID_1_",overflow:"visible"})),n.default.createElement("g",{clipPath:"url(#prefix__SVGID_2_)"},n.default.createElement("defs",null,n.default.createElement("path",{id:"prefix__SVGID_3_",d:"M-587.4-1031.5h1478v1395h-1478z"})),n.default.createElement("use",{xlinkHref:"#prefix__SVGID_3_",overflow:"visible",fill:"#a300df"}),n.default.createElement("clipPath",{id:"prefix__SVGID_4_"},n.default.createElement("use",{xlinkHref:"#prefix__SVGID_3_",overflow:"visible"}))),n.default.createElement("defs",null,n.default.createElement("circle",{id:"prefix__SVGID_5_",cx:-370.9,cy:-222,r:7.5})),n.default.createElement("clipPath",{id:"prefix__SVGID_6_"},n.default.createElement("use",{xlinkHref:"#prefix__SVGID_5_",overflow:"visible"})),n.default.createElement("g",{clipPath:"url(#prefix__SVGID_6_)"},n.default.createElement("defs",null,n.default.createElement("path",{id:"prefix__SVGID_7_",d:"M-587.4-1031.5h1478v1395h-1478z"})),n.default.createElement("clipPath",{id:"prefix__SVGID_8_"},n.default.createElement("use",{xlinkHref:"#prefix__SVGID_7_",overflow:"visible"}))),n.default.createElement("g",null,n.default.createElement("defs",null,n.default.createElement("path",{id:"prefix__SVGID_9_",d:"M-372.6-228.2c.1 0 .1 0 .2.1.1.2.2.3.2.5.2.4.2.8.1 1.2-.2.4-.7.6-1.1.8-.8.4-1.6 1.1-2.1 1.9l-.1.1c-.1 0-.1 0-.2-.1s-.2-.1-.2-.2c0 0-.1 0-.1.1-.1.4.1.9.5 1.1.1 0 .1.1.2.1.1.2 0 .4 0 .6 0 .2.3.4.6.4s.5-.2.8-.2c.6-.2 1.2-.1 1.7.2.2.2.5.4.7.6.2.2.5.3.8.2.1 0 .1 0 .2.1.1.2 0 .6-.2.8-.2.2-.5.4-.7.7-.5.6-.7 1.5-1.1 2.2-.1.1-.2.2-.2.4-.1.2-.1.4-.1.7 0 0 0 .1-.1.1s-.2-.1-.3-.1c-.1 0-.1-.1-.1-.2-.2-.9-.5-1.8-.9-2.6-.2-.3-.4-.7-.7-.8-.1-.1-.2-.1-.2-.2v-.2c.1-.8-.3-1.7-1-2.2l-.3-.3c-.1-.1-.1-.3-.1-.4s-.3-.3-.4-.4c-.1 0-.1-.1-.1-.2.4-2.4 2.1-4.2 4.3-4.8zm3.2 0c.3.1.6.2.8.2.2.1.3.2.5.2.8.4 1.5.9 2.1 1.6 0 0 .1.1.1.2v.4c0 .1-.1.2-.1.2 0 .2.2.3.3.3h.4c.1 0 .2.1.2.2.1.2.2.4.2.5.3.7.4 1.4.5 2.2 0 .1 0 .2-.1.3-.1.1-.2.3-.3.5-.2.4-.4.9-.7 1.3-.2.2-.3.3-.4.6-.1.2 0 .3-.1.5 0 .1-.1.1-.2 0-.2-.4-.4-.8-.5-1.2-.1-.3-.1-.6-.2-.9s-.3-.6-.6-.8c-.3-.2-.7-.1-1-.2-.3 0-.7-.1-.9-.3-.1-.1-.2-.3-.2-.4-.2-.8.3-1.7 1-2.1.1-.1.2-.1.3-.2.2-.2.3-.4.2-.7 0-.1-.1-.1-.1-.1-.2.1-.4.1-.5.2-.1 0-.2 0-.2-.1 0-.3 0-.6.1-.9.1-.3.2-.7 0-1 0-.1-.1-.1-.2-.1h-.9c.2-.1.3-.2.4-.3 0-.1 0-.1.1-.1zm-.9-1.1c-4.5-.4-8.3 3.4-7.9 7.9.3 3.6 3.2 6.4 6.7 6.7 4.5.4 8.3-3.4 7.9-7.9-.2-3.6-3.1-6.4-6.7-6.7z"})),n.default.createElement("clipPath",{id:"prefix__SVGID_10_"},n.default.createElement("use",{xlinkHref:"#prefix__SVGID_9_",overflow:"visible"})),n.default.createElement("g",{clipPath:"url(#prefix__SVGID_10_)"},n.default.createElement("defs",null,n.default.createElement("path",{id:"prefix__SVGID_11_",d:"M-587.4-1031.5h1478v1395h-1478z"})),n.default.createElement("clipPath",{id:"prefix__SVGID_12_"},n.default.createElement("use",{xlinkHref:"#prefix__SVGID_11_",overflow:"visible"})))),n.default.createElement("g",null,n.default.createElement("defs",null,n.default.createElement("path",{id:"prefix__SVGID_13_",d:"M-876.5-213c-.4 0-.7.3-.7.6 0 .2.1.4.4.6v.9c0 .2.2.3.4.3s.4-.1.4-.3v-.9c.2-.1.4-.3.4-.6-.2-.3-.5-.6-.9-.6z"})),n.default.createElement("clipPath",{id:"prefix__SVGID_14_"},n.default.createElement("use",{xlinkHref:"#prefix__SVGID_13_",overflow:"visible"})),n.default.createElement("g",{clipPath:"url(#prefix__SVGID_14_)"},n.default.createElement("defs",null,n.default.createElement("path",{id:"prefix__SVGID_15_",d:"M-1095.3-891.5h1478v1395h-1478z"})),n.default.createElement("clipPath",{id:"prefix__SVGID_16_"},n.default.createElement("use",{xlinkHref:"#prefix__SVGID_15_",overflow:"visible"})))),n.default.createElement("g",null,n.default.createElement("defs",null,n.default.createElement("path",{id:"prefix__SVGID_21_",d:"M59.6 39.6l-10-10c-.4-.4-1.1-.4-1.5 0l-10 10c-.3.3-.4.7-.3 1.1.1.4.4.7.8.8.4.1.8 0 1.1-.3l8.1-8.1V75c0 .6.5 1.1 1.1 1.1.6 0 1.1-.5 1.1-1.1V33l8.1 8.1c.3.3.7.4 1.1.3.4-.1.7-.4.8-.8 0-.3-.1-.7-.4-1zm21.8-17.9c0-9.3-6-17.6-14.8-20.6-8.9-3-18.6.1-24.2 7.6-4.9-3.7-11.5-4.3-17-1.5s-9 8.4-9 14.6c-4.7 0-9.1 2-12.2 5.5s-4.5 8.1-4 12.8c1.1 8.3 8.3 14.4 16.6 14.3h8.8c.9 0 1.6-.7 1.6-1.6 0-.9-.7-1.6-1.6-1.6h-8.8C9.9 51.1 4.1 46 3.3 39.3c-.3-3.7.9-7.3 3.3-10 2.5-2.7 5.9-4.3 9.6-4.3 1.8 0 3.3-1.6 3.3-3.4.1-7.1 5.9-12.9 13-12.9 2.8 0 5.6.9 7.8 2.6.6.4 1.3.6 2 .6h.5c.9-.1 1.6-.6 2.2-1.3 4.7-6.3 13-8.8 20.5-6.3 7.5 2.5 12.6 9.6 12.6 17.5 0 1.8 1.5 3.2 3.3 3.2 3.7 0 7.2 1.6 9.7 4.3 2.5 2.7 3.7 6.4 3.3 10.1C93.5 46 87.8 51.1 81 51H61.3c-.9 0-1.6.7-1.6 1.6 0 .9.7 1.6 1.6 1.6H81c8.3.1 15.4-6 16.6-14.3.6-4.6-.9-9.3-4-12.8-3.1-3.4-7.5-5.4-12.2-5.4zm-29.9-9.5c3.6-3.1 8.6-3.9 12.9-2.1 4.4 1.8 7.3 5.9 7.7 10.6.1.6.5 1 1.1 1 .3 0 .6-.1.8-.4.2-.2.3-.5.3-.8-.4-5.5-3.9-10.2-9-12.3-5.1-2.1-10.9-1.2-15.1 2.3-.2.2-.4.5-.4.8 0 .3.1.6.3.8.4.4 1 .5 1.4.1zM30.9 51c-.9 0-1.6.7-1.6 1.6 0 .9.7 1.6 1.6 1.6.9 0 1.6-.7 1.6-1.6.1-.9-.7-1.6-1.6-1.6zm5.5 0c-.9 0-1.6.7-1.6 1.6 0 .9.7 1.6 1.6 1.6.9 0 1.6-.7 1.6-1.6 0-.9-.7-1.6-1.6-1.6z"})),n.default.createElement("clipPath",{id:"prefix__SVGID_18_"},n.default.createElement("use",{xlinkHref:"#prefix__SVGID_21_",overflow:"visible"})),n.default.createElement("path",{clipPath:"url(#prefix__SVGID_18_)",fill:"#3867fa",d:"M-3.5-3.5h104.6v82.9H-3.5z"})))};o.propTypes={className:r.default.string};var s=o;t.default=s},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(32)),r=l(a(7)),o=l(a(8)),s=l(a(210)),i=function(){function UrlQueryParser(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r.default)(this,UrlQueryParser),this._types=e}return(0,o.default)(UrlQueryParser,[{key:"parse",value:function parse(e){var t=this,a=s.default.parse(e);return Object.entries(this._types).forEach(function(e){var l=(0,n.default)(e,2),r=l[0],o=l[1];a[r]&&(a[r]=t.convertValue(a[r],o))}),a}},{key:"stringify",value:function stringify(e){var t=this,a=Object.keys(e).reduce(function(a,l){return e[l]&&(t._types[l]?a[l]=t.stringifyValue(e[l],t._types[l]):a[l]=e[l]),a},{});return s.default.stringify(a)}},{key:"convertValue",value:function convertValue(e,t){switch(t){case"object":return JSON.parse(e);case"boolean":return"true"===e;case"number":return Number(e);case"string":return e;default:return console.warn("[UrlQueryParser] Type not supported (".concat(t,"). You might not need to specify this value")),e}}},{key:"stringifyValue",value:function stringifyValue(e,t){switch(t){case"object":return e&&0!==Object.keys(e).length?JSON.stringify(e):void 0;default:return e}}}]),UrlQueryParser}();t.default=i},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(3)),d=l(a(11)),c=l(a(2)),u=l(a(0)),f=l(a(1)),p=a(17),m=l(a(4)),h=l(a(141)),g=l(a(73)),v=l(a(145)),y=l(a(1774)),b=function(e){function HostOrganismMessage(){var e,t;(0,n.default)(this,HostOrganismMessage);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return t=(0,o.default)(this,(e=(0,s.default)(HostOrganismMessage)).call.apply(e,[this].concat(l))),(0,c.default)((0,i.default)(t),"hasMatch",function(e){var a=t.props.hostGenomes.filter(function(e){return t.isERCC(e.name)||!(e.ercc_only||e["ercc_only?"])});return(0,p.map)(function(e){return e.name.toLowerCase()},a).includes(e.toLowerCase())}),t}return(0,d.default)(HostOrganismMessage,e),(0,r.default)(HostOrganismMessage,[{key:"renderOneHost",value:function renderOneHost(e,t){return u.default.createElement(g.default,{type:this.hasMatch(e)?"info":"warn",displayStyle:"flat",className:y.default.messageContainer},u.default.createElement("strong",null,"Host Subtraction:")," ",!this.hasMatch(e)&&" We don't have any hosts matching your selection.",this.renderTextLine(e,t)," ",this.renderLearnMoreLink(),".")}},{key:"renderLearnMoreLink",value:function renderLearnMoreLink(){return u.default.createElement(v.default,{className:y.default.link,href:"https://chanzuckerberg.zendesk.com/hc/en-us/articles/360035296573-Upload-on-the-Web#reviewing-data",analyticsEventName:"HostOrganismMessage_learn-more-link_clicked"},"Learn more")}},{key:"renderTextLine",value:function renderTextLine(e,t){return u.default.createElement("span",null," ","For the"," ",u.default.createElement("strong",null,t," sample",t>1?"s":"")," ",this.renderHostPhrase(e,t)," ",this.hasMatch(e)&&!this.isERCC(e)?u.default.createElement("span",null,"we will subtract out reads that align to a"," ",u.default.createElement("strong",null,(0,p.capitalize)(e))," genome"):u.default.createElement("span",null,"we will only remove ERCCs"),"human"!==e.toLowerCase()&&" and reads that align to the human genome",".")}},{key:"isERCC",value:function isERCC(e){return"ercc only"===e.toLowerCase()}},{key:"renderHostPhrase",value:function renderHostPhrase(e,t){return u.default.createElement("span",null,this.isERCC(e)?u.default.createElement("span",null,"that you indicated ",t>1?"are":"is"," ERCC Only"):u.default.createElement("span",null,"that you indicated ",t>1?"are":"is"," from a"," ",u.default.createElement("strong",null,e)," Host Organism"),",")}},{key:"renderManyHosts",value:function renderManyHosts(e){var t=this,a=!(0,p.every)(this.hasMatch,(0,p.keys)(e)),l=(0,c.default)({},y.default.warn,a),n=u.default.createElement(g.default,{type:a?"warn":"info",displayStyle:"flat",className:y.default.messageContainer},u.default.createElement("strong",null,"Host Subtraction:"),"Based on your selections for Host Organism, we will subtract out reads from your samples that align to different genomes."," ",this.renderLearnMoreLink(),".");return u.default.createElement(h.default,{bottomContentPadding:!0,header:n,open:!1,className:(0,m.default)(y.default.listContainer,l)},(0,p.keys)(e).map(function(a){return u.default.createElement("div",{key:a,className:(0,m.default)(y.default.messageLine,l)},t.renderTextLine(a,e[a]))}))}},{key:"getSelectedHostOrganisms",value:function getSelectedHostOrganisms(){return this.props.samples.map(function(e){return e.host_genome_name})}},{key:"render",value:function render(){var e=(0,p.countBy)(null,this.getSelectedHostOrganisms()),t=(0,p.keys)(e).length;if(0===t)return null;if(1===t){var a=(0,p.keys)(e)[0];return this.renderOneHost(a,e[a])}return this.renderManyHosts(e)}}]),HostOrganismMessage}(u.default.Component);t.default=b,b.propTypes={samples:f.default.arrayOf(f.default.shape({host_genome_id:f.default.number,host_genome_name:f.default.string})).isRequired,hostGenomes:f.default.arrayOf(f.default.HostGenome).isRequired}},,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(5)),r=l(a(47)),o=l(a(7)),s=l(a(8)),i=l(a(10)),d=l(a(9)),c=l(a(3)),u=l(a(11)),f=l(a(2)),p=l(a(0)),m=l(a(1)),h=a(190);a(1802);var g=l(a(4)),v=a(17),y=l(a(46)),b=l(a(224)),C=l(a(126)),w=l(a(140)),E=l(a(291)),S=l(a(323)),_=a(128),k=a(20),N=l(a(1804)),x=function(e){function BaseTable(e){var t;return(0,o.default)(this,BaseTable),t=(0,i.default)(this,(0,d.default)(BaseTable).call(this,e)),(0,f.default)((0,c.default)(t),"_sortableHeaderRenderer",function(e){var a=e.columnData,l=e.dataKey,n=e.label,r=e.sortBy,o=e.sortDirection,s=t.props.sortedHeaderClassName;return p.default.createElement("div",{className:(0,g.default)(N.default.sortableHeader,r===l&&s)},a?p.default.createElement(b.default,{trigger:p.default.createElement("span",{className:N.default.label},n),title:n,content:a.tooltip,link:a.link}):p.default.createElement(y.default,{trigger:p.default.createElement("span",{className:N.default.label},n),content:n}),p.default.createElement(S.default,{sortDirection:"ASC"===o?"ascending":"descending",className:(0,g.default)(N.default.sortIcon,r===l&&N.default.active)}))}),(0,f.default)((0,c.default)(t),"handleColumnChange",function(e){var a=t.props,l=a.onActiveColumnsChange,n=a.protectedColumns;t.setState({activeColumns:(0,v.concat)(n,e)},function(){return l&&l(t.state.activeColumns)}),(0,k.logAnalyticsEvent)("BaseTable_column-selector_changed",{selectedColumns:e.length,protectedColumns:n.length})}),(0,f.default)((0,c.default)(t),"renderColumnSelector",function(){var e=t.state,a=e.activeColumns,l=e.columns,n=t.props.protectedColumns,r=l.filter(function(e){return!(0,v.includes)(e.dataKey,n)}).map(function(e){return{value:e.dataKey,text:e.label}}),o=(0,v.difference)(a,n);return p.default.createElement(y.default,{trigger:p.default.createElement(w.default,{direction:"left",hideArrow:!0,hideCounter:!0,rounded:!0,search:!0,checkedOnTop:!0,menuLabel:"Select Columns",onChange:t.handleColumnChange,options:r,trigger:p.default.createElement(E.default,{className:N.default.plusIcon}),value:o}),content:"Add or Remove Columns"})}),(0,f.default)((0,c.default)(t),"renderSelectableCell",function(e){var a=e.cellData,l=t.props,n=l.selected,r=l.onSelectRow,o=l.selectableCellClassName,s=null===a||void 0===a;return p.default.createElement(C.default,{className:o,checked:n.has(a),onChange:r,value:s?-1:a,disabled:s})}),(0,f.default)((0,c.default)(t),"renderSelectableHeader",function(){var e=t.props,a=e.selectAllChecked,l=e.onSelectAllRows;return p.default.createElement(C.default,{checked:a,onChange:function onChange(e,t,a){return l(t)},value:"all"})}),t.state={activeColumns:t.props.initialActiveColumns,columns:BaseTable.setColumnDefaults(t.props.columns,t.props.defaultColumnWidth)},t}return(0,u.default)(BaseTable,e),(0,s.default)(BaseTable,[{key:"basicHeaderRenderer",value:function basicHeaderRenderer(e){var t=e.columnData,a=e.label;return p.default.createElement("div",null,t?p.default.createElement(b.default,{trigger:p.default.createElement("span",{className:N.default.label},a),title:a,content:t.tooltip,link:t.link}):p.default.createElement(y.default,{trigger:p.default.createElement("span",{className:N.default.label},a),content:a}))}},{key:"render",value:function render(){var e=this,t=this.props,a=t.cellClassName,l=t.defaultCellRenderer,o=t.defaultHeaderHeight,s=t.defaultRowHeight,i=t.defaultSelectColumnWidth,d=t.forwardRef,c=t.headerClassName,u=t.initialActiveColumns,f=t.onRowClick,m=t.onRowsRendered,y=t.onSort,b=t.rowClassName,C=t.rowCount,w=t.rowGetter,E=t.rowRenderer,S=t.selectableColumnClassName,_=t.selectableKey,k=t.sortable,x=t.sortBy,M=t.sortDirection,T=(0,r.default)(t,["cellClassName","defaultCellRenderer","defaultHeaderHeight","defaultRowHeight","defaultSelectColumnWidth","forwardRef","headerClassName","initialActiveColumns","onRowClick","onRowsRendered","onSort","rowClassName","rowCount","rowGetter","rowRenderer","selectableColumnClassName","selectableKey","sortable","sortBy","sortDirection"]),P=this.state,D=P.activeColumns,I=P.columns,j=D||(0,v.map)("dataKey",I);return p.default.createElement("div",{className:N.default.tableContainer},p.default.createElement(h.AutoSizer,null,function(t){var P=t.width,D=t.height;return p.default.createElement(h.Table,(0,n.default)({gridClassName:N.default.grid,headerClassName:(0,g.default)(N.default.header,c),headerHeight:o,height:D,onRowsRendered:m,ref:d,rowClassName:(0,g.default)(b,N.default.row,f&&N.default.clickable),rowCount:C,rowGetter:w,rowHeight:s,rowRenderer:E,sort:k&&y,sortBy:k&&x,sortDirection:k&&M,width:P,onRowClick:f},T),_&&p.default.createElement(h.Column,{className:S,dataKey:_,headerRenderer:e.renderSelectableHeader,cellRenderer:e.renderSelectableCell,disableSort:!0,width:i}),j.map(function(t){var o=(0,v.find)({dataKey:t},I),s=o.cellRenderer,i=o.className,d=(0,r.default)(o,["cellRenderer","className"]);return p.default.createElement(h.Column,(0,n.default)({className:(0,g.default)(N.default.cell,a,i),columnData:o.columnData,key:o.dataKey,headerRenderer:k&&!o.disableSort?e._sortableHeaderRenderer:e.basicHeaderRenderer,cellRenderer:s||l},d))}),u&&p.default.createElement(h.Column,{dataKey:"plusPlaceholder",width:20}))}),u&&p.default.createElement("div",{style:{height:o},className:(0,g.default)(N.default.columnSelector,N.default.row,"ReactVirtualized__Table__headerRow")},this.renderColumnSelector()))}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(e,t){return e.columns!==t.prevPropsColumns?{activeColumns:e.initialActiveColumns,columns:BaseTable.setColumnDefaults(e.columns,e.defaultColumnWidth),prevPropsColumns:e.columns}:null}},{key:"setColumnDefaults",value:function setColumnDefaults(e,t){return e.map(function(e){return e.label=void 0!==e.label?e.label:(0,_.humanize)(e.dataKey),e.width=e.width||t,e})}}]),BaseTable}(p.default.Component);x.defaultProps={defaultColumnWidth:60,defaultHeaderHeight:50,defaultRowHeight:30,defaultSelectColumnWidth:30,selected:new Set},x.propTypes={cellClassName:m.default.string,columns:m.default.arrayOf(m.default.shape({dataKey:m.default.string.isRequired})).isRequired,defaultCellRenderer:m.default.func,defaultColumnWidth:m.default.number,defaultHeaderHeight:m.default.number,defaultRowHeight:m.default.oneOfType([m.default.number,m.default.func]),defaultSelectColumnWidth:m.default.number,headerClassName:m.default.string,initialActiveColumns:m.default.arrayOf(m.default.string),onActiveColumnsChange:m.default.func,onRowClick:m.default.func,onRowsRendered:m.default.func,onSort:m.default.func,protectedColumns:m.default.arrayOf(m.default.string),forwardRef:m.default.oneOfType([m.default.func,m.default.shape({current:m.default.instanceOf(Element)})]),rowClassName:m.default.string,rowGetter:m.default.func.isRequired,rowCount:m.default.number.isRequired,rowRenderer:m.default.func,selectableCellClassName:m.default.string,selectableColumnClassName:m.default.string,sortable:m.default.bool,sortBy:m.default.string,sortDirection:m.default.string,sortedHeaderClassName:m.default.string,selectableKey:m.default.string,selected:m.default.instanceOf(Set),onSelectRow:m.default.func,onSelectAllRows:m.default.func,selectAllChecked:m.default.bool};var M=x;t.default=M},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(35)),r=l(a(26)),o=l(a(27)),s=l(a(7)),i=l(a(8)),d=l(a(10)),c=l(a(9)),u=l(a(3)),f=l(a(11)),p=l(a(2)),m=l(a(0)),h=l(a(506)),g=l(a(211)),v=l(a(774)),y=a(42),b=a(20),C=l(a(24)),w=l(a(173)),E=l(a(51)),S=a(431);function ownKeys(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}var _=function(e){function SampleViewControls(){var e,t;(0,s.default)(this,SampleViewControls);for(var a=arguments.length,l=new Array(a),n=0;n<a;n++)l[n]=arguments[n];return t=(0,d.default)(this,(e=(0,c.default)(SampleViewControls)).call.apply(e,[this].concat(l))),(0,p.default)((0,u.default)(t),"downloadCSV",function(){var e=t.props,a=e.backgroundId,l=e.pipelineRun,n=e.sample,r=e.minContigReads,o=function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(a,!0).forEach(function(t){(0,p.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},a&&{background_id:a},{},l&&l.pipeline_version&&{pipeline_version:l.pipeline_version},{},r&&{min_contig_reads:r});location.href="/samples/".concat(n.id,"/report_csv?").concat(v.default.stringify(o))}),(0,p.default)((0,u.default)(t),"deleteSample",(0,o.default)(r.default.mark(function _callee(){var e,a,l,n;return r.default.wrap(function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return e=t.props,a=e.sample,l=e.project,(n=new g.default({id:"prog-bar",class:"prog-bar"})).go(30),r.next=5,(0,y.deleteSample)(a.id);case 5:n.go(100),location.href="/home?project_id=".concat(l.id),(0,b.logAnalyticsEvent)("SampleViewControls_delete-sample-button_clicked",{sampleId:a.id,sampleName:a.name});case 8:case"end":return r.stop()}},_callee)}))),(0,p.default)((0,u.default)(t),"handleDownload",function(e){var a=function log(){return(0,b.logAnalyticsEvent)("SampleViewControls-download-".concat(e.replace(/\W+/g,"-").replace(/_/g,"-").replace("-_","_").toLowerCase(),"_clicked"),{sampleId:t.props.sample.id,sampleName:t.props.sample.name})};if("download_csv"===e)return t.downloadCSV(),void a();if("taxon_svg"==e)return(new h.default).asSvg(t.getTaxonTreeNode(),"taxon_tree.svg"),void a();if("taxon_png"==e)return(new h.default).asPng(t.getTaxonTreeNode(),"taxon_tree.png"),void a();var l=(0,S.getLinkInfoForDownloadOption)(e,t.props.sample.id,t.props.pipelineRun);l&&(window.open(l.path,l.newPage?"_blank":"_self"),a())}),t}return(0,f.default)(SampleViewControls,e),(0,i.default)(SampleViewControls,[{key:"getTaxonTreeNode",value:function getTaxonTreeNode(){return document.getElementsByClassName("taxon-tree-vis")[0]}},{key:"getImageDownloadOptions",value:function getImageDownloadOptions(){return"tree"===this.props.view?[{text:"Download Taxon Tree as SVG",value:"taxon_svg"},{text:"Download Taxon Tree as PNG",value:"taxon_png"}]:[]}},{key:"render",value:function render(){var e=this.props,t=e.deletable,a=e.editable,l=e.pipelineRun;if(e.reportPresent&&l){var r=[{text:"Download Report Table (.csv)",value:"download_csv"}].concat((0,n.default)((0,S.getDownloadDropdownOptions)(l)),(0,n.default)(this.getImageDownloadOptions()));return m.default.createElement(w.default,{options:r,onClick:this.handleDownload,direction:"left"})}return a&&t?m.default.createElement(E.default,{onClick:this.deleteSample,text:"Delete Sample"}):m.default.createElement("div",null)}}]),SampleViewControls}(m.default.Component);_.defaultProps={deletable:!1},_.propTypes={backgroundId:C.default.number,deletable:C.default.bool,editable:C.default.bool,minContigReads:C.default.number,reportPresent:C.default.bool,sample:C.default.Sample,pipelineRun:C.default.PipelineRun,project:C.default.Project,view:C.default.string};var k=_;t.default=k},,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CATEGORIES=t.TREE_METRICS=t.THRESHOLDS=void 0;t.THRESHOLDS=[{text:"Score",value:"agg_score"},{text:"NT Z Score",value:"nt:z_score"},{text:"NT rPM",value:"nt:rpm"},{text:"NT r (total reads)",value:"nt:count"},{text:"NT contigs",value:"nt:contigs"},{text:"NT contig reads",value:"nt:contig_reads"},{text:"NT %id",value:"nt:percent_identity"},{text:"NT L (alignment length in bp)",value:"nt:alignment_length"},{text:"NT log(1/e)",value:"nt:e_value"},{text:"NR Z Score",value:"nr:z_score"},{text:"NR rPM",value:"nr:rpm"},{text:"NR r (total reads)",value:"nr:count"},{text:"NR contigs",value:"nr:contigs"},{text:"NR contig reads",value:"nr:contig_reads"},{text:"NR %id",value:"nr:percent_identity"},{text:"NR L (alignment length in bp)",value:"nr:alignment_length"},{text:"NR log(1/e)",value:"nr:e_value"}];t.TREE_METRICS=[{text:"Aggregate Score",value:"aggregatescore"},{text:"NT r (total reads)",value:"nt_r"},{text:"NT rPM",value:"nt_rpm"},{text:"NR r (total reads)",value:"nr_r"},{text:"NR rPM",value:"nr_rpm"}];t.CATEGORIES=[{name:"Archaea"},{name:"Bacteria"},{name:"Eukaryota"},{name:"Viroids"},{name:"Viruses",children:["Phage"]},{name:"Uncategorized"}]},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(0)),c=l(a(915)),u=l(a(1)),f=function(e){function SequentialLegendVis(e){var t;return(0,n.default)(this,SequentialLegendVis),(t=(0,o.default)(this,(0,s.default)(SequentialLegendVis).call(this,e))).legend=null,t}return(0,i.default)(SequentialLegendVis,e),(0,r.default)(SequentialLegendVis,[{key:"componentDidMount",value:function componentDidMount(){this.legend=new c.default(this.legendContainer,{scale:this.props.scale,min:this.props.min,max:this.props.max}),this.legend.update()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.legend.updateOptions({scale:this.props.scale,min:this.props.min,max:this.props.max}),this.legend.update()}},{key:"render",value:function render(){var e=this;return d.default.createElement("div",null,d.default.createElement("div",{ref:function ref(t){e.legendContainer=t}}))}}]),SequentialLegendVis}(d.default.Component);f.propTypes={max:u.default.number,min:u.default.number,scale:u.default.string};var p=f;t.default=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONDITIONAL_FIELDS=void 0;var l=[{field:"file_format",downloadType:"reads_non_host",dependentField:"taxa_with_reads",triggerValues:["all",void 0]},{field:"background",downloadType:"combined_sample_taxon_results",dependentField:"metric",triggerValues:["NR.zscore","NT.zscore"]}];t.CONDITIONAL_FIELDS=l},function(e,t,a){e.exports={heatmap:"heatmap-1u3mB",viewHeader:"viewHeader-1PGMZ",controls:"controls-1WWTX",controlElement:"controlElement-1fmXw",menu:"menu-2fGKj",filterRow:"filterRow-3M_mU",filterTag:"filterTag-1fnrk",filterToggleContainer:"filterToggleContainer-2dovT",filterLine:"filterLine-u133j",arrowIcon:"arrowIcon-15Uk-",loadingIndicator:"loadingIndicator-39ER6",noDataMsg:"noDataMsg-1D0f5",loadingBackgroundAnimation:"loadingBackgroundAnimation-2adZa"}},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(933)).default;t.default=n},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValidCoordinate=t.indexOfMapLevel=void 0;var l=a(17),n=a(331);t.indexOfMapLevel=function indexOfMapLevel(e){return(0,l.indexOf)(e,n.MAP_LEVEL_ORDER)};t.isValidCoordinate=function isValidCoordinate(e,t){return e>=-90&&e<=90&&t>=-180&&t<=180}},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DEFAULT_THROTTLE_MS=t.TOOLTIP_TIMEOUT_MS=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(3)),d=l(a(11)),c=l(a(2)),u=a(17),f=l(a(0)),p=a(20),m=l(a(24)),h=l(a(514)),g=l(a(937)),v=a(331),y=l(a(939)),b=l(a(516)),C=a(512),w=1e3;t.TOOLTIP_TIMEOUT_MS=w;var E=500;t.DEFAULT_THROTTLE_MS=E;var S=function(e){function DiscoveryMap(e){var t;(0,n.default)(this,DiscoveryMap),t=(0,o.default)(this,(0,s.default)(DiscoveryMap).call(this,e)),(0,c.default)((0,i.default)(t),"updateViewport",function(e){var a=t.props,l=a.zoomBoundaryCountry,n=a.zoomBoundaryState;if(t.setState({viewport:e}),t.onMapLevelChangeThrottled){var r=e.zoom<l?"country":e.zoom<n?"state":"city";t.onMapLevelChangeThrottled(r)}t.logAnalyticsEventThrottled("DiscoveryMap_viewport_updated")}),(0,c.default)((0,i.default)(t),"handleMarkerClick",function(e){var a=t.props.onMarkerClick;a&&a(e),(0,p.logAnalyticsEvent)("DiscoveryMap_marker_clicked",{locationId:e})}),(0,c.default)((0,i.default)(t),"handleMarkerMouseEnter",function(e){var a=t.props.currentTab,l=(0,u.upperFirst)(a).slice(0,-1),n="".concat(e.pointCount," ").concat(l).concat(e.pointCount>1?"s":""),r=f.default.createElement(b.default,{lat:e.lat,lng:e.lng,title:n,body:e.name,onMouseEnter:t.handleTooltipMouseEnter,onMouseLeave:t.handleMarkerMouseLeave,onTitleClick:function onTitleClick(){return t.handleTooltipTitleClick(e)}});t.setState({tooltip:r,tooltipShouldClose:!1}),(0,p.logAnalyticsEvent)("DiscoveryMap_marker_hovered",{locationId:e.id})}),(0,c.default)((0,i.default)(t),"handleMarkerMouseLeave",function(){t.setState({tooltipShouldClose:!0}),setTimeout(function(){t.state.tooltipShouldClose&&t.setState({tooltip:null})},w)}),(0,c.default)((0,i.default)(t),"handleTooltipMouseEnter",function(){t.setState({tooltipShouldClose:!1})}),(0,c.default)((0,i.default)(t),"handleTooltipTitleClick",function(e){var a=t.props.onTooltipTitleClick;a&&a(e.id),(0,p.logAnalyticsEvent)("DiscoveryMap_tooltip-title_clicked",{locationId:e.id})}),(0,c.default)((0,i.default)(t),"handleMapClick",function(){var e=t.props.onClick;e&&e(),(0,p.logAnalyticsEvent)("DiscoveryMap_blank-area_clicked")}),(0,c.default)((0,i.default)(t),"renderMarker",function(e){var a=t.props,l=a.currentTab,n=a.mapLevel,r=a.previewedLocationId,o=t.state.viewport,s=e.id,i=e.name,d=parseFloat(e.lat),c=parseFloat(e.lng);if(!(0,C.isValidCoordinate)(d,c))return console.error("Invalid coordinates for ".concat(i," (").concat(s,")")),null;var p=e.geo_level,m="samples"===l?"sample_ids":"project_ids";if(e[m]){var h=e[m].length,y=v.MAP_CLUSTER_ENABLED_LEVELS.includes(p)&&(0,C.indexOfMapLevel)(p)<(0,C.indexOfMapLevel)(n);return f.default.createElement(g.default,{active:s===r,id:s,key:"marker-".concat(e.id),lat:d,lng:c,onClick:function onClick(){return t.handleMarkerClick(s)},onMouseEnter:function onMouseEnter(){return t.handleMarkerMouseEnter({id:s,name:i,lat:d,lng:c,pointCount:h})},onMouseLeave:t.handleMarkerMouseLeave,pointCount:h,rectangular:y,title:"".concat(i," (").concat(h,")"),zoom:(0,u.get)("zoom",o)})}}),(0,c.default)((0,i.default)(t),"renderBanner",function(){var e=t.props,a=e.currentTab,l=e.mapLocationData,n=e.onClearFilters,r="samples"===a?"sample_ids":"project_ids",o=(0,u.size)((0,u.uniq)((0,u.flatten)((0,u.map)(r,l))));return f.default.createElement(y.default,{item:a,itemCount:o,onClearFilters:n})});var a=t.props.onMapLevelChange;return t.state={tooltip:null,tooltipShouldClose:!1},t.logAnalyticsEventThrottled=(0,u.throttle)(E,p.logAnalyticsEvent),a&&(t.onMapLevelChangeThrottled=(0,u.throttle)(E,a)),t}return(0,d.default)(DiscoveryMap,e),(0,r.default)(DiscoveryMap,[{key:"render",value:function render(){var e=this.props,t=e.mapTilerKey,a=e.mapLocationData,l=this.state.tooltip;return f.default.createElement(h.default,{banner:this.renderBanner(),mapTilerKey:t,markers:a&&Object.values(a).map(this.renderMarker),onClick:this.handleMapClick,tooltip:l,updateViewport:this.updateViewport})}}]),DiscoveryMap}(f.default.Component);S.defaultProps={currentTab:"samples",zoomBoundaryCountry:3.5,zoomBoundaryState:5},S.propTypes={currentDisplay:m.default.string,currentTab:m.default.string.isRequired,mapLevel:m.default.string,mapLocationData:m.default.objectOf(m.default.Location),mapTilerKey:m.default.string,onClearFilters:m.default.func,onClick:m.default.func,onMapLevelChange:m.default.func,onMarkerClick:m.default.func,onTooltipTitleClick:m.default.func,previewedLocationId:m.default.number,zoomBoundaryCountry:m.default.number,zoomBoundaryState:m.default.number};var _=S;t.default=_},function(e,t,a){"use strict";var l=a(96),n=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MAP_STYLE_ID=void 0;var r=n(a(5)),o=n(a(7)),s=n(a(8)),i=n(a(10)),d=n(a(9)),c=n(a(3)),u=n(a(11)),f=n(a(2)),p=n(a(0)),m=n(a(1)),h=l(a(332)),g=a(143),v=n(a(1907));t.MAP_STYLE_ID="e65c2178-ffbd-4e9a-bbeb-1250a61bd01b";var y=function(e){function BaseMap(e){var t;(0,o.default)(this,BaseMap),t=(0,i.default)(this,(0,d.default)(BaseMap).call(this,e)),(0,f.default)((0,c.default)(t),"updateViewport",function(e){var a=t.props,l=a.updateViewport,n=a.viewBounds,r=a.width,o=a.height;e.width=r,e.height=o,e.latitude=(0,g.limitToRange)(e.latitude,n.minLatitude,n.maxLatitude),e.longitude=(0,g.limitToRange)(e.longitude,n.minLongitude,n.maxLongitude),e.zoom=(0,g.limitToRange)(e.zoom,n.minZoom,n.maxZoom),t.setState({viewport:e},function(){return t.setCompactAttribution()}),l&&l(e)}),(0,f.default)((0,c.default)(t),"setCompactAttribution",function(){var e=document.getElementsByClassName("mapboxgl-ctrl-attrib")[0];e&&e.classList.add("mapboxgl-compact")});var a=t.props,l=a.width,n=a.height,r=a.latitude,s=a.longitude,u=a.zoom;return t.state={viewport:{width:l,height:n,latitude:r,longitude:s,zoom:u}},t}return(0,u.default)(BaseMap,e),(0,s.default)(BaseMap,[{key:"render",value:function render(){var e=this.props,t=e.banner,a=e.mapTilerKey,l=e.markers,n=e.onClick,o=e.popups,s=e.tooltip,i=this.state.viewport,d="https://api.maptiler.com/maps/".concat("e65c2178-ffbd-4e9a-bbeb-1250a61bd01b","/style.json?key=").concat(a);return p.default.createElement("div",{className:v.default.mapContainer},p.default.createElement(h.default,(0,r.default)({mapStyle:d,onClick:n,onLoad:this.setCompactAttribution,onViewportChange:this.updateViewport,style:{position:"absolute"}},i),t,l,o,s,p.default.createElement(h.NavigationControl,{onViewportChange:this.updateViewport,showCompass:!1,className:v.default.zoomControl})))}}]),BaseMap}(p.default.Component);y.propTypes={banner:m.default.object,height:m.default.oneOfType([m.default.string,m.default.number]),latitude:m.default.number,longitude:m.default.number,mapTilerKey:m.default.string.isRequired,markers:m.default.array,onClick:m.default.func,popups:m.default.array,tooltip:m.default.node,updateViewport:m.default.func,viewBounds:m.default.objectOf(m.default.number),width:m.default.oneOfType([m.default.string,m.default.number]),zoom:m.default.number},y.defaultProps={width:"100%",height:"100%",latitude:27,longitude:0,zoom:1.4,viewBounds:{minLatitude:-60,maxLatitude:60,minLongitude:-180,maxLongitude:180,minZoom:1.2,maxZoom:17}};var b=y;t.default=b},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(0)),c=l(a(1)),u=l(a(4)),f=l(a(1910)),p=function(e){function CircleMarker(){return(0,n.default)(this,CircleMarker),(0,o.default)(this,(0,s.default)(CircleMarker).apply(this,arguments))}return(0,i.default)(CircleMarker,e),(0,r.default)(CircleMarker,[{key:"render",value:function render(){var e=this.props,t=e.active,a=e.size,l=e.onMouseEnter,n=e.onMouseLeave,r=e.onClick;return d.default.createElement("svg",{height:a,viewBox:"0 0 ".concat(a," ").concat(a),style:{transform:"translate(".concat(-a/2,"px, ").concat(-a/2,"px)")}},d.default.createElement("circle",{className:(0,u.default)(f.default.circle,l&&f.default.hoverable,t&&f.default.active),cx:"50%",cy:"50%",r:a/2,onMouseEnter:l,onMouseLeave:n,onClick:r}))}}]),CircleMarker}(d.default.Component);p.propTypes={active:c.default.bool,size:c.default.number,onMouseEnter:c.default.func,onMouseLeave:c.default.func,onClick:c.default.func},p.defaultProps={size:20};var m=p;t.default=m},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(0)),c=l(a(1)),u=l(a(4)),f=a(332),p=l(a(1918)),m=function(e){function MapTooltip(){return(0,n.default)(this,MapTooltip),(0,o.default)(this,(0,s.default)(MapTooltip).apply(this,arguments))}return(0,i.default)(MapTooltip,e),(0,r.default)(MapTooltip,[{key:"render",value:function render(){var e=this.props,t=e.lat,a=e.lng,l=e.title,n=e.body,r=e.onMouseEnter,o=e.onMouseLeave,s=e.onTitleClick;return d.default.createElement(f.Popup,{className:p.default.mapTooltip,anchor:"bottom",tipSize:0,latitude:t,longitude:a,closeButton:!1,offsetTop:-20},d.default.createElement("div",{className:p.default.content,onMouseEnter:r,onMouseLeave:o},d.default.createElement("div",null,d.default.createElement("span",{className:(0,u.default)(p.default.title,s&&p.default.hoverable),onClick:s},l)),d.default.createElement("div",null,d.default.createElement("span",{className:p.default.body},n))))}}]),MapTooltip}(d.default.Component);m.propTypes={lat:c.default.number.isRequired,lng:c.default.number.isRequired,title:c.default.string,body:c.default.string,onMouseEnter:c.default.func,onMouseLeave:c.default.func,onTitleClick:c.default.func};var h=m;t.default=h},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(1)),c=l(a(0)),u=l(a(4)),f=a(277),p=l(a(1921)),m=["table","map"],h=function(e){function MapToggle(){return(0,n.default)(this,MapToggle),(0,o.default)(this,(0,s.default)(MapToggle).apply(this,arguments))}return(0,i.default)(MapToggle,e),(0,r.default)(MapToggle,[{key:"render",value:function render(){var e=this.props,t=e.currentDisplay,a=e.onDisplaySwitch;return c.default.createElement("div",{className:p.default.displaySwitcher},c.default.createElement(f.Menu,{compact:!0,className:p.default.switcherMenu},m.map(function(e){return c.default.createElement(f.MenuItem,{className:p.default.menuItem,active:t===e,onClick:function onClick(){return a(e)},key:"item-".concat(e)},c.default.createElement("i",{className:(0,u.default)("fa","map"===e?"fa-globe":"fa-list-ul",p.default.icon)}))})))}}]),MapToggle}(c.default.Component);h.propTypes={currentDisplay:d.default.string,onDisplaySwitch:d.default.func};var g=h;t.default=g},,,,,,,,,,,,,,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(35)),r=l(a(7)),o=l(a(8)),s=l(a(10)),i=l(a(9)),d=l(a(3)),c=l(a(11)),u=l(a(0)),f=l(a(533)),p=a(20),m=function(e){function AccessionViz(e){var t;return(0,r.default)(this,AccessionViz),(t=(0,s.default)(this,(0,i.default)(AccessionViz).call(this))).allReads=e.reads,t.readsPerPage=e.readsPerPage,t.coverageSummary=e.coverage_summary||{},t.renderMoreReads=t.renderMoreReads.bind((0,d.default)(t)),t.state={reads:t.allReads.slice(0,t.readsPerPage),rendering:!1},t}return(0,c.default)(AccessionViz,e),(0,o.default)(AccessionViz,[{key:"UNSAFE_componentWillUpdate",value:function UNSAFE_componentWillUpdate(e,t){this.state.rendering=!0}},{key:"componentDidUpdate",value:function componentDidUpdate(e,t){this.state.rendering=!1}},{key:"renderMoreReads",value:function renderMoreReads(){var e=this.state.reads.length,t=this.allReads.slice(e,e+this.readsPerPage);this.setState(function(e){return{reads:[].concat((0,n.default)(e.reads),(0,n.default)(t))}})}},{key:"render_coverage_table",value:function render_coverage_table(e){return u.default.createElement("div",null,u.default.createElement("h5",null," Coverage Details "),u.default.createElement("table",{style:{overflowX:"scroll",border:"1px solid"}},u.default.createElement("tbody",null,u.default.createElement("tr",null,u.default.createElement("td",null,"Read Count"),e.map(function(e,t){return u.default.createElement("td",{key:"count_".concat(t)},e[1])})),u.default.createElement("tr",null,u.default.createElement("td",null,"Position Range"),e.map(function(e,t){return u.default.createElement("td",{key:"position_".concat(t)},e[0])})))))}},{key:"render_coverage_summary",value:function render_coverage_summary(e){var t=e.total_read_length/e.num_reads,a=e.total_aligned_length/e.num_reads,l=a/t*100,n=e.total_mismatched_length/e.total_aligned_length*100,r=e.total_aligned_length/e.ref_seq_len*100,o=e.distinct_covered_length/e.ref_seq_len*100;return u.default.createElement("div",null,"Read Length: ",u.default.createElement("b",null," ",t," "),", Average Aligned Length:"," ",u.default.createElement("b",null," ",a.toFixed(2)," (",l.toFixed(2)," %)"," "),", Mismatched Percenage: ",u.default.createElement("b",null," ",n.toFixed(2)," % ")," ",u.default.createElement("br",null),"Total Aligned bps: ",u.default.createElement("b",null," ",e.total_aligned_length," "),", Coverage:"," ",u.default.createElement("b",null," ",r," % ")," ",u.default.createElement("br",null),"Distinct Aligned bps: ",u.default.createElement("b",null," ",e.distinct_covered_length," "),", Distinct Coverage: ",u.default.createElement("b",null,o," %"))}},{key:"render",value:function render(){var e=this.coverageSummary.coverage?this.render_coverage_table(this.coverageSummary.coverage):null,t=this.coverageSummary.total_read_length?this.render_coverage_summary(this.coverageSummary):null,a=this.state.reads.length<this.allReads.length&&!this.state.rendering?u.default.createElement("div",{style:{textAlign:"right"}},u.default.createElement("a",{onClick:(0,p.withAnalytics)(this.renderMoreReads,"AccessionViz_more-reads-link_clicked",{reads:this.state.reads.length,allReads:this.allReads.length}),style:{cursor:"pointer"}},"View more reads")):null;return u.default.createElement("div",null,u.default.createElement("h3",null," ",this.props.accession," : ",this.props.name," "),u.default.createElement("b",null," Reference Sequence:")," ",this.props.ref_seq," ",u.default.createElement("br",null),u.default.createElement("b",null," Reference Sequence Length: ")," ",this.props.ref_seq_len,","," ",u.default.createElement("b",null,u.default.createElement("a",{href:this.props.ref_link},"NCBI URL")),", ",u.default.createElement("b",null," ",this.props.reads_count," ")," aligned reads ",u.default.createElement("br",null),t,e,u.default.createElement("h5",null,"Reads"),this.state.reads.map(function(e,t){return u.default.createElement(f.default,{key:"read_".concat(t),name:e[0],sequence:e[1],metrics:e[2],refInfo:e[3]})}),a,u.default.createElement("hr",null))}}]),AccessionViz}(u.default.Component);t.default=m},,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(32)),r=l(a(7)),o=l(a(8)),s=l(a(10)),i=l(a(9)),d=l(a(11)),c=l(a(0)),u=function(e){function ReadViz(e){var t;return(0,r.default)(this,ReadViz),(t=(0,s.default)(this,(0,i.default)(ReadViz).call(this))).parsedAlignment=t.parseAlignment(e),t}return(0,d.default)(ReadViz,e),(0,o.default)(ReadViz,[{key:"parseAlignment",value:function parseAlignment(e){var t=parseInt(e.name.split("/")[1])||1,a=e.sequence.length,l=e.sequence,r=0;e.metrics[0]=parseFloat(e.metrics[0]);for(var o=1;o<=7;o+=1)e.metrics[o]=parseInt(e.metrics[o]);if(e.metrics[8]=parseFloat(e.metrics[8]),e.metrics[9]=parseFloat(e.metrics[9]),e.metrics[6]>e.metrics[7]&&(r=1,l=l.split("").reverse().join("")),1==r&&1==t||0==r&&2==t){var s=e.metrics[4],i=e.metrics[5];e.metrics[4]=a-i+1,e.metrics[5]=a-s+1}var d=l.slice(e.metrics[4]-1,e.metrics[5]),c=e.metrics[4]-2>=0?l.slice(0,e.metrics[4]-1):"",u=e.metrics[5]<a?l.slice(e.metrics[5]):"";if(e.refInfo[0].length>c.length)e.refInfo[0]=e.refInfo[0].slice(e.refInfo[0].length-c.length);else for(;e.refInfo[0].length<c.length;)e.refInfo[0]=" "+e.refInfo[0];if(e.refInfo[2].length>u.length)e.refInfo[2]=e.refInfo[2].slice(0,u.length);else for(;e.refInfo[2].length<u.length;)e.refInfo[2]+=" ";var f=this.generateQualityString(e.refInfo[1],d),p=(0,n.default)(f,2),m=p[0],h=p[1],g=this.generateQualityString(e.refInfo[1],this.complementSeq(d)),v=(0,n.default)(g,2),y=v[0],b=h<v[1]?m:y,C=this.repeatStr(" ",c.length),w=this.repeatStr(" ",u.length);return{reversed:r,read_part:t,ref_display:e.refInfo.join("|"),read_display:[c,d,u].join("|"),quality_display:[C,b,w].join("|")}}},{key:"repeatStr",value:function repeatStr(e,t){for(var a="",l=0;l<t;l+=1)a+=e;return a}},{key:"generateQualityString",value:function generateQualityString(e,t){for(var a=0,l="",n=0;n<t.length;n+=1){var r=e[n],o=t[n];"N"===r||"N"===o||r===o?l+=" ":(l+="X",a+=1)}return[l,a]}},{key:"complementSeq",value:function complementSeq(e){var t="",a=!0,l=!1,n=void 0;try{for(var r,o=e[Symbol.iterator]();!(a=(r=o.next()).done);a=!0){var s=r.value;switch(s){case"A":t+="T";break;case"T":t+="A";break;case"C":t+="G";break;case"G":t+="C";break;default:t+=s}}}catch(e){l=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}return t}},{key:"render",value:function render(){var e={padding:"0"};return c.default.createElement("div",{style:{border:"1px solid"}},"Read Name: ",this.props.name," ",c.default.createElement("br",null),"Percentage Matched: ",this.props.metrics[0]," %, Alignment Length:"," ",this.props.metrics[1],", # Mismatches: ",this.props.metrics[2],", # Gap Openings: ",this.props.metrics[3]," ",c.default.createElement("br",null),"E-value: ",this.props.metrics[8],", Bit Score: ",this.props.metrics[9]," ",c.default.createElement("br",null),"Reference Alignment Range: ",this.props.metrics[6]," -"," ",this.props.metrics[7]," ",c.default.createElement("br",null),c.default.createElement("div",{style:{whiteSpace:"pre",fontFamily:"monospace",overflow:"scroll"}},c.default.createElement("table",null,c.default.createElement("tbody",null,c.default.createElement("tr",null,c.default.createElement("td",{style:e},"Reference: "),c.default.createElement("td",{style:e},this.parsedAlignment.ref_display)),c.default.createElement("tr",null,c.default.createElement("td",{style:e},"Read: "),c.default.createElement("td",{style:e},this.parsedAlignment.read_display)),c.default.createElement("tr",null,c.default.createElement("td",{style:e},"Mismatches: "),c.default.createElement("td",{style:e},this.parsedAlignment.quality_display))))))}}]),ReadViz}(c.default.Component);t.default=u},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(26)),r=l(a(27)),o=l(a(7)),s=l(a(8)),i=l(a(10)),d=l(a(9)),c=l(a(3)),u=l(a(11)),f=l(a(2)),p=l(a(0)),m=l(a(33)),h=l(a(72)),g=l(a(119)),v=l(a(603)),y=a(17),b=a(277),C=l(a(209)),w=l(a(604)),E=l(a(278)),S=l(a(139)),_=a(87),k=a(61),N=a(42),x=a(20),M=l(a(24)),T=l(a(605)),P=l(a(607)),D=function(e){function BulkUploadImport(e,t){var a;return(0,o.default)(this,BulkUploadImport),a=(0,i.default)(this,(0,d.default)(BulkUploadImport).call(this,e,t)),(0,f.default)((0,c.default)(a),"handleCreateLocalSampleError",function(e,t){a.setState({invalid:!0,errorMessage:"".concat(a.state.errorMessage,"\n\n").concat(t,": ").concat((0,_.joinServerError)(e))}),a.onRemoved(t)}),(0,f.default)((0,c.default)(a),"handleLocalUploadProgress",function(e,t){var l=(0,y.merge)(a.state.fileNamesToProgress,(0,f.default)({},t.name,e));a.setState({fileNamesToProgress:l})}),(0,f.default)((0,c.default)(a),"handleLocalUploadError",function(e,t){a.setState({invalid:!0,errorMessage:"".concat(e.name,": ").concat((0,_.joinServerError)(t))})}),(0,f.default)((0,c.default)(a),"handleAllLocalUploadsComplete",function(){a.setState({submitting:!1,successMessage:"All uploads finished!",success:!0,invalid:!1}),(0,k.openUrlWithTimeout)("/home?project_id=".concat(a.state.projectId))}),(0,f.default)((0,c.default)(a),"handleMarkSampleUploadedError",function(e){a.setState({errorMessage:"".concat(a.state.errorMessage,". ").concat((0,_.joinServerError)(e))})}),(0,f.default)((0,c.default)(a),"resolveSampleNames",(0,r.default)(n.default.mark(function _callee2(){var e;return n.default.wrap(function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:return e=a.state.samples.map(function(){var e=(0,r.default)(n.default.mark(function _callee(e){var t;return n.default.wrap(function _callee$(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,N.validateSampleNames)(e.project_id,[e.name]);case 2:return t=l.sent,e.name!==t[0]&&(a.setState({successMessage:"".concat(a.state.successMessage,"\n\n").concat(e.name," already exists, so name updated to ").concat(t[0],".")}),e.name=t[0]),l.abrupt("return",e);case 5:case"end":return l.stop()}},_callee)}));return function(t){return e.apply(this,arguments)}}()),t.t0=a,t.next=4,Promise.all(e);case 4:t.t1=t.sent,t.t2={samples:t.t1},t.t0.setState.call(t.t0,t.t2);case 7:case"end":return t.stop()}},_callee2)}))),(0,f.default)((0,c.default)(a),"onDrop",function(e,t){var l={};e.forEach(function(e){var t=(0,_.sampleNameFromFileName)(e.name);t in l?(l[t].push(e),l[t]=P.default.sortByKey(l[t],"name").slice(0,2)):l[t]=[e]}),a.setState({sampleNamesToFiles:(0,y.merge)(a.state.sampleNamesToFiles,l)})}),(0,f.default)((0,c.default)(a),"onRemoved",function(e){a.setState({sampleNamesToFiles:(0,y.omit)(e,a.state.sampleNamesToFiles),fileNamesToProgress:(0,y.omit)(e,a.state.fileNamesToProgress)},function(){(0,y.isEmpty)(a.state.sampleNamesToFiles)&&a.setState({submitting:!1})})}),a.hostGenomes=e.host_genomes||[],a.hostName=a.hostGenomes.length?a.hostGenomes[0].name:"",a.hostId=a.hostGenomes.length?a.hostGenomes[0].id:null,a.handleImportSubmit=a.handleImportSubmit.bind((0,c.default)(a)),a.handleRemoteUploadSubmit=a.handleRemoteUploadSubmit.bind((0,c.default)(a)),a.csrf=e.csrf,a.handleProjectSubmit=a.handleProjectSubmit.bind((0,c.default)(a)),a.clearError=a.clearError.bind((0,c.default)(a)),a.handleProjectChange=a.handleProjectChange.bind((0,c.default)(a)),a.handleProjectChangeForSample=a.handleProjectChangeForSample.bind((0,c.default)(a)),a.handleHostChange=a.handleHostChange.bind((0,c.default)(a)),a.handleHostChangeForSample=a.handleHostChangeForSample.bind((0,c.default)(a)),a.handleBulkPathChange=a.handleBulkPathChange.bind((0,c.default)(a)),a.selectSample=a.selectSample.bind((0,c.default)(a)),a.toggleNewProjectInput=a.toggleNewProjectInput.bind((0,c.default)(a)),a.toggleCheckBox=a.toggleCheckBox.bind((0,c.default)(a)),a.adminGenomes=a.hostGenomes.map(function(e){return e.name.toLowerCase().indexOf("test")>=0?e.name:""}),a.admin=e.admin,a.state={submitting:!1,allProjects:e.projects||[],hostGenomes:a.hostGenomes||[],invalid:!1,errorMessage:"",imported:!1,success:!1,successMessage:"",hostName:a.hostName,hostId:a.hostId,project:"Select a Project",projectId:null,selectedBulkPath:"",samples:[],selectedSampleIndices:[],createdSampleIds:[],allChecked:!1,disableProjectSelect:!1,errors:{},serverErrors:null,publicChecked:!1,consentChecked:!1,localUploadMode:!1,sampleNamesToFiles:{},fileNamesToProgress:{}},a}return(0,u.default)(BulkUploadImport,e),(0,s.default)(BulkUploadImport,[{key:"componentDidUpdate",value:function componentDidUpdate(){(0,g.default)(".custom-select-dropdown").dropdown({belowOrigin:!0})}},{key:"componentDidMount",value:function componentDidMount(){(0,g.default)("body").addClass("background-cover"),this.initializeSelectTag(),(0,g.default)(m.default.findDOMNode(this.refs.projectSelect)).on("change",this.handleProjectChange),(0,g.default)(m.default.findDOMNode(this.refs.hostSelect)).on("change",this.handleHostChange),this.initializeSelectTag(),this.initializeSelectAll()}},{key:"toggleNewProjectInput",value:function toggleNewProjectInput(e){var t=this;(0,g.default)(".new-project-input").slideToggle(),(0,g.default)(".new-project-input  .input-icon").slideToggle(),(0,g.default)(".new-project-button").toggleClass("active"),this.setState({disableProjectSelect:!this.state.disableProjectSelect},function(){t.initializeSelectTag()})}},{key:"selectSample",value:function selectSample(e){this.setState({allChecked:!1});var t,a=this.state.selectedSampleIndices;e.target.checked?a.push(+e.target.id):(t=a.indexOf(+e.target.id),a.splice(t,1)),this.setState({selectedSampleIndices:a})}},{key:"initializeSelectAll",value:function initializeSelectAll(){var e=this;(0,g.default)(".checkAll").click(function(t){var a=t.target.checked;e.setState({allChecked:a},function(){(0,g.default)("input:checkbox").not(e).prop("checked",e.state.allChecked),(0,g.default)(".sample-box").each(function(t,a){var l=e.state.selectedSampleIndices;e.state.allChecked?-1===l.indexOf(t)&&l.push(+t):l=[],e.setState({selectedSampleIndices:l})})})})}},{key:"handleRemoteUploadSubmit",value:function handleRemoteUploadSubmit(e){e.preventDefault(),(0,g.default)("html, body").stop().animate({scrollTop:0},200,"swing"),this.isUploadFormInvalid()||(this.setState({submitting:!0}),this.bulkUploadRemoteSubmit())}},{key:"handleImportSubmit",value:function handleImportSubmit(e){e.preventDefault(),this.clearError(),this.isImportFormInvalid()||(this.state.localUploadMode?(this.setState({submitting:!0}),this.props.onBulkUploadLocal({sampleNamesToFiles:this.state.sampleNamesToFiles,project:{name:this.state.project,id:this.state.projectId},hostId:this.state.hostId,onCreateSampleError:this.handleCreateLocalSampleError,onUploadProgress:this.handleLocalUploadProgress,onUploadError:this.handleLocalUploadError,onAllUploadsComplete:this.handleAllLocalUploadsComplete,onMarkSampleUploadedError:this.handleMarkSampleUploadedError})):this.bulkUploadRemoteImport())}},{key:"initializeSelectTag",value:function initializeSelectTag(){(0,g.default)("select").material_select()}},{key:"clearError",value:function clearError(){this.setState({invalid:!1})}},{key:"toggleCheckBox",value:function toggleCheckBox(e){this.setState((0,f.default)({},e.target.id,"true"!=e.target.value))}},{key:"handleProjectSubmit",value:function handleProjectSubmit(e){e&&e.preventDefault&&e.preventDefault(),this.clearError(),this.isProjectInvalid()||this.addProject()}},{key:"addProject",value:function addProject(){var e=this,t=this;h.default.post("/projects.json",{project:{name:this.refs.new_project.value,public_access:this.state.publicChecked?1:0},authenticity_token:this.csrf}).then(function(a){var l=t.state.allProjects.slice();l.push(a.data),t.setState({allProjects:l,project:a.data.name,projectId:a.data.id,success:!0,successMessage:"Project added successfully"},function(){e.refs.new_project.value="",t.initializeSelectTag()})}).catch(function(e){t.setState({invalid:!0,errorMessage:"Project exists already or is invalid"})})}},{key:"isProjectInvalid",value:function isProjectInvalid(){return""===this.refs.new_project.value&&"Select a project"===this.state.project&&(this.setState({invalid:!0,errorMessage:"Please enter valid project name"}),!0)}},{key:"bulkUploadRemoteImport",value:function bulkUploadRemoteImport(){this.setState({submitting:!0});var e=this;h.default.get("/samples/bulk_import.json",{params:{project_id:this.state.projectId,host_genome_id:this.state.hostId,bulk_path:this.state.selectedBulkPath,authenticity_token:this.csrf}}).then(function(t){e.setState({submitting:!1,success:!0,successMessage:"Samples imported. Pick the ones you want to submit.",samples:t.data.samples,imported:!0}),e.initializeSelectTag(),e.initializeSelectAll(),e.resolveSampleNames()}).catch(function(t){e.setState({submitting:!1,invalid:!0,errorMessage:t.response.data.status||"Something went wrong",serverErrors:t.response.data})})}},{key:"bulkUploadRemoteSubmit",value:function bulkUploadRemoteSubmit(){var e=this,t=this,a=[];this.state.selectedSampleIndices.map(function(t){a.push(e.state.samples[t])}),this.props.onBulkUploadRemote({samples:a,project:{id:this.state.projectId,name:this.state.project}}).then(function(e){t.setState({success:!0,successMessage:"Samples created. Redirecting...",createdSampleIds:e.sample_ids,submitting:!1}),(0,k.openUrlWithTimeout)("/home?project_id=".concat(t.state.projectId))}).catch(function(e){t.setState({submitting:!1,invalid:!0,errorMessage:e.status||"Unable to process sample(s), ensure sample is not a duplicate in the selected project",serverErrors:e})})}},{key:"filePathValid",value:function filePathValid(e){return!(!e||!e.match(/s3:\/\//))}},{key:"isImportFormInvalid",value:function isImportFormInvalid(){var e={};this.state.project?"select a project"===this.state.project.toLowerCase()&&(e.project="Please select a project"):e.project="Please select a project",this.state.localUploadMode||this.filePathValid((0,y.get)("value",this.refs.bulk_path))||(e.bulk_path="S3 bulk path is invalid.");var t=Object.keys(e).length;return this.setState({invalid:t>0,errors:e}),t}},{key:"isUploadFormInvalid",value:function isUploadFormInvalid(){return!this.state.selectedSampleIndices.length&&(this.setState({invalid:!0,errorMessage:"Please select desired samples"}),!0)}},{key:"handleProjectChange",value:function handleProjectChange(e){var t;e.target.selectedIndex>0&&(t=this.state.allProjects[e.target.selectedIndex-1].id),this.setState({project:e.target.value.trim(),projectId:t}),this.clearError()}},{key:"handleProjectChangeForSample",value:function handleProjectChangeForSample(e,t,a){var l=(0,g.default)(a.target);l.parent().prev().html("".concat(l.text()," <i class='fa fa-caret-down right' />"));var n=this.state.samples;n[e].project_id=this.state.allProjects[t].id,this.setState({samples:n}),this.clearError(),this.resolveSampleNames()}},{key:"handleHostChangeForSample",value:function handleHostChangeForSample(e,t){var a=this.state.samples;a[e].host_genome_id=this.state.hostGenomes[t].id,this.setState({samples:a}),this.clearError()}},{key:"displayError",value:function displayError(e,t,a){if(e){var l=t instanceof Array?t.map(function(e,t){return p.default.createElement("p",{key:t},e)}):p.default.createElement("p",null,a);return(0,x.logAnalyticsEvent)("BulkUploadImport_errors_displayed",{serverErrors:t,formattedError:a}),l}return null}},{key:"handleHostChange",value:function handleHostChange(e,t){this.setState({hostName:t,hostId:e}),this.clearError()}},{key:"handleBulkPathChange",value:function handleBulkPathChange(e){this.setState({selectedBulkPath:e.target.value.trim()})}},{key:"renderBulkUploadSubmitForm",value:function renderBulkUploadSubmitForm(){var e=this;return p.default.createElement("div",{id:"samplesUploader",className:"row"},p.default.createElement("div",{className:"col s8 offset-s2 upload-form-container"},p.default.createElement("div",{className:"content"},p.default.createElement("div",null,p.default.createElement("div",{className:"form-title"},"Batch Upload"),p.default.createElement("div",{className:"upload-info"},"Select which files you want to run through the pipeline."),p.default.createElement("form",{className:"bulkSubmitForm",ref:"form",onSubmit:(0,x.withAnalytics)(this.handleRemoteUploadSubmit,"BulkUploadImport_upload-form_submitted",{samples:this.state.samples.length,projectId:this.state.projectId,hostId:this.state.hostId})},this.state.success?p.default.createElement("div",{className:"form-feedback success-message"},p.default.createElement("i",{className:"fa fa-check-circle-o"})," ",p.default.createElement("span",null,this.state.successMessage)):null,this.state.invalid?p.default.createElement("div",{className:"form-feedback error-message"},this.displayError(this.state.invalid,this.state.serverErrors,this.state.errorMessage)):null,p.default.createElement("div",{className:"fields"},p.default.createElement("div",{className:"row"},p.default.createElement("div",{className:"row header"},p.default.createElement("div",{className:"col s5 no-padding"},p.default.createElement("input",{type:"checkbox",checked:this.state.allChecked,id:"checkAll",className:"filled-in checkAll",onChange:this.initializeSelectAll()}),p.default.createElement("label",{htmlFor:"checkAll"},"Sample Name")),p.default.createElement("div",{className:"col s3 no-padding"},"Host"),p.default.createElement("div",{className:"col s4 no-padding"},"Project")),p.default.createElement("div",{className:"divider"}),p.default.createElement("br",null),this.state.samples.map(function(t,a){return p.default.createElement("div",{className:"row field-row sample-row",key:a},p.default.createElement("p",{className:"col s5 sample-names no-padding"},p.default.createElement("input",{ref:"samples_list",type:"checkbox",id:a,className:"filled-in sample-box",value:e.state.selectedSampleIndices.indexOf(a)<0?0:1,onChange:(0,x.withAnalytics)(e.selectSample,"BulkUploadImport_samples-checkbox_changed")}),p.default.createElement("label",{htmlFor:a}," ",t.name)),p.default.createElement("div",{className:"col s3 no-padding"},p.default.createElement("div",{className:"custom-select-dropdown select-dropdown genome-select","data-activates":"genome-dropdown".concat(a)},p.default.createElement("div",null,p.default.createElement("div",{className:"genome-icon"},T.default.resolveGenomeIcon(e.state.hostGenomes.find(function(e){return e.id==t.host_genome_id}).name)),p.default.createElement("i",{className:"fa fa-caret-down"}))),p.default.createElement("ul",{id:"genome-dropdown".concat(a),className:"dropdown-content genomes"},e.state.hostGenomes.map(function(t,l){if(e.adminGenomes.indexOf(t.name)<0||e.admin)return p.default.createElement("li",{onClick:function onClick(){e.handleHostChangeForSample(a,l),(0,x.logAnalyticsEvent)("BulkUploadImport_host-dropdown_clicked",{samplesId:a,hostGenomeId:l})},ref:"genome",key:l,value:t.id},t.name)}),e.state.hostGenomes.length?"":p.default.createElement("li",null,"No host genomes to display"))),p.default.createElement("div",{className:"col s4 no-padding"},p.default.createElement("div",{className:"custom-select-dropdown","data-activates":"project-dropdown".concat(a)},e.state.project,p.default.createElement("i",{className:"fa fa-caret-down right"})),p.default.createElement("ul",{id:"project-dropdown".concat(a),className:"dropdown-content"},e.state.allProjects.length?P.default.sortByKey(e.state.allProjects,"name").map(function(t,l){return p.default.createElement("li",{onClick:function onClick(t){e.handleProjectChangeForSample(a,l,t),(0,x.logAnalyticsEvent)("BulkUploadImport_project-dropdown_clicked",{samplesId:a,hostGenomeId:l})},ref:"project",key:l,value:t.id},t.name)}):p.default.createElement("li",null,"No projects to display"))),p.default.createElement("div",{className:"col s12"}))})),p.default.createElement("div",{className:"field"},p.default.createElement("div",{className:"row"},p.default.createElement("div",{className:"col no-padding s12"},this.state.submitting?p.default.createElement("button",{type:"button",disabled:!0,className:"new-button blue-button upload-samples-button"},p.default.createElement("i",{className:"fa fa-spinner fa-spin fa-lg"})):p.default.createElement("button",{type:"submit",onClick:(0,x.withAnalytics)(this.handleRemoteUploadSubmit,"BulkUploadImport_run-samples-button_clicked"),className:"new-button blue-button upload-samples-button"},"Run Samples"),p.default.createElement("button",{type:"button",onClick:function onClick(){window.history.back(),(0,x.logAnalyticsEvent)("BulkUploadImport_back-button_clicked")},className:"new-button secondary-button"},"Cancel"))))))))))}},{key:"renderBulkUploadImportForm",value:function renderBulkUploadImportForm(){var e=this,t=p.default.createElement("button",{type:"submit",disabled:!this.state.consentChecked||this.state.submitting,className:"new-button blue-button upload-samples-button",onClick:(0,x.withAnalytics)(this.handleImportSubmit,"BulkUploadImport_import-button_clicked",{projectId:this.state.projectId,hostId:this.state.hostId,selectedBulkPath:this.state.selectedBulkPath})},this.state.submitting?p.default.createElement("i",{className:"fa fa-spinner fa-spin fa-lg"}):"Upload Samples"),a=p.default.createElement("div",{className:"menu-container"},p.default.createElement(b.Menu,{compact:!0},p.default.createElement(b.MenuItem,{active:!this.state.localUploadMode,onClick:function onClick(){return e.setState({localUploadMode:!1})},disabled:this.state.submitting},p.default.createElement(S.default,{size:"large",name:"server"}),"Upload from S3"),p.default.createElement(b.MenuItem,{active:this.state.localUploadMode,onClick:function onClick(){return e.setState({localUploadMode:!0})},disabled:this.state.submitting},p.default.createElement(S.default,{size:"large",name:"folder open outline"}),"Upload from Your Computer"))),l="Your Input Files:",n=(0,y.size)(this.state.sampleNamesToFiles);n>0&&(l="".concat(n," Sample").concat(n>1?"s":""," To Upload"));var r=p.default.createElement("div",{className:"field"},p.default.createElement("div",{className:"validation-info"},"Max file size for local uploads: 5GB per file. Accepted formats: fastq (.fq), fastq.gz (.fq.gz), fasta (.fa), fasta.gz (.fa.gz)."),p.default.createElement("div",{className:"inputFileArea"},!this.state.submitting&&p.default.createElement(C.default,{className:"bulkUploadFilePicker",title:l,onChange:this.onDrop,onRejected:function onRejected(e){return window.alert("".concat(e.map(function(e){return e.name}).join(", ")," cannot be uploaded. Size must be under 5GB for local uploads. For larger files, please try our CLI."))},multiFile:!0}),p.default.createElement(w.default,{sampleNamesToFiles:this.state.sampleNamesToFiles,fileNamesToProgress:this.state.fileNamesToProgress,onRemoved:this.onRemoved,showCount:!0}))),o=p.default.createElement("div",null,p.default.createElement("div",{className:"field"},p.default.createElement("div",{className:"row"},p.default.createElement("div",{className:"col no-padding s12"},p.default.createElement("div",{className:"field-title"},p.default.createElement("div",{className:"read-count-label"},"Path to Samples Folder",p.default.createElement("br",null),p.default.createElement("i",{className:"validation-info"},"Files in folder must have one of the following extensions to be considered:",p.default.createElement("br",null),"fastq.gz / fq.gz / fastq / fq / fasta.gz / fa.gz / fasta / fa.",p.default.createElement("br",null),"Paired files must be labeled ",'"_R1" or "_R2"'," at the end of the basename.")),p.default.createElement("div",{className:"example-link"},"Example: s3://your_s3_bucket/rawdata/fastqs")))),p.default.createElement("div",{className:"row input-row"},p.default.createElement("div",{className:"col no-padding s12"},p.default.createElement("input",{onChange:(0,x.withAnalytics)(this.handleBulkPathChange,"BulkUploadImport_bulk-path_changed"),onFocus:this.clearError,type:"text",ref:"bulk_path",className:"browser-default",placeholder:"s3://aws/path-to-sample-folder"}),this.state.errors.bulk_path?p.default.createElement("div",{className:"field-error"},this.state.errors.bulk_path):null))),p.default.createElement("div",{className:"upload-notes"},p.default.createElement("div",null,"- Please ensure that IDseq has permissions to read/list your S3 bucket or ask our team for help."),p.default.createElement("div",null,'- Also convert links like "https://s3-us-west-2.amazonaws.com/your_s3_bucket/rawdata/fastqs" to the format "s3://your_s3_bucket/rawdata/fastqs"'))),s=this.state.localUploadMode?r:o;return p.default.createElement("div",{className:"content"},p.default.createElement("div",null,p.default.createElement("div",{className:"form-title"},"Batch Upload"),p.default.createElement("div",{className:"upload-info"},"Upload multiple files at one time to be processed through the IDseq pipeline.")),p.default.createElement("div",null,p.default.createElement("p",{className:"upload-question"},"Only want to upload one sample?"," ",p.default.createElement("a",{href:"/samples/new"},"Click here."),p.default.createElement("br",null),"Rather use our command-line interface?",p.default.createElement("a",{href:"/cli_user_instructions",target:"_blank",rel:"noopener noreferrer"}," ","View CLI Instructions."))),p.default.createElement("form",{ref:"form",onSubmit:this.handleUpload},p.default.createElement("div",{className:"fields"},p.default.createElement("div",{className:"field"},p.default.createElement("div",{className:"row"},p.default.createElement("div",{className:"col field-title no-padding s12"},"Project")),p.default.createElement("div",{className:"row input-row"},p.default.createElement(v.default,{content:"Name of experiment or project",position:"top"},p.default.createElement("div",{className:"col project-list no-padding s8","data-delay":"50"},p.default.createElement("select",{ref:"projectSelect",disabled:this.state.disableProjectSelect?"disabled":"",className:"projectSelect",id:"sample",onChange:(0,x.withAnalytics)(this.handleProjectChange,"BulkUploadImport_project-select_changed"),value:this.state.project},p.default.createElement("option",{disabled:!0,defaultValue:!0},this.state.project),this.state.allProjects.length?P.default.sortByKey(this.state.allProjects,"name").map(function(e,t){return p.default.createElement("option",{ref:"project",key:t,id:e.id},e.name)}):p.default.createElement("option",null,"No projects to display")),this.state.errors.project?p.default.createElement("div",{className:"field-error"},this.state.errors.project):null)),p.default.createElement("div",{className:"col no-padding s4"},p.default.createElement(v.default,{content:"Add a new desired experiment or project name",placement:"right"},p.default.createElement("button",{type:"button",onClick:(0,x.withAnalytics)(this.toggleNewProjectInput,"BulkUploadImport_new-project-button_clicked"),className:"new-project-button new-button secondary-button","data-delay":"50"},p.default.createElement("i",{className:"fa fa-plus"}),p.default.createElement("span",null,"New project")))),p.default.createElement("div",{className:"col no-padding s12 new-project-input hidden"},p.default.createElement("input",{type:"text",ref:"new_project",onFocus:this.clearError,className:"browser-default",placeholder:"Input new project name"}),p.default.createElement("span",{className:"input-icon hidden",onClick:function onClick(t){var a=e.refs.new_project.value.trim();a.length&&(e.handleProjectSubmit(),(0,x.logAnalyticsEvent)("BulkUploadImport_create-project-button_clicked",{newProject:a})),(0,g.default)(".new-project-button").click()}},"Create project"),this.state.errors.new_project?p.default.createElement("div",{className:"field-error"},this.state.errors.new_project):null),p.default.createElement("div",{className:"col no-padding 12 new-project-input public_access hidden"},p.default.createElement("input",{ref:"publicChecked",type:"checkbox",name:"switch",id:"publicChecked",className:"col s8 filled-in",onChange:(0,x.withAnalytics)(this.toggleCheckBox,"BulkUploadImport_public-checkbox_changed"),value:this.state.publicChecked}),p.default.createElement("label",{htmlFor:"publicChecked",className:"checkbox"},"Make project public")))),p.default.createElement("div",{className:"field field-host"},p.default.createElement("div",{className:"row"},p.default.createElement(v.default,{content:"This will be subtracted by the pipeline",placement:"top"},p.default.createElement("div",{className:"col field-title no-padding s5","data-delay":"50"},"Select host genome")),this.admin?p.default.createElement("div",{className:"col s7 right-align no-padding right admin-genomes"},this.state.hostGenomes.map(function(t){if(e.adminGenomes.indexOf(t.name)>0&&e.admin)return p.default.createElement("div",{key:t.id,className:"".concat(e.state.hostName===t.name?"active":""," genome-label"),id:t.name,onClick:function onClick(){return e.handleHostChange(t.id,t.name)}},t.name)})):null),p.default.createElement("div",{className:"row input-row"},p.default.createElement("div",{className:"col center no-padding s12"},p.default.createElement("ul",{className:"host-selector"},this.state.hostGenomes.map(function(t){return T.default.resolveGenomeIcon(t.name)?p.default.createElement("li",{key:t.id,className:"".concat(e.state.hostName===t.name?"active":""," "),id:t.name,onClick:function onClick(){e.handleHostChange(t.id,t.name),(0,x.logAnalyticsEvent)("BulkUploadImport_host-selector_clicked",{hostId:t.id,hostName:t.name})}},p.default.createElement("div",{className:"img-container"},T.default.resolveGenomeIcon(t.name)),p.default.createElement("div",{className:"genome-label"},t.name)):null}),this.state.hostGenomes.length?"":p.default.createElement("div",null,p.default.createElement("small",null,"No host organism found!"))),this.state.errors.hostName?p.default.createElement("div",{className:"field-error"},this.state.errors.hostName):null))),p.default.createElement("div",{className:"upload-mode-title"},"Sample Input Files"),a,s,this.state.success?p.default.createElement("div",{className:"form-feedback success-message"},p.default.createElement("i",{className:"fa fa-check-circle-o"}),p.default.createElement("span",null,this.state.successMessage)):null,this.state.submitting&&p.default.createElement("div",{className:"form-feedback error-message"},"Upload in progress... Please keep this page open until completed..."),this.state.invalid?p.default.createElement("div",{className:"form-feedback error-message"},this.state.errorMessage):null,p.default.createElement(E.default,{checked:this.state.consentChecked,onChange:function onChange(){return e.setState({consentChecked:!e.state.consentChecked})}}),p.default.createElement("div",{className:"field"},p.default.createElement("div",{className:"row"},p.default.createElement("div",{className:"col no-padding s12"},t,p.default.createElement("button",{type:"button",onClick:function onClick(){return window.history.back()},className:"new-button secondary-button"},"Cancel")))))))}},{key:"render",value:function render(){return p.default.createElement("div",{className:"bulk-upload-import"},this.state.imported?this.renderBulkUploadSubmitForm():this.renderBulkUploadImportForm())}}]),BulkUploadImport}(p.default.Component);D.propTypes={onBulkUploadRemote:M.default.func.isRequired,onBulkUploadLocal:M.default.func.isRequired,projects:M.default.arrayOf(M.default.Project),csrf:M.default.string,host_genomes:M.default.arrayOf(M.default.HostGenome),admin:M.default.bool};var I=D;t.default=I},,,,,,,,,,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(32)),r=l(a(7)),o=l(a(8)),s=l(a(10)),i=l(a(9)),d=l(a(11)),c=l(a(0)),u=l(a(1)),f=l(a(4)),p=a(17),m=l(a(110)),h=l(a(81)),g=l(a(172)),v=l(a(46)),y=l(a(125)),b=l(a(1225)),C=function(e){function BulkSampleUploadTable(){return(0,r.default)(this,BulkSampleUploadTable),(0,s.default)(this,(0,i.default)(BulkSampleUploadTable).apply(this,arguments))}return(0,d.default)(BulkSampleUploadTable,e),(0,o.default)(BulkSampleUploadTable,[{key:"render",value:function render(){var e=this.props,t=e.sampleNamesToFiles,a=e.fileNamesToProgress,l=e.onRemoved,r=e.hideProgressColumn;if((0,p.isEmpty)(t))return null;for(var o=!(0,p.isEmpty)(a),s=[],i=function _loop(){var e=(0,n.default)(u[d],2),t=e[0],r=e[1],i=void 0,f=void 0;if(o){var y=0;r.map(function(e){return y+=a[e.name]});var b=Math.round(y/r.length);i=100===b?c.default.createElement(g.default,null):c.default.createElement(v.default,{trigger:c.default.createElement("span",null,c.default.createElement(h.default,null)),content:"".concat(b,"%"),size:"mini"})}else f=c.default.createElement(m.default,{onClick:function onClick(){return l(t)},className:"removeIcon"});var C=(0,p.sortBy)(function(e){return e.name||e.source},r),w=c.default.createElement("div",null,C.map(function(e){return c.default.createElement("div",{key:e.source},e.name||e.source)})),E={progress:i,sampleName:t,files:w,removeIcon:f};s.push(E)},d=0,u=Object.entries(t);d<u.length;d++)i();var C=(0,p.sortBy)("sampleName",s);return c.default.createElement("div",{className:(0,f.default)(b.default.bulkSampleUploadTable,this.props.className)},this.props.showCount&&c.default.createElement("div",{className:b.default.detectedMsg},c.default.createElement("span",{className:b.default.count},(0,p.size)(this.props.sampleNamesToFiles)," samples detected."),"Remove samples you do not want to upload."),c.default.createElement(y.default,{headers:{progress:"",sampleName:"Sample Name",files:"Files",removeIcon:""},columns:(0,p.concat)(r?[]:["progress"],["sampleName","files","removeIcon"]),data:C}))}}]),BulkSampleUploadTable}(c.default.Component);C.propTypes={sampleNamesToFiles:u.default.objectOf(u.default.arrayOf(u.default.shape({name:u.default.string}))),fileNamesToProgress:u.default.objectOf(u.default.number),onRemoved:u.default.func,hideProgressColumn:u.default.bool,showCount:u.default.bool,className:u.default.string};var w=C;t.default=w},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(3)),d=l(a(11)),c=l(a(2)),u=l(a(0)),f=l(a(210)),p=l(a(33)),m=l(a(72)),h=l(a(119)),g=l(a(603)),v=a(17),y=a(87),b=a(61),C=l(a(374)),w=l(a(375)),E=l(a(376)),S=l(a(377)),_=l(a(378)),k=l(a(139)),N=l(a(379)),x=l(a(380)),M=l(a(381)),T=l(a(382)),P=l(a(606)),D=a(82),I=a(277),j=l(a(278)),L=a(42),O=a(383),R=a(20),A=l(a(607)),F=function(e){function SampleUpload(e,t){var a;(0,n.default)(this,SampleUpload),a=(0,o.default)(this,(0,s.default)(SampleUpload).call(this,e,t)),(0,c.default)((0,i.default)(a),"handleDagVarsChange",function(e){a.setState({selectedDagVars:e.target.value}),a.clearError()}),(0,c.default)((0,i.default)(a),"handleSubsampleChange",function(e){a.setState({selectedSubsample:e.target.value}),a.clearError()}),(0,c.default)((0,i.default)(a),"handleMaxInputFragmentsChange",function(e){a.setState({selectedMaxInputFragments:e.target.value}),a.clearError()}),(0,c.default)((0,i.default)(a),"onDrop",function(e){return function(t){var l;if(t.length>0){var n=t[0].name;if(t.length>1)l=t.slice(0,2);else{l=t;var r=a.state.localFilesToUpload;0===e&&r[1]?l.push(r[1]):r[0]&&l.unshift(r[0])}a.setState({localFilesToUpload:l});var o=null;return a.state.sampleName||(o=(0,y.sampleNameFromFileName)(n),a.refs.sample_name.value=o,a.setState({sampleName:o})),void(0,R.logAnalyticsEvent)("SampleUpload_files_dropped",{pos:e,accepted:t.length,newFiles:l.length,sampleName:a.state.sampleName||o})}(0,R.logAnalyticsEvent)("SampleUpload_files_dropped",{pos:e,accepted:t.length})}}),(0,c.default)((0,i.default)(a),"uploadBoxHandleSuccess",function(e){a.setState({localFilesDoneUploading:a.state.localFilesDoneUploading.concat(e)}),a.state.localFilesToUpload.length===a.state.localFilesDoneUploading.length&&(a.setState({submitting:!1,successMessage:"All uploads finished!",success:!0,invalid:!1}),m.default.put("/samples/".concat(a.state.id,".json"),{sample:{id:a.state.id,status:"uploaded"},authenticity_token:a.csrf}).then(function(){window.onbeforeunload=null,(0,b.openUrlWithTimeout)("/samples/".concat(a.state.id))}).catch(function(e){a.setState({invalid:!0,submitting:!1,errorMessage:(0,y.joinServerError)(e.response.data)})}))}),(0,c.default)((0,i.default)(a),"uploadBoxHandleFailure",function(e,t){a.setState({submitting:!1,invalid:!0,errorMessage:"Upload of ".concat(e.name," failed for some reason. Please delete the created sample and try again or ask us our team for help. ")+t})}),(0,c.default)((0,i.default)(a),"uploadLocalFiles",function(e){var t;e.length>0&&(t=1===e.length?[e[0].presigned_url,""]:[e[0].presigned_url,e[1].presigned_url],a.setState({localFileUploadURLs:t,localUploadShouldStart:!0,submitting:!0,invalid:!0,errorMessage:"Upload in progress... Please keep this page open until completed..."}),window.onbeforeunload=function(){return"Uploading is in progress. Are you sure you want to exit?"})}),(0,c.default)((0,i.default)(a),"uploadSampleFromLocal",function(){a.setState({submitting:!0}),(0,L.createSample)(a.state.sampleName,a.state.selectedProject.trim(),a.state.selectedHostGenomeId,a.state.localFilesToUpload,"local",a.state.selectedResultPath,a.state.selectedAlignmentConfigName,a.state.selectedBranch,a.state.selectedDagVars,a.state.selectedMaxInputFragments,a.state.selectedSubsample).then(function(e){a.setState({id:e.id}),(0,O.startUploadHeartbeat)(e.id),a.uploadLocalFiles(e.input_files)}).catch(function(e){a.setState({invalid:!0,submitting:!1,errorMessage:(0,y.joinServerError)(e)})})}),a.handleUpload=a.handleUpload.bind((0,i.default)(a)),a.handleUpdate=a.handleUpdate.bind((0,i.default)(a)),a.csrf=e.csrf,a.handleProjectSubmit=a.handleProjectSubmit.bind((0,i.default)(a)),a.clearError=a.clearError.bind((0,i.default)(a)),a.handleNameChange=a.handleNameChange.bind((0,i.default)(a)),a.handleProjectChange=a.handleProjectChange.bind((0,i.default)(a)),a.handleHostChange=a.handleHostChange.bind((0,i.default)(a)),a.handleBranchChange=a.handleBranchChange.bind((0,i.default)(a)),a.handleResultChange=a.handleResultChange.bind((0,i.default)(a)),a.handleAlignmentConfigNameChange=a.handleAlignmentConfigNameChange.bind((0,i.default)(a)),a.toggleNewProjectInput=a.toggleNewProjectInput.bind((0,i.default)(a)),a.projects=e.projects||[],a.project=e.projectInfo||"";var l=(0,D.parseUrlParams)();(0,D.resetUrl)(),l.projectId&&(a.project=(0,v.find)(["id",parseInt(l.projectId)],a.projects)),a.hostGenomes=e.host_genomes||[],a.sample=e.selectedSample||"",a.userDetails=e.loggedin_user,a.updateSampleName=a.updateSampleName.bind((0,i.default)(a));var r=a.hostGenomes[0]&&a.hostGenomes[0].name?a.hostGenomes[0].name:"",d=a.hostGenomes[0]&&a.hostGenomes[0].id?a.hostGenomes[0].id:"",u=a.hostGenomes.filter(function(e){return e.name.toLowerCase().indexOf("test")>=0});return a.selected={name:a.sample.name||"",hostGenome:a.sample?a.sample.host_genome_name:r,hostGenomeId:a.sample?a.sample.host_genome_id:d,project:a.project?a.project.name:"Select a project",projectId:a.project?a.project.id:null,resultPath:a.sample?a.sample.s3_preload_result_path:"",branch:a.sample?a.sample.pipeline_branch:"",dagVars:a.sample?a.sample.dag_vars:"{}",subsample:a.sample?a.sample.subsample:"",maxInputFragments:a.sample?a.sample.max_input_fragments:"",alignmentConfigName:a.sample?a.sample.alignment_config_name:"",id:a.sample.id||"",inputFiles:e.inputFiles&&e.inputFiles.length?e.inputFiles:[],status:a.sample.status},a.firstInput=a.selected.inputFiles.length&&a.selected.inputFiles[0]?null===a.selected.inputFiles[0].source?"":a.selected.inputFiles[0].source:"",a.secondInput=a.selected.inputFiles.length&&a.selected.inputFiles[1]?null===a.selected.inputFiles[1].source?"":a.selected.inputFiles[1].source:"",a.toggleCheckBox=a.toggleCheckBox.bind((0,i.default)(a)),a.state={submitting:!1,allProjects:a.projects||[],hostGenomes:a.hostGenomes||[],invalid:!1,errorMessage:"",success:!1,successMessage:"",selectedAlignmentConfigName:a.selected.alignmentConfigName||null,selectedHostGenome:a.selected.hostGenome||"",selectedHostGenomeId:a.selected.hostGenomeId||null,selectedProject:a.selected.project||"",selectedPId:a.selected.projectId||null,selectedResultPath:a.selected.resultPath||"",selectedBranch:a.selected.branch||"",selectedDagVars:a.selected.dagVars||"{}",selectedMaxInputFragments:a.selected.maxInputFragments||"",selectedSubsample:a.selected.subsample||"",id:a.selected.id,errors:{},adminGenomes:u,sampleName:a.selected.name||"",disableProjectSelect:!1,publicChecked:!1,consentChecked:!1,localUploadMode:!0,localFilesToUpload:[],localFilesDoneUploading:[],localUploadShouldStart:!1,localFileUploadURLs:["",""]},a}return(0,d.default)(SampleUpload,e),(0,r.default)(SampleUpload,[{key:"componentDidMount",value:function componentDidMount(){(0,h.default)("body").addClass("background-cover"),(0,h.default)(".tooltipped").tooltip({delay:50}),this.initializeSelectTag(),(0,h.default)(p.default.findDOMNode(this.refs.projectSelect)).on("change",this.handleProjectChange),(0,h.default)(p.default.findDOMNode(this.refs.hostSelect)).on("change",this.handleHostChange),this.initializeTooltip()}},{key:"parseUrlParams",value:function parseUrlParams(){var e=f.default.parse(location.search,{arrayFormat:"bracket"});return e.projectId=parseInt(e.projectId),e}},{key:"resetUrl",value:function resetUrl(){window.history.replaceState({},document.title,location.pathname)}},{key:"initializeTooltip",value:function initializeTooltip(){(0,h.default)(function(){(0,h.default)("[rel='tooltip']").tooltip({delay:0,html:!0,placement:"top",offset:"0px 50px"})})}},{key:"handleUpload",value:function handleUpload(e){e.preventDefault(),this.clearError(),this.isFormInvalid()||(this.state.localUploadMode?this.uploadSampleFromLocal():this.uploadSampleFromRemote())}},{key:"handleUpdate",value:function handleUpdate(e){e.preventDefault(),e.target.disabled=!0,this.clearError(),this.isUpdateFormInvalid()||this.updateSample()}},{key:"initializeSelectTag",value:function initializeSelectTag(){(0,h.default)("select").material_select()}},{key:"clearError",value:function clearError(){this.setState({invalid:!1,success:!1,errors:{}})}},{key:"toggleCheckBox",value:function toggleCheckBox(e){var t=this;this.setState((0,c.default)({},e.target.id,"true"!=e.target.value),function(){(0,R.logAnalyticsEvent)("SampleUpload_public-checkbox_toggled",(0,c.default)({},e.target.id,t.state[e.target.id]))})}},{key:"handleProjectSubmit",value:function handleProjectSubmit(e){e&&e.preventDefault&&e.preventDefault(),this.clearError(),this.isProjectInvalid()||this.addProject(),(0,R.logAnalyticsEvent)("SampleUpload_create-project-link_clicked",{name:this.refs.new_project.value,publicChecked:this.state.publicChecked,isProjectInvalid:this.isProjectInvalid()})}},{key:"addProject",value:function addProject(){var e=this,t=this;m.default.post("/projects.json",{project:{name:this.refs.new_project.value,public_access:this.state.publicChecked?1:0},authenticity_token:this.csrf}).then(function(a){var l=t.state.allProjects.slice();l.push(a.data),t.setState({allProjects:l,selectedProject:a.data.name,selectedPId:a.data.id,success:!0,successMessage:"Project added successfully"},function(){e.refs.new_project.value="",t.initializeSelectTag()})}).catch(function(e){t.setState({invalid:!0,errors:{selectedProject:"Project already exists or is invalid"}})})}},{key:"isProjectInvalid",value:function isProjectInvalid(){return""===this.refs.new_project.value&&"Select a project"===this.state.selectedProject&&(this.setState({invalid:!0,errorMessage:"Please enter valid project name"}),!0)}},{key:"uploadSampleFromRemote",value:function uploadSampleFromRemote(){var e=this;this.setState({submitting:!0});var t=[this.refs.first_file_source.value.trim(),this.refs.second_file_source.value.trim()];(0,L.createSample)(this.state.sampleName,this.state.selectedProject.trim(),this.state.selectedHostGenomeId,t,"s3",this.state.selectedResultPath,this.state.selectedAlignmentConfigName,this.state.selectedBranch,this.state.selectedDagVars,this.state.selectedMaxInputFragments,this.state.selectedSubsample).then(function(t){e.setState({success:!0,submitting:!1,successMessage:"Sample created successfully"}),(0,b.openUrlWithTimeout)("/samples/".concat(t.id))}).catch(function(t){e.setState({invalid:!0,submitting:!1,errorMessage:(0,y.joinServerError)(t)})})}},{key:"updateSample",value:function updateSample(){var e=this;e.setState({submitting:!0}),m.default.put("/samples/".concat(this.state.id,".json"),{sample:{name:this.state.sampleName,project:this.state.selectedProject,project_id:this.state.selectedPId,s3_preload_result_path:this.state.selectedResultPath,pipeline_branch:this.state.selectedBranch,dag_vars:this.state.selectedDagVars,max_input_fragments:this.state.selectedMaxInputFragments,subsample:this.state.selectedSubsample,alignment_config_name:this.state.selectedAlignmentConfigName,host_genome_id:this.state.selectedHostGenomeId},authenticity_token:this.csrf}).then(function(t){e.setState({success:!0,submitting:!1,successMessage:"Sample updated successfully"}),(0,b.openUrlWithTimeout)("/samples/".concat(e.state.id))}).catch(function(t){e.setState({submitting:!1,invalid:!0,errorMessage:(0,y.joinServerError)(t.response.data)})})}},{key:"filePathValid",value:function filePathValid(e){return e.match(/s3:\/\//)&&e.match(/(\.fastq|\.fq|\.fastq.gz|\.fq.gz|\.fasta|\.fa|\.fasta.gz\.fa.gz)/gim)}},{key:"isUpdateFormInvalid",value:function isUpdateFormInvalid(){return""===this.state.sampleName&&"Select a Project"===this.state.selectedProject&&""===this.state.selectedHostGenome?(this.setState({invalid:!0,errorMessage:"Please fill in name, host organism and select a project"}),!0):""===this.state.sampleName?(this.setState({invalid:!0,errorMessage:"Please fill in Sample name"}),!0):"Select a Project"===this.state.selectedProject?(this.setState({invalid:!0,errorMessage:"Please select a project"}),!0):""===this.state.selectedHostGenome&&(this.setState({invalid:!0,errorMessage:"Please select a host genome"}),!0)}},{key:"isFormInvalid",value:function isFormInvalid(){var e={};if(this.state.sampleName?""===this.state.sampleName.toLowerCase()&&(e.sampleName="Please enter a sample name"):e.sampleName="Please enter a sample name",this.state.selectedProject?"select a project"===this.state.selectedProject.toLowerCase()&&(e.selectedProject="Please select a project"):e.selectedProject="Please select a project",this.state.selectedHostGenome?""===this.state.selectedHostGenome&&(e.selectedHostGenome="Please select a host genome"):e.selectedHostGenome="Please select a host genome",!this.state.localUploadMode){if(this.refs.first_file_source){var t=this.refs.first_file_source.value.trim();this.filePathValid(t)||(e.first_file_source="Error: invalid file path")}else e.first_file_source="Error: invalid file path";if(this.refs.second_file_source){var a=this.refs.second_file_source.value.trim();""===a||this.filePathValid(a)||(e.second_file_source="Error: invalid file path")}}if(this.userDetails.admin&&this.refs.s3_preload_result_path){var l=this.refs.s3_preload_result_path.value.trim();""!==l&&l.indexOf("s3://")<0&&(e.s3_preload_result_path="Error: invalid file path")}var n=Object.keys(e).length;return n?this.setState({invalid:!0,errors:e}):this.setState({invalid:!1,errors:e}),n}},{key:"handleProjectChange",value:function handleProjectChange(e){if("select a project"!==e.target.value.trim().toLowerCase()){var t=e.target.selectedIndex-1;this.setState({selectedProject:e.target.value.trim(),selectedPId:this.state.allProjects[t].id,errors:Object.assign({},this.state.errors,{selectedProject:null})}),(0,R.logAnalyticsEvent)("SampleUpload_project-selector_changed",{project:e.target.value.trim(),projectId:this.state.allProjects[t].id,errors:Object.keys(this.state.errors).length})}this.clearError()}},{key:"handleHostChange",value:function handleHostChange(e,t){this.setState({selectedHostGenome:t,selectedHostGenomeId:e}),this.clearError(),(0,R.logAnalyticsEvent)("SampleUpload_host-genome_changed",{selectedHostGenome:t,selectedHostGenomeId:e})}},{key:"handleBranchChange",value:function handleBranchChange(e){this.setState({selectedBranch:e.target.value.trim()}),this.clearError()}},{key:"handleAlignmentConfigNameChange",value:function handleAlignmentConfigNameChange(e){this.setState({selectedAlignmentConfigName:e.target.value.trim()}),this.clearError()}},{key:"handleNameChange",value:function handleNameChange(e){this.setState({sampleName:e.target.value.trim()})}},{key:"handleResultChange",value:function handleResultChange(e){this.setState({selectedResultPath:e.target.value.trim()})}},{key:"toggleNewProjectInput",value:function toggleNewProjectInput(e){var t=this;this.clearError(),(0,h.default)(".new-project-input").slideToggle(),(0,h.default)(".new-project-input  .input-icon").slideToggle(),(0,h.default)(".new-project-button").toggleClass("active"),this.setState({disableProjectSelect:!this.state.disableProjectSelect},function(){t.initializeSelectTag(),(0,R.logAnalyticsEvent)("SampleUpload_new-project-input_toggled",{disableProjectSelect:t.state.disableProjectSelect})})}},{key:"updateSampleName",value:function updateSampleName(e,t){if(e){var a=e.target.value.trim();if(a.length&&a.indexOf("/")&&!this.refs.sample_name.value.trim().length){var l=(0,y.sampleNameFromFileName)(a);this.refs.sample_name.value=l,this.setState({sampleName:l}),(0,R.logAnalyticsEvent)("SampleUpload_sample-name_changed",{sampleName:l})}}else this.setState({sampleName:t}),(0,R.logAnalyticsEvent)("SampleUpload_sample-name_changed",{sampleName:t})}},{key:"renderSampleForm",value:function renderSampleForm(){var e,t=this,a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],l=u.default.createElement("button",{type:"submit",disabled:!this.state.consentChecked||this.state.submitting,className:"new-button blue-button upload-samples-button",onClick:a?(0,R.withAnalytics)(this.handleUpdate,"SampleUpload_update-button_clicked"):(0,R.withAnalytics)(this.handleUpload,"SampleUpload_upload-button_clicked",{localUploadMode:this.state.localUploadMode})},this.state.submitting?u.default.createElement("i",{className:"fa fa-spinner fa-spin fa-lg"}):(a?"Update":"Upload")+" Sample");a||(e=u.default.createElement("div",{className:"menu-container"},u.default.createElement(I.Menu,{compact:!0},u.default.createElement(I.MenuItem,{active:this.state.localUploadMode,onClick:(0,R.withAnalytics)(function(){return t.setState({localUploadMode:!0})},"SampleUpload_upload-local_clicked"),disabled:this.state.submitting},u.default.createElement(k.default,{size:"large",name:"folder open outline"}),"Upload from Your Computer"),u.default.createElement(I.MenuItem,{active:!this.state.localUploadMode,onClick:(0,R.withAnalytics)(function(){return t.setState({localUploadMode:!1})},"SampleUpload_upload-remote_clicked"),disabled:this.state.submitting},u.default.createElement(k.default,{size:"large",name:"server"}),"Upload from S3"))));var n=this.state.localFilesToUpload,r=u.default.createElement("div",{className:"field"},u.default.createElement("div",{className:"validation-info"},"Max file size for local uploads: 5GB per file. Accepted formats: fastq (.fq), fastq.gz (.fq.gz), fasta (.fa), fasta.gz (.fa.gz)."),u.default.createElement("div",{className:"row"},u.default.createElement(P.default,{className:"sample-upload-box",onDrop:this.onDrop(0),title:"Read 1 File:",fileToUpload:n.length>0?n[0]:null,startUpload:this.state.localUploadShouldStart,url:this.state.localFileUploadURLs[0],handleSuccess:this.uploadBoxHandleSuccess,handleFailure:this.uploadBoxHandleFailure}),u.default.createElement(P.default,{className:"sample-upload-box",onDrop:this.onDrop(1),title:"Read 2 File (optional):",fileToUpload:n.length>1?n[1]:null,startUpload:this.state.localUploadShouldStart,url:this.state.localFileUploadURLs[1],handleSuccess:this.uploadBoxHandleSuccess,handleFailure:this.uploadBoxHandleFailure}))),o=u.default.createElement("div",null,u.default.createElement("div",{className:"field"},u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col no-padding s12"},u.default.createElement("div",{className:"field-title"},u.default.createElement("div",{className:"read-count-label"},"Read 1"),u.default.createElement("div",{className:"validation-info"},"Accepted formats: fastq (.fq), fastq.gz (.fq.gz), fasta (.fa), fasta.gz (.fa.gz)"),u.default.createElement("div",{className:"example-link"},"Example: s3://your_s3_bucket/project1/fastqs/sample075_water_S23_R1_001.fastq.gz")))),u.default.createElement("div",{className:"row input-row"},u.default.createElement("div",{className:"col no-padding s12"},u.default.createElement("input",{type:"text",ref:"first_file_source",onKeyUp:this.updateSampleName,onBlur:this.clearError,className:"browser-default",placeholder:"aws/path-to-sample",defaultValue:this.firstInput,disabled:a}),this.state.errors.first_file_source?u.default.createElement("div",{className:"field-error"},this.state.errors.first_file_source):null))),u.default.createElement("div",{className:"field"},u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col no-padding s12"},u.default.createElement("div",{className:"field-title"},u.default.createElement("div",{className:"read-count-label"},"Read 2 (optional)"),u.default.createElement("div",{className:"validation-info"},"Accepted formats: fastq (.fq), fastq.gz (.fq.gz), fasta (.fa), fasta.gz (.fa.gz)"),u.default.createElement("div",{className:"example-link"},"Example: s3://your_s3_bucket/project1/fastqs/sample075_water_S23_R2_001.fastq.gz")))),u.default.createElement("div",{className:"row input-row"},u.default.createElement("div",{className:"col no-padding s12"},u.default.createElement("input",{ref:"second_file_source",onFocus:this.clearError,type:"text",className:"browser-default",placeholder:"aws/path-to-sample",defaultValue:this.secondInput,disabled:a}),this.state.errors.second_file_source?u.default.createElement("div",{className:"field-error"},this.state.errors.second_file_source):null))),u.default.createElement("div",{className:"upload-notes"},u.default.createElement("div",null,"- Please ensure that IDseq has permissions to read/list your S3 bucket or ask our team for help."),u.default.createElement("div",null,'- Also convert links like "https://s3-us-west-2.amazonaws.com/your_s3_bucket/project1/fastqs/sample075_water_S23_R2_001.fastq.gz" to the format "s3://your_s3_bucket/project1/fastqs/sample075_water_S23_R2_001.fastq.gz"')));return!a&&this.state.localUploadMode&&(o=r),u.default.createElement("div",{id:"samplesUploader",className:"row"},u.default.createElement("div",{className:"col s6 offset-s3 upload-form-container"},u.default.createElement("div",{className:"content"},u.default.createElement("div",null,u.default.createElement("div",{className:"form-title"},"Single Upload"),u.default.createElement("div",{className:"upload-info"},"Upload a single sample to be processed through the IDseq pipeline.")),u.default.createElement("div",null,u.default.createElement("p",{className:"upload-question"},"Want to upload multiple samples at once?"," ",u.default.createElement("a",{href:"/samples/bulk_new"},"Click here."),u.default.createElement("br",null),"Rather use our command-line interface?",u.default.createElement("a",{href:"/cli_user_instructions",target:"_blank",rel:"noopener noreferrer"}," ","View CLI Instructions."))),u.default.createElement("form",{ref:"form",onSubmit:a?(0,R.withAnalytics)(this.handleUpdate,"SampleUpload_update-form_submitted"):(0,R.withAnalytics)(this.handleUpload,"SampleUpload_upload-form_submitted",{localUploadMode:this.state.localUploadMode})},u.default.createElement("div",{className:"fields"},u.default.createElement("div",{className:"field proj-field"},u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col field-title no-padding s12"},"Project")),u.default.createElement("div",{className:"row input-row"},u.default.createElement(g.default,{content:"Name of experiment or project",placement:"top"},u.default.createElement("div",{className:"col project-list no-padding s8"},u.default.createElement("select",{ref:"projectSelect",disabled:this.state.disableProjectSelect?"disabled":"",className:"projectSelect",id:"sample",onChange:this.handleProjectChange,value:this.state.selectedProject},u.default.createElement("option",{disabled:!0,defaultValue:!0},this.state.selectedProject),this.state.allProjects.length?A.default.sortByKey(this.state.allProjects,"name").map(function(e,t){return u.default.createElement("option",{ref:"project",key:t,id:e.id},e.name)}):u.default.createElement("option",null,"No projects to display")),this.state.errors.selectedProject?u.default.createElement("div",{className:"field-error"},this.state.errors.selectedProject):null)),u.default.createElement("div",{className:"col no-padding s4"},u.default.createElement(g.default,{content:"Add a new desired experiment or project name",placement:"right"},u.default.createElement("button",{type:"button",onClick:this.toggleNewProjectInput,className:"new-project-button new-button secondary-button"},u.default.createElement("i",{className:"fa fa-plus"}),u.default.createElement("span",null,"New Project")))),u.default.createElement("div",{className:"col no-padding s12 new-project-input hidden"},u.default.createElement("input",{type:"text",ref:"new_project",onFocus:this.clearError,className:"browser-default new_project_input",placeholder:"Input new project name"}),u.default.createElement("span",{className:"input-icon hidden",onClick:function onClick(e){t.refs.new_project.value.trim().length&&t.handleProjectSubmit(),(0,h.default)(".new-project-button").click()}},"Create project"),this.state.errors.new_project?u.default.createElement("div",{className:"field-error"},this.state.errors.new_project):null),u.default.createElement("div",{className:"col no-padding s12 new-project-input public_access hidden"},u.default.createElement("input",{ref:"public_checked",type:"checkbox",name:"switch",id:"public_checked",className:"col s8 filled-in",onChange:this.toggleCheckBox,value:this.state.publicChecked}),u.default.createElement("label",{htmlFor:"public_checked",className:"checkbox"},"Make project public")))),u.default.createElement("div",{className:"field field-host"},u.default.createElement("div",{className:"row"},u.default.createElement(g.default,{content:"This will be subtracted by the pipeline",placement:"top"},u.default.createElement("div",{className:"col field-title no-padding s5","data-delay":"50"},"Select host genome")),this.userDetails.admin?u.default.createElement("div",{className:"col s7 right-align no-padding right admin-genomes"},this.state.adminGenomes.map(function(e){return u.default.createElement("div",{key:e.id,className:"".concat(t.state.selectedHostGenome===e.name?"active":""," genome-label"),id:e.name,onClick:function onClick(){return t.handleHostChange(e.id,e.name)}},e.name)})):null),u.default.createElement("div",{className:"row input-row"},u.default.createElement("div",{className:"col center no-padding s12"},u.default.createElement("ul",{className:"host-selector"},this.state.hostGenomes.map(function(e){return SampleUpload.resolveGenomeIcon(e.name)?u.default.createElement("li",{key:e.id,className:"".concat(t.state.selectedHostGenome===e.name?"active":""," "),id:e.name,onClick:function onClick(){return t.handleHostChange(e.id,e.name)}},u.default.createElement("div",{className:"img-container"},SampleUpload.resolveGenomeIcon(e.name)),u.default.createElement("div",{className:"genome-label"},e.name)):null}),this.state.hostGenomes.length?"":u.default.createElement("div",null,u.default.createElement("small",null,"No host organism found!"))),this.state.errors.selectedHostGenome?u.default.createElement("div",{className:"field-error"},this.state.errors.selectedHostGenome):null))),u.default.createElement("div",{className:"upload-mode-title"},"Sample Input Files"),e,o,u.default.createElement("div",{className:"field"},u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col no-padding s12"},u.default.createElement("div",{className:"field-title"},u.default.createElement("div",{className:"read-count-label"},"Sample name")))),u.default.createElement("div",{className:"row input-row"},u.default.createElement("div",{className:"col no-padding s12"},u.default.createElement("input",{type:"text",ref:"sample_name",className:"browser-default",onChange:function onChange(e){return t.updateSampleName(null,e.target.value)},value:this.state.sampleName,placeholder:"sample name"}),this.state.errors.sampleName?u.default.createElement("div",{className:"field-error"},this.state.errors.sampleName):null))),this.userDetails.admin?u.default.createElement("div",null,u.default.createElement("div",{className:"admin-fields divider"}),u.default.createElement("div",{className:"admin-input-title"},"Admin options"),u.default.createElement("div",{className:"field"},u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col no-padding s12"},u.default.createElement("div",{className:"field-title"},u.default.createElement("div",{className:"read-count-label"},"Preload results path (s3)"),u.default.createElement("div",{className:"example-link"},"Example: s3://yunfang-workdir/id-rr004/RR004_water_2_S23/")))),u.default.createElement("div",{className:"row input-row"},u.default.createElement("div",{className:"col no-padding s12"},u.default.createElement("input",{type:"text",ref:"s3_preload_result_path",className:"browser-default",placeholder:"aws/path-of-results",disabled:a,defaultValue:this.selected.resultPath}),this.state.errors.s3_preload_result_path?u.default.createElement("div",{className:"field-error"},this.state.errors.s3_preload_result_path):null))),u.default.createElement("div",{className:"field"},u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col no-padding s12"},u.default.createElement("div",{className:"field-title"},u.default.createElement("div",{htmlFor:"alignment_config_name",className:"read-count-label"},"Alignment Config Name. i.e. 2018-12-01")))),u.default.createElement("div",{className:"row input-row"},u.default.createElement("div",{className:"col no-padding s12"},u.default.createElement("input",{id:"alignment_config_name",type:"text",className:"browser-default",ref:"alignment_config_name",value:this.state.selectedAlignmentConfigName,placeholder:"2018-12-01",onChange:this.handleAlignmentConfigNameChange})))),u.default.createElement("div",{className:"field"},u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col no-padding s12"},u.default.createElement("div",{className:"field-title"},u.default.createElement("div",{htmlFor:"pipeline_branch",className:"read-count-label"},"Branch of idseq-dag to be used for processing")))),u.default.createElement("div",{className:"row input-row"},u.default.createElement("div",{className:"col no-padding s12"},u.default.createElement("input",{id:"pipeline_branch",type:"text",className:"browser-default",ref:"pipeline_branch",value:this.state.selectedBranch,placeholder:"master",onChange:this.handleBranchChange})))),u.default.createElement("div",{className:"field"},u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col no-padding s12"},u.default.createElement("div",{className:"field-title"},u.default.createElement("div",{htmlFor:"dag_vars",className:"read-count-label"},"Dictionary of variables to be used in DAG template")))),u.default.createElement("div",{className:"row input-row"},u.default.createElement("div",{className:"col no-padding s12"},u.default.createElement("input",{id:"dag_vars",type:"text",className:"browser-default",ref:"dag_vars",value:this.state.selectedDagVars,placeholder:"{}",onChange:this.handleDagVarsChange})))),u.default.createElement("div",{className:"field"},u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col no-padding s12"},u.default.createElement("div",{className:"field-title"},u.default.createElement("div",{htmlFor:"sampling_options",className:"read-count-label"},"Truncate input fragments / subsample non-host reads")))),u.default.createElement("div",{className:"row input-row"},u.default.createElement("div",{className:"col s6"},u.default.createElement("input",{id:"max_input_fragments",type:"text",className:"browser-default",ref:"sampling_options",value:this.state.selectedMaxInputFragments,placeholder:"max input fragments",onChange:this.handleMaxInputFragmentsChange})),u.default.createElement("div",{className:"col s6"},u.default.createElement("input",{id:"subsample",type:"text",className:"browser-default",ref:"sampling_options",value:this.state.selectedSubsample,placeholder:"subsample non-host reads",onChange:this.handleSubsampleChange}))))):null,u.default.createElement("div",{className:"field"},u.default.createElement(j.default,{checked:this.state.consentChecked,onChange:function onChange(){return t.setState({consentChecked:!t.state.consentChecked},function(){return(0,R.logAnalyticsEvent)("SampleUpload_consent-checkbox_clicked",{consentChecked:t.state.consentChecked})})}}),u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col no-padding s12"},this.state.success?u.default.createElement("div",{className:"form-feedback success-message"},u.default.createElement("i",{className:"fa fa-check-circle-o"})," ",u.default.createElement("span",null,this.state.successMessage)):null,this.state.invalid?u.default.createElement("div",{className:"form-feedback error-message"},this.state.errorMessage):null,l,u.default.createElement("button",{type:"button",onClick:(0,R.withAnalytics)(function(){return window.history.back()},"SampleUpload_cancel-button_clicked"),className:"new-button secondary-button"},"Cancel")))))))))}},{key:"render",value:function render(){return u.default.createElement("div",{className:"single-upload-import"},this.renderSampleForm(this.props.selectedSample))}}],[{key:"resolveGenomeIcon",value:function resolveGenomeIcon(e,t){if(void 0===e)return!1;switch(e=e.toLowerCase()){case"mosquito":return u.default.createElement(N.default,null);case"human":return u.default.createElement(_.default,null);case"tick":return u.default.createElement(M.default,null);case"mouse":return u.default.createElement(x.default,null);case"ercc only":return u.default.createElement(S.default,null);case"cat":return u.default.createElement(w.default,null);case"pig":return u.default.createElement(E.default,null);case"bee":return u.default.createElement(C.default,null);case"c.elegans":return u.default.createElement(T.default,null);default:return!1}}}]),SampleUpload}(u.default.Component);t.default=F},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(3)),d=l(a(11)),c=l(a(2)),u=l(a(1)),f=l(a(0)),p=l(a(209)),m=a(42),h=function(e){function UploadBox(e){var t;return(0,n.default)(this,UploadBox),t=(0,o.default)(this,(0,s.default)(UploadBox).call(this,e)),(0,c.default)((0,i.default)(t),"uploadFileToURL",function(e,a){(0,m.uploadFileToUrlWithRetries)(e,a,{onUploadProgress:function onUploadProgress(e){var a=Math.round(100*e.loaded/e.total);t.setState({uploadProgress:a})},onSuccess:function onSuccess(){return t.props.handleSuccess(e)},onError:function onError(a){return t.props.handleFailure(e,a)}})}),t.state={uploadRan:!1},t}return(0,d.default)(UploadBox,e),(0,r.default)(UploadBox,[{key:"render",value:function render(){var e=this,t=this.props.fileToUpload,a=this.state.uploadProgress;return t&&this.props.startUpload&&!this.state.uploadRan&&this.setState({uploadRan:!0},function(){return e.uploadFileToURL(t,e.props.url)}),f.default.createElement(p.default,{className:this.props.className,file:t,onChange:this.props.onDrop,title:this.props.title,message:a&&"".concat(a,"% uploaded...")})}}]),UploadBox}(f.default.Component);h.propTypes={className:u.default.string,title:u.default.string,fileToUpload:u.default.object,url:u.default.string,startUpload:u.default.bool,onDrop:u.default.func,handleSuccess:u.default.func,handleFailure:u.default.func};var g=h;t.default=g},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=function(){function ObjectHelper(){(0,n.default)(this,ObjectHelper)}return(0,r.default)(ObjectHelper,null,[{key:"shallowEquals",value:function shallowEquals(e,t){for(var a in e)if(!(a in t)||e[a]!==t[a])return!1;for(a in t)if(!(a in e)||e[a]!==t[a])return!1;return!0}},{key:"sortByKey",value:function sortByKey(e,t){return e.sort(function(e,a){var l=e[t].toLowerCase(),n=a[t].toLowerCase();return l>n?1:n>l?-1:0})}},{key:"deepCopy",value:function deepCopy(e){return JSON.parse(JSON.stringify(e))}}]),ObjectHelper}();t.default=o},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(0)),c=l(a(609)),u=l(a(24)),f=l(a(1238)),p=function(e){function ERCCScatterPlot(){return(0,n.default)(this,ERCCScatterPlot),(0,o.default)(this,(0,s.default)(ERCCScatterPlot).apply(this,arguments))}return(0,i.default)(ERCCScatterPlot,e),(0,r.default)(ERCCScatterPlot,[{key:"render",value:function render(){var e=[];if(this.props.ercc_comparison){var t=!0,a=!1,l=void 0;try{for(var n,r=this.props.ercc_comparison[Symbol.iterator]();!(t=(n=r.next()).done);t=!0){var o=n.value;0!=o.actual&&e.push({name:o.name,actual:Math.log10(o.actual),expected:Math.log10(o.expected)})}}catch(e){a=!0,l=e}finally{try{t||null==r.return||r.return()}finally{if(a)throw l}}}return e.length?d.default.createElement(c.default,{data:e,xKey:"expected",yKey:"actual",width:this.props.width,height:this.props.height,xLabel:"log10 spike-in concentrations",yLabel:"log10 read-pairs per gene"}):d.default.createElement("div",{className:f.default.noData},"No data")}}]),ERCCScatterPlot}(d.default.Component);p.propTypes={width:u.default.number,height:u.default.number,ercc_comparison:u.default.ERCCComparison};var m=p;t.default=m},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(0)),c=l(a(384)),u=function(e){function ScatterPlot(){return(0,n.default)(this,ScatterPlot),(0,o.default)(this,(0,s.default)(ScatterPlot).apply(this,arguments))}return(0,i.default)(ScatterPlot,e),(0,r.default)(ScatterPlot,[{key:"componentDidMount",value:function componentDidMount(){this.renderD3(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function UNSAFE_componentWillReceiveProps(e){c.default.select(this.container).select("svg").remove(),this.renderD3(e)}},{key:"renderD3",value:function renderD3(e){var t=this;this.data=e.data,this.margin={top:10,left:40,right:10,bottom:40},this.scale=c.default.scale.linear,this.xKey=e.xKey||0,this.yKey=e.yKey||1,this.xLabel=e.xLabel||"X-Value",this.yLabel=e.yLabel||"Y-Value",this.width=e.width||960,this.height=e.height||500,this.width-=this.margin.left+this.margin.right,this.height-=this.margin.top+this.margin.bottom,this.xMinMax=c.default.extent(this.data,function(e){return e[t.xKey]}),this.xMinMax=[this.xMinMax[0]-1,this.xMinMax[1]+1],this.yMinMax=c.default.extent(this.data,function(e){return e[t.yKey]}),this.yMinMax=[this.yMinMax[0]-1,this.yMinMax[1]+1],this.xScale=this.scale().domain(this.xMinMax).range([0,this.width]),this.yScale=this.scale().domain(this.yMinMax).range([this.height,0]),this.svg=c.default.select(this.container).append("svg").attr("width",this.width+this.margin.left+this.margin.right).attr("height",this.height+this.margin.top+this.margin.bottom),this.renderXAxis(),this.renderYAxis(),this.renderPoints(),this.renderFitLine()}},{key:"renderXAxis",value:function renderXAxis(){var e=c.default.svg.axis().scale(this.xScale).ticks(10,".2f").orient("bottom");this.svg.append("g").attr("class","x axis").attr("transform","translate("+this.margin.left+","+(this.height+this.margin.top)+")").call(e).append("text").attr("class","label").attr("x",this.width).attr("y",-6).style("text-anchor","end").text(this.xLabel)}},{key:"renderYAxis",value:function renderYAxis(){var e=c.default.svg.axis().scale(this.yScale).ticks(10,",.2f").orient("left");this.svg.append("g").attr("class","y axis").attr("transform","translate("+this.margin.left+","+this.margin.top+")").call(e).append("text").attr("class","label").attr("x",6).attr("y",6).text(this.yLabel)}},{key:"renderPoints",value:function renderPoints(){var e=this;this.svg.append("g").attr("class","points").attr("transform","translate("+this.margin.left+","+this.margin.top+")").selectAll(".point").data(this.data).enter().append("circle").attr("class","point").attr("r",2).attr("data-x",function(t){return t[e.xKey]}).attr("data-y",function(t){return t[e.yKey]}).attr("cx",function(t){return e.xScale(t[e.xKey])}).attr("cy",function(t){return e.yScale(t[e.yKey])})}},{key:"renderFitLine",value:function renderFitLine(){var e=this.leastSquares(),t=e[0],a=e[1],l=Math.max((this.yMinMax[0]-a)/t,this.xMinMax[0]);this.svg.append("g").attr("transform","translate("+this.margin.left+","+this.margin.top+")").append("line").attr("x1",this.xScale(l)).attr("y1",this.yScale(l*t+a)).attr("x2",this.xScale(this.xMinMax[1])).attr("y2",this.yScale(this.xMinMax[1]*t+a)).classed("trendline",!0)}},{key:"leastSquares",value:function leastSquares(){var e=this,t=this.data.map(function(t){return t[e.xKey]}),a=this.data.map(function(t){return t[e.yKey]}),l=function reduceSumFunc(e,t){return e+t},n=1*t.reduce(l)/t.length,r=1*a.reduce(l)/a.length,o=t.map(function(e){return Math.pow(e-n,2)}).reduce(l),s=a.map(function(e){return Math.pow(e-r,2)}).reduce(l),i=t.map(function(e,t){return(e-n)*(a[t]-r)}).reduce(l),d=i/o;return[d,r-n*d,Math.pow(i,2)/(o*s)]}},{key:"render",value:function render(){var e=this;return d.default.createElement("div",{className:"scatterplot",ref:function ref(t){e.container=t}})}}]),ScatterPlot}(d.default.Component);t.default=u},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(5)),r=l(a(32)),o=l(a(35)),s=l(a(7)),i=l(a(8)),d=l(a(10)),c=l(a(9)),u=l(a(3)),f=l(a(11)),p=l(a(2)),m=l(a(0)),h=l(a(72)),g=l(a(33)),v=l(a(14)),y=l(a(4)),b=l(a(119)),C=l(a(527)),w=a(120),E=a(17),S=a(37),_=l(a(211)),k=l(a(279)),N=l(a(212)),x=l(a(213)),M=l(a(214)),T=a(20),P=l(a(734)),D=l(a(735)),I=l(a(46)),j=l(a(280)),L=l(a(387)),O=l(a(173)),R=l(a(51)),A=l(a(88)),F=l(a(140)),V=l(a(215)),U=l(a(740)),z=l(a(741)),B=l(a(391)),H=l(a(759)),q=l(a(142)),G=l(a(400)),W=a(404),K=a(766),Y=l(a(1350)),Z=a(61),X=a(405),Q=function(e){function Samples(e,t){var a;return(0,s.default)(this,Samples),a=(0,d.default)(this,(0,c.default)(Samples).call(this,e,t)),(0,p.default)((0,u.default)(a),"removeFilterTag",function(e,t){var l,n=a.state[e.key],r=!0,o=!1,s=void 0;try{for(var i,d=e.values[Symbol.iterator]();!(r=(i=d.next()).done);r=!0){var c=i.value,u=n.indexOf(c);u>-1&&n.splice(u,1)}}catch(e){o=!0,s=e}finally{try{r||null==d.return||d.return()}finally{if(o)throw s}}var f=a.state.searchTags;f.splice(t,1),a.setState((l={},(0,p.default)(l,e.key,n),(0,p.default)(l,"searchTags",f),l),function(){a.setUrlLocation(),a.fetchResults()})}),(0,p.default)((0,u.default)(a),"applySuggestFilter",function(e,t,l){var n,r=e.category,o=e[l];o.constructor!==Array&&(o=[o]),a.setState((n={},(0,p.default)(n,t,a.state[t].concat(o)),(0,p.default)(n,"searchTags",a.state.searchTags.concat([{display:r+": "+e.title,key:t,values:o}])),n),function(){return a.setUrlLocation()})}),(0,p.default)((0,u.default)(a),"handleSuggestSelect",function(e,t){var l=t.result;"Project"==l.category?a.handleProjectSelection(l.id):"Sample"==l.category?a.applySuggestFilter(l,"sampleIdsParams","sample_ids"):"Tissue"==l.category?a.applySuggestFilter(l,"selectedTissueFilters","id"):"Host"==l.category?a.applySuggestFilter(l,"selectedHostIndices","id"):"Location"==l.category?a.applySuggestFilter(l,"selectedLocations","id"):"Taxon"==l.category?a.applySuggestFilter(l,"selectedTaxids","taxid"):"Uploader"==l.category&&a.applySuggestFilter(l,"selectedUploaderIds","id")}),(0,p.default)((0,u.default)(a),"handleProjectPublished",function(){a.setState({project:Object.assign(a.state.project,{public_access:!0})})}),(0,p.default)((0,u.default)(a),"hasFilters",function(){return["filterParams","searchParams","selectedHostIndices","selectedTissueFilters","selectedTaxids","selectedLocations","selectedUploaderIds","sampleIdsParams"].some(function(e){return a.state[e].length>0})}),(0,p.default)((0,u.default)(a),"fetchResults",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.resetFilters,l=e.projectChanged;a.nanobar.go(30),a.state.pagesLoaded=0,a.state.pageEnd=!1,a.state.isRequesting=!0;var n=a.getParams();h.default.get("/samples?".concat(n)).then(function(e){a.nanobar.go(100),a.setState(function(n){return{fetchedSamples:(0,w.keyBy)(e.data.samples,"db_sample.id"),fetchedSampleIds:(0,w.map)(e.data.samples,"db_sample.id"),tissueTypes:a.allTissueTypes(e.data.tissues),selectedTissueFilters:t||n.resetTissues?[]:n.selectedTissueFilters,hostGenomes:e.data.host_genomes,selectedHostIndices:t||n.resetHosts?[]:n.selectedHostIndices,displayEmpty:!1,checkInUpdate:!1,resetTissues:!1,resetHosts:!1,numTotalSamples:l?e.data.count_project:n.numTotalSamples,selectedSampleIds:l?[]:n.selectedSampleIds,readySampleIdsForFilter:e.data.ready_sample_ids,numFilteredSamples:e.data.count,pagesLoaded:n.pagesLoaded+1,pageEnd:e.data.samples.length<a.pageSize,isRequesting:!1,areSamplesFiltered:a.hasFilters()}}),a.state.fetchedSampleIds.length||a.setState({displayEmpty:!0})}).catch(function(){a.setState(function(e){return{fetchedSamples:{},fetchedSampleIds:[],isRequesting:!1,numTotalSamples:l?0:e.numTotalSamples,selectedSampleIds:l?[]:e.selectedSampleIds,readySampleIdsForFilter:[],numFilteredSamples:0,displayEmpty:!0}})})}),(0,p.default)((0,u.default)(a),"toggleAllSelectedSamples",function(e){var t=a.state.selectedSampleIds,l=e.target.checked,n=a.state.readySampleIdsForFilter,r=l?(0,w.union)(t,n):(0,w.difference)(t,n);a.setState({selectedSampleIds:r})}),(0,p.default)((0,u.default)(a),"allReadySamplesSelected",function(){return 0===(0,w.difference)(a.state.readySampleIdsForFilter,a.state.selectedSampleIds).length}),(0,p.default)((0,u.default)(a),"handleStatusFilterSelect",function(e){a.setState({filterParams:e},function(){a.setUrlLocation(),a.fetchResults()})}),a.nanobar=new _.default({id:"prog-bar",class:"prog-bar"}),a.csrf=e.csrf,a.admin=e.admin,a.allowedFeatures=e.allowedFeatures,a.showStructuredSearch=0!==a.admin||a.allowedFeatures.includes("structuredSearch"),a.favoriteProjects=e.favorites||[],a.allProjects=e.projects||[],a.pageSize=e.pageSize||30,a.getSampleAttribute=a.getSampleAttribute.bind((0,u.default)(a)),a.handleSearch=a.handleSearch.bind((0,u.default)(a)),a.columnSorting=a.columnSorting.bind((0,u.default)(a)),a.handleSearchChange=a.handleSearchChange.bind((0,u.default)(a)),a.loadMore=a.loadMore.bind((0,u.default)(a)),a.scrollDown=a.scrollDown.bind((0,u.default)(a)),a.setUrlLocation=a.setUrlLocation.bind((0,u.default)(a)),a.sortSamples=a.sortSamples.bind((0,u.default)(a)),a.switchColumn=a.switchColumn.bind((0,u.default)(a)),a.handleProjectSelection=a.handleProjectSelection.bind((0,u.default)(a)),a.editableProjects=e.editableProjects,a.canEditProject=a.canEditProject.bind((0,u.default)(a)),a.fetchProjectUsers=a.fetchProjectUsers.bind((0,u.default)(a)),a.updateProjectUserState=a.updateProjectUserState.bind((0,u.default)(a)),a.updateUserDisplay=a.updateUserDisplay.bind((0,u.default)(a)),a.selectSample=a.selectSample.bind((0,u.default)(a)),a.compareSamples=a.compareSamples.bind((0,u.default)(a)),a.handleCreateBackground=a.handleCreateBackground.bind((0,u.default)(a)),a.clearAllFilters=a.clearAllFilters.bind((0,u.default)(a)),a.selectTissueFilter=a.selectTissueFilter.bind((0,u.default)(a)),a.selectHostFilter=a.selectHostFilter.bind((0,u.default)(a)),a.displayMetadataDropdown=a.displayMetadataDropdown.bind((0,u.default)(a)),a.handleColumnSelectChange=a.handleColumnSelectChange.bind((0,u.default)(a)),a.columnHidden=a.columnHidden.bind((0,u.default)(a)),a.startReportGeneration=a.startReportGeneration.bind((0,u.default)(a)),a.checkReportDownload=a.checkReportDownload.bind((0,u.default)(a)),a.displayReportProgress=a.displayReportProgress.bind((0,u.default)(a)),a.deleteProject=a.deleteProject.bind((0,u.default)(a)),a.state={background_creation_response:{},project:null,project_users:[],numFilteredSamples:0,numTotalSamples:0,projectId:null,displaySelectSamples:!0,selectedProjectId:a.fetchParams("project_id")||null,filterParams:a.fetchParams("filter"),searchParams:a.fetchParams("search"),sampleIdsParams:a.fetchParams("ids",!0),fetchedSampleIds:[],fetchedSamples:{},tissueTypes:[],hostGenomes:[],sort_by:a.fetchParams("sort_by")||"id,desc",pagesLoaded:0,pageEnd:!1,hostFilterChange:!1,tissueFilterChange:!1,readySampleIdsForFilter:[],selectedSampleIds:[],displayDropdown:!1,selectedLocations:a.fetchParams("location",!0),selectedTaxids:a.fetchParams("taxid",!0),selectedUploaderIds:a.fetchParams("selectedUploaderIds",!0),searchTags:[],selectedTissueFilters:a.fetchParams("tissue",!0),selectedHostIndices:a.fetchParams("host")?a.fetchParams("host").split(",").map(Number):[],loading:!1,isRequesting:!1,areSamplesFiltered:!1,displayEmpty:!1,checkInUpdate:!0,resetTissues:!(a.fetchParams("tissue")&&a.fetchParams("tissue").length>0),resetHosts:!(a.fetchParams("host")&&a.fetchParams("host").length>0),project_id_download_in_progress:null,projectType:a.fetchParams("type")||"all",columnsShown:W.INITIAL_COLUMNS,phyloTreeCreationModalOpen:!1},a.sortCount=0,(0,b.default)(document).ready(function(){(0,b.default)("select").material_select()}),a}return(0,f.default)(Samples,e),(0,i.default)(Samples,[{key:"initializeTooltip",value:function initializeTooltip(){(0,b.default)(function(){(0,b.default)("[rel='tooltip']").tooltip({delay:0,html:!0,placement:"top",offset:"0px 50px"})})}},{key:"getSampleAttribute",value:function getSampleAttribute(e,t){var a;if("name"===t||"project_id"===t)a=e.db_sample[t];else if("pipeline_run_id"===t){var l=e.derived_sample_output.pipeline_run;l&&(a=l.id)}return a}},{key:"selectTissueFilter",value:function selectTissueFilter(e){var t=this;this.setState({selectedTissueFilters:e},function(){return t.setUrlLocation()})}},{key:"selectHostFilter",value:function selectHostFilter(e){var t=this;this.setState({selectedHostIndices:e},function(){return t.setUrlLocation()})}},{key:"canEditProject",value:function canEditProject(e){return this.editableProjects.indexOf(parseInt(e))>-1}},{key:"displayReportProgress",value:function displayReportProgress(e,t,a){var l=this;setTimeout(function(){l.checkReportDownload(t,a)},2e3)}},{key:"startReportGeneration",value:function startReportGeneration(e){var t=this.state.selectedProjectId?this.state.selectedProjectId:"all";switch(e){case"samples_table":(0,Z.openUrl)("/projects/".concat(t,"/csv"));break;case"project_reports":this.generateReport("make_project_reports_csv","project_reports_csv_status","send_project_reports_csv");break;case"host_gene_counts":this.generateReport("make_host_gene_counts","host_gene_counts_status","send_host_gene_counts")}}},{key:"generateReport",value:function generateReport(e,t,a){var l=this;this.nanobar.go(30);var n="/projects/".concat(this.state.selectedProjectId,"/").concat(e),r=k.default.get("background_id");r&&(n+="?background_id=".concat(r)),h.default.get(n).then(function(e){l.setState({project_id_download_in_progress:l.state.selectedProjectId}),l.displayReportProgress(e,t,a)}).catch(function(){})}},{key:"checkReportDownload",value:function checkReportDownload(e,t){var a=this;h.default.get("/projects/".concat(this.state.project_id_download_in_progress,"/").concat(e)).then(function(l){"complete"===l.data.status_display?((0,Z.openUrl)("/projects/".concat(a.state.project_id_download_in_progress,"/").concat(t)),a.nanobar.go(100),a.setState({project_id_download_in_progress:null})):a.displayReportProgress(l,e,t)}).catch(function(){a.setState({project_id_download_in_progress:null},function(){C.default.toast("Failed to download file for '".concat(a.state.project.name,"'"),3e3,"rounded")})})}},{key:"sortSamples",value:function sortSamples(){var e=this;this.sortCount+=1;var t="";3===this.sortCount?(this.sortCount=0,t="id,desc"):t="name,asc"===this.state.sort_by?"name,desc":"name,asc",this.setState({sort_by:t},function(){e.setUrlLocation(),e.nanobar.go(30),e.fetchResults()})}},{key:"columnSorting",value:function columnSorting(e){var t=e.target.className,a=t.indexOf("sort_by"),l=t.substr(a).split(" ")[0];this.setState({sort_query:l}),P.default.applySort(l)}},{key:"fetchParams",value:function fetchParams(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=new URLSearchParams(window.location.search).get(e)||"";return t&&(a=a?a.split(","):[]),a}},{key:"updateProjectUserState",value:function updateProjectUserState(e){this.setState({project_users:e})}},{key:"fetchProjectUsers",value:function fetchProjectUsers(e){var t=this;e&&this.canEditProject(e)?h.default.get("/projects/".concat(e,"/all_users.json")).then(function(e){t.updateProjectUserState(e.data.users)}).catch(function(){t.updateProjectUserState([])}):this.updateProjectUserState([])}},{key:"displayMetadataDropdown",value:function displayMetadataDropdown(){this.setState({displayDropdown:!this.state.displayDropdown})}},{key:"updateUserDisplay",value:function updateUserDisplay(e,t){if(!this.state.project_users.map(function(e){return e.email}).includes(t)){var a=this.state.project_users;a.push({name:e,email:t}),this.setState({project_users:a})}}},{key:"handleSearchChange",value:function handleSearchChange(e){var t=this,a=e.target.value;""!==a?this.setState({searchParams:a}):this.setState({searchParams:""},function(){t.setUrlLocation(),t.fetchResults()})}},{key:"switchColumn",value:function switchColumn(e,t){var a=Object.assign([],this.state.columnsShown);a[t]=e,this.setState({columnsShown:a})}},{key:"statusDisplay",value:function statusDisplay(e){var t,a;switch(e){case"WAITING":t="waiting",a="fa fa-arrow-up";break;case"FAILED":t="failed",a="fa fa-times";break;case"COMPLETE":case"COMPLETE*":t="complete",a="fa fa-check";break;default:t="uploading",a="fa fa-repeat"}return m.default.createElement("div",{className:"".concat(t," status")},m.default.createElement("i",{className:"".concat(t," ").concat(a),"aria-hidden":"true"}),m.default.createElement("span",null,e))}},{key:"formatRunTime",value:function formatRunTime(e){e=Number(e);var t=Math.floor(e/3600),a=Math.floor(e%3600/60);return(t>0?t+(1===t?" hour, ":" hours, "):"")+(a>0?a+(1===a?" minute":" minutes"):"")}},{key:"renderPipelineOutput",value:function renderPipelineOutput(e){var t=this;return e.map(function(e,a){var l=e.db_sample,n=e.run_info,r=e.uploader.name,o=n.result_status_description,s=t.statusDisplay(o),i=m.default.createElement(SampleNameInfo,{parent:t,dbSample:l,uploader:r}),d=(0,K.getSampleTableData)(e);return m.default.createElement(PipelineOutputCards,{i:a,key:a,sample:e,report_ready:e.run_info.report_ready,sample_name_info:i,stageStatus:s,total_runtime:n.total_runtime,data_values:d,parent:t})})}},{key:"scrollDown",value:function scrollDown(){var e=this;(0,b.default)(window).scroll(function(){if((0,b.default)(window).scrollTop()>(0,b.default)(document).height()-(0,b.default)(window).height()-6e3)return!e.state.isRequesting&&!e.state.pageEnd&&e.loadMore(),!1})}},{key:"loadMore",value:function loadMore(){var e=this,t=this.getParams();this.setState({isRequesting:!0}),h.default.get("/samples?".concat(t)).then(function(t){e.setState(function(a){return{isRequesting:!1,fetchedSamples:(0,E.merge)(a.fetchedSamples,(0,w.keyBy)(t.data.samples,"db_sample.id")),fetchedSampleIds:[].concat((0,o.default)(a.fetchedSampleIds),(0,o.default)((0,w.map)(t.data.samples,"db_sample.id"))),pagesLoaded:a.pagesLoaded+1,pageEnd:t.data.samples.length<e.pageSize}})}).catch(function(){e.setState({isRequesting:!1})})}},{key:"getParams",value:function getParams(){var e="filter=".concat(this.state.filterParams,"&page=").concat(this.state.pagesLoaded+1,"&search=").concat(this.state.searchParams,"&sort_by=").concat(this.state.sort_by),t=parseInt(this.state.selectedProjectId);if(t&&(e+="&project_id=".concat(t)),this.state.sampleIdsParams.length){var a=this.state.sampleIdsParams;e+="&ids=".concat(a)}if(this.state.selectedTissueFilters.length){var l=this.state.selectedTissueFilters.join(",");e+="&tissue=".concat(l)}if(this.state.selectedHostIndices.length){var n=this.state.selectedHostIndices.join(",");e+="&host=".concat(n)}return e+=this.state.selectedTaxids.length?"&taxid=".concat(this.state.selectedTaxids.join(",")):"",e+=this.state.selectedLocations.length?"&location=".concat(this.state.selectedLocations.join(",")):"",e+=this.state.selectedUploaderIds.length?"&uploader=".concat(this.state.selectedUploaderIds.join(",")):""}},{key:"allTissueTypes",value:function allTissueTypes(e){return 0==e.length||e.indexOf("Not set")>=0?e:["Not set"].concat((0,o.default)(e))}},{key:"handleSearch",value:function handleSearch(e){var t=this;""!==e.target.value&&"Enter"===e.key&&(this.nanobar.go(30),this.setState({searchParams:e.target.value},function(){t.setUrlLocation(),t.fetchResults()}))}},{key:"fetchProjectDetails",value:function fetchProjectDetails(e){var t=this,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e?(e=parseInt(e),h.default.get("projects/".concat(e,".json")).then(function(l){t.setState({project:l.data}),t.fetchProjectUsers(e),t.fetchResults({resetFilters:a,projectChanged:!0})}).catch(function(){t.setState({project:null})})):(this.setState({selectedProjectId:null,project:null}),this.fetchResults({resetFilters:a,projectChanged:!0}))}},{key:"viewSample",value:function viewSample(e,t){(0,Z.openUrl)("/samples/".concat(e),t)}},{key:"renderEmptyTable",value:function renderEmptyTable(){return m.default.createElement("div",{className:"col s12 center-align empty-message"},"No results found")}},{key:"displayDownloadDropdown",value:function displayDownloadDropdown(){(0,b.default)(".download-dropdown").dropdown({constrainWidth:!1,gutter:0,belowOrigin:!0,alignment:"left",stopPropagation:!0})}},{key:"findSelectedColumns",value:function findSelectedColumns(e){for(var t=[],a=0;a<e.length;a++){var l=e.options[a].value;e.options[a].selected&&""!==l&&t.push(l)}return t}},{key:"handleColumnSelectChange",value:function handleColumnSelectChange(e){var t=this.findSelectedColumns(e.target);this.setState({columnsShown:t})}},{key:"columnHidden",value:function columnHidden(e){return!this.state.columnsShown.includes(e)}},{key:"compareSamples",value:function compareSamples(){this.state.selectedSampleIds.length&&window.open("/visualizations/heatmap?sampleIds=".concat(this.state.selectedSampleIds),"_self")}},{key:"handleCreateBackground",value:function handleCreateBackground(e,t,a){var l=this;h.default.post("/backgrounds",{name:e,description:t,sample_ids:a,authenticity_token:this.csrf}).then(function(e){l.setState({background_creation_response:e.data})}).catch(function(e){l.setState({background_creation_response:{message:"Something went wrong."}})})}},{key:"clearAllFilters",value:function clearAllFilters(){var e=this;this.setState({filterParams:"",searchParams:"",sampleIdsParams:[],selectedTissueFilters:[],selectedHostIndices:[]},function(){e.setUrlLocation(),e.fetchResults({resetFilters:!0})})}},{key:"selectSample",value:function selectSample(e){var t=parseInt(e.target.getAttribute("data-sample-id")),a="false"===e.target.getAttribute("data-checked")?(0,w.union)(this.state.selectedSampleIds,[+t]):(0,w.difference)(this.state.selectedSampleIds,[+t]);this.setState({selectedSampleIds:a})}},{key:"applyExcluded",value:function applyExcluded(e,t,a){var l=this,n=e.target.getAttribute("data-exclude");"int"===t&&(n=+n);var r=Object.assign([],this.state[a]),o=r.indexOf(n);if(r.splice(o,1),o>=0){var s=(0,p.default)({},"".concat(a),r);this.setState(s,function(){l.setUrlLocation(),l.fetchResults()})}}},{key:"generateTagList",value:function generateTagList(e,t,a){var l=this,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;return this.state[e].map(function(s,i){var d=n?s[n]:s,c=r?s[r]:s;return l.state[t].indexOf(d)>=0?m.default.createElement(LabelTagMarkup,{state_all_options:e,key:i,i:i,name:c,prefix:a,id:d,id_type:o,state_selected_options:t,parent:l}):null})}},{key:"deleteProject",value:function deleteProject(){var e=this.state.selectedProjectId;h.default.delete("/projects/".concat(e,".json"),{data:{authenticity_token:this.csrf}}).then(function(e){(0,Z.openUrl)("/")}).catch(function(e){})}},{key:"renderTable",value:function renderTable(e,t){var a=this,l=this.state.selectedProjectId?this.state.selectedProjectId:"all",n=m.default.createElement(TableSearchField,{searchParams:this.state.searchParams,parent:this}),r=t.map(function(t){return e[t]}),o=[{text:"Samples Table",value:"samples_table"}];"all"!==l&&(o.push({text:"Reports",value:"project_reports"}),1===this.admin&&o.push({text:"Host Gene Counts",value:"host_gene_counts"}));var s,i=m.default.createElement("div",{className:"button-container"},m.default.createElement(O.default,{options:o,onClick:this.startReportGeneration})),d=m.default.createElement("div",{className:"button-container"},m.default.createElement(j.default,{disabled:this.state.selectedSampleIds.length<1,onClick:this.compareSamples})),c=m.default.createElement("div",{className:"button-container"},m.default.createElement(A.default,{text:"Delete Project",onClick:this.deleteProject}));s=this.showStructuredSearch?this.state.searchTags.map(function(e,t){return m.default.createElement(q.default,{text:e.display,onClose:function onClose(l){return a.removeFilterTag(e,t)},key:"filter-tag-".concat(t)})}):[this.generateTagList("hostGenomes","selectedHostIndices","Host: ","id","name","int"),this.generateTagList("tissueTypes","selectedTissueFilters","Sample Type: ")];var u=this.showStructuredSearch?m.default.createElement("div",{className:"row search-box-row"},m.default.createElement(H.default,{serverSearchAction:"search_suggestions",onResultSelect:this.handleSuggestSelect,onEnter:this.handleSearch,initialValue:"",placeholder:""})):m.default.createElement("div",{className:"row search-box-row"},m.default.createElement("div",{className:"search-box"},n),m.default.createElement("div",{className:"filter-container"},m.default.createElement(F.default,{label:"Hosts",disabled:0==this.state.hostGenomes.length,options:this.state.hostGenomes.map(function(e){return{text:e.name,value:e.id}}),value:this.state.selectedHostIndices,onChange:this.selectHostFilter,rounded:!0})),m.default.createElement("div",{className:"filter-container"},m.default.createElement(F.default,{label:"Sample Types",disabled:0==this.state.tissueTypes.length,options:this.state.tissueTypes.map(function(e){return{text:e,value:e}}),value:this.state.selectedTissueFilters,onChange:this.selectTissueFilter,rounded:!0}))),f=this.state.project_users.length,p=this.state.project,h=m.default.createElement(ProjectHeaderMenu,{proj:p,proj_users_count:f,parent:this}),g=m.default.createElement(ProjectInfoHeading,{proj:p,project_menu:h,table_download_dropdown:i,compare_button:d,delete_project_button:c,parent:this,state:this.state,canEditProject:this.canEditProject,selectedSampleIds:this.state.selectedSampleIds,numTotalSamples:this.state.numTotalSamples}),v=m.default.createElement(TableColumnHeaders,{sort:this.state.sort_by,onStatusFilterSelect:this.handleStatusFilterSelect,hasStatusFilter:this.state.filterParams.length>0&&"All"!==this.state.filterParams,state:this.state,parent:this});return m.default.createElement(FilterListMarkup,{projInfo:g,search_box:u,search_tag_list:s,tableHead:v,samples:r,parent:this})}},{key:"componentDidUpdate",value:function componentDidUpdate(e,t){var a=this,l=t.filterParams,n=this.state.filterParams,r=t.selectedHostIndices,o=t.selectedTissueFilters;if(t.selectedProjectId!==this.state.selectedProjectId&&window.scrollTo(0,0),l!==n?(0,b.default)('i[data-status="'.concat(l,'"]')).removeClass("active"):(0,b.default)('i[data-status="'.concat(n,'"]')).addClass("active"),this.state.checkInUpdate){r.length!==this.state.selectedHostIndices.length&&this.setState({hostFilterChange:!0}),o.length!==this.state.selectedTissueFilters.length&&this.setState({tissueFilterChange:!0});var s=["sampleIdsParams","selectedTaxids","selectedLocations","selectedUploaderIds"].some(function(e){return t[e].toString()!==a.state[e].toString()});(this.state.hostFilterChange||this.state.tissueFilterChange||s)&&(this.setUrlLocation(),this.fetchResults(),this.state.hostFilterChange=!1,this.state.tissueFilterChange=!1)}else this.state.checkInUpdate=!0}},{key:"componentDidMount",value:function componentDidMount(){(0,b.default)(function(){var e=(0,b.default)(window),t=(0,b.default)(".sample-table-container"),a=(0,b.default)(".project-wrapper"),l=0,n=0;e.scroll(function(){var r=e.scrollTop(),o=r>=l?"downward":"upward";if(r>t.offset().top?t.addClass("shadow"):t.removeClass("shadow"),"downward"===o){var s=50-r;n=s>0?s:0}else{n=50-r<0?0:Math.abs(r-50)}a.css({marginTop:n}),l=r}),(0,b.default)(".filter").hide()}),this.closeMetadataDropdown(),this.displayDownloadDropdown(),this.initializeTooltip(),this.fetchProjectDetails(this.state.selectedProjectId,!1),this.scrollDown(),this.displayPipelineStatusFilter(),this.initializeColumnSelect(),this.checkPublicSamples()}},{key:"displayPublicSampleNotifications",value:function displayPublicSampleNotifications(e){var t=new Set;try{t=new Set(JSON.parse(localStorage.getItem("dismissedPublicSamples")))}catch(e){}var a=(0,w.partition)(e,function(e){return t.has(e.id)}),l=(0,r.default)(a,2),n=l[0],o=l[1];o.length>0&&(localStorage.setItem("dismissedPublicSamples",JSON.stringify((0,w.map)(n,"id"))),(0,X.publicSampleNotificationsByProject)(o))}},{key:"checkPublicSamples",value:function checkPublicSamples(){var e=this;h.default.get("/samples/samples_going_public.json").then(function(t){(t.data||[]).length&&e.displayPublicSampleNotifications(t.data)})}},{key:"initializeColumnSelect",value:function initializeColumnSelect(){(0,b.default)(document).ready(function(){(0,b.default)("select").material_select()}),(0,b.default)(g.default.findDOMNode(this.refs.columnSelector)).on("change",this.handleColumnSelectChange.bind(this))}},{key:"displayPipelineStatusFilter",value:function displayPipelineStatusFilter(){(0,b.default)(".status-dropdown, .menu-dropdown").dropdown({belowOrigin:!0,stopPropagation:!1,constrainWidth:!1})}},{key:"selectionToParamsOrNone",value:function selectionToParamsOrNone(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return 0==e.length?t:e.join(",")}},{key:"setUrlLocation",value:function setUrlLocation(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=parseInt(this.state.selectedProjectId),t={project_id:e||null,filter:this.state.filterParams,tissue:this.selectionToParamsOrNone(this.state.selectedTissueFilters),host:this.selectionToParamsOrNone(this.state.selectedHostIndices),search:this.state.searchParams,ids:this.selectionToParamsOrNone(this.state.sampleIdsParams),taxid:this.selectionToParamsOrNone(this.state.selectedTaxids),location:this.selectionToParamsOrNone(this.state.selectedLocations),uploader:this.selectionToParamsOrNone(this.state.selectedUploaderIds),sort_by:this.state.sort_by,type:this.state.projectType};window.history.replaceState(null,null,"?".concat(b.default.param(t)))}},{key:"handleProjectSelection",value:function handleProjectSelection(e,t){var a=this;this.setState({selectedProjectId:e,projectType:t,filterParams:"",searchParams:"",checkInUpdate:!1,tissueTypes:[],hostGenomes:[],searchTags:[],sampleIdsParams:[],selectedTissueFilters:[],selectedHostIndices:[],selectedLocations:[],selectedTaxids:[],selectedUploaderIds:[]},function(){a.setUrlLocation(),a.fetchProjectDetails(e)})}},{key:"closeMetadataDropdown",value:function closeMetadataDropdown(){var e=this;(0,b.default)(document).on("click",function(t){(0,b.default)(t.target).has(".wrapper").length&&e.state.displayDropdown&&e.setState({displayDropdown:!1})})}},{key:"render",value:function render(){var e=m.default.createElement(D.default,{favoriteProjects:this.favoriteProjects,allProjects:this.allProjects,csrf:this.csrf,selectProject:this.handleProjectSelection,selectedProjectId:this.state.selectedProjectId});return m.default.createElement("div",{className:"row content-body"},m.default.createElement(S.Sidebar,{className:"col no-padding s2 sidebar",animation:"push",visible:!0,icon:"labeled"},m.default.createElement("div",null,e)),m.default.createElement(S.Sidebar.Pusher,{className:"col no-padding samples-content s10"},this.renderTable(this.state.fetchedSamples,this.state.fetchedSampleIds)))}}]),Samples}(m.default.Component);function LabelTagMarkup(e){var t=e.state_all_options,a=e.i,l=e.name,n=e.prefix,r=e.id,o=e.id_type,s=e.state_selected_options,i=e.parent;return m.default.createElement(S.Label,{className:"label-tags",size:"tiny",key:"".concat(t,"_tag_").concat(a)},"".concat(n).concat(l),m.default.createElement(S.Icon,{name:"close","data-exclude":r,onClick:function onClick(e){i.applyExcluded(e,o,s)}}))}function ColumnDropdownHeader(e){var t=e.pos,a=e.column_name,l=e.onStatusFilterSelect,n=e.hasStatusFilter,r=e.columnsShown,o=e.parent,s=(0,E.sortBy)(function(e){return W.SAMPLE_TABLE_COLUMNS[e].display_name},(0,w.difference)(W.ALL_COLUMNS,r));return m.default.createElement("li",{key:a,className:"header"},m.default.createElement(U.default,{className:"card-label column-title center-label sample-name center menu-dropdown",columnName:a,displayName:W.SAMPLE_TABLE_COLUMNS[a].display_name,tooltip:W.SAMPLE_TABLE_COLUMNS[a].tooltip,columnMap:W.SAMPLE_TABLE_COLUMNS,columnOptions:s,onColumnOptionSelect:function onColumnOptionSelect(e){return o.switchColumn(e,t)}}),"pipeline_status"===a&&m.default.createElement(z.default,{onStatusFilterSelect:l,className:(0,y.default)("pipeline-status-filter",n&&"active")}))}function FilterListMarkup(e){var t=e.projInfo,a=e.search_box,l=e.host_filter_tag_list,n=e.tissue_filter_tag_list,r=e.search_tag_list,o=e.tableHead,s=e.samples,i=e.parent;return m.default.createElement("div",{className:"row content-wrapper"},m.default.createElement("div",{className:"project-info col s12"},t),m.default.createElement("div",{className:"divider"}),m.default.createElement("div",{className:"sample-container no-padding col s12"},a,m.default.createElement("div",{className:"filter-tags-list"},l," ",n," ",r),m.default.createElement("div",{className:Y.default.statusLabels},i.state.areSamplesFiltered&&m.default.createElement("span",{className:Y.default.label},i.state.numFilteredSamples," samples matching filters"),i.state.selectedSampleIds.length>0&&m.default.createElement("span",{className:Y.default.label},i.state.selectedSampleIds.length," samples selected")),m.default.createElement("div",{className:"sample-table-container row"},o,!s.length&&i.state.displayEmpty?i.renderEmptyTable():i.renderPipelineOutput(s))),!i.state.pageEnd&&i.state.fetchedSampleIds.length>14?m.default.createElement("div",{className:"scroll"},m.default.createElement("i",{className:"fa fa-spinner fa-spin fa-3x"})):"")}function SampleNameInfo(e){var t=e.parent,a=e.dbSample,l=e.uploader;return m.default.createElement("div",{onClick:function onClick(e){return t.viewSample(a.id,e)},className:"sample-name-info"},m.default.createElement(I.default,{trigger:m.default.createElement("div",{className:"card-label center-label sample-name bold-label"},a.name),content:a.name,size:"mini",wide:"very"}),m.default.createElement("div",{className:"card-label author bottom-label"},m.default.createElement("span",{className:"upload-date"},(0,v.default)(a.created_at).startOf("second").fromNow()),l&&""!==l?m.default.createElement("span",null," | ".concat(l)):""))}function PipelineOutputCards(e){var t=e.i,a=e.sample,l=e.report_ready,n=e.sample_name_info,r=e.stageStatus,o=e.total_runtime,s=e.data_values,i=e.parent,d=a.db_sample;return m.default.createElement("a",{className:"col s12 no-padding sample-feed",key:t},m.default.createElement("div",null,m.default.createElement("div",{className:"samples-card white"},m.default.createElement("div",{className:"flex-container"},m.default.createElement("ul",{className:"flex-items"},m.default.createElement(SampleCardCheckboxes,{sample:a,report_ready:l,sample_name_info:n,i:t,parent:i}),m.default.createElement(SampleDetailedColumns,{dbSample:d,stageStatus:r,total_runtime:o,data_values:s,parent:i}))))))}function TableSearchField(e){var t=e.searchParams,a=e.parent;return m.default.createElement("div",{className:"col s3 no-padding search-field"},m.default.createElement("div",{className:"row"},m.default.createElement("i",{className:"fa search-icon left fa-search"}),m.default.createElement("input",{id:"search",value:t,onChange:a.handleSearchChange,onKeyDown:a.handleSearch,className:"search col s12",placeholder:"Search"})))}var J=function(e){function BackgroundModal(e){var t;return(0,s.default)(this,BackgroundModal),(t=(0,d.default)(this,(0,c.default)(BackgroundModal).call(this,e))).state={modalOpen:!1,name:"",description:""},t.handleOpen=t.handleOpen.bind((0,u.default)(t)),t.handleClose=t.handleClose.bind((0,u.default)(t)),t.handleChange=t.handleChange.bind((0,u.default)(t)),t.handleSubmit=t.handleSubmit.bind((0,u.default)(t)),t.renderTextField=t.renderTextField.bind((0,u.default)(t)),t.renderSampleList=t.renderSampleList.bind((0,u.default)(t)),t}return(0,f.default)(BackgroundModal,e),(0,i.default)(BackgroundModal,[{key:"renderSampleList",value:function renderSampleList(){var e=this,t=(0,w.intersection)(this.props.selectedSampleIds,this.props.parent.state.fetchedSampleIds),a=(0,w.map)((0,w.take)(t,10),function(t){return e.props.parent.state.fetchedSamples[t]}),l=this.props.parent.getSampleAttribute,n=this.props.selectedSampleIds.length-a.length;return m.default.createElement("div",{className:(0,y.default)("background-modal-contents",Y.default.sampleList)},m.default.createElement("div",{className:"label-text"},"Selected samples:"),m.default.createElement("div",{className:Y.default.warning},m.default.createElement("i",{className:"fa fa-exclamation-triangle"}),"A large number of samples may increase the processing time before your collection can be used as a background."),m.default.createElement("ul",{className:Y.default.selectedSamples},a.map(function(t){return m.default.createElement("li",{key:t.db_sample.id},m.default.createElement("span",null,l(t,"name"),e.props.parent.admin&&m.default.createElement("span",{className:"secondary-text"},function getSampleDetails(e){var t=l(e,"project_id"),a=l(e,"pipeline_run_id");return" (project_id: ".concat(t,", pipeine_run_id: ").concat(a,")")}(t))))})),n>0&&m.default.createElement("div",{className:Y.default.moreSamplesCount},"and ",n," more..."))}},{key:"handleOpen",value:function handleOpen(){this.setState({modalOpen:!0,name:"",description:""}),this.props.parent.setState({background_creation_response:{}})}},{key:"handleClose",value:function handleClose(){this.sample_names=[],this.setState({modalOpen:!1,name:"",description:""})}},{key:"handleChange",value:function handleChange(e,t){t.name;var a=t.value;this.setState((0,p.default)({},e.target.id,a))}},{key:"handleSubmit",value:function handleSubmit(){this.props.parent.handleCreateBackground(this.state.new_background_name,this.state.new_background_description,this.props.parent.state.selectedSampleIds)}},{key:"renderTextField",value:function renderTextField(e,t,a,l){return m.default.createElement("div",{className:"background-modal-contents"},m.default.createElement("div",{className:"label-text"},e,m.default.createElement("span",{className:"secondary-text"},t?" Optional":"")),m.default.createElement(S.Form.TextArea,{autoHeight:!0,className:"col s12 browser-default",rows:l,id:a,onChange:this.handleChange}))}},{key:"render",value:function render(){var e=this.props.parent.state.background_creation_response;return m.default.createElement(S.Modal,{trigger:m.default.createElement("div",{className:"button-container"},m.default.createElement(R.default,{text:"Create Collection",onClick:(0,T.withAnalytics)(this.handleOpen,"Samples_collection-create-button_clicked"),disabled:!this.props.selectedSampleIds.length})),open:this.state.modalOpen,onClose:this.handleClose,className:"modal project-popup add-user-modal"},m.default.createElement(S.Modal.Header,{className:"project_modal_header"},"Create a Collection"),m.default.createElement(S.Modal.Content,{className:"modal-content"},m.default.createElement("div",null,"A collection is a group of samples. You can use this collection as a background model to be selected on a sample report page. It","'","ll update the calculated z-score to indicate how much the the sample deviates from the norm for that collection."),m.default.createElement(S.Form,{onSubmit:(0,T.withAnalytics)(this.handleSubmit,"Samples_collection-form_submitted",{new_background_name:this.state.new_background_name,new_background_description:this.state.new_background_description,selectedSampleIds:this.props.parent.state.selectedSampleIds.length})},this.renderTextField("Name",!1,"new_background_name",1),this.renderTextField("Description",!0,"new_background_description",7),this.renderSampleList(),m.default.createElement("div",{className:"background-button-section"},m.default.createElement(R.default,{text:"Create",type:"submit"}),m.default.createElement(A.default,{text:"Cancel",onClick:(0,T.withAnalytics)(this.handleClose,"Samples_collection-form-cancel-button_clicked")}))),"ok"===e.status?m.default.createElement("div",{className:"status-message status teal-text text-darken-2"},m.default.createElement("i",{className:"fa fa-smile-o fa-fw"}),"Collection is being created and will be visible on the report page once statistics have been computed."):e.message?m.default.createElement("div",{className:"status-message"},m.default.createElement("i",{className:"fa fa-close fa-fw"}),e.message.join("; ")):null))}}]),BackgroundModal}(m.default.Component);function ProjectHeaderMenu(e){var t=e.proj,a=e.proj_users_count,l=e.parent,n=t&&l.canEditProject(t.id),r=(0,v.default)(),o=(0,w.min)(Object.values(l.state.fetchedSamples).map(function(e){return(0,v.default)(e.db_sample.private_until)}).filter(function(e){return e>=r})),s=o?o.format("MMM Do, YYYY"):null;return m.default.createElement("div",{className:Y.default.projectMenu},m.default.createElement("div",{className:Y.default.fillIn}),t&&(t.public_access?m.default.createElement("div",{className:Y.default.projectMenuItem},m.default.createElement(N.default,{className:Y.default.smallIcon})," Public project"):m.default.createElement("div",{className:Y.default.projectMenuItem},m.default.createElement(x.default,{className:Y.default.smallIcon})," Private project")),t&&l.canEditProject(t.id)&&m.default.createElement("div",{className:Y.default.projectMenuItem},m.default.createElement(M.default,{className:(0,y.default)(Y.default.smallIcon,Y.default.smallIconUser)})," ",a?"".concat(l.state.project_users.length," member").concat(l.state.project_users.length>1?"s":""):"No members"),t&&l.canEditProject(t.id)&&m.default.createElement("div",{className:Y.default.projectMenuItem},m.default.createElement(G.default,{csrf:l.csrf,nextPublicSampleDate:s,onUserAdded:l.updateUserDisplay,onProjectPublished:l.handleProjectPublished,project:t,users:l.state.project_users})),n&&m.default.createElement("div",{className:Y.default.projectMenuItem},m.default.createElement(B.default,{project:t})))}function ProjectInfoHeading(e){var t=e.proj,a=e.project_menu,l=e.table_download_dropdown,r=e.compare_button,o=e.delete_project_button,s=e.parent,i=e.state,d=e.canEditProject,c=e.selectedSampleIds,u=e.numTotalSamples,f={admin:parseInt(s.admin),csrf:s.csrf},p=m.default.createElement("div",{className:"button-container"},m.default.createElement(L.default,{onClick:function handlePhyloModalOpen(){s.setState({phyloTreeCreationModalOpen:!0})}}));return m.default.createElement("div",{className:"row download-section"},m.default.createElement("div",{className:"col s5 wrapper proj-title-container"},m.default.createElement("div",{className:t?"heading proj-title":"proj-title heading all-proj"},t?m.default.createElement("div",null,m.default.createElement("span",{className:""},t.name)):m.default.createElement("div",{className:""},"All Samples")),m.default.createElement("p",{className:"subheading col no-padding s12"},0===u?"No samples found":"".concat(u," total sample").concat(u>1?"s":""))),m.default.createElement("div",{className:"col s7 download-section-btns"},i.selectedProjectId?a:null,m.default.createElement("div",{className:"buttons-row"},l,p,r,m.default.createElement(J,{parent:s,selectedSampleIds:c}),i.selectedProjectId&&d(i.selectedProjectId)&&i.project&&0==i.project.total_sample_count?o:null)),i.phyloTreeCreationModalOpen&&m.default.createElement(V.default,(0,n.default)({},f,{onClose:function handlePhyloModalClose(){s.setState({phyloTreeCreationModalOpen:!1})}})))}function TableColumnHeaders(e){var t=e.sort,a=e.onStatusFilterSelect,l=e.hasStatusFilter,n=e.state,r=e.parent;return m.default.createElement("div",{className:"col s12 sample-feed-head no-padding samples-table-head"},m.default.createElement("div",{className:"samples-card white"},m.default.createElement("div",{className:"flex-container"},m.default.createElement("ul",{className:"flex-items"},m.default.createElement("li",{className:Y.default.nameHeader},r.state.displaySelectSamples&&r.state.readySampleIdsForFilter.length>0&&m.default.createElement("div",{className:Y.default.checkAllContainer},m.default.createElement("input",{type:"checkbox",id:"checkAll",className:"filled-in checkAll",checked:r.allReadySamplesSelected(),onClick:r.toggleAllSelectedSamples}),m.default.createElement("label",{htmlFor:"checkAll"})),m.default.createElement("div",{className:"card-label column-title center-label sample-name"},m.default.createElement("div",{className:"sort-able",onClick:r.sortSamples},m.default.createElement("span",{className:Y.default.sampleNameHeader},"Name"),m.default.createElement("i",{className:"fa ".concat("name,desc"===t?"fa fa-sort-alpha-desc":"fa fa-sort-alpha-asc","\n                  ").concat("name,desc"===t||"name,asc"===t?"active":"hidden")})))),n.columnsShown.map(function(e,t){return m.default.createElement(ColumnDropdownHeader,{pos:t,key:t,column_name:e,onStatusFilterSelect:a,hasStatusFilter:l,columnsShown:n.columnsShown,parent:r})})))))}function SampleCardCheckboxes(e){var t=e.sample,a=e.report_ready,l=e.sample_name_info,n=e.i,r=e.parent,o=r.state.selectedSampleIds.indexOf(t.db_sample.id)>=0;return m.default.createElement("li",{className:"check-box-container"},r.state.displaySelectSamples?m.default.createElement("div",null,m.default.createElement("input",{type:"checkbox",id:n,key:"sample_".concat(t.db_sample.id),className:"filled-in checkbox",checked:o,disabled:1!=a}),m.default.createElement("label",{"data-checked":o,onClick:r.selectSample,"data-sample-id":t.db_sample.id},m.default.createElement("div",{onClick:function onClick(e){return e.stopPropagation()}},l))):l)}function SampleDetailedColumns(e){var t=e.dbSample,a=e.stageStatus,l=e.total_runtime,n=e.data_values,r=e.parent,o=m.default.createElement("span",{className:"blank"},"--");return r.state.columnsShown.map(function(e,s){return"pipeline_status"===e?m.default.createElement("li",{key:s,onClick:r.viewSample.bind(r,t.id)},m.default.createElement("div",{className:"card-label top-label"},a),m.default.createElement("div",{className:"card-label center-label"},l?m.default.createElement("span",{className:"time"},m.default.createElement("i",{className:"fa fa-clock-o","aria-hidden":"true"}),m.default.createElement("span",{className:"duration-label"},r.formatRunTime(l))):null)):"nonhost_reads"===e?m.default.createElement("li",{key:s},m.default.createElement("div",{className:"card-label center center-label data-label bold-label"},n[e]||o),m.default.createElement("div",{className:"card-label center center-label data-label data-label-percent"},n.nonhost_reads_percent&&m.default.createElement("span",{className:"percent"},n.nonhost_reads_percent))):m.default.createElement("li",{key:s,onClick:r.viewSample.bind(r,t.id)},m.default.createElement("div",{className:"card-label center center-label data-label bold-label"},n[e]||o))})}var $=Q;t.default=$},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=function(){function SortHelper(){(0,n.default)(this,SortHelper)}return(0,r.default)(SortHelper,null,[{key:"currentSort",value:function currentSort(){var e=SortHelper.getFilter("sort_by"),currentSort={};return e&&(currentSort={sortQuery:"sort_by=".concat(e)}),currentSort}},{key:"getFilter",value:function getFilter(e){var t=window.location.href;e=e.replace(/[[\]]/g,"\\$&");var a=new RegExp("[?&]".concat(e,"(=([^&#]*)|&|#|$)")).exec(t);return a&&a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):null}},{key:"applySort",value:function applySort(e){var t=window.location.href,a=SortHelper.deleteUrlParam(t,"sort_by");SortHelper.hasQuery(a)?window.location="".concat(a,"&").concat(e):window.location="".concat(a,"?").concat(e)}},{key:"deleteUrlParam",value:function deleteUrlParam(e,t){var a=e.split("?");if(a.length>=2){var l,n="".concat(encodeURIComponent(t),"="),r=a[1].split(/[&;]/g);for(l=r.length;l--;l>0)-1!==r[l].lastIndexOf(n,0)&&r.splice(l,1);e="".concat(a[0]).concat(r.length>0?"?".concat(r.join("&")):"")}return e}},{key:"hasQuery",value:function hasQuery(e){return e.split("?").length>=2}}]),SortHelper}();t.default=o},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(35)),r=l(a(7)),o=l(a(8)),s=l(a(10)),i=l(a(9)),d=l(a(3)),c=l(a(11)),u=l(a(0)),f=l(a(72)),p=l(a(211)),m=function(e){function ProjectSelection(e){var t;return(0,r.default)(this,ProjectSelection),(t=(0,s.default)(this,(0,i.default)(ProjectSelection).call(this,e))).nanobar=new p.default({id:"prog-bar",class:"prog-bar"}),t.csrf=e.csrf,t.favoriteProjects=e.favoriteProjects,t.allProjects=e.allProjects,t.toggleDisplayProjects=t.toggleDisplayProjects.bind((0,d.default)(t)),t.toggleDisplayFavProjects=t.toggleDisplayFavProjects.bind((0,d.default)(t)),t.toggleFavorite=t.toggleFavorite.bind((0,d.default)(t)),t.handleProjectClick=t.handleProjectClick.bind((0,d.default)(t)),t.state={formattedProjectList:[],formattedFavProjectList:[],favIds:[],showLess:!0,showLessFavorites:!0},t}return(0,c.default)(ProjectSelection,e),(0,o.default)(ProjectSelection,[{key:"componentDidMount",value:function componentDidMount(){this.reformatProjectList(this.favoriteProjects,this.allProjects)}},{key:"fetchParams",value:function fetchParams(e){return new URLSearchParams(window.location.search).get(e)}},{key:"toggleDisplayProjects",value:function toggleDisplayProjects(){this.setState(function(e){return{showLess:!e.showLess}})}},{key:"toggleDisplayFavProjects",value:function toggleDisplayFavProjects(){this.setState(function(e){return{showLessFavorites:!e.showLessFavorites}})}},{key:"toggleFavorite",value:function toggleFavorite(e){var t=this;e.stopPropagation();var a=e.target.getAttribute("data-fav"),l=e.target.getAttribute("data-id");this.nanobar.go(30),f.default.put("/projects/".concat(l,"/").concat("true"==a?"remove_favorite":"add_favorite","?"),{authenticity_token:this.csrf}).then(function(){t.nanobar.go(100),t.projectInFavorites(l,t.state.formattedProjectList)}).catch(function(e){})}},{key:"reformatProjectList",value:function reformatProjectList(e,t){var a=[],l=[];e.length&&(l=e.map(function(e){return e.id}));var n=t.map(function(e){var t=e;return t.favorited||(t.favorited=l.includes(t.id),t.favorited&&a.push(t)),t});return this.setState({formattedProjectList:n,formattedFavProjectList:a,favIds:l}),n}},{key:"updateProjectsState",value:function updateProjectsState(e,t){var a=t.map(function(t){return t.id==e&&(t.favorited=!t.favorited),t});return this.setState({formattedProjectList:a}),a}},{key:"projectInFavorites",value:function projectInFavorites(e,t){this.state.favIds.includes(parseInt(e))?this.removeProjectFromFavorites(e):this.addProjectToFavorites(e,t),this.updateProjectsState(e,t)}},{key:"removeProjectFromFavorites",value:function removeProjectFromFavorites(e){var t=this.state.formattedFavProjectList.filter(function(t){return t.id!=e}),a=this.state.formattedFavProjectList.filter(function(t){return t.id==e}),l=this.state.favIds,n=l.indexOf(a[0].id);n>-1&&(l.splice(n,1),this.setState({formattedFavProjectList:t,favIds:l}))}},{key:"addProjectToFavorites",value:function addProjectToFavorites(e,t){var a=t.filter(function(t){return t.id==e});this.setState({formattedFavProjectList:[].concat((0,n.default)(this.state.formattedFavProjectList),(0,n.default)(a)),favIds:[].concat((0,n.default)(this.state.favIds),[a[0].id])})}},{key:"handleProjectClick",value:function handleProjectClick(e){var t=e.target.getAttribute("data-id"),a=e.target.getAttribute("data-type")||null;this.props.selectProject(t,a)}},{key:"renderProjectSection",value:function renderProjectSection(){var e=this,t=function sortLogic(e,t){var a=e.name.toUpperCase(),l=t.name.toUpperCase();return a<l?-1:a>l?1:0},a=this.state.formattedFavProjectList.sort(t),l=u.default.createElement("div",null);function ProjectInSelector(e){var t=e.parent,a=e.project,l=e.i,n=e.favorite;return u.default.createElement("div",{className:"project-item "+(t.props.selectedProjectId==a.id?"highlight":""),onClick:t.handleProjectClick,"data-id":a.id,"data-type":n?"favorite":"",key:l},u.default.createElement("div",{className:"row label-row"},u.default.createElement("span",{className:"project-label no-padding col s10","data-id":a.id},a.name),u.default.createElement("span",{className:"icon-container no-padding col s2"},u.default.createElement("i",{"data-status":"favorite","data-fav":a.favorited,"data-id":a.id,onClick:t.toggleFavorite,className:"favorite fa fa-star"+(a.favorited?"":"-o")+" right hidden"}))))}a.length&&(l=u.default.createElement("div",{className:"row fav-row"},u.default.createElement("div",{className:"title fav-title"},"Favorite Projects"),u.default.createElement("div",{className:"fav-projects-wrapper projects-wrapper"},a.map(function(t,a){return u.default.createElement(ProjectInSelector,{parent:e,project:t,i:a,key:t.id,favorite:!0})}))));var n=this.state.formattedProjectList.sort(t).filter(function(e){return!e.favorited});this.state.showLess&&(n=n.slice(0,8));var r=u.default.createElement("div",{className:"projects"},u.default.createElement("div",{"data-title":"allprojects",className:"title"},"All Projects"),u.default.createElement("div",{className:"projects-wrapper"},n.length?n.map(function(t,a){return u.default.createElement(ProjectInSelector,{parent:e,project:t,i:a,key:a,favorite:!1})}):u.default.createElement("div",{className:"title"},"None"),n.length>7?u.default.createElement("div",{className:"more",onClick:this.toggleDisplayProjects},this.state.showLess?"Show More...":"Show Less..."):""));return u.default.createElement("div",{className:"project-wrapper"},u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col no-padding s12"},u.default.createElement("div",{className:"projects-wrapper"},u.default.createElement("div",{className:"all-samples project-item "+(this.props.selectedProjectId?"":"highlight"),onClick:this.handleProjectClick},u.default.createElement("span",{className:"project-label"},"All Samples")))),l,r))}},{key:"render",value:function render(){return u.default.createElement("div",null,this.renderProjectSection())}}]),ProjectSelection}(u.default.Component);t.default=m},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(3)),d=l(a(11)),c=l(a(2)),u=l(a(0)),f=l(a(1)),p=a(1989),m=l(a(33)),h=l(a(4)),g=l(a(1249));function ownKeys(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}var v=function(e){function PortalDropdown(){var e,t;(0,n.default)(this,PortalDropdown);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return t=(0,o.default)(this,(e=(0,s.default)(PortalDropdown)).call.apply(e,[this].concat(l))),(0,c.default)((0,i.default)(t),"state",{open:!1,triggerWidth:null}),(0,c.default)((0,i.default)(t),"toggleOpen",function(){t.state.open?t.close():t.open()}),(0,c.default)((0,i.default)(t),"open",function(){t.props.disabled||(t._lastTransform=null,t.setState({open:!0,triggerWidth:t._triggerRef?t._triggerRef.getBoundingClientRect().width:null}),t.props.onOpen&&t.props.onOpen())}),(0,c.default)((0,i.default)(t),"close",function(){t._lastTransform=null,t.setState({open:!1}),t.props.onClose&&t.props.onClose()}),(0,c.default)((0,i.default)(t),"isOpen",function(){return void 0===t.props.open||null===t.props.open?t.state.open:t.props.open}),(0,c.default)((0,i.default)(t),"handleOutClick",function(){!t.isOpen()||t._triggerRef&&t._triggerRef.contains(event.target)||t._menuRef&&t._menuRef.contains(event.target)||t.close()}),t}return(0,d.default)(PortalDropdown,e),(0,r.default)(PortalDropdown,[{key:"componentDidMount",value:function componentDidMount(){document.addEventListener("mousedown",this.handleOutClick)}},{key:"componentWillUnmount",value:function componentWillUnmount(){document.removeEventListener("mousedown",this.handleOutClick)}},{key:"render",value:function render(){var e=this,t=this.isOpen();return u.default.createElement(p.Manager,null,u.default.createElement(p.Reference,null,function(a){var l=a.ref;return u.default.createElement("div",{className:(0,h.default)(g.default.triggerContainer,e.props.fluid&&g.default.fluid,e.props.triggerClassName,e.props.disabled&&g.default.disabled,!e.props.hideArrow&&(e.props.arrowInsideTrigger?g.default.arrowInsideTrigger:g.default.arrowOutsideTrigger)),ref:function ref(t){l(t),e._triggerRef=t},onClick:e.toggleOpen},u.default.cloneElement(e.props.trigger,{active:t}),!e.props.hideArrow&&u.default.createElement("i",{className:(0,h.default)(g.default.arrow,e.state.open&&g.default.active)}))}),t&&m.default.createPortal(u.default.createElement(p.Popper,{placement:"right"===this.props.direction?"bottom-start":"bottom-end",modifiers:{preventOverflow:{enabled:!1},hide:{enabled:!1}}},function(a){var l=a.ref,n=a.style,r=a.placement;return e._lastTransform&&e._lastTransform!==n.transform&&t?(e._lastTransform=null,setTimeout(e.close)):t&&(e._lastTransform=n.transform),u.default.createElement("div",{className:(0,h.default)(e.props.menuClassName,g.default.popperMenu,e.props.floating&&g.default.floating,e.props.withinModal&&g.default.withinModal),onClick:e.close,ref:function ref(t){l(t),e._menuRef=t},"data-placement":r,style:e.state.triggerWidth?function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(a,!0).forEach(function(t){(0,c.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({minWidth:e.state.triggerWidth},n):n},e.props.menu)}),document.body))}}]),PortalDropdown}(u.default.Component);v.propTypes={trigger:f.default.node,menu:f.default.node,menuClassName:f.default.string,triggerClassName:f.default.string,withinModal:f.default.bool,direction:f.default.oneOf(["left","right"]),fluid:f.default.bool,floating:f.default.bool,disabled:f.default.bool,onOpen:f.default.func,onClose:f.default.func,open:f.default.bool,hideArrow:f.default.bool,arrowInsideTrigger:f.default.bool},v.defaultProps={direction:"right"};var y=v;t.default=y},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(35)),r=l(a(26)),o=l(a(27)),s=l(a(7)),i=l(a(8)),d=l(a(10)),c=l(a(9)),u=l(a(3)),f=l(a(11)),p=l(a(2)),m=l(a(1)),h=l(a(0)),g=l(a(83)),v=l(a(390)),y=l(a(72)),b=l(a(125)),C=l(a(738)),w=l(a(284)),E=l(a(216)),S=l(a(81)),_=l(a(73)),k=a(42),N=function(e){function PhyloTreeCreation(e){var t;return(0,s.default)(this,PhyloTreeCreation),t=(0,d.default)(this,(0,c.default)(PhyloTreeCreation).call(this,e)),(0,p.default)((0,u.default)(t),"handleFilterChange",function(e){clearTimeout(t.inputTimeout),t.inputTimeout=setTimeout(function(){t.setState({otherSamplesFilter:e})},t.inputDelay)}),(0,p.default)((0,u.default)(t),"handleNameChange",function(e){t.setState({treeName:e.trim()},t.isTreeNameValid)}),(0,p.default)((0,u.default)(t),"handleBranchChange",function(e){t.dagBranch=e.trim()}),(0,p.default)((0,u.default)(t),"handleDagVarsChange",function(e){t.dagVars=e}),(0,p.default)((0,u.default)(t),"isTreeNameValid",(0,o.default)(r.default.mark(function _callee(){var e,a;return r.default.wrap(function _callee$(l){for(;;)switch(l.prev=l.next){case 0:return e=t.state.treeName,l.next=3,(0,k.validatePhyloTreeName)(e);case 3:return a=l.sent,t.setState({treeName:a.sanitizedName,treeNameValid:a.valid}),l.abrupt("return",a.valid);case 6:case"end":return l.stop()}},_callee)}))),(0,p.default)((0,u.default)(t),"canContinueWithTreeName",function(){return t.setState({showErrorName:!0}),t.isTreeNameValid()}),t.state={defaultPage:0,skipListTrees:!1,phyloTreesLoaded:!1,phyloTrees:[],samplesLoaded:!1,projectSamples:[],selectedProjectSamples:new Set,otherSamples:[],selectedOtherSamples:new Set,otherSamplesFilter:"",taxonList:[],projectsLoaded:!1,projectList:[],taxonId:t.props.taxonId,taxonName:t.props.taxonName,projectId:t.props.projectId,projectName:t.props.projectName,showErrorTaxonAndProject:!1,showErrorName:!1,showErrorSamples:!1,treeName:""},t.phyloTreeHeaders={name:"Phylogenetic Tree",user:"Creator",last_update:"Last Updated",view:"View"},t.projectSamplesHeaders={name:"Name",host:"Host",tissue:"Sample Type",location:"Location",date:"Date",reads:"Read Count\n(NT | NR)"},t.otherSamplesHeaders={name:"Name",project:"Project",host:"Host",tissue:"Sample Type",location:"Location",date:"Date",reads:"Read Count\n(NT | NR)"},t.skipSelectProjectAndTaxon=t.props.projectId&&t.props.taxonId,t.dagBranch="",t.dagVars="{}",t.inputTimeout=null,t.inputDelay=500,t.canContinueWithTaxonAndProject=t.canContinueWithTaxonAndProject.bind((0,u.default)(t)),t.handleChangedProjectSamples=t.handleChangedProjectSamples.bind((0,u.default)(t)),t.handleChangedOtherSamples=t.handleChangedOtherSamples.bind((0,u.default)(t)),t.handleComplete=t.handleComplete.bind((0,u.default)(t)),t.handleNewTreeContextResponse=t.handleNewTreeContextResponse.bind((0,u.default)(t)),t.handleProjectSearchContextResponse=t.handleProjectSearchContextResponse.bind((0,u.default)(t)),t.handleSelectProject=t.handleSelectProject.bind((0,u.default)(t)),t.handleSelectTaxon=t.handleSelectTaxon.bind((0,u.default)(t)),t.loadNewTreeContext=t.loadNewTreeContext.bind((0,u.default)(t)),t.loadProjectSearchContext=t.loadProjectSearchContext.bind((0,u.default)(t)),t}return(0,f.default)(PhyloTreeCreation,e),(0,i.default)(PhyloTreeCreation,[{key:"componentDidMount",value:function componentDidMount(){this.loadPhylotrees()}},{key:"loadPhylotrees",value:function loadPhylotrees(){var e=this;y.default.get("/phylo_trees/index.json",{params:{taxId:this.state.taxonId,projectId:this.state.projectId}}).then(function(t){return e.handlePhyloTreeResponse(t)}).catch(function(e){console.error("Error loading existing phylo trees: ",e)})}},{key:"loadNewTreeContext",value:function loadNewTreeContext(){var e=this;y.default.get("/phylo_trees/new.json",{params:{taxId:this.state.taxonId,projectId:this.state.projectId}}).then(function(t){return e.handleNewTreeContextResponse(t)}).catch(function(e){console.error("Error loading new phylo tree context: ",e)})}},{key:"loadProjectSearchContext",value:function loadProjectSearchContext(){var e=this;y.default.get("/choose_project.json").then(function(t){return e.handleProjectSearchContextResponse(t)}).catch(function(e){console.error("Error loading project search context: ",e)})}},{key:"handlePhyloTreeResponse",value:function handlePhyloTreeResponse(e){var t=e.data,a=t.phyloTrees;a&&Array.isArray(a)&&0!==a.length?this.setState({phyloTrees:this.parsePhyloTreeData(e.data.phyloTrees),phyloTreesLoaded:!0,taxonName:(t.taxon||{}).name}):this.setState({skipListTrees:!0,phyloTreesLoaded:!0})}},{key:"handleNewTreeContextResponse",value:function handleNewTreeContextResponse(e){var t=e.data.samples;if(t&&Array.isArray(t))if(0===t.length)this.setState({samplesLoaded:!0});else{var a=this.parseProjectSamplesData(t);this.setState({projectSamples:a.projectSamples,otherSamples:a.otherSamples,samplesLoaded:!0})}else console.error("Error loading samples data")}},{key:"handleProjectSearchContextResponse",value:function handleProjectSearchContextResponse(e){this.setState({projectList:e.data,projectsLoaded:!0})}},{key:"handleSelectProject",value:function handleSelectProject(e,t){var a=t.result;this.setState({projectId:a.project_id,projectName:a.title,samplesLoaded:!1,projectSamples:[],selectedProjectSamples:new Set,otherSamples:[],selectedOtherSamples:new Set,otherSamplesFilter:""})}},{key:"handleSelectTaxon",value:function handleSelectTaxon(e,t){var a=t.result;this.setState({taxonId:a.taxid,taxonName:a.title,samplesLoaded:!1,projectSamples:[],selectedProjectSamples:new Set,otherSamples:[],selectedOtherSamples:new Set,otherSamplesFilter:""})}},{key:"parsePhyloTreeData",value:function parsePhyloTreeData(e){return e.map(function(e){return{name:e.name,user:(e.user||{}).name,last_update:h.default.createElement(C.default,{fromNow:!0,date:e.updated_at}),view:h.default.createElement("a",{href:"/phylo_trees/index?treeId=".concat(e.id)},"View")}})}},{key:"parseProjectSamplesData",value:function parseProjectSamplesData(e){for(var t=[],a=[],l=0;l<e.length;l++){var n=e[l];if(w.default.passesCreateCondition((n.taxid_reads||{}).NT,(n.taxid_reads||{}).NR)){var r={name:n.name,host:n.host,tissue:n.sample_type,location:n.collection_location,date:h.default.createElement(C.default,{fromNow:!0,date:n.created_at}),reads:"".concat((n.taxid_reads||{}).NT," | ").concat((n.taxid_reads||{}).NR),rawReads:{nt:(n.taxid_reads||{}).NT||0,nr:(n.taxid_reads||{}).NR||0},pipelineRunId:n.pipeline_run_id};n.project_id===this.state.projectId?t.push(r):(r.project=n.project_name,a.push(r))}}return{projectSamples:t,otherSamples:a}}},{key:"setPage",value:function setPage(e){this.setState({defaultPage:e})}},{key:"handleChangedProjectSamples",value:function handleChangedProjectSamples(e){this.setState({selectedProjectSamples:e})}},{key:"handleChangedOtherSamples",value:function handleChangedOtherSamples(e){this.setState({selectedOtherSamples:e})}},{key:"handleCreation",value:function handleCreation(){var e=this;if(!this.isNumberOfSamplesValid())return this.setState({showErrorSamples:!0}),!1;var t=[];return this.state.selectedProjectSamples.forEach(function(a){t.push(e.state.projectSamples[a].pipelineRunId)}),this.state.selectedOtherSamples.forEach(function(a){t.push(e.state.otherSamples[a].pipelineRunId)}),y.default.post("/phylo_trees/create",{name:this.state.treeName,dagBranch:this.dagBranch,dagVars:this.dagVars,projectId:this.state.projectId,taxId:this.state.taxonId,taxName:this.state.taxonName,pipelineRunIds:t,authenticity_token:this.props.csrf}).then(function(e){var t=e.data.phylo_tree_id;t?location.href="/phylo_trees/index?treeId=".concat(t):console.error("Error creating tree")}).catch(function(e){console.error("Exception creating tree: ",e)}),!0}},{key:"handleComplete",value:function handleComplete(){this.handleCreation()&&this.props.onComplete&&this.props.onComplete()}},{key:"isNumberOfSamplesValid",value:function isNumberOfSamplesValid(){var e=this.state.selectedProjectSamples.size+this.state.selectedOtherSamples.size;return w.default.isNumberOfSamplesValid(e)}},{key:"getNumberOfSamplesWithFewReads",value:function getNumberOfSamplesWithFewReads(){var e=this.state,t=e.otherSamples,a=e.projectSamples,l=e.selectedProjectSamples,r=e.selectedOtherSamples,o=function getReadsArray(e,t,a){return(0,n.default)(t).map(function(t){return e[t].rawReads[a]})};return w.default.countSamplesWithFewReads(o(a,l,"nt"),o(a,l,"nr"))+w.default.countSamplesWithFewReads(o(t,r,"nt"),o(t,r,"nr"))}},{key:"canContinueWithTaxonAndProject",value:function canContinueWithTaxonAndProject(){return this.state.taxonId&&this.state.projectId?(this.setState({showErrorTaxonAndProject:!1}),!0):(this.setState({showErrorTaxonAndProject:!0}),!1)}},{key:"getTotalPageRendering",value:function getTotalPageRendering(){var e=this.state.selectedProjectSamples.size+this.state.selectedOtherSamples.size;return"".concat(e," Total Samples")}},{key:"renderNotifications",value:function renderNotifications(){var e=this.state,t=e.treeNameValid,a=e.showErrorSamples;if(e.showErrorName&&!t)return h.default.createElement(_.default,{type:"error",displayStyle:"flat"},"The current tree name is taken. Please choose a different name.");if(a&&!this.isNumberOfSamplesValid())return h.default.createElement(_.default,{type:"error",displayStyle:"flat"},"Phylogenetic Tree creation must have between"," ",w.default.MIN_SAMPLES," and ",w.default.MAX_SAMPLES," ","samples.");var l=this.getNumberOfSamplesWithFewReads();return l>0?h.default.createElement(_.default,{type:"warn",displayStyle:"flat"},"You have ",l," sample",l>1?"s":""," ","that ha",l>1?"ve":"s"," too few reads (NT or NR under ",w.default.RECOMMENDED_MIN_READS,"). Tree creation might fail or produce inaccurate results."):null}},{key:"page",value:function page(e){return{listTrees:h.default.createElement(v.default.Page,{key:"page_1",className:"wizard__page-1",skipDefaultButtons:!0,title:"Phylogenetic Trees",small:!0},h.default.createElement("div",{className:"wizard__page-1__subtitle"},this.state.taxonName),h.default.createElement("div",{className:"wizard__page-1__table"},this.state.phyloTreesLoaded&&h.default.createElement(b.default,{headers:this.phyloTreeHeaders,columns:["name","user","last_update","view"],data:this.state.phyloTrees})),h.default.createElement("div",{className:"wizard__page-1__action"},h.default.createElement(v.default.Action,{action:"continue"},"+ Create new tree"))),selectTaxonAndProject:h.default.createElement(v.default.Page,{key:"wizard__page_2",title:"Select organism and project",onLoad:this.loadProjectSearchContext,onContinue:this.canContinueWithTaxonAndProject},h.default.createElement("div",{className:"wizard__page-2__subtitle"}),h.default.createElement("div",{className:"wizard__page-2__searchbar"},h.default.createElement("div",{className:"wizard__page-2__searchbar__container"},"Project"),h.default.createElement("div",{className:"wizard__page-2__searchbar__container"},this.state.projectsLoaded?h.default.createElement(E.default,{clientSearchSource:this.state.projectList,onResultSelect:this.handleSelectProject,initialValue:this.state.projectName,placeholder:"Existing project name"}):h.default.createElement(S.default,null))),h.default.createElement("div",{className:"wizard__page-2__searchbar"},h.default.createElement("div",{className:"wizard__page-2__searchbar__container"},"Organism"),h.default.createElement("div",{className:"wizard__page-2__searchbar__container"},h.default.createElement(E.default,{serverSearchAction:"choose_taxon",serverSearchActionArgs:{args:"species,genus",project_id:this.state.projectId},onResultSelect:this.handleSelectTaxon,initialValue:this.state.taxonName,placeholder:"Taxon name"}))),h.default.createElement("div",null,this.state.showErrorTaxonAndProject?"Please select a project and organism":null)),selectNameAndProjectSamples:h.default.createElement(v.default.Page,{key:"wizard__page_3",title:"Name phylogenetic tree and select samples from project '".concat(this.state.projectName,"'"),onLoad:this.loadNewTreeContext,onContinueAsync:this.canContinueWithTreeName},h.default.createElement("div",{className:"wizard__page-3__subtitle"},this.state.taxonName),h.default.createElement("div",{className:"wizard__page-3__form"},h.default.createElement("div",null,h.default.createElement("div",{className:"wizard__page-3__form__label-name"},"Name"),h.default.createElement(g.default,{className:this.state.showErrorName&&!this.state.treeNameValid?"error":"",placeholder:"Tree Name",onChange:this.handleNameChange})),1===this.props.admin&&h.default.createElement("div",null,h.default.createElement("div",{className:"wizard__page-3__form__label-branch"},"Branch"),h.default.createElement(g.default,{placeholder:"master",onChange:this.handleBranchChange}),h.default.createElement("div",{className:"wizard__page-3__form__label-branch"},"DAG variables"),h.default.createElement(g.default,{placeholder:"{}",onChange:this.handleDagVarsChange}))),h.default.createElement("div",{className:"wizard__page-3__table"},this.state.samplesLoaded&&this.state.projectSamples.length>0?h.default.createElement(b.default,{headers:this.projectSamplesHeaders,columns:["name","host","tissue","location","date","reads"],data:this.state.projectSamples,selectedRows:this.state.selectedProjectSamples,onSelectedRowsChanged:this.handleChangedProjectSamples}):this.state.samplesLoaded&&0==this.state.projectSamples.length?h.default.createElement("div",null,"No samples containing ",this.state.taxonName," available"):h.default.createElement(S.default,null)),h.default.createElement("div",{className:"wizard__page-3__notifications"},this.renderNotifications())),addIdseqSamples:h.default.createElement(v.default.Page,{key:"wizard__page_4",title:"Add additional samples from IDseq that contain ".concat(this.state.taxonName,"?")},h.default.createElement("div",{className:"wizard__page-4__subtitle"}),h.default.createElement("div",{className:"wizard__page-4__searchbar"},h.default.createElement("div",{className:"wizard__page-4__searchbar__container"},h.default.createElement(g.default,{placeholder:"Search",onChange:this.handleFilterChange})),h.default.createElement("div",{className:"wizard__page-4__searchbar__container"},this.state.selectedProjectSamples.size," Project Samples"),h.default.createElement("div",{className:"wizard__page-4__searchbar__container"},this.state.selectedOtherSamples.size," IDseq Samples"),h.default.createElement("div",{className:"wizard__page-4__searchbar__container"},this.getTotalPageRendering())),h.default.createElement("div",{className:"wizard__page-4__table"},this.state.samplesLoaded&&this.state.otherSamples.length>0?h.default.createElement(b.default,{headers:this.otherSamplesHeaders,columns:["name","project","host","tissue","location","date","reads"],data:this.state.otherSamples,selectedRows:this.state.selectedOtherSamples,onSelectedRowsChanged:this.handleChangedOtherSamples,filter:this.state.otherSamplesFilter}):this.state.samplesLoaded&&0==this.state.otherSamples.length?h.default.createElement("div",null,"No samples containing ",this.state.taxonName," available"):h.default.createElement(S.default,null)),h.default.createElement("div",{className:"wizard__page-4__notifications"},this.renderNotifications()))}[e]}},{key:"getPages",value:function getPages(){var e=[];return this.state.skipListTrees||e.push(this.page("listTrees")),this.skipSelectProjectAndTaxon||e.push(this.page("selectTaxonAndProject")),e.push(this.page("selectNameAndProjectSamples"),this.page("addIdseqSamples")),e}},{key:"render",value:function render(){return this.state.phyloTreesLoaded?h.default.createElement(v.default,{className:"phylo-tree-creation-wizard",skipPageInfoNPages:this.state.skipListTrees?0:1,onComplete:this.handleComplete,defaultPage:this.state.defaultPage,labels:{finish:"Create Tree"}},this.getPages()):h.default.createElement(S.default,null)}}]),PhyloTreeCreation}(h.default.Component);N.propTypes={admin:m.default.number,csrf:m.default.string.isRequired,onComplete:m.default.func,projectId:m.default.number,projectName:m.default.string,taxonId:m.default.number,taxonName:m.default.string};var x=N;t.default=x},,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(0)),r=l(a(1)),o=function InfoIcon(e){return n.default.createElement("svg",{className:e.className,viewBox:"0 0 24 24"},n.default.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},n.default.createElement("g",{id:"3.3-Sample-Type-Dropdown-Copy-4",transform:"translate(-203.000000, -824.000000)"},n.default.createElement("g",{id:"Group-4",transform:"translate(203.000000, 824.000000)"},n.default.createElement("path",{d:"M12,0 C18.6167714,0 24,5.3832286 24,12 C24,18.6167714 18.6167714,24 12,24 C5.3832286,24 0,18.6167714 0,12 C0,5.3832286 5.3832286,0 12,0 Z M11.9230769,1.23076923 C6.02736704,1.23076923 1.23076923,6.02736704 1.23076923,11.9230769 C1.23076923,17.8187868 6.02736704,22.6153846 11.9230769,22.6153846 C17.8187868,22.6153846 22.6153846,17.8187868 22.6153846,11.9230769 C22.6153846,6.02736704 17.8187868,1.23076923 11.9230769,1.23076923 Z",id:"Combined-Shape-Copy",fill:"#3867FA",fillRule:"nonzero",transform:"translate(12.000000, 12.000000) scale(1, -1) translate(-12.000000, -12.000000) "}),n.default.createElement("rect",{id:"Rectangle",stroke:"#3867FA",strokeWidth:"1.2",x:"10.8857143",y:"9.80300752",width:"2.40902256",height:"9.44661654",rx:"1.20451128"}),n.default.createElement("path",{d:"M12.0903539,3.96992481 C12.6581797,3.96992481 13.2157375,4.20147042 13.6192737,4.60603349 C14.0230667,5.00571921 14.2556391,5.56379034 14.2556391,6.1354667 C14.2556391,6.70919668 14.0230667,7.26880802 13.6172201,7.67029066 C13.2229251,8.06920627 12.6645973,8.30075188 12.0903539,8.30075188 C11.5179074,8.30075188 10.9593229,8.06971967 10.5573269,7.66746693 C10.1553308,7.26547089 9.92481203,6.70714306 9.92481203,6.13520999 C9.92481203,5.56558725 10.1555875,5.00802953 10.5573269,4.60603349 C10.9616332,4.20147042 11.5202178,3.96992481 12.0903539,3.96992481 Z M12.0903539,5.25318037 C11.8580382,5.25318037 11.6303431,5.34790357 11.4650267,5.51296325 C11.304331,5.67391569 11.2083243,5.90623141 11.2083243,6.13495329 C11.2083243,6.36906593 11.301764,6.596761 11.4650267,6.76002376 C11.7912956,7.08654928 12.389669,7.08654928 12.7092635,6.76259079 C12.8781737,6.59522079 12.9723835,6.36855252 12.9723835,6.13495329 C12.9723835,5.90366438 12.8784304,5.67776623 12.7143976,5.51527357 C12.5467709,5.34790357 12.3203593,5.25318037 12.0903539,5.25318037 Z",id:"Combined-Shape-Copy-3",fill:"#3867FA",fillRule:"nonzero"})))))};o.propTypes={className:r.default.string};var s=o;t.default=s},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(0)),c=l(a(4)),u=l(a(58)),f=l(a(1)),p=l(a(1273)),m=l(a(46)),h=function(e){function TableColumnHeader(){return(0,n.default)(this,TableColumnHeader),(0,o.default)(this,(0,s.default)(TableColumnHeader).apply(this,arguments))}return(0,i.default)(TableColumnHeader,e),(0,r.default)(TableColumnHeader,[{key:"render",value:function render(){var e=this.props,t=e.className,a=e.displayName,l=e.columnOptions,n=e.columnMap,r=e.onColumnOptionSelect,o=e.tooltip,s=d.default.createElement("div",{className:(0,c.default)(t,p.default.tableColumnHeader)},a);if(o&&(s=d.default.createElement(m.default,{trigger:s,content:o})),!l||0===l.length)return s;var i=l.map(function(e){return{value:e,text:n[e].display_name}});return d.default.createElement(u.default,{trigger:s,floating:!0,onChange:r,options:i,menuLabel:"Switch Columns"})}}]),TableColumnHeader}(d.default.Component);h.propTypes={className:f.default.string,displayName:f.default.string.isRequired,tooltip:f.default.string,columnOptions:f.default.arrayOf(f.default.string),columnMap:f.default.objectOf(f.default.shape({display_name:f.default.string.isRequired})),onColumnOptionSelect:f.default.func};var g=h;t.default=g},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(0)),c=l(a(4)),u=l(a(58)),f=l(a(1)),p=l(a(1275)),m=[{name:"In Progress",class:"uploading"},{name:"Complete",class:"complete"},{name:"Failed",class:"failed"},{name:"All",class:"all"}],h=function(e){function PipelineStatusFilter(){return(0,n.default)(this,PipelineStatusFilter),(0,o.default)(this,(0,s.default)(PipelineStatusFilter).apply(this,arguments))}return(0,i.default)(PipelineStatusFilter,e),(0,r.default)(PipelineStatusFilter,[{key:"render",value:function render(){var e=this.props,t=e.className,a=e.onStatusFilterSelect,l=d.default.createElement("i",{className:(0,c.default)(t,p.default.tableColumnHeader,"fa fa-filter"),"aria-hidden":"true"}),n=m.map(function(e){return d.default.createElement(u.default.Item,{key:e.name,onClick:function onClick(){return a(e.name)},className:p.default.option},d.default.createElement("span",{className:p.default[e.class]},e.name))});return d.default.createElement(u.default,{trigger:l,floating:!0,hideArrow:!0,items:n,menuLabel:"Filter Pipeline Status"})}}]),PipelineStatusFilter}(d.default.Component);h.propTypes={className:f.default.string,onStatusFilterSelect:f.default.func};var g=h;t.default=g},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(743)).default;t.default=n},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(26)),r=l(a(27)),o=l(a(7)),s=l(a(8)),i=l(a(10)),d=l(a(9)),c=l(a(3)),u=l(a(11)),f=l(a(2)),p=l(a(0)),m=a(17),h=l(a(1)),g=l(a(390)),v=l(a(127)),y=l(a(73)),b=a(42),C=a(89),w=a(20),E=a(217),S=l(a(393)),_=l(a(748)),k=l(a(749)),N=l(a(285)),x=function(e){function MetadataUploadModal(){var e,t;(0,o.default)(this,MetadataUploadModal);for(var a=arguments.length,l=new Array(a),s=0;s<a;s++)l[s]=arguments[s];return t=(0,i.default)(this,(e=(0,d.default)(MetadataUploadModal)).call.apply(e,[this].concat(l))),(0,f.default)((0,c.default)(t),"state",{metadata:null,issues:null,projectSamples:null}),(0,f.default)((0,c.default)(t),"handleMetadataChange",function(e){var a=e.metadata,l=e.issues;t.setState({metadata:a,issues:l})}),(0,f.default)((0,c.default)(t),"handleComplete",(0,r.default)(n.default.mark(function _callee(){var e,a,l,r;return n.default.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return e=t.props,a=e.onClose,l=e.onComplete,a(),n.next=4,(0,C.uploadMetadataForProject)(t.props.project.id,(0,m.flow)((0,m.keyBy)(function(e){return e.sample_name||e["Sample Name"]}),(0,m.mapValues)((0,m.omit)(["sample_name","Sample Name"])))(t.state.metadata.rows));case 4:(r=n.sent).errors&&r.errors.length>0?((0,E.showToast)(function(e){var t=e.closeToast;return p.default.createElement(S.default,{className:N.default.publicSampleNotification,onClose:t,type:"error",label:"Your metadata upload failed with the following errors.",listItemName:"error",listItems:r.errors})}),(0,w.logAnalyticsEvent)("MetadataUploadModal_modal_error",{projectId:t.props.project.id,projectSamples:t.state.projectSamples.length,errors:r.errors.length})):((0,E.showToast)(function(e){var t=e.closeToast;return p.default.createElement(y.default,{type:"success",onClose:t},"Metadata was successfully uploaded.")},{autoClose:3e3}),(0,w.logAnalyticsEvent)("MetadataUploadModal_modal_success",{projectId:t.props.project.id,projectSamples:t.state.projectSamples.length})),l&&l();case 7:case"end":return n.stop()}},_callee)}))),(0,f.default)((0,c.default)(t),"getPages",function(){var e=p.default.createElement("span",null,"Upload Metadata for"," ",p.default.createElement("span",{className:N.default.projectName},t.props.project.name)),a=p.default.createElement("span",null,"Review Metadata for"," ",p.default.createElement("span",{className:N.default.projectName},t.props.project.name));return[p.default.createElement(k.default,{title:e,key:"1",onMetadataChange:t.handleMetadataChange,project:t.props.project,samples:t.state.projectSamples}),p.default.createElement(_.default,{title:a,key:"2",metadata:t.state.metadata})]}),t}return(0,u.default)(MetadataUploadModal,e),(0,s.default)(MetadataUploadModal,[{key:"componentDidMount",value:function(){var e=(0,r.default)(n.default.mark(function _callee2(){var e;return n.default.wrap(function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,b.getSamplesV1)({project_id:this.props.project.id,basic:!0});case 2:e=t.sent,this.setState({projectSamples:e});case 4:case"end":return t.stop()}},_callee2,this)}));return function componentDidMount(){return e.apply(this,arguments)}}()},{key:"render",value:function render(){return p.default.createElement(v.default,{open:!0,tall:!0,wide:!0,onClose:(0,w.withAnalytics)(this.props.onClose,"MetadataUploadModal_modal_closed"),className:N.default.metadataUploadModal},p.default.createElement(g.default,{onComplete:this.handleComplete},this.getPages()))}}]),MetadataUploadModal}(p.default.Component);x.propTypes={onClose:h.default.func,onComplete:h.default.func,project:h.default.shape({id:h.default.number,name:h.default.string})};var M=x;t.default=M},,,,,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(0)),c=l(a(1)),u=l(a(125)),f=l(a(285)),p=function(e){function ReviewPage(){return(0,n.default)(this,ReviewPage),(0,o.default)(this,(0,s.default)(ReviewPage).apply(this,arguments))}return(0,i.default)(ReviewPage,e),(0,r.default)(ReviewPage,[{key:"render",value:function render(){return d.default.createElement("div",{className:f.default.tableContainer},d.default.createElement(u.default,{className:f.default.metadataTable,columns:this.props.metadata.headers,data:this.props.metadata.rows,columnWidth:120}))}}]),ReviewPage}(d.default.Component);p.propTypes={metadata:c.default.object};var m=p;t.default=m},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(26)),r=l(a(27)),o=l(a(7)),s=l(a(8)),i=l(a(10)),d=l(a(9)),c=l(a(3)),u=l(a(11)),f=l(a(2)),p=l(a(0)),m=l(a(24)),h=l(a(394)),g=l(a(399)),v=a(89),y=l(a(285)),b=function(e){function UploadPage(){var e,t;(0,o.default)(this,UploadPage);for(var a=arguments.length,l=new Array(a),s=0;s<a;s++)l[s]=arguments[s];return t=(0,i.default)(this,(e=(0,d.default)(UploadPage)).call.apply(e,[this].concat(l))),(0,f.default)((0,c.default)(t),"state",{showInstructions:!1,metadata:null,wasManual:!1,issues:null}),(0,f.default)((0,c.default)(t),"verifyMetadata",(0,r.default)(n.default.mark(function _callee(){var e;return n.default.wrap(function _callee$(a){for(;;)switch(a.prev=a.next){case 0:if(!t.state.wasManual){a.next=7;break}return t.setState({issues:null}),a.next=4,(0,v.validateManualMetadataForProject)(t.props.project.id,t.state.metadata);case 4:return e=a.sent,t.setState({issues:e.issues}),a.abrupt("return",t.state.metadata&&!(e.issues&&e.issues.errors.length>0));case 7:return a.abrupt("return",!0);case 8:case"end":return a.stop()}},_callee)}))),(0,f.default)((0,c.default)(t),"handleMetadataChange",function(e){var a=e.metadata,l=e.issues,n=e.wasManual;t.setState({wasManual:n,metadata:a}),t.props.onMetadataChange({metadata:a,issues:l});var r=a&&!(l&&l.errors.length>0);t.props.wizardEnableContinue&&t.props.wizardEnableContinue(r)}),(0,f.default)((0,c.default)(t),"showInstructions",function(){t.props.wizardSetOverlay&&t.props.wizardSetOverlay(p.default.createElement(g.default,{onClose:function onClose(){return t.props.wizardSetOverlay(null)}}))}),t}return(0,u.default)(UploadPage,e),(0,s.default)(UploadPage,[{key:"componentDidMount",value:function componentDidMount(){this.props.wizardEnableContinue&&this.props.wizardEnableContinue(!1),this.props.wizardSetOnContinueValidation&&this.props.wizardSetOnContinueValidation(this.verifyMetadata)}},{key:"render",value:function render(){return p.default.createElement("div",{className:y.default.uploadPage},p.default.createElement(h.default,{samples:this.props.samples,project:this.props.project,onMetadataChange:this.handleMetadataChange,onShowCSVInstructions:this.showInstructions,issues:this.state.wasManual?this.state.issues:null,metadata:this.state.metadata,withinModal:!0}))}}]),UploadPage}(p.default.Component);b.propTypes={onMetadataChange:m.default.func.isRequired,project:m.default.shape({id:m.default.number,name:m.default.string}),wizardEnableContinue:m.default.func,wizardSetOnContinueValidation:m.default.func,wizardSetOverlay:m.default.func,samples:m.default.arrayOf(m.default.Sample)};var C=b;t.default=C},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(26)),r=l(a(27)),o=l(a(7)),s=l(a(8)),i=l(a(10)),d=l(a(9)),c=l(a(3)),u=l(a(11)),f=l(a(2)),p=l(a(0)),m=l(a(4)),h=a(17),g=l(a(751)),v=a(89),y=l(a(1292)),b=l(a(1)),C=function processCSVMetadata(e){var t=e.headers,a=e.rows;return{headers:t,rows:(0,h.map)(function(e){return(0,h.fromPairs)((0,h.filter)(function(e){return""!==e[1]},(0,h.zip)(t,e)))},a)}},w=function(e){function MetadataCSVUpload(){var e,t;(0,o.default)(this,MetadataCSVUpload);for(var a=arguments.length,l=new Array(a),s=0;s<a;s++)l[s]=arguments[s];return t=(0,i.default)(this,(e=(0,d.default)(MetadataCSVUpload)).call.apply(e,[this].concat(l))),(0,f.default)((0,c.default)(t),"state",{metadata:null,validatingCSV:!1,lastSampleNamesValidated:null,lastProjectIdValidated:null}),(0,f.default)((0,c.default)(t),"onCSV",function(e){t.props.onDirty&&t.props.onDirty(),t.setState({metadata:e}),t.validateCSV(e)}),(0,f.default)((0,c.default)(t),"validateCSV",function(){var e=(0,r.default)(n.default.mark(function _callee(e){var a;return n.default.wrap(function _callee$(l){for(;;)switch(l.prev=l.next){case 0:if(t.props.onMetadataChange({metadata:null,issues:{errors:[],warnings:[]},validatingCSV:!0}),!t.props.samplesAreNew){l.next=8;break}return t.setState({lastSampleNamesValidated:(0,h.map)("name",t.props.samples),lastProjectIdValidated:t.props.project.id}),l.next=5,(0,v.validateMetadataCSVForNewSamples)(t.props.samples,e);case 5:a=l.sent,l.next=11;break;case 8:return l.next=10,(0,v.validateMetadataCSVForProject)(t.props.project.id,e);case 10:a=l.sent;case 11:t.props.onMetadataChange({metadata:C(e),issues:a.issues,validatingCSV:!1,newHostGenomes:a.newHostGenomes});case 12:case"end":return l.stop()}},_callee)}));return function(t){return e.apply(this,arguments)}}()),t}return(0,u.default)(MetadataCSVUpload,e),(0,s.default)(MetadataCSVUpload,[{key:"componentDidUpdate",value:function componentDidUpdate(e){e.visible||!this.props.visible||!this.state.metadata||(0,h.isEqual)((0,h.map)("name",this.props.samples),this.state.lastSampleNamesValidated)&&this.props.project.id===this.state.lastProjectIdValidated||this.validateCSV(this.state.metadata)}},{key:"render",value:function render(){var e=!(0,h.isNull)(this.state.metadata);return p.default.createElement("div",{className:(0,m.default)(y.default.metadataCSVUpload,this.props.className)},p.default.createElement(g.default,{title:e?"":"Upload your metadata CSV",onCSV:this.onCSV,className:(0,m.default)(y.default.csvUpload,e&&y.default.uploaded),removeEmptyRows:!0}))}}]),MetadataCSVUpload}(p.default.Component);w.propTypes={project:b.default.shape({id:b.default.number,name:b.default.string}),samples:b.default.arrayOf(b.default.shape({name:b.default.string,project_id:b.default.number,host_genome_id:b.default.number})),className:b.default.string,onMetadataChange:b.default.func.isRequired,samplesAreNew:b.default.bool,visible:b.default.bool,onDirty:b.default.func.isRequired};var E=w;t.default=E},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(3)),d=l(a(11)),c=l(a(2)),u=l(a(0)),f=l(a(209)),p=l(a(1)),m=a(17),h=a(395),g=function(e){function CSVUpload(){var e,t;(0,n.default)(this,CSVUpload);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return t=(0,o.default)(this,(e=(0,s.default)(CSVUpload)).call.apply(e,[this].concat(l))),(0,c.default)((0,i.default)(t),"state",{file:null}),(0,c.default)((0,i.default)(t),"removeEmptyRowsFromCSV",function(e){return{headers:e.headers,rows:(0,m.filter)(function(e){return(0,m.some)(function(e){return""!==e},e)},e.rows)}}),(0,c.default)((0,i.default)(t),"onChange",function(e){var a=t.props.removeEmptyRows,l=new FileReader;l.onload=function(e){var l=(0,h.parseCSVBlob)(e.target.result);a&&(l=t.removeEmptyRowsFromCSV(l)),t.props.onCSV(l)},l.readAsText(e[0]),t.setState({file:e[0]})}),t}return(0,d.default)(CSVUpload,e),(0,r.default)(CSVUpload,[{key:"render",value:function render(){var e=this.props.title;return u.default.createElement(f.default,{className:this.props.className,title:e,onChange:this.onChange,file:this.state.file})}}]),CSVUpload}(u.default.Component);g.propTypes={className:p.default.string,title:p.default.string,onCSV:p.default.func.isRequired,removeEmptyRows:p.default.bool};var v=g;t.default=v},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.geosearchCSVLocations=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(3)),d=l(a(11)),c=l(a(2)),u=l(a(26)),f=l(a(27)),p=l(a(0)),m=a(17),h=a(20),g=a(753),v=l(a(286)),y=a(219),b=l(a(24)),C=l(a(289)),w=l(a(1316)),E=function(){var e=(0,f.default)(u.default.mark(function _callee3(e,t){var a,l,n,r,o,s,i,d;return u.default.wrap(function _callee3$(c){for(;;)switch(c.prev=c.next){case 0:if(e&&e.rows){c.next=2;break}return c.abrupt("return");case 2:return a=(0,m.uniq)(e.rows.map(function(e){return e[t.name]})),l={},n=a.map(function(){var e=(0,f.default)(u.default.mark(function _callee(e){var t;return u.default.wrap(function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,g.getGeoSearchSuggestions)(e,1);case 2:(t=a.sent).length>0&&(l[e]=t[0]);case 4:case"end":return a.stop()}},_callee)}));return function(t){return e.apply(this,arguments)}}()),r=function sleep(e){return new Promise(function(t){return setTimeout(t,e)})},o=(0,m.chunk)(20,n),s=o.map(function(){var e=(0,f.default)(u.default.mark(function _callee2(e,t){return u.default.wrap(function _callee2$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Promise.all(e);case 2:if(t===o.length-1){a.next=5;break}return a.next=5,r((0,m.random)(1e3,2e3));case 5:case"end":return a.stop()}},_callee2)}));return function(t,a){return e.apply(this,arguments)}}()),c.next=10,Promise.all(s);case 10:return i=e,d={},e.rows.forEach(function(e,a){var n=e[_],r=e[t.name],o=(0,y.processLocationSelection)(l[r]||r,S(e)),s=o.result,c=o.warning;c&&(d[n]=c),l.hasOwnProperty(r)&&(i.rows[a][t.name]=s)}),c.abrupt("return",{newMetadata:i,warnings:d});case 14:case"end":return c.stop()}},_callee3)}));return function geosearchCSVLocations(t,a){return e.apply(this,arguments)}}();t.geosearchCSVLocations=E;var S=function isRowHuman(e){return e["Host Organism"]&&"Human"===e["Host Organism"]||e["Host Genome"]&&"Human"===e["Host Genome"]},_="Sample Name",k=function(e){function MetadataCSVLocationsMenu(){var e,t;(0,n.default)(this,MetadataCSVLocationsMenu);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return t=(0,o.default)(this,(e=(0,s.default)(MetadataCSVLocationsMenu)).call.apply(e,[this].concat(l))),(0,c.default)((0,i.default)(t),"state",{applyToAllSample:null}),(0,c.default)((0,i.default)(t),"renderApplyToAll",function(){var e=t.state.applyToAllSample;return p.default.createElement("div",{className:w.default.applyToAll,onClick:(0,h.withAnalytics)(function(){return t.applyToAll(e)},"MetadataCsvLocationsMenu_apply-all_clicked",{sampleName:e})},"Apply to All")}),(0,c.default)((0,i.default)(t),"applyToAll",function(e){var a=t.props,l=a.metadata,n=a.locationMetadataType,r=a.onMetadataChange,o=a.onCSVLocationWarningsChange,s=((0,m.find)((0,c.default)({},_,e),l.rows)||{})[n.name],i=l,d={};i.rows.forEach(function(e){var t=(0,y.processLocationSelection)(s,S(e)),a=t.result,l=t.warning;e[n.name]=a,l&&(d[e[_]]=l)}),r({metadata:i}),o(d),t.setState({applyToAllSample:null})}),(0,c.default)((0,i.default)(t),"getManualInputData",function(){var e=t.props,a=e.CSVLocationWarnings,l=e.locationMetadataType,n=e.metadata,r=e.onMetadataChange,o=t.state.applyToAllSample;return n.rows.map(function(e,s){var i=e[_];return[p.default.createElement("div",{key:_},i),p.default.createElement("div",{key:l.name},p.default.createElement(v.default,{key:l.key,className:w.default.input,value:e[l.name],metadataType:l,onChange:function onChange(e,a){var o=n;o.rows[s][l.name]=a,r({metadata:o}),t.setState({applyToAllSample:i}),(0,h.logAnalyticsEvent)("MetadataManualInput_input_changed",{key:e,value:a,sampleName:i})},withinModal:!0,isHuman:S(e),warning:a[i]}),o===i&&t.props.metadata.rows.length>1&&t.renderApplyToAll())]})}),t}return(0,d.default)(MetadataCSVLocationsMenu,e),(0,r.default)(MetadataCSVLocationsMenu,[{key:"render",value:function render(){var e=this.props,t=e.metadata,a=e.locationMetadataType;return t&&t.rows?p.default.createElement(p.default.Fragment,null,p.default.createElement("div",{className:w.default.title},"Confirm Your Collection Locations"),p.default.createElement(C.default,{caption:"We automatically searched for location matches. Please double check and correct any errors.",getColumnWidth:function getColumnWidth(e){return e===_&&240},headers:[_,a.name],initialOpen:!0,rows:this.getManualInputData(),type:"info"})):null}}]),MetadataCSVLocationsMenu}(p.default.Component);k.propTypes={CSVLocationWarnings:b.default.objectOf(b.default.string),metadata:b.default.shape({headers:b.default.arrayOf(b.default.string),rows:b.default.arrayOf(b.default.objectOf(b.default.any))}),locationMetadataType:b.default.shape({dataType:b.default.oneOf(["location"]),key:b.default.string,name:b.default.string}),onCSVLocationWarningsChange:b.default.func.isRequired,onMetadataChange:b.default.func.isRequired};var N=k;t.default=N},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGeoSearchSuggestions=void 0;var l=a(102);t.getGeoSearchSuggestions=function getGeoSearchSuggestions(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,l.get)("/locations/external_search",{params:{query:e,limit:t}})}},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(5)),r=l(a(47)),o=l(a(26)),s=l(a(27)),i=l(a(7)),d=l(a(8)),c=l(a(10)),u=l(a(9)),f=l(a(3)),p=l(a(11)),m=l(a(2)),h=l(a(0)),g=l(a(1)),v=a(17),y=l(a(140)),b=function(e){function AsyncMultipleDropdown(e){var t;return(0,i.default)(this,AsyncMultipleDropdown),t=(0,c.default)(this,(0,u.default)(AsyncMultipleDropdown).call(this,e)),(0,m.default)((0,f.default)(t),"handleChange",function(e){var a=t.state.selectedOptions,l=t.props.onChange,n=new Set(e),r=a.filter(function(e){return n.has(e.value)});a.forEach(function(e){return n.delete(e.value)}),n.forEach(function(e){var a=(0,v.find)({value:e},t.state.options);a&&r.push(a)}),t.setState({selectedOptions:r},function(){return l(t.state.selectedOptions)})}),(0,m.default)((0,f.default)(t),"handleFilterChange",function(){var e=(0,s.default)(o.default.mark(function _callee(e){var a,l,n;return o.default.wrap(function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return a=t.props.onFilterChange,l=t.state.selectedOptions,r.next=4,a(e);case 4:n=r.sent,t.setState({options:(0,v.unionBy)("value",n,l)});case 6:case"end":return r.stop()}},_callee)}));return function(t){return e.apply(this,arguments)}}()),t.state={selectedOptions:[],options:[]},t}return(0,p.default)(AsyncMultipleDropdown,e),(0,d.default)(AsyncMultipleDropdown,[{key:"render",value:function render(){var e=this.state,t=e.options,a=e.selectedOptions,l=this.props,o=(l.onFilterChange,l.selectedOptions,(0,r.default)(l,["onFilterChange","selectedOptions"]));return h.default.createElement(y.default,(0,n.default)({},o,{fluid:!0,hideCounter:!0,rounded:!0,search:!0,checkedOnTop:!0,onChange:this.handleChange,onFilterChange:this.handleFilterChange,options:t,value:a.map(function(e){return e.value})}))}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(e,t){return e.selectedOptions!==t.prevPropsSelectedOptions?{selectedOptions:e.selectedOptions,prevPropsSelectedOptions:e.selectedOptions,options:(0,v.unionBy)("value",t.options,e.selectedOptions)}:null}}]),AsyncMultipleDropdown}(h.default.Component);b.propTypes={selectedOptions:g.default.array,onChange:g.default.func,onFilterChange:g.default.func};var C=b;t.default=C},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(5)),r=l(a(47)),o=a(66),s=l(a(1)),i=l(a(0)),d=l(a(175)),c=l(a(396)),u=l(a(58)),f=function DownloadIconDropdown(e){var t=e.iconClassName,a=e.onClick,l=(0,r.default)(e,["iconClassName","onClick"]),o=i.default.createElement(d.default,{className:t});return i.default.createElement(u.default,(0,n.default)({},l,{hideArrow:!0,onChange:a,trigger:i.default.createElement(c.default,{icon:o,popupText:"Download"})}))};f.propTypes=(0,o.forbidExtraProps)({className:s.default.string,iconClassName:s.default.string,disabled:s.default.bool,options:s.default.array,onClick:s.default.func,direction:s.default.oneOf(["left","right"])});var p=f;t.default=p},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(3)),d=l(a(11)),c=l(a(2)),u=l(a(0)),f=a(17),p=l(a(24)),m=a(221),h=l(a(287)),g="ALL",v=function(e){function SampleTypeSearchBox(){var e,t;(0,n.default)(this,SampleTypeSearchBox);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return t=(0,o.default)(this,(e=(0,s.default)(SampleTypeSearchBox)).call.apply(e,[this].concat(l))),(0,c.default)((0,i.default)(t),"handleSearchTriggered",function(e){return t.buildResults(t.getMatchesByCategory(e),e)}),t}return(0,d.default)(SampleTypeSearchBox,e),(0,r.default)(SampleTypeSearchBox,[{key:"getMatchesByCategory",value:function getMatchesByCategory(e){var t=this,a=this.props.sampleTypes.filter(function(t){return(0,m.doesResultMatch)(t,e)}),l=(0,m.sortResults)(a,e,function(e){return e.name});return(0,f.groupBy)(function getSampleTypeCategory(e){return e.insect_only?t.props.isInsect?"SUGGESTED":g:e.human_only?t.props.isHuman?"SUGGESTED":g:t.isInsect?g:"SUGGESTED"},l)}},{key:"buildResults",value:function buildResults(e,t){var a=this,l=function formatResult(e){return{title:e.name,name:e.name,description:a.props.showDescription?e.group:null}},n={};return e.SUGGESTED&&(n.suggested={name:"SUGGESTED",results:e.SUGGESTED.map(l)}),e.ALL&&(n.all={name:g,results:e.ALL.map(l)}),t.length&&(0,f.get)([0,"name"],e.SUGGESTED)!==t&&(n.noMatch={name:"Use Plain Text (No Match)",results:[{title:t,name:t}]}),n}},{key:"render",value:function render(){var e=this.props,t=e.className,a=e.value,l=e.onResultSelect;return u.default.createElement(h.default,{className:t,value:a,onSearchTriggered:this.handleSearchTriggered,onResultSelect:l,minChars:0,placeholder:"",icon:"chevron down",shouldSearchOnFocus:!0,delayTriggerSearch:0})}}]),SampleTypeSearchBox}(u.default.Component);v.propTypes={className:p.default.string,onResultSelect:p.default.func.isRequired,value:p.default.string,sampleTypes:p.default.arrayOf(p.default.SampleTypeProps).isRequired,isHuman:p.default.bool.isRequired,isInsect:p.default.bool.isRequired,showDescription:p.default.bool};var y=v;t.default=y},function(e,t,a){"use strict";var l=a(96),n=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(35)),o=n(a(7)),s=n(a(8)),i=n(a(10)),d=n(a(9)),c=n(a(3)),u=n(a(11)),f=n(a(2)),p=n(a(0)),m=n(a(4)),h=l(a(17)),g=a(20),v=n(a(140)),y=n(a(74)),b=n(a(125)),C=n(a(24)),w=n(a(291)),E=a(57),S=n(a(758)),_=n(a(1325)),k=n(a(286));function ownKeys(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(a,!0).forEach(function(t){(0,f.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var N=h.default.map.convert({cap:!1}),x=function(e){function MetadataManualInput(){var e,t;(0,o.default)(this,MetadataManualInput);for(var a=arguments.length,l=new Array(a),n=0;n<a;n++)l[n]=arguments[n];return t=(0,i.default)(this,(e=(0,d.default)(MetadataManualInput)).call.apply(e,[this].concat(l))),(0,f.default)((0,c.default)(t),"state",{selectedFieldNames:[],projectMetadataFields:null,headers:null,metadataFieldsToEdit:{},headersToEdit:[],hostGenomes:[],applyToAllCell:{sampleName:null,column:null}}),(0,f.default)((0,c.default)(t),"setDefaultWaterControl",function(){return!!(0,h.has)("water_control",t.props.projectMetadataFields)&&(t.applyToAll("water_control","No",!1),!0)}),(0,f.default)((0,c.default)(t),"getManualInputColumns",function(){return["Sample Name"].concat((0,r.default)(t.props.samplesAreNew?["Host Organism"]:[]),(0,r.default)(t.state.selectedFieldNames))}),(0,f.default)((0,c.default)(t),"updateMetadataField",function(e,a,l){var n=(0,h.union)([e],t.state.headersToEdit),r=(0,h.set)([l.name,e],a,t.state.metadataFieldsToEdit);t.setState({metadataFieldsToEdit:r,headersToEdit:n,applyToAllCell:{sampleName:l.name,column:e}}),t.onMetadataChange(n,r)}),(0,f.default)((0,c.default)(t),"applyToAll",function(e,a){var l=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=t.state.metadataFieldsToEdit;t.props.samples.forEach(function(r){(t.isHostGenomeIdValidForField(t.getSampleHostGenomeId(r),e)&&l||void 0===(0,h.get)([r.name,e],n))&&(n=(0,h.set)([r.name,e],a,n))});var r=(0,h.union)([e],t.state.headersToEdit);t.setState({metadataFieldsToEdit:n,headersToEdit:r,applyToAllCell:{sampleName:null,column:null}}),t.onMetadataChange(r,n)}),(0,f.default)((0,c.default)(t),"onMetadataChange",function(e,a){var l=t.props,n=l.samples,o=l.samplesAreNew,s=N("name",n),i=N(function(e){return a[e]||{}},s),d=(0,h.zipObject)(s,i);o||(d=(0,h.pickBy)(function(e){return!(0,h.isEmpty)(e)},d)),t.props.onMetadataChange({metadata:{headers:["sample_name"].concat((0,r.default)(e)),rows:N(function(e,t){return _objectSpread({},(0,h.mapValues)(function(e){return e||""},e),{sample_name:t})},d)}})}),(0,f.default)((0,c.default)(t),"resyncMetadataWithParent",function(){var e=t.state,a=e.headersToEdit,l=e.metadataFieldsToEdit;t.onMetadataChange(a,l)}),(0,f.default)((0,c.default)(t),"getMetadataValue",function(e,a){var l=(0,h.get)([e.name,a],t.state.metadataFieldsToEdit);return void 0!==l?l:(0,h.get)(a,e.metadata)}),(0,f.default)((0,c.default)(t),"handleColumnChange",function(e){t.setState({selectedFieldNames:e}),(0,g.logAnalyticsEvent)("MetadataManualInput_column-selector_changed",{selectedFieldNames:e.length})}),(0,f.default)((0,c.default)(t),"getHostGenomeOptions",function(){return(0,h.orderBy)("count","desc",t.props.hostGenomes.map(function(e){return{text:e.name,value:e.id,count:e.samples_count}}))}),(0,f.default)((0,c.default)(t),"renderColumnSelector",function(){var e=(0,h.values)(t.props.projectMetadataFields).map(function(e){return{value:e.key,text:e.name}});return p.default.createElement(v.default,{direction:"left",hideArrow:!0,hideCounter:!0,rounded:!0,search:!0,checkedOnTop:!0,menuLabel:"Select Columns",onChange:t.handleColumnChange,options:e,trigger:p.default.createElement(w.default,{className:_.default.plusIcon}),value:t.state.selectedFieldNames,className:_.default.columnPicker})}),(0,f.default)((0,c.default)(t),"updateHostGenome",function(e,a){var l=(0,h.find)(["id",e],t.props.hostGenomes);t.updateMetadataField("Host Organism",l?l.name:e,a)}),(0,f.default)((0,c.default)(t),"renderApplyToAll",function(e,a){return t.state.applyToAllCell.sampleName===e.name&&t.state.applyToAllCell.column===a?p.default.createElement("div",{className:_.default.applyToAll,onClick:function onClick(){var l=t.getMetadataValue(e,a);t.applyToAll(a,l),(0,g.logAnalyticsEvent)("MetadataManualInput_apply-all_clicked",{sampleName:e.name,column:a})}},"Apply to All"):null}),(0,f.default)((0,c.default)(t),"getSampleHostGenomeId",function(e){return t.props.samplesAreNew?(0,h.get)("id",(0,h.find)(["name",t.getMetadataValue(e,"Host Organism")],t.props.hostGenomes)):e.host_genome_id}),(0,f.default)((0,c.default)(t),"getSampleHostGenome",function(e){return(0,h.find)(["id",t.getSampleHostGenomeId(e)],t.state.hostGenomes)}),(0,f.default)((0,c.default)(t),"isHostGenomeIdValidForField",function(e,a){return"Host Organism"===a||(0,h.get)([a,"is_required"],t.props.projectMetadataFields)||(0,h.includes)(e,(0,h.get)([a,"host_genome_ids"],t.props.projectMetadataFields))}),(0,f.default)((0,c.default)(t),"getManualInputData",function(){var e=(t.context||{}).allowedFeatures;return t.props.samples?t.props.samples.map(function(a){var l=t.getManualInputColumns();return(0,h.zipObject)(l,l.map(function(l){if("Sample Name"===l)return p.default.createElement("div",{className:_.default.sampleName,key:"Sample Name"},a.name);var n=(0,m.default)(_.default.input,l.startsWith("collection_location")&&_.default.extraWidth),r=t.getSampleHostGenomeId(a);if(t.props.samplesAreNew&&"Host Organism"===l)return p.default.createElement("div",null,e.includes("host_genome_free_text")?p.default.createElement(S.default,{className:n,value:t.getMetadataValue(a,l),onResultSelect:function onResultSelect(e){var l=e.result;t.updateHostGenome(l.name||l,a)},hostGenomes:t.props.hostGenomes||[]}):p.default.createElement(y.default,{className:n,options:t.getHostGenomeOptions(),value:r,onChange:function onChange(e){return t.updateHostGenome(e,a)},usePortal:!0,withinModal:t.props.withinModal}),t.props.samples.length>1&&t.renderApplyToAll(a,l));if(t.isHostGenomeIdValidForField(r,l)){var o=t.getSampleHostGenome(a)||{};return p.default.createElement("div",null,p.default.createElement(k.default,{key:l,className:n,value:t.getMetadataValue(a,l),metadataType:t.state.projectMetadataFields[l],onChange:function onChange(e,l){t.updateMetadataField(e,l,a),(0,g.logAnalyticsEvent)("MetadataManualInput_input_changed",{key:e,value:l,sampleName:a.name})},withinModal:t.props.withinModal,isHuman:"human"===o.taxa_category,isInsect:"insect"===o.taxa_category,sampleTypes:t.props.sampleTypes}),t.props.samples.length>1&&t.renderApplyToAll(a,l))}return p.default.createElement("div",{className:_.default.noInput,key:l},"--")}))}):null}),(0,f.default)((0,c.default)(t),"getColumnWidth",function(e){return["Sample Name","collection_location_v2"].includes(e)?parseInt(_.default.metadataInputExtraWidth)+15:parseInt(_.default.metadataInputWidth)+15}),t}return(0,u.default)(MetadataManualInput,e),(0,s.default)(MetadataManualInput,[{key:"componentDidMount",value:function componentDidMount(){var e=this.props,t=e.projectMetadataFields,a=e.hostGenomes,l=e.samplesAreNew;this.setState({projectMetadataFields:t,selectedFieldNames:N("key",(0,h.filter)(["is_required",1],t)),hostGenomes:a,headers:_objectSpread({"Sample Name":"Sample Name"},l?{"Host Organism":"Host Organism"}:{},{},(0,h.mapValues)("name",(0,h.keyBy)("key",t)))},l?this.setDefaultWaterControl:null)}},{key:"componentDidUpdate",value:function componentDidUpdate(e){var t=this.props,a=t.samples,l=t.samplesAreNew;a!==e.samples&&(l&&this.setDefaultWaterControl()||this.resyncMetadataWithParent())}},{key:"render",value:function render(){return p.default.createElement("div",{className:(0,m.default)(_.default.metadataManualInput,this.props.className)},p.default.createElement("div",{className:_.default.tableContainer},p.default.createElement("div",{className:_.default.tableScrollWrapper},p.default.createElement(b.default,{className:_.default.inputTable,headers:this.state.headers,columns:this.getManualInputColumns(),data:this.getManualInputData(),getColumnWidth:this.getColumnWidth})),this.renderColumnSelector()))}}]),MetadataManualInput}(p.default.Component);x.propTypes={samples:C.default.arrayOf(C.default.Sample),project:C.default.Project,className:C.default.string,onMetadataChange:C.default.func.isRequired,samplesAreNew:C.default.bool,withinModal:C.default.bool,projectMetadataFields:C.default.object,hostGenomes:C.default.array,sampleTypes:C.default.arrayOf(C.default.SampleTypeProps).isRequired},x.contextType=E.UserContext;var M=x;t.default=M},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(3)),d=l(a(11)),c=l(a(2)),u=l(a(0)),f=a(17),p=l(a(24)),m=a(221),h=l(a(287)),g=function(e){function HostOrganismSearchBox(){var e,t;(0,n.default)(this,HostOrganismSearchBox);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return t=(0,o.default)(this,(e=(0,s.default)(HostOrganismSearchBox)).call.apply(e,[this].concat(l))),(0,c.default)((0,i.default)(t),"handleSearchTriggered",function(e){return t.buildResults(t.getMatchesByCategory(e),e)}),t}return(0,d.default)(HostOrganismSearchBox,e),(0,r.default)(HostOrganismSearchBox,[{key:"getMatchesByCategory",value:function getMatchesByCategory(e){var t=this.props.hostGenomes.filter(function(t){return t.showAsOption&&(0,m.doesResultMatch)(t,e)});return(0,m.sortResults)(t,e,function(e){return-1*e.samples_count})}},{key:"buildResults",value:function buildResults(e,t){var a=this,l={};return e.length&&(l.suggested={name:"SUGGESTED",results:e.map(function formatResult(e){var t=a.props.hostGenomes.find(function(t){return t.id===e.id});return{title:e.name,name:e.id,description:t.ercc_only?"Host will not be subtracted":null}})}),t.length&&(0,f.get)([0,"name"],e)!==t&&(l.noMatch={name:"Use Plain Text (No Match)",results:[{title:t,name:t,description:"Host will not be subtracted"}]}),l}},{key:"render",value:function render(){var e=this.props,t=e.className,a=e.value,l=e.onResultSelect;return u.default.createElement(h.default,{className:t,value:a,onSearchTriggered:this.handleSearchTriggered,onResultSelect:l,minChars:0,placeholder:"",icon:"chevron down",shouldSearchOnFocus:!0,delayTriggerSearch:0})}}]),HostOrganismSearchBox}(u.default.Component);g.propTypes={className:p.default.string,onResultSelect:p.default.func.isRequired,value:p.default.string,hostGenomes:p.default.arrayOf(p.default.HostGenome).isRequired};var v=g;t.default=v},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(5)),r=l(a(1)),o=l(a(0)),s=l(a(216)),i=l(a(1332)),d=function CategorySearchBox(e){return o.default.createElement("div",{className:i.default.categorySearchBox},o.default.createElement(s.default,(0,n.default)({category:!0},e)))};d.propTypes={clientSearchSource:r.default.array,serverSearchAction:r.default.string,rounded:r.default.bool,initialValue:r.default.string,onResultSelect:r.default.func,placeholder:r.default.string};var c=d;t.default=c},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(3)),d=l(a(11)),c=l(a(2)),u=l(a(0)),f=l(a(1)),p=l(a(72)),m=a(20),h=l(a(127)),g=l(a(212)),v=l(a(213)),y=l(a(222)),b=l(a(761)),C=l(a(763)),w=l(a(1347)),E=function(e){function ProjectSettingsModal(e){var t;return(0,n.default)(this,ProjectSettingsModal),t=(0,o.default)(this,(0,s.default)(ProjectSettingsModal).call(this,e)),(0,c.default)((0,i.default)(t),"openModal",function(){return t.setState({modalOpen:!0})}),(0,c.default)((0,i.default)(t),"closeModal",function(){return t.setState({modalOpen:!1})}),(0,c.default)((0,i.default)(t),"makeProjectPublic",function(){var e=t.props,a=e.csrf,l=e.onProjectPublished,n=e.project;p.default.put("/projects/".concat(n.id,".json"),{public_access:!0,authenticity_token:a}).then(function(){l()})}),t.state={modalOpen:!1},t}return(0,d.default)(ProjectSettingsModal,e),(0,r.default)(ProjectSettingsModal,[{key:"render",value:function render(){var e=this.props,t=e.csrf,a=e.nextPublicSampleDate,l=e.onUserAdded,n=e.project,r=e.users;return u.default.createElement("div",null,u.default.createElement("div",{className:w.default.projectSettingsTrigger,onClick:(0,m.withAnalytics)(this.openModal,"ProjectSettingsModal_open-link_click",{projectId:n.id,projectName:n.name})},"Settings"),this.state.modalOpen&&u.default.createElement(h.default,{open:!0,narrow:!0,onClose:(0,m.withAnalytics)(this.closeModal,"ProjectSettingsModal_close-modal_clicked",{projectId:n.id,projectName:n.name}),className:w.default.projectSettingsModal},u.default.createElement("div",{className:w.default.projectSettingsContent},u.default.createElement("div",{className:w.default.title},u.default.createElement("span",{className:w.default.highlight},n.name)," members and access control"),u.default.createElement("div",{className:w.default.projectVisibility},n.public_access?u.default.createElement("div",{className:w.default.visibility},u.default.createElement(g.default,{className:w.default.icon}),u.default.createElement("span",{className:w.default.label},"Public Project")):u.default.createElement("div",{className:w.default.visibility},u.default.createElement(v.default,{className:w.default.icon}),u.default.createElement("span",{className:w.default.label},"Private Project"),u.default.createElement("span",{className:w.default.toggle},u.default.createElement(C.default,{onConfirm:(0,m.withAnalytics)(this.makeProjectPublic,"ProjectSettingsModal_public-button_confirmed",{projectId:n.id,projectName:n.name}),project:n,trigger:u.default.createElement("div",null,"Make public")}))),a&&u.default.createElement("div",{className:w.default.note},"Next project sample will become public on"," ",a,".")),u.default.createElement(y.default,null),u.default.createElement("div",{className:w.default.userManagementFormContainer},u.default.createElement(b.default,{csrf:t,onUserAdded:l,project:n,users:r})))))}}]),ProjectSettingsModal}(u.default.Component);E.propTypes={csrf:f.default.string.isRequired,onUserAdded:f.default.func,onProjectPublished:f.default.func,project:f.default.shape({id:f.default.number,name:f.default.string,public_access:f.default.oneOfType([f.default.bool,f.default.number])}).isRequired,nextPublicSampleDate:f.default.string,users:f.default.array};var S=E;t.default=S},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(3)),d=l(a(11)),c=l(a(2)),u=l(a(0)),f=l(a(1)),p=l(a(4)),m=l(a(72)),h=l(a(51)),g=a(401),v=l(a(292)),y=l(a(214)),b=a(20),C=l(a(1341)),w=function(e){function UserManagementForm(e){var t;return(0,n.default)(this,UserManagementForm),t=(0,o.default)(this,(0,s.default)(UserManagementForm).call(this,e)),(0,c.default)((0,i.default)(t),"handleAddUser",function(){var e=t.props,a=e.csrf,l=e.onUserAdded,n=e.project,r=t.state,o=r.name,s=r.email,i={email:v.default.validateEmail(s),name:v.default.validateName(o)};if(Object.values(i).every(function(e){return!!e}))t.setState({statusClass:C.default.infoMessage,statusMessage:"Sending invitation"}),m.default.put("/projects/".concat(n.id,"}/add_user"),{user_name_to_add:o,user_email_to_add:s,authenticity_token:a}).then(function(){l(o,s),t.setState({statusClass:C.default.successMessage,statusMessage:"Invitation sent! User added.",name:"",email:""})});else{var d=Object.keys(i).filter(function(e){return!i[e]}).join(" and ");t.setState({statusClass:C.default.errorMessage,statusMessage:"Invalid ".concat(d," address")})}}),(0,c.default)((0,i.default)(t),"handleChangeName",function(e){t.setState({name:e,statusClass:C.default.infoMessage,statusMessage:""})}),(0,c.default)((0,i.default)(t),"handleChangeEmail",function(e){t.setState({email:e,statusClass:C.default.infoMessage,statusMessage:""})}),t.state={name:"",email:"",statusMessage:"",statusClass:null},t}return(0,d.default)(UserManagementForm,e),(0,r.default)(UserManagementForm,[{key:"render",value:function render(){var e=this.props.users;return u.default.createElement("div",{className:C.default.userManagementForm},u.default.createElement("div",{className:C.default.title},u.default.createElement(y.default,{className:C.default.icon}),"Project Members"),u.default.createElement("div",{className:C.default.userList},e.length>0?e.map(function(e){return u.default.createElement("div",{className:C.default.userEntry,key:e.email},e.name," (",e.email,")")}):u.default.createElement("div",{className:C.default.userEntry,key:"None"},"None")),u.default.createElement("div",{className:C.default.fillIn}),u.default.createElement("div",{className:(0,p.default)(C.default.statusMessage,this.state.statusClass)},this.state.statusMessage),u.default.createElement("div",{className:C.default.addMemberForm},u.default.createElement("div",{className:C.default.addMemberFormField},u.default.createElement(g.Input,{fluid:!0,type:"text",placeholder:"Full Name",onChange:this.handleChangeName,value:this.state.name})),u.default.createElement("div",{className:C.default.addMemberFormField},u.default.createElement(g.Input,{fluid:!0,type:"text",placeholder:"Email",onChange:this.handleChangeEmail,value:this.state.email})),u.default.createElement("div",{className:C.default.addMemberFormField},u.default.createElement(h.default,{text:"Add member",onClick:(0,b.withAnalytics)(this.handleAddUser,"UserManagementForm_add-member-button_clicked")}))))}}]),UserManagementForm}(u.default.Component);w.propTypes={csrf:f.default.string,onUserAdded:f.default.func,project:f.default.shape({id:f.default.number,name:f.default.string,public_access:f.default.oneOfType([f.default.bool,f.default.number])}).isRequired,users:f.default.array};var E=w;t.default=E},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(3)),d=l(a(11)),c=l(a(2)),u=l(a(0)),f=l(a(1)),p=l(a(172)),m=l(a(83)),h=l(a(1339)),g=l(a(4)),v=function(e){function SearchBoxList(e){var t;(0,n.default)(this,SearchBoxList),t=(0,o.default)(this,(0,s.default)(SearchBoxList).call(this,e)),(0,c.default)((0,i.default)(t),"handleOptionClick",function(e){var a=new Set(t.state.selected);a.has(e)?a.delete(e):a.add(e),t.setState({selected:a},function(){return t.props.onChange&&t.props.onChange(t.state.selected)})}),(0,c.default)((0,i.default)(t),"handleFilterChange",function(e){t.setState({filteredOptions:t.sortedOptions.filter(function(t){return t.label.toLowerCase().includes(e)})})});var a=new Set(t.props.selected);return t.sortedOptions=t.sortOptions(t.props.options,a),t.state={filteredOptions:t.sortedOptions,selected:a},t}return(0,d.default)(SearchBoxList,e),(0,r.default)(SearchBoxList,[{key:"sortOptions",value:function sortOptions(e,t){var a=function sortByLabel(e,t){return e.label>t.label?1:-1},l={},n=[];return e.forEach(function(e){t.has(e.value)?l[e.value]=e:n.push(e)}),n.sort(a),Array.from(t).map(function(e){return l[e]}).sort(a).concat(n)}},{key:"render",value:function render(){var e=this;return u.default.createElement("div",{className:h.default.searchBoxList},this.props.title&&u.default.createElement("div",{className:h.default.title},this.props.title),u.default.createElement("div",null,u.default.createElement(m.default,{fluid:!0,className:h.default.searchBox,icon:"search",placeholder:"Search",onChange:this.handleFilterChange})),u.default.createElement("div",{className:h.default.listBox},this.state.filteredOptions.map(function(t){return u.default.createElement("div",{className:(0,g.default)(h.default.listElement,{active:e.state.selected.has(t.value)}),key:"option-".concat(t.value),onClick:function onClick(){return e.handleOptionClick(t.value)}},u.default.createElement("div",{className:h.default.listCheckmark},e.state.selected.has(t.value)&&u.default.createElement(p.default,{size:"small"})),u.default.createElement("div",{className:h.default.listLabel},t.label))})))}}]),SearchBoxList}(u.default.Component);v.defaultProps={selected:[]},v.propTypes={options:f.default.array,selected:f.default.oneOfType([f.default.instanceOf(Set),f.default.array]),onChange:f.default.func,title:f.default.string};var y=v;t.default=y},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(3)),d=l(a(11)),c=l(a(2)),u=l(a(0)),f=l(a(1)),p=l(a(127)),m=a(176),h=l(a(1344)),g=function(e){function PublicProjectConfirmationModal(e){var t;return(0,n.default)(this,PublicProjectConfirmationModal),t=(0,o.default)(this,(0,s.default)(PublicProjectConfirmationModal).call(this,e)),(0,c.default)((0,i.default)(t),"openModal",function(){t.setState({modalOpen:!0})}),(0,c.default)((0,i.default)(t),"closeModal",function(){return t.setState({modalOpen:!1})}),(0,c.default)((0,i.default)(t),"handleConfirm",function(){var e=t.props.onConfirm;t.setState({modalOpen:!1},e)}),t.state={modalOpen:!1},t}return(0,d.default)(PublicProjectConfirmationModal,e),(0,r.default)(PublicProjectConfirmationModal,[{key:"render",value:function render(){var e=this.props,t=e.project,a=e.trigger;return u.default.createElement("div",null,u.default.createElement("div",{onClick:this.openModal},a),this.state.modalOpen&&u.default.createElement(p.default,{className:h.default.publicProjectConfirmation,narrowest:!0,open:!0},u.default.createElement("div",{className:h.default.title},"Make ",u.default.createElement("span",{className:h.default.highlight},t.name)," public"),u.default.createElement("div",{className:h.default.text},u.default.createElement("p",null,"By making this project public, anyone who has access to IDseq will be able to see your project and the included samples. When you upload a new sample to this project, it will automatically be available for all IDseq users. This action is"," ",u.default.createElement("span",{className:h.default.highlight},"not reversible"),"."),u.default.createElement("p",null,"For more information, view our"," ",u.default.createElement("span",{className:h.default.link,onClick:function onClick(){return window.open("https://idseq.net/privacy")}},"privacy policy")," ","or"," ",u.default.createElement("span",{className:h.default.link,onClick:function onClick(){return window.open("https://idseq.net/terms")}},"terms of service"),".")),u.default.createElement("div",{className:h.default.actions},u.default.createElement("div",{className:h.default.item},u.default.createElement(m.PrimaryButton,{text:"Make Project Public",onClick:this.handleConfirm})),u.default.createElement("div",{className:h.default.item},u.default.createElement(m.SecondaryButton,{onClick:this.closeModal,text:"Cancel"})))))}}]),PublicProjectConfirmationModal}(u.default.Component);g.propTypes={onConfirm:f.default.func.isRequired,project:f.default.shape({id:f.default.number,name:f.default.string,public_access:f.default.oneOfType([f.default.bool,f.default.number])}).isRequired,trigger:f.default.node};var v=g;t.default=v},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SaveButton=void 0;var n=l(a(5)),r=l(a(0)),o=l(a(139)),s=l(a(46)),i=l(a(88)),d=function SaveButton(e){return r.default.createElement(s.default,{trigger:r.default.createElement(i.default,(0,n.default)({text:"Save"},e,{icon:r.default.createElement(o.default,{size:"large",className:"save alternate"})})),content:"Your visualization was saved!",on:"click",hideOnScroll:!0})};t.SaveButton=d;var c=d;t.default=c},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(5)),r=l(a(0)),o=l(a(139)),s=l(a(51)),i=function ShareButton(e){return r.default.createElement(s.default,(0,n.default)({text:"Share"},e,{icon:r.default.createElement(o.default,{size:"large",className:"share alternate"})}))};t.default=i},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSampleTableData=void 0;var l=a(17),n=a(128),r=function roundToTwo(e){return(0,l.isFinite)(e)?e.toFixed(2):e},o=function toPercent(e){return(0,l.isFinite)(e)?"".concat(r(e),"%"):e};t.getSampleTableData=function getSampleTableData(e){var t=e.derived_sample_output,a=e.db_sample,s=e.metadata;return{total_reads:(0,n.numberWithCommas)((0,l.get)("pipeline_run.total_reads",t)),nonhost_reads:(0,n.numberWithCommas)((0,l.get)("summary_stats.adjusted_remaining_reads",t)),nonhost_reads_percent:o((0,l.get)("summary_stats.percent_remaining",t)),total_ercc_reads:(0,n.numberWithCommas)((0,l.get)("pipeline_run.total_ercc_reads",t)),fraction_subsampled:r((0,l.get)("pipeline_run.fraction_subsampled",t)),quality_control:o((0,l.get)("summary_stats.qc_percent",t)),compression_ratio:r((0,l.get)("summary_stats.compression_ratio",t)),sample_type:(0,l.get)("sample_type",s),nucleotide_type:(0,l.get)("nucleotide_type",s),collection_location:(0,l.get)("collection_location",s),host_genome:(0,l.get)("host_genome_name",a),notes:(0,l.get)("sample_notes",a)}}},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(0)),c=l(a(1)),u=a(17),f=l(a(14)),p=l(a(1353)),m=l(a(393)),h=function(e){function PublicSampleNotification(){return(0,n.default)(this,PublicSampleNotification),(0,o.default)(this,(0,s.default)(PublicSampleNotification).apply(this,arguments))}return(0,i.default)(PublicSampleNotification,e),(0,r.default)(PublicSampleNotification,[{key:"render",value:function render(){var e=this.props,t=e.samples,a=e.projectName,l=e.onClose,n=(0,u.minBy)(function(e){return(0,f.default)(e.private_until)},t),r=d.default.createElement(d.default.Fragment,null,d.default.createElement("span",{className:p.default.highlight},t.length," sample",t.length>1?"s":""),"of project"," ",d.default.createElement("span",{className:p.default.highlight},a)," will become public soon starting on ",d.default.createElement("span",{className:p.default.highlight},(0,f.default)(n.private_until).format("MMM Do, YYYY")),". If you have any questions, please refer to IDseq's",d.default.createElement("a",{className:p.default.policyLink,onClick:function onClick(){return window.open("https://idseq.net/privacy")}},"privacy policy"),"or"," ",d.default.createElement("a",{className:p.default.emailLink,href:"mailto:help@idseq.net"},"email us"));return d.default.createElement(m.default,{className:p.default.publicSampleNotification,onClose:l,type:"warn",label:r,listItemName:"sample",listItems:(0,u.map)("name",t)})}}]),PublicSampleNotification}(d.default.Component);h.propTypes={projectName:c.default.string.isRequired,samples:c.default.array.isRequired,onClose:c.default.func};var g=h;t.default=g},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(35)),r=l(a(26)),o=l(a(32)),s=l(a(27)),i=l(a(7)),d=l(a(8)),c=l(a(10)),u=l(a(9)),f=l(a(3)),p=l(a(11)),m=l(a(2)),h=l(a(4)),g=l(a(0)),v=l(a(279)),y=l(a(119)),b=a(37),C=a(17),w=l(a(211)),E=l(a(1)),S=a(42),_=a(82),k=a(20),N=l(a(293)),x=l(a(142)),M=l(a(215)),T=a(295),P=l(a(224)),D=l(a(220)),I=l(a(177)),j=l(a(406)),L=l(a(407)),O=l(a(769)),R=l(a(410)),A=l(a(411)),F=l(a(412)),V=l(a(413)),U=l(a(414)),z=l(a(415)),B=l(a(216)),H=l(a(284)),q=l(a(772)),G=l(a(773)),W=l(a(418)),K=a(128),Y=a(296),Z=l(a(294)),X=a(87);function ownKeys(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(a,!0).forEach(function(t){(0,m.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Q=4,J=[9605,9606],$=function(e){function PipelineSampleReport(e){var t;(0,i.default)(this,PipelineSampleReport),t=(0,c.default)(this,(0,u.default)(PipelineSampleReport).call(this,e)),(0,m.default)((0,f.default)(t),"fetchReportData",(0,s.default)(r.default.mark(function _callee(){var e,a,l,n,s,i,d,c,u,f,p,m;return r.default.wrap(function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return t.nanobar.go(30),t.setState({loading:!0}),e="?".concat(window.location.search.replace("?",""),"&report_ts=").concat(t.report_ts,"&git_version=").concat(t.gitVersion,"&format=json"),r.next=5,Promise.all([(0,S.getSampleReportInfo)(t.sampleId,e),(0,S.getSummaryContigCounts)(t.sampleId,t.state.minContigReads)]);case 5:a=r.sent,l=(0,o.default)(a,2),n=l[0],s=l[1],t.nanobar.go(100),i=(0,T.addContigCountsToTaxonomyDetails)(n.taxonomy_details[2],s.contig_counts),d=(0,C.partition)(["tax_level",2],i),c=(0,o.default)(d,2),u=c[0],f=c[1],p=(0,C.keyBy)("genus_taxid",u),m=(0,C.mapValues)((0,C.map)(function(e){return{taxonId:e.tax_id,taxonName:e.name,taxonCommonName:e.common_name}}),(0,C.groupBy)("genus_taxid",f)),t.genusMap=p,t.genusToSpeciesMap=m,t.setState({loading:!1,rows_passing_filters:n.taxonomy_details[0],rows_total:n.taxonomy_details[1],taxonomy_details:i,generaContainingTags:(0,Y.getGeneraContainingTags)(n.taxonomy_details[2]),topScoringTaxa:n.topScoringTaxa,backgroundData:{id:n.background_info.id,name:n.background_info.name},contigTaxidList:n.contig_taxid_list},function(){t.applyFilters(!0)});case 17:case"end":return r.stop()}},_callee)}))),(0,m.default)((0,f.default)(t),"anyFilterSet",function(){return t.state.search_taxon_id>0||t.state.includedCategories.length>0||t.state.includedSubcategories.length>0||t.state.activeThresholds.length>0&&Z.default.isThresholdValid(t.state.activeThresholds[0])}),(0,m.default)((0,f.default)(t),"resetAllFilters",function(){t.setState({activeThresholds:[],includedCategories:[],includedSubcategories:[],search_taxon_id:0,selected_taxons:t.state.taxonomy_details,selected_taxons_top:t.state.taxonomy_details.slice(0,t.max_rows_to_render),pagesRendered:1,rows_passing_filters:t.state.taxonomy_details.length,readSpecificity:0},function(){Z.default.saveThresholdFilters([]),v.default.set("includedCategories","[]"),v.default.set("includedSubcategories","[]")})}),(0,m.default)((0,f.default)(t),"applyFilters",function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(t.thresholded_taxons=(0,T.computeThresholdedTaxons)(t.state.taxonomy_details,t.state.activeThresholds));var e=t.thresholded_taxons,a=t.state.search_taxon_id,l=t.state.includedCategories,n=t.state.includedSubcategories,r=[],o=1===t.state.readSpecificity;if(a>0){for(var s={},i=[],d=[],c=0;c<e.length;c++){var u=e[c];if(u.genus_taxid==u.tax_id)i.length>0&&(d.push(s),d=d.concat(i)),s=u,i=[];else{var f=new Set([u.tax_id,u.lineage.species_taxid,u.lineage.genus_taxid,u.lineage.family_taxid,u.lineage.order_taxid,u.lineage.class_taxid,u.lineage.phylum_taxid,u.lineage.kingdom_taxid,u.lineage.superkingdom_taxid]);f&&f.has(a)&&i.push(u)}}i.length>0&&(d.push(s),d=d.concat(i)),e=d}if(l.length>0||n.length>0){var p=[];Object.keys(t.categoryChildParent).forEach(function(e){var a=t.categoryChildParent[e];l.includes(a)&&n.indexOf(e)<0&&p.push(e)});for(var m=n.map(function(e){return"is_".concat(e.toLowerCase())}),h=p.map(function(e){return"is_".concat(e.toLowerCase())}),g=0;g<e.length;g++){var v=e[g];if((0,T.isTaxonIncluded)(v,l,m,h))r.push(v);else if("Uncategorized"==v.category_name&&-200==parseInt(v.tax_id)){var y=v,b=[];for(v=e[++g];v&&-200==v.genus_taxid;)(0,T.isTaxonIncluded)(v,l,m,h)&&b.push(v),v=e[++g];b.length>0&&(r.push(y),r=r.concat(b)),g--}}}else r=e;o&&(r=t.filterNonSpecific(r)),r=t.updateSpeciesCount(r),o&&(r=t.removeEmptyGenusRows(r)),t.setState({loading:!1,selected_taxons:r,selected_taxons_top:r.slice(0,t.max_rows_to_render),pagesRendered:1,rows_passing_filters:r.length})}),(0,m.default)((0,f.default)(t),"updateSpeciesCount",function(e){for(var t=0;t<e.length;t++){if(e[t].genus_taxid==e[t].tax_id){for(var a=0,l=t+1;l<e.length&&e[l].genus_taxid!=e[l].tax_id&&e[l].genus_taxid===e[t].genus_taxid;l++)a++;e[t].species_count=a}}return e}),(0,m.default)((0,f.default)(t),"filterNonSpecific",function(e){for(var t=[],a=0;a<e.length;a++){var l=e[a];if(l.tax_id<0){if(2===l.tax_level){for(var n=a+1;n<e.length&&e[n].genus_taxid===l.tax_id;)n++;a=n-1}}else t.push(l)}return t}),(0,m.default)((0,f.default)(t),"removeEmptyGenusRows",function(e){return e.filter(function(e){return 1===e.tax_level||e.species_count>0})}),(0,m.default)((0,f.default)(t),"scrollDown",function(){var e=(0,f.default)(t);(0,y.default)(window).scroll(function(){if((0,y.default)(window).scrollTop()>(0,y.default)(document).height()-(0,y.default)(window).height()-6e3)return e.state.rows_total>0&&!e.state.rendering&&e.renderMore(),!1})}),(0,m.default)((0,f.default)(t),"renderMore",function(){var e=t.state.selected_taxons,a=t.state.pagesRendered,l=t.max_rows_to_render;if(e.length>a*t.max_rows_to_render){var r=e.slice(a*l,l*(a+1));t.setState(function(e){return{selected_taxons_top:[].concat((0,n.default)(e.selected_taxons_top),(0,n.default)(r)),pagesRendered:a+1}})}}),(0,m.default)((0,f.default)(t),"initializeTooltip",function(){(0,y.default)(function(){(0,y.default)("[rel='tooltip']").tooltip({delay:0,html:!0,placement:"top",offset:"0px 50px"}),(0,y.default)(".sort-controls").hover(function(){var e=(0,y.default)(".tooltip"),t=parseInt(e.css("left"));isNaN(t)||e.css("left",t-15)})})}),(0,m.default)((0,f.default)(t),"applySort",function(e){e.toLowerCase()!=t.state.sort_by&&(t.state.sort_by=e.toLowerCase(),t.sortResults())}),(0,m.default)((0,f.default)(t),"setSortParams",function(){var e=t.state.sort_by.split("_");e[0]=e[0].toUpperCase();var a=t.default_sort_by.split("_");a[0]=a[0].toUpperCase(),t.sortParams={primary:e,secondary:a}}),(0,m.default)((0,f.default)(t),"handleIncludedCategoriesChange",function(e,a){var l=[];for(var n in a)a.hasOwnProperty(n)&&(l=l.concat(a[n]));t.setState({includedCategories:e,includedSubcategories:l},function(){v.default.set("includedCategories",JSON.stringify(e)),v.default.set("includedSubcategories",JSON.stringify(l)),t.applyFilters(),(0,k.logAnalyticsEvent)("PipelineSampleReport_included-categories_changed",{includedCategories:t.state.includedCategories.length,includedSubcategories:l.length})})}),(0,m.default)((0,f.default)(t),"handleRemoveCategory",function(e){var a=t.state.includedCategories.filter(function(t){return t!=e});t.handleIncludedCategoriesChange(a,t.state.includedSubcategories)}),(0,m.default)((0,f.default)(t),"handleRemoveSubcategory",function(e){var a=t.state.includedSubcategories.filter(function(t){return t!=e});t.handleIncludedCategoriesChange(t.state.includedCategories,a)}),(0,m.default)((0,f.default)(t),"sortResults",function(){t.setSortParams();var e=t.state.selected_taxons,a=(0,T.getTaxonSortComparator)(t.sortParams.primary,t.sortParams.secondary,t.genusMap);e=e.sort(a),t.setState({selected_taxons:e,selected_taxons_top:e.slice(0,t.max_rows_to_render),pagesRendered:1}),t.thresholded_taxons=t.thresholded_taxons.sort(a),t.state.taxonomy_details=t.state.taxonomy_details.sort(a)}),(0,m.default)((0,f.default)(t),"handleThresholdFiltersChange",function(e){Z.default.saveThresholdFilters(e),t.setState({activeThresholds:e},function(){t.applyFilters(!0)})}),(0,m.default)((0,f.default)(t),"handleRemoveThresholdFilter",function(e){var a=Object.assign([],t.state.activeThresholds);a.splice(e,1),t.handleThresholdFiltersChange(a)}),(0,m.default)((0,f.default)(t),"handleBackgroundModelChange",function(e,a){e!==t.state.backgroundData.id&&(v.default.set("background_id",e),t.setState({backgroundData:{name:a,id:e}},function(){(0,k.logAnalyticsEvent)("PipelineSampleReport_background-model-filter_changed",{backgroundName:a,backgroundId:e}),t.props.refreshPage({background_id:e})}))}),(0,m.default)((0,f.default)(t),"handleNameTypeChange",function(e){t.props.onNameTypeChange(e),(0,k.logAnalyticsEvent)("PipelineSampleReport_name-type-filter_changed",{nameType:e})}),(0,m.default)((0,f.default)(t),"handleSpecificityChange",function(e){v.default.set("readSpecificity",e),t.setState({readSpecificity:e},function(){t.applyFilters(),(0,k.logAnalyticsEvent)("PipelineSampleReport_specificity-filter_changed",{readSpecificity:e})})}),(0,m.default)((0,f.default)(t),"handleTreeMetricChange",function(e){v.default.set("treeMetric",e),t.setState({treeMetric:e},function(){(0,k.logAnalyticsEvent)("PipelineSampleReport_tree-metric-picker_changed",{treeMetric:e})})}),(0,m.default)((0,f.default)(t),"handleMinContigReadsChange",function(){var e=(0,s.default)(r.default.mark(function _callee2(e){var a,l;return r.default.wrap(function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:return v.default.set("minContigReads",e),t.setState({minContigReads:e},function(){(0,k.logAnalyticsEvent)("PipelineSampleReport_min-contig-size-filter_changed",{minContigReads:e})}),n.next=4,(0,S.getSummaryContigCounts)(t.sampleId,e);case 4:a=n.sent,l=(0,T.addContigCountsToTaxonomyDetails)(t.state.taxonomy_details,a.contig_counts),t.setState({taxonomy_details:l},function(){t.applyFilters(!0)});case 7:case"end":return n.stop()}},_callee2)}));return function(t){return e.apply(this,arguments)}}()),(0,m.default)((0,f.default)(t),"gotoNCBI",function(e){var t=e.taxId,a=parseInt(t);a<-1e8&&(a=-a%-1e8),a=a.toString();var l="https://www.ncbi.nlm.nih.gov/Taxonomy/Browser/wwwtax.cgi?mode=Info&id=".concat(a);window.open(l,"hide_referrer")}),(0,m.default)((0,f.default)(t),"downloadFastaUrl",function(e){var a=e.taxLevel,l=e.taxId,n=t.props.reportPageParams.pipeline_version,r="species"===a?1:2;location.href="/samples/".concat(t.sampleId,"/fasta/").concat(r,"/").concat(l,"/NT_or_NR?pipeline_version=").concat(n)}),(0,m.default)((0,f.default)(t),"downloadContigUrl",function(e){var a=e.taxId,l=t.props.reportPageParams.pipeline_version;location.href="/samples/".concat(t.sampleId,"/taxid_contigs?taxid=").concat(a,"&pipeline_version=").concat(l)}),(0,m.default)((0,f.default)(t),"handleCoverageVizClick",function(e){var a=e.taxId,l=e.taxLevel,n=e.taxName,r=e.taxCommonName,o=t.props.reportPageParams.pipeline_version,s="/samples/".concat(t.sampleId,"/alignment_viz/nt_").concat(l,"_").concat(a,"?pipeline_version=").concat(o),i="genus"===l?t.genusToSpeciesMap[a]:[];(0,X.pipelineVersionHasCoverageViz)(o)?t.props.onCoverageVizClick({taxId:a,taxName:n,taxCommonName:r,taxLevel:l,alignmentVizUrl:s,speciesTaxons:i}):window.open(s)}),(0,m.default)((0,f.default)(t),"handlePhyloTreeModalOpen",function(e){t.setState({phyloTreeModalParams:e})}),(0,m.default)((0,f.default)(t),"handlePhyloTreeModalClose",function(){t.setState({phyloTreeModalParams:null})}),(0,m.default)((0,f.default)(t),"displayHoverActions",function(e,a){var l=t.props.reportPageParams,n=e.tax_id<t.INVALID_CALL_BASE_TAXID||e.tax_id>0,r=n,o=!J.includes(e.tax_id)&&a.taxon_fasta_flag,s=!J.includes(e.tax_id)&&t.state.contigTaxidList.indexOf(e.tax_id)>=0,i=!J.includes(e.tax_id)&&t.canSeeAlignViz&&n&&e.NT.r>0,d=!J.includes(e.tax_id)&&t.allowPhyloTree&&e.tax_id>0&&H.default.passesCreateCondition(e.NT.r,e.NR.r),c={projectId:t.projectId,projectName:t.projectName,sampleId:t.sampleId,taxId:e.tax_id,taxLevel:e.tax_level,taxName:e.name};return g.default.createElement(W.default,{className:"link-tag",taxId:e.tax_id,taxLevel:e.tax_level,taxName:e.name,taxCommonName:e.common_name,ncbiEnabled:r,onNcbiActionClick:(0,k.withAnalytics)(t.gotoNCBI,"PipelineSampleReport_ncbi-link_clicked",c),fastaEnabled:o,onFastaActionClick:(0,k.withAnalytics)(t.downloadFastaUrl,"PipelineSampleReport_taxon-fasta-link_clicked",c),coverageVizEnabled:i,onCoverageVizClick:(0,k.withAnalytics)(t.handleCoverageVizClick,"PipelineSampleReport_coverage-viz-link_clicked",c),contigVizEnabled:s,onContigVizClick:(0,k.withAnalytics)(t.downloadContigUrl,"PipelineSampleReport_contig-download-link_clicked",c),phyloTreeEnabled:d,onPhyloTreeModalOpened:(0,k.withAnalytics)(t.handlePhyloTreeModalOpen,"PipelineSampleReport_phylotree-link_clicked",c),pipelineVersion:l.pipeline_version})}),(0,m.default)((0,f.default)(t),"renderName",function(e,a,l,n){var r=e.common_name,o=(0,Y.getTaxonName)(e.name,r,t.props.nameType),s="common name"==t.props.nameType.toLowerCase()&&(!r||""==r.trim()),i=g.default.createElement("span",{className:s?"count-info":""},o),d=function onTaxonClickHandler(){return n({taxInfo:e,backgroundData:l,taxonName:o})};i=e.tax_id>0?a.taxon_fasta_flag?g.default.createElement("span",{className:"taxon-sidebar-link",onClick:(0,k.withAnalytics)(d,"PipelineSampleReport_taxon-sidebar-link_clicked")},g.default.createElement("a",null,i)):g.default.createElement("span",{className:"taxon-sidebar-link",onClick:(0,k.withAnalytics)(d,"PipelineSampleReport_taxon-sidebar-link_clicked")},i):g.default.createElement("i",null,i);var c,u=g.default.createElement("span",null,t.state.generaContainingTags[e.tax_id]&&g.default.createElement(j.default,{tag2Count:t.state.generaContainingTags[e.tax_id]}),e.pathogenTag&&g.default.createElement(I.default,{type:e.pathogenTag}),t.isRowHovered(e)&&t.displayHoverActions(e,a));if(1==e.tax_level)c=g.default.createElement("div",{className:"hover-wrapper"},g.default.createElement("div",{className:"species-name"},i,u));else{var p="";-200!=e.tax_id&&(p=e.category_name);var m=g.default.createElement(CollapseExpand,{tax_info:e,parent:(0,f.default)(t)});c=g.default.createElement("div",{className:"hover-wrapper"},g.default.createElement("div",{className:"genus-name"}," ",m," ",i),g.default.createElement("i",{className:"count-info"},"(",e.species_count," ",(0,T.getCategoryAdjective)(p)," ","species)"),u)}return c}),(0,m.default)((0,f.default)(t),"isRowHovered",function(e){return t.state.hoverRowId===e.tax_id}),(0,m.default)((0,f.default)(t),"handleMouseEnter",function(e){t.setState({hoverRowId:e})}),(0,m.default)((0,f.default)(t),"handleMouseLeave",function(){t.setState({hoverRowId:null})}),(0,m.default)((0,f.default)(t),"renderNumber",function(e,a,l){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"";if(!r)return null;var i=(0,K.numberWithCommas)(Number(e).toFixed(l)),d=null!==a?(0,K.numberWithCommas)(Number(a).toFixed(l)):null,c=n?g.default.createElement("div",{className:"active ".concat(t.switchClassName("NT",e))},o?g.default.createElement(L.default,null):null," ",i):g.default.createElement("div",{className:"".concat(t.switchClassName("NT",e))},i),u=d?g.default.createElement("div",{className:"".concat(t.switchClassName("NR",a))},d):null;return g.default.createElement("td",{className:(0,h.default)("report-number",s)},c,u)}),(0,m.default)((0,f.default)(t),"switchClassName",function(e,a){var l=0===a||-100===a?"blank":"",n=t.state.countType===e?"active":"";return"".concat(n," ").concat(l," count-type")}),(0,m.default)((0,f.default)(t),"isSortedActive",function(e){var a=e.toLowerCase();return t.state.sort_by==a?"active":""}),(0,m.default)((0,f.default)(t),"render_sort_arrow",function(e,a,l){var n="".concat(t.isSortedActive(e)," fa fa-chevron-").concat(l);return g.default.createElement("i",{onClick:function onClick(){t.applySort(e),(0,k.logAnalyticsEvent)("PipelineSampleReport_column-sort-arrow_clicked",{column:e,desiredSortDirection:a,arrowDirection:l})},className:n,key:e.toLowerCase()})}),(0,m.default)((0,f.default)(t),"renderColumnHeader",function(e,a,l){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=g.default.createElement("div",{className:"sort-controls",onClick:function onClick(){t.applySort(a),(0,k.logAnalyticsEvent)("PipelineSampleReport_column-header_clicked",{columnName:a})}},g.default.createElement("span",{className:"".concat(t.isSortedActive(a)," table-head-label")},e),t.render_sort_arrow(a,"highest","up")),o="NT_aggregatescore"===a&&"score-column";return n?g.default.createElement("th",{className:(0,h.default)(o)},g.default.createElement(P.default,{position:"top right",trigger:r,content:l.tooltip,title:l.title?l.title:e,link:l.link})):null}),(0,m.default)((0,f.default)(t),"isTaxonExpanded",function(e){return t.expandAll&&e.genus_taxid>0||t.expandedGenera.indexOf(e.genus_taxid.toString())>=0}),(0,m.default)((0,f.default)(t),"getRowClass",function(e){var a=1===e.topScoring;return 2==e.tax_level?(0,h.default)("report-row-genus",e.genus_taxid,a&&"top-scoring-row"):(0,h.default)("report-row-species",e.genus_taxid,!t.isTaxonExpanded(e)&&"hidden",a&&"top-scoring-row")}),(0,m.default)((0,f.default)(t),"expandGenusClick",function(e){var a=e.target.attributes.class.nodeValue.split(" ")[2];t.expandGenus(a)}),(0,m.default)((0,f.default)(t),"expandGenus",function(e){t.expandedGenera.indexOf(e)<0&&t.expandedGenera.push(e),(0,y.default)(".report-row-species.".concat(e)).removeClass("hidden"),(0,y.default)(".report-arrow.".concat(e)).toggleClass("hidden")}),(0,m.default)((0,f.default)(t),"collapseGenus",function(e){var a=e.target.attributes.class.nodeValue.split(" ")[2],l=t.expandedGenera.indexOf(a);l>=0&&t.expandedGenera.splice(l,1),(0,y.default)(".report-row-species.".concat(a)).addClass("hidden"),(0,y.default)(".report-arrow.".concat(a)).toggleClass("hidden")}),(0,m.default)((0,f.default)(t),"expandTable",function(e){t.expandAll=!0,t.expandedGenera=[],(0,y.default)(".report-row-species").removeClass("hidden"),(0,y.default)(".report-arrow-down").removeClass("hidden"),(0,y.default)(".report-arrow-right").addClass("hidden"),(0,y.default)(".table-arrow").toggleClass("hidden")}),(0,m.default)((0,f.default)(t),"collapseTable",function(e){t.expandAll=!1,t.expandedGenera=[],(0,y.default)(".report-row-species").addClass("hidden"),(0,y.default)(".report-arrow-down").addClass("hidden"),(0,y.default)(".report-arrow-right").removeClass("hidden"),(0,y.default)(".table-arrow").toggleClass("hidden")}),(0,m.default)((0,f.default)(t),"searchSelectedTaxon",function(e,a){var l=a.result;t.setState({search_taxon_id:l.taxid},function(){t.applyFilters(),(0,k.logAnalyticsEvent)("PipelineSampleReport_taxon-search_returned",{search_taxon_id:l.taxid})})}),(0,m.default)((0,f.default)(t),"fillUrlParams",function(){if(!(!t.props.reportPageParams||t.fetchParams("pipeline_version")&&t.fetchParams("background_id"))){var e=new URLSearchParams(window.href),l=a(774);if(!t.fetchParams("background_id")&&v.default.get("background_id")){var n=v.default.get("background_id");t.all_backgrounds.filter(function(e){return e.id==n}).length>0?t.props.reportPageParams.background_id=n:v.default.remove("background_id")}e.pipeline_version=t.props.reportPageParams.pipeline_version,e.background_id=t.props.reportPageParams.background_id,history.replaceState(null,null,"?".concat(l.stringify(e)))}}),(0,m.default)((0,f.default)(t),"fetchParams",function(e){return new URL(window.location).searchParams.get(e)}),t.nanobar=new w.default({id:"prog-bar",class:"prog-bar"}),t.admin=e.admin,t.allowedFeatures=e.allowedFeatures,t.allowPhyloTree=e.can_edit,t.report_ts=e.report_ts,t.sampleId=e.sample_id,t.projectId=e.projectId,t.projectName=e.projectName,t.gitVersion=e.git_version,t.canSeeAlignViz=e.can_see_align_viz,t.can_edit=e.can_edit,t.csrf=e.csrf,t.taxon_row_refs={},t.all_categories=e.all_categories,t.report_details=e.report_details,t.all_backgrounds=e.all_backgrounds,t.max_rows_to_render=e.max_rows||1500,t.default_sort_by="nt_aggregatescore";var l=new Set(t.all_categories.map(function(e){return e.name})),d=v.default.get("includedCategories"),p=v.default.get("includedSubcategories"),b=v.default.get("readSpecificity"),E=v.default.get("treeMetric"),N=parseInt(v.default.get("minContigReads"),10);t.allThresholds=[{text:"Score",value:"NT_aggregatescore"},{text:"NT Z Score",value:"NT_zscore"},{text:"NT rPM",value:"NT_rpm"},{text:"NT r (total reads)",value:"NT_r"},{text:"NT contigs",value:"NT_contigs"},{text:"NT contig reads",value:"NT_contigreads"},{text:"NT %id",value:"NT_percentidentity"},{text:"NT L (alignment length in bp)",value:"NT_alignmentlength"},{text:"NT log(1/e)",value:"NT_neglogevalue"},{text:"NR Z Score",value:"NR_zscore"},{text:"NR rPM",value:"NR_rpm"},{text:"NR r (total reads)",value:"NR_r"},{text:"NR contigs",value:"NR_contigs"},{text:"NR contig reads",value:"NR_contigreads"},{text:"NR %id",value:"NR_percentidentity"},{text:"NR L (alignment length in bp)",value:"NR_alignmentlength"},{text:"NR log(1/e)",value:"NR_neglogevalue"}];var x=(0,C.map)(function(e){return _objectSpread({metricDisplay:(0,C.get)("text",(0,C.find)(["value",e.metric],t.allThresholds))},e)},Z.default.getSavedThresholdFilters());t.treeMetrics=[{text:"Aggregate Score",value:"aggregatescore"},{text:"NT r (total reads)",value:"nt_r"},{text:"NT rPM",value:"nt_rpm"},{text:"NR r (total reads)",value:"nr_r"},{text:"NR rPM",value:"nr_rpm"}],t.categoryChildParent={Phage:"Viruses"},t.categoryParentChild={Viruses:["Phage"]},t.genusMap={},t.INVALID_CALL_BASE_TAXID=-1e8,t.thresholdTextByValue=t.allThresholds.reduce(function(e,t){return e[t.value]=t.text,e},{});var M=parseInt(t.fetchParams("background_id"))||-1;return t.state={taxonomy_details:[],topScoringTaxa:[],backgroundData:{id:M,name:""},search_taxon_id:0,lineage_map:{},rows_passing_filters:0,rows_total:0,selected_taxons:[],selected_taxons_top:[],pagesRendered:0,sort_by:t.default_sort_by,includedCategories:d?JSON.parse(d).filter(function(e){return l.has(e)}):[],includedSubcategories:p?JSON.parse(p).filter(function(e){return e in t.categoryChildParent}):[],rendering:!1,loading:!0,activeThresholds:x,countType:"NT",readSpecificity:b?parseInt(b):0,treeMetric:E||t.treeMetrics[0].value,phyloTreeModalOpen:!0,contigTaxidList:[],minContigReads:N||Q,hoverRowId:null,phyloTreeModalParams:null},t.state=_objectSpread({},t.state,{},e.savedParamValues,{},(0,_.parseUrlParams)()),t.expandAll=!1,t.expandedGenera=[],t.thresholded_taxons=[],t.initializeTooltip(),t}return(0,p.default)(PipelineSampleReport,e),(0,d.default)(PipelineSampleReport,[{key:"UNSAFE_componentWillMount",value:function UNSAFE_componentWillMount(){this.fillUrlParams(),this.fetchReportData()}},{key:"componentDidMount",value:function componentDidMount(){this.scrollDown()}},{key:"componentDidUpdate",value:function componentDidUpdate(e,t){this.props.refreshPage((0,C.omit)(["contigTaxidList","taxonomy_details"],this.state),!1)}},{key:"render",value:function render(){var e=this,t="".concat(this.state.rows_passing_filters," rows passing the above filters, out of ").concat(this.state.rows_total," total rows."),a=this.report_details&&this.report_details.pipeline_info.truncated?"Overly large input was truncated to "+this.report_details.pipeline_info.truncated+" reads.":"",l=this.report_details?this.report_details.subsampled_reads:null,n=l&&l<this.report_details.pipeline_info.adjusted_remaining_reads?"Report values are computed from ".concat(l," reads subsampled randomly from the ").concat(this.report_details.pipeline_info.adjusted_remaining_reads," reads passing host and quality filters."):"",r=this.anyFilterSet()?g.default.createElement("span",{className:"disable",onClick:function onClick(t){e.resetAllFilters(),(0,k.logAnalyticsEvent)("PipelineSampleReport_clear-filters-link_clicked")}},"Clear all filters"):null,o=this.state.loading?null:g.default.createElement("div",{id:"filter-message",className:"filter-message"},g.default.createElement("span",{className:"count"},t," ",a," ",n," ",this.props.gsnapFilterStatus," ",r)),s=this.state.activeThresholds.map(function(t,a){return g.default.createElement(N.default,{className:"filter-tag",key:"threshold_filter_tag_".concat(a),threshold:t,onClose:function onClose(){e.handleRemoveThresholdFilter(a),(0,k.logAnalyticsEvent)("PipelineSampleReport_threshold-filter_removed",{value:t.value,operator:t.operator,metric:t.metric})}})}),i=this.state.includedCategories.map(function(t,a){return g.default.createElement(x.default,{className:"filter-tag",key:"category_filter_tag_".concat(a),text:t,onClose:function onClose(){e.handleRemoveCategory(t),(0,k.logAnalyticsEvent)("PipelineSampleReport_categories-filter_removed",{category:t})}})}),d=this.state.includedSubcategories.map(function(t,a){return g.default.createElement(x.default,{className:"filter-tag",key:"subcat_filter_tag_".concat(a),text:t,onClose:function onClose(){e.handleRemoveSubcategory(t),(0,k.logAnalyticsEvent)("PipelineSampleReport_subcategories-filter_removed",{subcat:t})}})});return g.default.createElement(ee,{filter_row_stats:o,advanced_filter_tag_list:s,categories_filter_tag_list:i,subcats_filter_tag_list:d,view:this.props.view,onViewClick:function onViewClick(t,a){e.props.onViewClick(a);var l=a.name.replace(/_/g,"-");(0,k.logAnalyticsEvent)("PipelineSampleReport_".concat(l,"-view-menu_clicked"))},parent:this})}}]),PipelineSampleReport}(g.default.Component);function CollapseExpand(e){var t=e.tax_info,a=e.parent,l=t.genus_taxid<0?"fake-genus":"real-genus";return g.default.createElement("span",null,g.default.createElement("span",{className:"report-arrow-down report-arrow ".concat(t.tax_id," ").concat(l," ","hidden")},g.default.createElement("i",{className:"fa fa-angle-down ".concat(t.tax_id),onClick:(0,k.withAnalytics)(a.collapseGenus,"PipelineSampleReport_collapse-genus_clicked",{tax_id:t.tax_id})})),g.default.createElement("span",{className:"report-arrow-right report-arrow ".concat(t.tax_id," ").concat(l," ")},g.default.createElement("i",{className:"fa fa-angle-right ".concat(t.tax_id),onClick:(0,k.withAnalytics)(a.expandGenusClick,"PipelineSampleReport_expand-genus_clicked",{tax_id:t.tax_id})})))}var ee=function(e){function RenderMarkup(){return(0,i.default)(this,RenderMarkup),(0,c.default)(this,(0,u.default)(RenderMarkup).apply(this,arguments))}return(0,p.default)(RenderMarkup,e),(0,d.default)(RenderMarkup,[{key:"renderMenu",value:function renderMenu(){return g.default.createElement(b.Menu,{icon:!0,floated:"right",className:"report-top-menu"},g.default.createElement(b.Popup,{trigger:g.default.createElement(b.Menu.Item,{name:"table",active:"table"==this.props.view,onClick:this.props.onViewClick},g.default.createElement(b.Icon,{name:"table"})),content:"Table View",inverted:!0}),g.default.createElement(b.Popup,{trigger:g.default.createElement(b.Menu.Item,{name:"tree",active:"tree"==this.props.view,onClick:this.props.onViewClick},g.default.createElement(b.Icon,{name:"fork"})),content:g.default.createElement("div",null,"Taxonomic Tree View"),inverted:!0}))}},{key:"renderTree",value:function renderTree(){var e=this.props.parent;if(e.state.selected_taxons.length)return g.default.createElement("div",null,g.default.createElement(q.default,{taxa:e.state.selected_taxons,topTaxa:e.state.topScoringTaxa,sample:e.report_details.sample_info,metric:e.state.treeMetric||"aggregatescore",nameType:e.props.nameType,backgroundData:e.state.backgroundData,onTaxonClick:e.props.onTaxonClick}))}},{key:"renderFilters",value:function renderFilters(){var e=this.props.parent;return g.default.createElement("div",{className:"report-top-filters"},g.default.createElement("div",{className:"filter-lists"},g.default.createElement("div",{className:"filter-lists-element"},g.default.createElement(B.default,{rounded:!0,levelLabel:!0,serverSearchAction:"choose_taxon",serverSearchActionArgs:{args:"species,genus",project_id:e.projectId},onResultSelect:e.searchSelectedTaxon,placeholder:"Taxon name"})),g.default.createElement("div",{className:"filter-lists-element"},g.default.createElement(U.default,{value:e.props.nameType,onChange:e.handleNameTypeChange})),g.default.createElement("div",{className:"filter-lists-element"},g.default.createElement(R.default,{allBackgrounds:e.all_backgrounds,value:e.state.backgroundData.id,onChange:e.handleBackgroundModelChange})),g.default.createElement("div",{className:"filter-lists-element"},g.default.createElement(A.default,{parent:e,allCategories:e.all_categories,categoryParentChild:e.categoryParentChild,categoryChildParent:e.categoryChildParent,selectedCategories:e.state.includedCategories,selectedSubcategories:e.state.includedSubcategories,onChange:e.handleIncludedCategoriesChange})),g.default.createElement("div",{className:"filter-lists-element"},g.default.createElement(D.default,{options:{targets:e.allThresholds,operators:[">=","<="]},thresholds:e.state.activeThresholds,onApply:e.handleThresholdFiltersChange})),g.default.createElement("div",{className:"filter-lists-element"},g.default.createElement(V.default,{value:e.state.readSpecificity,onChange:e.handleSpecificityChange})),"tree"==this.props.view&&g.default.createElement("div",{className:"filter-lists-element"},g.default.createElement(F.default,{options:e.treeMetrics,value:e.state.treeMetric,onChange:e.handleTreeMetricChange})),"table"==this.props.view&&g.default.createElement("div",{className:"filter-lists-element"},g.default.createElement(z.default,{value:e.state.minContigReads,onChange:e.handleMinContigReadsChange}))))}},{key:"renderTable",value:function renderTable(){var e=this.props.parent;return g.default.createElement(O.default,{taxons:e.state.selected_taxons_top,taxonRowRefs:e.taxon_row_refs,renderName:e.renderName,renderNumber:e.renderNumber,getRowClass:e.getRowClass,reportDetails:e.report_details,backgroundData:e.state.backgroundData,expandTable:(0,k.withAnalytics)(e.expandTable,"PipelineSampleReport_expand-table_clicked"),collapseTable:(0,k.withAnalytics)(e.collapseTable,"PipelineSampleReport_collapse-table_clicked"),renderColumnHeader:e.renderColumnHeader,countType:e.state.countType,setCountType:function setCountType(t){return e.setState({countType:t})},showAssemblyColumns:(0,X.pipelineVersionHasAssembly)(e.props.reportPageParams.pipeline_version),onTaxonClick:e.props.onTaxonClick,handleMouseEnter:e.handleMouseEnter,handleMouseLeave:e.handleMouseLeave})}},{key:"render",value:function render(){var e=this.props,t=e.filter_row_stats,a=e.advanced_filter_tag_list,l=e.categories_filter_tag_list,n=e.subcats_filter_tag_list,r=e.parent;return g.default.createElement("div",{id:"reports",className:"reports-screen tab-screen col s12"},g.default.createElement("div",{className:"tab-screen-content"},g.default.createElement("div",{className:"row reports-container"},g.default.createElement("div",{className:"col s12 reports-section"},g.default.createElement("div",{className:"reports-count"},this.renderFilters(),this.renderMenu(),g.default.createElement("div",{className:"filter-tags-list"},a,l,n),t),"table"==this.props.view&&this.renderTable(),"tree"==this.props.view&&this.renderTree(),r.state.loading&&g.default.createElement("div",{className:"loading-container"},g.default.createElement(G.default,null)),r.state.phyloTreeModalParams&&g.default.createElement(M.default,{admin:r.admin,csrf:r.csrf,taxonId:r.state.phyloTreeModalParams.taxId,taxonName:r.state.phyloTreeModalParams.taxName,projectId:r.projectId,projectName:r.projectName,onClose:r.handlePhyloTreeModalClose})))))}}]),RenderMarkup}(g.default.Component);$.propTypes={nameType:E.default.oneOf(["Scientific name","Common name"]),onNameTypeChange:E.default.func.isRequired};var te=$;t.default=te},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(770)).default;t.default=n},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(3)),d=l(a(11)),c=l(a(2)),u=l(a(0)),f=l(a(46)),p=a(20),m=l(a(24)),h=l(a(771)),g=a(409),v=function(e){function ReportTable(e){var t;return(0,n.default)(this,ReportTable),t=(0,o.default)(this,(0,s.default)(ReportTable).call(this,e)),(0,c.default)((0,i.default)(t),"handleTaxonClick",function(e){var a=e.taxInfo,l=e.backgroundData,n=e.taxonName;t.props.onTaxonClick({background:l,parentTaxonId:1===a.tax_level?a.genus_taxid:void 0,taxonId:a.tax_id,taxonName:n,taxonValues:{NT:a.NT,NR:a.NR}})}),t}return(0,d.default)(ReportTable,e),(0,r.default)(ReportTable,[{key:"render",value:function render(){var e=this.props,t=e.taxons,a=e.taxonRowRefs,l=e.renderName,n=e.renderNumber,r=e.renderColumnHeader,o=e.getRowClass,s=e.reportDetails,i=e.backgroundData,d=e.expandTable,c=e.collapseTable,m=e.countType,v=e.setCountType,y=e.showAssemblyColumns;return u.default.createElement("div",{className:"reports-main"},u.default.createElement("table",{id:"report-table",className:"report-table"},u.default.createElement("thead",null,u.default.createElement("tr",{className:"report-header"},u.default.createElement("th",null,u.default.createElement("span",{className:"table-arrow"},u.default.createElement("i",{className:"fa fa-angle-right",onClick:d})),u.default.createElement("span",{className:"table-arrow hidden"},u.default.createElement("i",{className:"fa fa-angle-down",onClick:c})),"Taxon"),r("Score","NT_aggregatescore",g.REPORT_TABLE_COLUMNS.NT_aggregatescore),r("Z","".concat(m,"_zscore"),g.REPORT_TABLE_COLUMNS.zscore),r("rPM","".concat(m,"_rpm"),g.REPORT_TABLE_COLUMNS.rpm),r("r","".concat(m,"_r"),g.REPORT_TABLE_COLUMNS.r),y&&r("contig","".concat(m,"_contigs"),g.REPORT_TABLE_COLUMNS.contigs),y&&r("contig r","".concat(m,"_contigreads"),g.REPORT_TABLE_COLUMNS.contigreads),r("%id","".concat(m,"_percentidentity"),g.REPORT_TABLE_COLUMNS.percentidentity),r("L","".concat(m,"_alignmentlength"),g.REPORT_TABLE_COLUMNS.alignmentlength),r("log(1/E)","".concat(m,"_neglogevalue"),g.REPORT_TABLE_COLUMNS.neglogevalue),u.default.createElement("th",{className:"last-col"},u.default.createElement(f.default,{trigger:u.default.createElement("div",{className:"sort-controls center left"},u.default.createElement("div",{className:"NT"===m?"active column-switcher":"column-switcher",onClick:function onClick(){v("NT"),(0,p.logAnalyticsEvent)("ReportTable_count-type-nt_clicked")}},"NT"),u.default.createElement("div",{className:"NR"===m?"active column-switcher":"column-switcher",onClick:function onClick(){v("NR"),(0,p.logAnalyticsEvent)("ReportTable_count-type-nr_clicked")}},"NR")),position:"top right",content:"Switch count type",inverted:!0,basic:!1,size:"small"})))),u.default.createElement("tbody",null,u.default.createElement(h.default,{taxons:t,taxonRowRefs:a,renderName:l,renderNumber:n,getRowClass:o,onTaxonClick:this.handleTaxonClick,reportDetails:s,backgroundData:i,showAssemblyColumns:y,handleMouseEnter:this.props.handleMouseEnter,handleMouseLeave:this.props.handleMouseLeave}))))}}]),ReportTable}(u.default.Component);t.default=v,v.propTypes={taxons:m.default.arrayOf(m.default.Taxon).isRequired,taxonRowRefs:m.default.objectOf(m.default.any).isRequired,renderName:m.default.func.isRequired,renderNumber:m.default.func.isRequired,getRowClass:m.default.func.isRequired,reportDetails:m.default.ReportDetails,backgroundData:m.default.BackgroundData,expandTable:m.default.func.isRequired,collapseTable:m.default.func.isRequired,renderColumnHeader:m.default.func.isRequired,countType:m.default.string.isRequired,setCountType:m.default.func.isRequired,showAssemblyColumns:m.default.bool,onTaxonClick:m.default.func,handleMouseEnter:m.default.func,handleMouseLeave:m.default.func}},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(0)),c=a(17),u=l(a(24)),f=function(e){function DetailCells(){return(0,n.default)(this,DetailCells),(0,o.default)(this,(0,s.default)(DetailCells).apply(this,arguments))}return(0,i.default)(DetailCells,e),(0,r.default)(DetailCells,[{key:"render",value:function render(){var e=this.props,t=e.taxons,a=e.taxonRowRefs,l=e.renderName,n=e.renderNumber,r=e.getRowClass,o=e.onTaxonClick,s=e.reportDetails,i=e.backgroundData,u=e.showAssemblyColumns,f=e.handleMouseEnter,p=e.handleMouseLeave;return t.map(function(e){return d.default.createElement("tr",{key:e.tax_id,id:"taxon-".concat(e.tax_id),ref:function ref(t){a[e.tax_id]=t},className:r(e),onMouseEnter:function onMouseEnter(){return f(e.tax_id)},onMouseLeave:function onMouseLeave(){return p(e.tax_id)}},d.default.createElement("td",null,l(e,s,i,o)),n(e.NT.aggregatescore,null,0,!0,void 0,1==e.topScoring,"score-column"),n(e.NT.zscore,e.NR.zscore,1),n(e.NT.rpm,e.NR.rpm,1),n(e.NT.r,e.NR.r,0),u&&n((0,c.get)("summaryContigCounts.NT.contigs",e)||0,(0,c.get)("summaryContigCounts.NR.contigs",e)||0,0),u&&n((0,c.get)("summaryContigCounts.NT.contigreads",e)||0,(0,c.get)("summaryContigCounts.NR.contigreads",e)||0,0),n(e.NT.percentidentity,e.NR.percentidentity,1),n(e.NT.alignmentlength,e.NR.alignmentlength,1),n(e.NT.neglogevalue,e.NR.neglogevalue,0),d.default.createElement("td",{className:"last-col"}))})}}]),DetailCells}(d.default.Component);t.default=f,f.propTypes={taxons:u.default.arrayOf(u.default.Taxon).isRequired,taxonRowRefs:u.default.objectOf(u.default.any).isRequired,renderName:u.default.func.isRequired,renderNumber:u.default.func.isRequired,onTaxonClick:u.default.func.isRequired,getRowClass:u.default.func.isRequired,reportDetails:u.default.ReportDetails,backgroundData:u.default.BackgroundData,showAssemblyColumns:u.default.bool,handleMouseEnter:u.default.func,handleMouseLeave:u.default.func}},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(35)),r=l(a(7)),o=l(a(8)),s=l(a(10)),i=l(a(9)),d=l(a(3)),c=l(a(11)),u=l(a(0)),f=l(a(1)),p=a(20),m=l(a(417)),h=l(a(177)),g=a(296),v=["species","genus","family","order","class","phylum","kingdom","superkingdom"],y=function(e){function TaxonTreeVis(e){var t;return(0,r.default)(this,TaxonTreeVis),(t=(0,s.default)(this,(0,i.default)(TaxonTreeVis).call(this,e))).state={nodeHover:null,taxonSidebarData:null},t.nameType=t.props.nameType,t.metric=t.props.metric||"aggregatescore",t.taxa=t.props.taxa,t.tree=null,t.treeVis=null,t.metrics={aggregatescore:{label:"Aggregate Score",agg:function agg(e){return Math.max.apply(Math,(0,n.default)(e))}},nt_r:{label:"NT r",agg:function agg(e){return e.reduce(function(e,t){return e+t},0)}},nt_rpm:{label:"NT rpm",agg:function agg(e){return e.reduce(function(e,t){return e+t},0)}},nr_r:{label:"NR r",agg:function agg(e){return e.reduce(function(e,t){return e+t},0)}},nr_rpm:{label:"NR rpm",agg:function agg(e){return e.reduce(function(e,t){return e+t},0)}}},t.handleNodeHover=t.handleNodeHover.bind((0,d.default)(t)),t.handleNodeLabelClick=t.handleNodeLabelClick.bind((0,d.default)(t)),t.fillNodeValues=t.fillNodeValues.bind((0,d.default)(t)),t.renderTooltip=t.renderTooltip.bind((0,d.default)(t)),t}return(0,c.default)(TaxonTreeVis,e),(0,o.default)(TaxonTreeVis,[{key:"componentDidMount",value:function componentDidMount(){this.treeVis=new m.default(this.treeContainer,this.createTree(this.taxa),{attribute:this.metric,useCommonName:this.isCommonNameActive(),onNodeHover:this.handleNodeHover,onNodeLabelClick:this.handleNodeLabelClick,onCreatedTree:this.fillNodeValues,tooltipContainer:this.treeTooltip,onCollapsedStateChange:(0,p.withAnalytics)(this.persistCollapsedInUrl,"TaxonTreeVis_node-collapsed-state_changed"),collapsed:this.getCollapsedInUrl()||new Set}),this.treeVis.update()}},{key:"persistCollapsedInUrl",value:function persistCollapsedInUrl(e){try{var t=new URL(window.location.href);!function hasAllChildrenCollapsed(e){return!(e.children||!e.collapsedChildren)}(e)?t.searchParams.delete(e.id):t.searchParams.set(e.id,"c"),history.replaceState(window.history.state,document.title,t)}catch(e){console.error(e)}}},{key:"getCollapsedInUrl",value:function getCollapsedInUrl(){try{var e=new URL(window.location.href),t=[];return e.searchParams.forEach(function(e,a){"c"===e&&t.push(a)}),new Set(t)}catch(e){console.error(e)}}},{key:"componentDidUpdate",value:function componentDidUpdate(){var e={};this.nameType!=this.props.nameType&&(this.nameType=this.props.nameType,e.useCommonName=this.isCommonNameActive()),this.metric!=this.props.metric&&(this.metric=this.props.metric,e.attribute=this.props.metric),Object.keys(e).length&&this.treeVis.setOptions(e),this.taxa!=this.props.taxa&&(this.taxa=this.props.taxa,this.treeVis.setTree(this.createTree(this.props.taxa)))}},{key:"handleNodeHover",value:function handleNodeHover(e){this.setState({nodeHover:e}),(0,p.logAnalyticsEvent)("TaxonTreeVis_node_hovered",{id:e.id,scientificName:e.data.scientificName,commonName:e.data.commonName})}},{key:"handleNodeLabelClick",value:function handleNodeLabelClick(e){if(e.data.modalData){var t=e.data.modalData.taxInfo,a=(0,g.getTaxonName)(t.name,t.common_name,this.props.nameType);this.props.onTaxonClick({background:this.props.backgroundData,parentTaxonId:1===t.tax_level?t.genus_taxid:void 0,taxonId:t.tax_id,taxonName:a,taxonValues:{NT:t.NT,NR:t.NR}}),(0,p.logAnalyticsEvent)("TaxonTreeVis_node-label_clicked",{taxonId:t.tax_id,taxonName:a,taxLevel:t.tax_level})}else this.props.onTaxonClick(null)}},{key:"getParentTaxId",value:function getParentTaxId(e){var t=e.lineage["".concat(v[e.tax_level],"_taxid")];return t>0?t:"_".concat(v[e.tax_level])}},{key:"isCommonNameActive",value:function isCommonNameActive(){return"common name"==this.nameType.toLowerCase()}},{key:"fillNodeValues",value:function fillNodeValues(e){var t=this;e.leaves().forEach(function(e){e.children||e.data.values||function(){for(var t=e.ancestors(),a=function _loop(e){var a=t[e];if(a.children=a.children.filter(function(a){return a.id!==t[e-1].id}),a.children&&a.children.length>0)return"break"},l=1;l<t.length;l++){if("break"===a(l))break}}()});var a=new Set(this.props.topTaxa.map(function(e){return e.tax_id.toString()}));e.eachAfter(function(e){a.has(e.id)&&(e.data.highlight=!0,e.ancestors().forEach(function(e){e.data.highlight=!0}));var l=function _loop2(a){e.data.values||(e.data.values={}),t.metrics.hasOwnProperty(a)&&!e.data.values.hasOwnProperty(a)&&(e.data.values[a]=t.metrics[a].agg(e.children.filter(function(e){return e.data.values[a]}).map(function(e){return e.data.values[a]})))};for(var n in t.metrics)l(n)})}},{key:"createTree",value:function createTree(e){var t=this,a=[{id:"_"}],l=new Set;return e.forEach(function(e){for(var n=a[0].id,r=v.length-1;r>=e.tax_level;r--){var o=e.lineage["".concat(v[r],"_taxid")],s=o>0?o:"".concat(n,"_").concat(o);l.has(s)||(a.push({id:s,taxId:o,parentId:n,scientificName:e.lineage["".concat(v[r],"_name")]||"Uncategorized ".concat(t.capitalize(v[r])),lineageRank:v[r]}),l.add(s)),n=s}var i=e.tax_id>0?e.tax_id:"".concat(n,"_").concat(e.tax_id);a.push({id:i,taxId:e.tax_id,commonName:t.capitalize(e.common_name),scientificName:e.tax_id>0?e.name:"Uncategorized ".concat(t.capitalize(v[e.tax_level-1])),lineageRank:v[e.tax_level-1],parentId:n,values:{aggregatescore:e.NT.aggregatescore,nt_r:e.NT.r,nt_rpm:parseFloat(e.NT.rpm),nt_zscore:e.NT.zscore,nr_r:e.NR.r,nr_rpm:parseFloat(e.NR.rpm),nr_zscore:e.NR.zscore},modalData:{taxInfo:e}}),l.add(i)}),a}},{key:"renderTooltip",value:function renderTooltip(){var e=this.state.nodeHover;if(!e)return null;var t=[];for(var a in this.metrics)this.metrics.hasOwnProperty(a)&&t.push(u.default.createElement("li",{key:"tt_".concat(a),className:"taxon_tooltip__row ".concat(this.props.metric==a?"taxon_tooltip__row--active":"")},u.default.createElement("div",{className:"taxon_tooltip__row__label"},this.metrics[a].label,":"),u.default.createElement("div",{className:"taxon_tooltip__row__value"},Math.round(e.data.values[a]).toLocaleString())));var l=this.isCommonNameActive()&&e.data.commonName||e.data.scientificName;return e.isAggregated&&(l="".concat((e.parent.collapsedChildren||[]).length," Taxa")),u.default.createElement("div",{className:"taxon_tooltip"},u.default.createElement("div",{className:"taxon_tooltip__title"},e.data.lineageRank),u.default.createElement("div",{className:"taxon_tooltip__name"},l),u.default.createElement("div",{className:"taxon_tooltip__title"},"Data"),u.default.createElement("div",{className:"taxon_tooltip__data"},u.default.createElement("ul",null,t)))}},{key:"capitalize",value:function capitalize(e){return e?e.charAt(0).toUpperCase()+e.slice(1):e}},{key:"renderPathogenLabels",value:function renderPathogenLabels(){return this.taxa.filter(function(e){return e.pathogenTag}).map(function(e){return u.default.createElement("div",{className:"node-overlay node-overlay__".concat(e.tax_id),key:"label-".concat(e.tax_id)},u.default.createElement(h.default,{type:e.pathogenTag}))})}},{key:"render",value:function render(){var e=this;return u.default.createElement("div",{className:"taxon-tree-vis"},u.default.createElement("div",{className:"taxon-tree-vis__container",ref:function ref(t){e.treeContainer=t}},u.default.createElement("div",{className:"pathogen-labels"},this.renderPathogenLabels())),u.default.createElement("div",{className:"taxon-tree-vis__tooltip",ref:function ref(t){e.treeTooltip=t}},this.renderTooltip()))}}]),TaxonTreeVis}(u.default.Component);y.propTypes={metric:f.default.string,nameType:f.default.string,taxa:f.default.array,topTaxa:f.default.array,backgroundData:f.default.shape({id:f.default.number,name:f.default.string}),onTaxonClick:f.default.func.isRequired};var b=y;t.default=b},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(81)),r=l(a(1)),o=l(a(0)),s=a(37),i=function LoadingLabel(e){var t=e.text;return o.default.createElement(s.Label,{className:"idseq-ui loading"},o.default.createElement(n.default,null)," ",t||"Loading data...")};i.propTypes={text:r.default.string};var d=i;t.default=d},,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(26)),r=l(a(27)),o=l(a(7)),s=l(a(8)),i=l(a(10)),d=l(a(9)),c=l(a(3)),u=l(a(11)),f=l(a(2)),p=l(a(0)),m=a(17),h=l(a(4)),g=l(a(33)),v=a(20),y=a(143),b=a(296),C=l(a(420)),w=l(a(416)),E=l(a(24)),S=l(a(421)),_=l(a(422)),k=l(a(58)),N=l(a(81)),x=l(a(46)),M=l(a(59)),T=l(a(144)),P=a(178),D=a(42),I=a(179),j=l(a(777)),L=a(424),O=l(a(778));function ownKeys(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(a,!0).forEach(function(t){(0,f.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var R="#A9BDFC",A="#3867FA",F="#EAEAEA",V=[[{key:"referenceNCBIEntry",name:"Reference NCBI Entry",tooltip:"The NCBI Genbank entry for the reference accession."},{key:"referenceLength",name:"Reference Length",tooltip:"Length in base pairs of the reference accession."}],[{key:"alignedContigs",name:"Aligned Contigs",tooltip:"Number of contigs for which this accession was the best match."},{key:"alignedReads",name:"Aligned Loose Reads",tooltip:"Number of reads for which this accession was the best match. Only includes reads which did not assemble into a contig."}],[{key:"coverageDepth",name:"Coverage Depth",tooltip:"The average read depth of aligned contigs and reads over the length of the accession."},{key:"coverageBreadth",name:"Coverage Breadth",tooltip:"The percentage of the accession that is covered by at least one read or contig."}],[{key:"maxAlignedLength",name:"Max Alignment Length",tooltip:"Length of the longest aligned region over all reads and contigs."},{key:"avgMismatchedPercent",name:"Avg. Mismatched %",tooltip:"Percentage of aligned regions that are mismatches, averaged over all reads and contigs."}]],U=function(e){function CoverageVizBottomSidebar(){var e,t;(0,o.default)(this,CoverageVizBottomSidebar);for(var a=arguments.length,l=new Array(a),s=0;s<a;s++)l[s]=arguments[s];return t=(0,i.default)(this,(e=(0,d.default)(CoverageVizBottomSidebar)).call.apply(e,[this].concat(l))),(0,f.default)((0,c.default)(t),"_accessionDataCache",{}),(0,f.default)((0,c.default)(t),"state",{currentAccessionSummary:null,histogramTooltipLocation:null,histogramTooltipData:null}),(0,f.default)((0,c.default)(t),"getDataForAccession",function(){var e=(0,r.default)(n.default.mark(function _callee(e){var a,l;return n.default.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:if(a=t.props.sampleId,!t._accessionDataCache[e]){n.next=5;break}return n.abrupt("return",t._accessionDataCache[e]);case 5:return n.next=7,(0,D.getCoverageVizData)(a,e);case 7:return l=n.sent,t._accessionDataCache[e]=l,n.abrupt("return",l);case 10:case"end":return n.stop()}},_callee)}));return function(t){return e.apply(this,arguments)}}()),(0,f.default)((0,c.default)(t),"loadAccession",function(){var e=(0,r.default)(n.default.mark(function _callee2(e){var a;return n.default.wrap(function _callee2$(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,t.getDataForAccession(e.id);case 2:a=l.sent,t.setState({currentAccessionData:_objectSpread({},a,{id:e.id})});case 4:case"end":return l.stop()}},_callee2)}));return function(t){return e.apply(this,arguments)}}()),(0,f.default)((0,c.default)(t),"setCurrentAccession",function(e){var a=t.props.params,l=e?(0,m.find)(["id",e],(0,m.get)("best_accessions",a.accessionData)):null;t.setState({currentAccessionSummary:l,currentAccessionData:null}),l&&t.loadAccession(l)}),(0,f.default)((0,c.default)(t),"handleHistogramBarEnter",function(e){var a=t.state.currentAccessionData;e&&0===e[0]&&t.setState({histogramTooltipData:(0,L.getHistogramTooltipData)(a,e[1])})}),(0,f.default)((0,c.default)(t),"handleHistogramBarHover",function(e,a){t.setState({histogramTooltipLocation:{left:e,top:a}})}),(0,f.default)((0,c.default)(t),"handleHistogramBarExit",function(){t.setState({histogramTooltipLocation:null,histogramTooltipData:null})}),(0,f.default)((0,c.default)(t),"renderHistogram",function(e){var a=(0,L.generateCoverageVizData)(e.coverage,e.coverage_bin_size);t.coverageViz=new S.default(t.coverageVizContainer,[a],{labelY:"Coverage",domain:[0,e.total_length],skipBins:!0,numBins:Math.round(e.total_length/e.coverage_bin_size),showStatistics:!1,colors:[R],hoverColors:[A],barOpacity:1,margins:{left:170,right:40,top:30,bottom:30},numTicksY:2,labelYOffset:15,labelYLarge:!0,onHistogramBarHover:t.handleHistogramBarHover,onHistogramBarEnter:t.handleHistogramBarEnter,onHistogramBarExit:t.handleHistogramBarExit}),t.coverageViz.update()}),(0,f.default)((0,c.default)(t),"renderRefAccessionViz",function(e){t.refAccesssionViz=new _.default(t.refAccessionVizContainer,[[0,e.total_length,0]],{domain:[0,e.total_length],color:F}),t.refAccesssionViz.update()}),(0,f.default)((0,c.default)(t),"getAccessionTaxonName",function(e){return(0,b.getTaxonName)(e.taxon_name,e.taxon_common_name,t.props.nameType)}),(0,f.default)((0,c.default)(t),"getAccessionOptions",function(){var e=t.props.params;return(0,L.getSortedAccessionSummaries)(e.accessionData).map(function(a){return{value:a.id,text:"".concat(a.id," - ").concat(a.name),customNode:p.default.createElement("div",{className:O.default.option},p.default.createElement("div",{className:O.default.optionText},a.id," - ",a.name),p.default.createElement("div",{className:O.default.optionSubtext},a.num_contigs," contigs, ",a.num_reads," reads,"," ",a.coverage_depth,"x coverage","genus"===e.taxonLevel?p.default.createElement("span",null," - ",t.getAccessionTaxonName(a)):null))}})}),(0,f.default)((0,c.default)(t),"getAccessionMetrics",function(){var e=t.props,a=e.sampleId,l=e.params,n=t.state,r=n.currentAccessionData,o=n.currentAccessionSummary;return r?{referenceNCBIEntry:p.default.createElement(x.default,{trigger:p.default.createElement("div",{className:O.default.ncbiLinkWrapper},p.default.createElement("a",{href:"https://www.ncbi.nlm.nih.gov/nuccore/".concat(o.id,"?report=genbank"),target:"_blank",rel:"noopener noreferrer",className:O.default.ncbiLink,onClick:function onClick(){return(0,v.logAnalyticsEvent)("CoverageVizBottomSidebar_ncbi-link_clicked",{accessionId:o.id,taxonId:l.taxonId,sampleId:a})}},o.id," - ",o.name)),inverted:!0,content:"".concat(o.id," - ").concat(o.name),horizontalOffset:13}),referenceLength:r.total_length,alignedContigs:o.num_contigs,maxAlignedLength:r.max_aligned_length,coverageDepth:"".concat(r.coverage_depth,"x"),coverageBreadth:(0,y.formatPercent)(r.coverage_breadth),alignedReads:o.num_reads,avgMismatchedPercent:(0,y.formatPercent)(r.avg_prop_mismatch)}:{}}),(0,f.default)((0,c.default)(t),"renderTaxonLabel",function(){var e=t.props.params,a=t.state.currentAccessionSummary,l=(0,b.getTaxonName)(e.taxonName,e.taxonCommonName,t.props.nameType);if("genus"===e.taxonLevel&&a){var n=t.getAccessionTaxonName(a),r=a&&"\n        The accession being displayed belongs to the species ".concat(n,", a member of genus ").concat(l,"\n      ");return p.default.createElement("div",{className:O.default.taxonLabel},l," Coverage",p.default.createElement("span",null," ","- ",n,p.default.createElement(w.default,{text:r,className:O.default.helpIcon})))}return p.default.createElement("div",{className:O.default.taxonLabel},l," Coverage")}),(0,f.default)((0,c.default)(t),"renderContentHeader",function(){var e=t.props,a=e.params,l=e.sampleId,n=t.state.currentAccessionSummary,r=a.accessionData.best_accessions.length,o=a.accessionData.num_accessions,s=r<o,i="\n        ".concat(o-r," poor-quality accessions are omitted, as they have\n        no contig alignments and few read alignments.\n        To see them, go to the read-level visualization.\n      ");return p.default.createElement("div",{className:O.default.header},p.default.createElement("div",{className:O.default.headerText},t.renderTaxonLabel(),p.default.createElement(k.default,{options:t.getAccessionOptions(),value:(0,m.get)("id",n),label:"Accession",trigger:p.default.createElement("div",{className:O.default.accessionLabel},(0,m.get)("id",n)," -"," ",(0,m.get)("name",n)),onChange:function onChange(e){(0,v.logAnalyticsEvent)("CoverageVizBottomSidebar_accession-select_changed",{accessionId:e,taxonId:a.taxonId,sampleId:l}),t.setCurrentAccession(e)},rounded:!0,menuClassName:O.default.accessionSelectMenu}),p.default.createElement("div",{className:O.default.accessionCountLabel},r," viewable accessions",s&&p.default.createElement(p.default.Fragment,null,p.default.createElement("span",{className:O.default.notShownMsg},"(",o," total)"),p.default.createElement(w.default,{text:i,className:O.default.helpIcon})))),p.default.createElement("div",{className:O.default.fill}),p.default.createElement("div",{className:O.default.headerControls},p.default.createElement("div",{className:O.default.vizLinkContainer})))}),(0,f.default)((0,c.default)(t),"renderContentBody",function(){var e=t.state,a=e.currentAccessionData,l=e.currentAccessionSummary,n=t.props,r=n.pipelineVersion,o=n.sampleId,s=n.params;if(!a)return p.default.createElement("div",{className:O.default.loadingContainer},p.default.createElement("div",{className:O.default.loadingMessage},p.default.createElement(N.default,{className:O.default.loadingIcon}),"Loading Visualization..."));var i=t.getAccessionMetrics(),d=(0,L.selectContigsFromHitGroups)(a.hit_groups),c=(0,L.selectReadsFromHitGroups)(a.hit_groups),u=(0,m.sum)(d.map(function(e){return e[0]})),f=(0,m.sum)(c.map(function(e){return e[1]}));return p.default.createElement("div",{className:(0,h.default)(O.default.body,!(0,m.isEmpty)(c)&&O.default.withReads)},p.default.createElement("div",{className:O.default.metrics},V.map(function(e,t){return p.default.createElement("div",{className:O.default.column,key:t},e.map(function(e){return p.default.createElement("div",{className:O.default.metric,key:e.key},p.default.createElement("div",{className:O.default.label},p.default.createElement(x.default,{trigger:p.default.createElement("div",null,e.name),inverted:!0,content:e.tooltip,horizontalOffset:13})),p.default.createElement("div",{className:O.default.value},i[e.key]))}))})),p.default.createElement("div",{className:O.default.coverageVizHistogram,ref:function ref(e){t.coverageVizContainer=e}}),p.default.createElement("div",{className:O.default.genomeVizRow},p.default.createElement("div",{className:O.default.rowLabel},"Reference Accession"),p.default.createElement(x.default,{trigger:p.default.createElement("a",{className:(0,h.default)(O.default.refAccessionVizLink,O.default.genomeViz),href:"https://www.ncbi.nlm.nih.gov/nuccore/".concat(l.id,"?report=genbank"),target:"_blank",rel:"noopener noreferrer",onClick:function onClick(){return(0,v.logAnalyticsEvent)("CoverageVizBottomSidebar_ref-accession-viz-link_clicked",{accessionId:l.id,taxonId:s.taxonId,sampleId:o})}},p.default.createElement("div",{className:O.default.genomeVizInner,ref:function ref(e){t.refAccessionVizContainer=e}})),inverted:!0,wide:"very",content:l.name})),p.default.createElement(j.default,{key:"contigHitGroupViz",label:"Contigs (".concat(u,")"),color:A,accessionData:a,hitGroups:d,taxonId:s.taxonId,sampleId:o,pipelineVersion:r}),!(0,m.isEmpty)(c)&&p.default.createElement(j.default,{key:"readHitGroupViz",label:"Loose Reads (".concat(f,")"),color:R,accessionData:a,hitGroups:c,taxonId:s.taxonId,sampleId:o,pipelineVersion:r}))}),t}return(0,u.default)(CoverageVizBottomSidebar,e),(0,s.default)(CoverageVizBottomSidebar,[{key:"componentDidUpdate",value:function componentDidUpdate(e,t){var a=this.props,l=a.params,n=a.visible,r=this.state.currentAccessionData;l.accessionData!==e.params.accessionData&&l.accessionData&&this.setCurrentAccession((0,m.get)([0,"id"],(0,L.getSortedAccessionSummaries)(l.accessionData))),!t.currentAccessionData&&r&&(this.renderHistogram(r),this.renderRefAccessionViz(r)),e.visible&&!n&&this.setState({histogramTooltipLocation:null,histogramTooltipData:null})}},{key:"renderSidebarContents",value:function renderSidebarContents(){var e=this.state,t=e.histogramTooltipLocation,a=e.histogramTooltipData;return p.default.createElement(M.default,{className:O.default.contents},this.renderContentHeader(),this.renderContentBody(),t&&a&&g.default.createPortal(p.default.createElement("div",{style:(0,I.getTooltipStyle)(t),className:O.default.hoverTooltip},p.default.createElement(P.DataTooltip,{data:a})),document.body))}},{key:"renderNoDataContents",value:function renderNoDataContents(){var e=this.props;e.params,e.sampleId;return p.default.createElement(M.default,{className:O.default.contents},p.default.createElement("div",{className:O.default.header},p.default.createElement("div",{className:O.default.headerText},this.renderTaxonLabel()),p.default.createElement("div",{className:O.default.fill})),p.default.createElement("div",{className:O.default.noDataBody},p.default.createElement("div",{className:O.default.noDataContainer},p.default.createElement("div",{className:O.default.text},p.default.createElement("div",{className:O.default.message},"Sorry, the coverage visualization is only available for taxons with at least one assembled contig in NT.")),p.default.createElement(T.default,{className:O.default.icon}))))}},{key:"render",value:function render(){var e=this.props,t=e.visible,a=e.onClose,l=e.params;return p.default.createElement(C.default,{visible:t,width:"very wide",onClose:a,direction:"bottom"},(0,m.get)("accessionData.best_accessions",l)&&l.accessionData.best_accessions.length>0?this.renderSidebarContents():this.renderNoDataContents())}}]),CoverageVizBottomSidebar}(p.default.Component);t.default=U,U.propTypes={visible:E.default.bool,onClose:E.default.func.isRequired,params:E.default.shape({taxonId:E.default.number,taxonName:E.default.string,taxonCommonName:E.default.string,taxonLevel:E.default.string,accessionData:E.default.shape({best_accessions:E.default.arrayOf(E.default.shape({id:E.default.string,num_contigs:E.default.number,num_reads:E.default.number,name:E.default.string,score:E.default.number,coverage_depth:E.default.number,taxon_name:E.default.string,taxon_common_name:E.default.string})),num_accessions:E.default.number}),alignmentVizUrl:E.default.string}),sampleId:E.default.number,pipelineVersion:E.default.string,nameType:E.default.string}},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(3)),d=l(a(11)),c=l(a(2)),u=l(a(0)),f=l(a(1)),p=function(e){function ContextPlaceholder(e){var t;return(0,n.default)(this,ContextPlaceholder),t=(0,o.default)(this,(0,s.default)(ContextPlaceholder).call(this,e)),(0,c.default)((0,i.default)(t),"handleOutClick",function(){t.placeholderRef&&!t.placeholderRef.contains(event.target)&&(t.setState({open:!1}),t.props.onClose&&t.props.onClose())}),(0,c.default)((0,i.default)(t),"handlePlaceholderRef",function(e){t.placeholderRef=e,t.setState({style:t.getStyle()})}),t.state={style:t.getStyle(),open:t.props.open},t}return(0,d.default)(ContextPlaceholder,e),(0,r.default)(ContextPlaceholder,[{key:"componentDidMount",value:function componentDidMount(){this.props.closeOnOutsideClick&&document.addEventListener("mousedown",this.handleOutClick)}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.props.closeOnOutsideClick&&document.removeEventListener("mousedown",this.handleOutClick)}},{key:"getStyle",value:function getStyle(){var e={position:"absolute"};return this.props.context&&this.placeholderRef&&Object.assign(e,this.getPlaceholderPosition()),e}},{key:"getPlaceholderPosition",value:function getPlaceholderPosition(){var e=this.props.context.getBoundingClientRect(),t=this.placeholderRef.getBoundingClientRect(),a=this.props,l=a.horizontalOffset,n=a.verticalOffset,r=a.position,o=window,s=o.pageYOffset,i=o.pageXOffset,d=document.documentElement,c=d.clientWidth,u=d.clientHeight,f=0,p=0,m=0,h=0;if(r.includes("right")){if(f=Math.round(c-(e.right+i)+e.width/2-l),t.width>e.right)f+=e.right-t.width;p="auto"}else if(r.includes("left"))p=Math.round(e.left+i+e.width/2+l),f="auto";else{var g=(e.width-t.width)/2;p=Math.round(e.left+g+i+l),f="auto"}if(r.includes("top"))h=Math.round(u-(e.top+s)-e.height/2+n),m="auto";else if(r.includes("bottom"))m=Math.round(e.bottom+s-e.height/2+n),h="auto";else{var v=(e.height+t.height)/2;m=Math.round(e.bottom+s-v+n),h="auto"}return{left:p,right:f,top:m,bottom:h}}},{key:"render",value:function render(){return this.state.open&&u.default.createElement("div",{style:this.state.style,ref:this.handlePlaceholderRef},this.props.children)}}]),ContextPlaceholder}(u.default.PureComponent);t.default=p,p.defaultProps={position:"bottom left",horizontalOffset:0,verticalOffset:0,closeOnOutsideClick:!1,open:!0},p.propTypes={children:f.default.oneOfType([f.default.arrayOf(f.default.node),f.default.node]),onClose:f.default.func,horizontalOffset:f.default.number,verticalOffset:f.default.number,open:f.default.bool,position:f.default.string,closeOnOutsideClick:f.default.bool,context:f.default.instanceOf(Element)}},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(26)),r=l(a(27)),o=l(a(7)),s=l(a(8)),i=l(a(10)),d=l(a(9)),c=l(a(3)),u=l(a(11)),f=l(a(2)),p=l(a(0)),m=l(a(1)),h=l(a(33)),g=l(a(4)),v=l(a(373)),y=a(17),b=a(20),C=a(178),w=l(a(46)),E=l(a(422)),S=l(a(175)),_=l(a(299)),k=a(82),N=a(42),x=a(179),M=l(a(778)),T=a(424),P="Copy Contig Sequence to Clipboard",D=function totalByterangeLength(e){return(0,y.sum)((0,y.map)(function(e){return e[1]},e))},I=function(e){function HitGroupViz(){var e,t;(0,o.default)(this,HitGroupViz);for(var a=arguments.length,l=new Array(a),s=0;s<a;s++)l[s]=arguments[s];return t=(0,i.default)(this,(e=(0,d.default)(HitGroupViz)).call.apply(e,[this].concat(l))),(0,f.default)((0,c.default)(t),"state",{genomeVizTooltipLocation:null,genomeVizTooltipData:null,contigDownloaderLocation:null,contigDownloaderData:null,currentCopyIconMessage:P}),(0,f.default)((0,c.default)(t),"handleOutClick",function(){t.hitGroupVizContainer&&t.hitGroupVizContainer.contains(event.target)||t._contigDownloader&&t._contigDownloader.contains(event.target)||(t.handleGenomeVizBarClick(null),t.hitGroupViz.outlineBar(null,!1))}),(0,f.default)((0,c.default)(t),"handleGenomeVizBarEnter",function(e){var a=t.props.hitGroups;null!==e&&t.setState({genomeVizTooltipData:(0,T.getGenomeVizTooltipData)(a,e)})}),(0,f.default)((0,c.default)(t),"handleGenomeVizBarHover",function(e,a){t.setState({genomeVizTooltipLocation:{left:e,top:a}})}),(0,f.default)((0,c.default)(t),"handleGenomeVizBarClick",function(e,a,l){var n=t.props.hitGroups;if(null===e)t.setState({contigDownloaderData:null,contigDownloaderLocation:null});else{var r=n[e];r[0]>0&&r[10].length>0?t.setState({contigDownloaderData:{contigByteranges:r[10]},contigDownloaderLocation:{left:a,top:l}}):t.setState({contigDownloaderData:null,contigDownloaderLocation:null})}}),(0,f.default)((0,c.default)(t),"handleGenomeVizBarExit",function(){t.setState({genomeVizTooltipLocation:null,genomeVizTooltipData:null})}),(0,f.default)((0,c.default)(t),"renderGenomeViz",function(e,a){var l=(0,T.generateContigReadVizData)(a,e.coverage_bin_size);t.hitGroupViz=new E.default(t.hitGroupVizContainer,l,{domain:[0,e.total_length],color:t.props.color,onGenomeVizBarHover:t.handleGenomeVizBarHover,onGenomeVizBarEnter:t.handleGenomeVizBarEnter,onGenomeVizBarExit:t.handleGenomeVizBarExit,onGenomeVizBarClick:t.handleGenomeVizBarClick,hoverDarkenFactor:.4}),t.hitGroupViz.update()}),(0,f.default)((0,c.default)(t),"handleContigDownload",function(){var e=t.state.contigDownloaderData;if(e.contigByteranges){var a=(0,k.getURLParamString)({byteranges:e.contigByteranges.map(function(e){return e.join(",")}),pipelineVersion:t.props.pipelineVersion});location.href="/samples/".concat(t.props.sampleId,"/contigs_fasta_by_byteranges?").concat(a)}}),(0,f.default)((0,c.default)(t),"handleContigCopy",(0,r.default)(n.default.mark(function _callee(){var e,a;return n.default.wrap(function _callee$(l){for(;;)switch(l.prev=l.next){case 0:return e=t.state.contigDownloaderData,l.next=3,(0,N.getContigsSequencesByByteranges)(t.props.sampleId,e.contigByteranges,t.props.pipelineVersion);case 3:a=l.sent,(0,v.default)(Object.values(a).join("\n")),t.setState({currentCopyIconMessage:"Copied to clipboard!"});case 6:case"end":return l.stop()}},_callee)}))),(0,f.default)((0,c.default)(t),"restoreCopyIconMessage",function(){t.setState({currentCopyIconMessage:P})}),(0,f.default)((0,c.default)(t),"renderGenomeVizTooltip",function(){var e=t.state,a=e.genomeVizTooltipLocation,l=e.genomeVizTooltipData;return h.default.createPortal(p.default.createElement("div",{style:(0,x.getTooltipStyle)(a),className:M.default.hoverTooltip},p.default.createElement(C.DataTooltip,{data:l})),document.body)}),(0,f.default)((0,c.default)(t),"renderContigDownloader",function(){var e=t.props,a=e.sampleId,l=e.taxonId,n=e.accessionData,r=t.state,o=r.contigDownloaderLocation,s=r.contigDownloaderData;return h.default.createPortal(p.default.createElement("div",{style:{left:o.left,top:o.top-5},className:M.default.contigDownloader,ref:function ref(e){return t._contigDownloader=e}},p.default.createElement(w.default,{trigger:p.default.createElement("div",{className:(0,g.default)(M.default.icon,M.default.downloadIcon),onClick:(0,b.withAnalytics)(t.handleContigDownload,"HitGroupViz_contig-download-button_clicked",{numBytes:D((0,y.get)("contigByteranges",s)),numContigs:(0,y.size)((0,y.get)("contigByteranges",s)),accessionId:n.id,taxonId:l,sampleId:a})},p.default.createElement(S.default,null)),inverted:!0,wide:"very",content:"Download Contig FASTA"}),p.default.createElement(w.default,{trigger:p.default.createElement("div",{className:(0,g.default)(M.default.icon,M.default.copyIcon),onClick:(0,b.withAnalytics)(t.handleContigCopy,"HitGroupViz_contig-copy-button_clicked",{numBytes:D((0,y.get)("contigByteranges",s)),numContigs:(0,y.size)((0,y.get)("contigByteranges",s)),accessionId:n.id,taxonId:l,sampleId:a}),onMouseEnter:t.restoreCopyIconMessage},p.default.createElement(_.default,null)),inverted:!0,wide:"very",content:t.state.currentCopyIconMessage})),document.body)}),t}return(0,u.default)(HitGroupViz,e),(0,s.default)(HitGroupViz,[{key:"componentDidMount",value:function componentDidMount(){var e=this.props,t=e.accessionData,a=e.hitGroups;t&&a&&this.renderGenomeViz(t,a),document.addEventListener("mousedown",this.handleOutClick)}},{key:"componentWillUnmount",value:function componentWillUnmount(){document.removeEventListener("mousedown",this.handleOutClick)}},{key:"componentDidUpdate",value:function componentDidUpdate(e){var t=this.props,a=t.accessionData,l=t.hitGroups;!e.accessionData&&a&&l&&this.renderGenomeViz(a,l)}},{key:"render",value:function render(){var e=this,t=this.props.label,a=this.state,l=a.genomeVizTooltipLocation,n=a.genomeVizTooltipData,r=a.contigDownloaderLocation,o=a.contigDownloaderData;return p.default.createElement("div",{className:M.default.genomeVizRow},p.default.createElement("div",{className:M.default.rowLabel},t),p.default.createElement("div",{className:M.default.genomeViz,ref:function ref(t){e.hitGroupVizContainer=t}}),l&&n&&this.renderGenomeVizTooltip(),r&&o&&this.renderContigDownloader())}}]),HitGroupViz}(p.default.Component);t.default=I,I.propTypes={label:m.default.string,hitGroups:m.default.arrayOf(m.default.arrayOf(m.default.oneOfType([m.default.number,m.default.arrayOf(m.default.number)]))),accessionData:m.default.shape({avg_prop_mismatch:m.default.number,coverage:m.default.arrayOf(m.default.arrayOf(m.default.number)),coverage_bin_size:m.default.number,coverage_breadth:m.default.number,coverage_depth:m.default.number,id:m.default.number,max_aligned_length:m.default.number,name:m.default.string,total_length:m.default.number}),sampleId:m.default.number,taxonId:m.default.number,pipelineVersion:m.default.string,color:m.default.string}},function(e,t,a){e.exports={contents:"contents-1Xz8g",header:"header-L-DSK",headerText:"headerText-25KBE",taxonLabel:"taxonLabel-1Lqyf",accessionSelectMenu:"accessionSelectMenu--P8IF",accessionLabel:"accessionLabel-3ppNE",accessionCountLabel:"accessionCountLabel-S83KH",notShownMsg:"notShownMsg-1c_7M",helpIcon:"helpIcon-2y9Sc",fill:"fill-QuGQq",headerControls:"headerControls-Y5bzc",vizLinkContainer:"vizLinkContainer-3AyhP",vizLink:"vizLink-6ubpi",rightArrow:"rightArrow-3islu",refAccessionVizLink:"refAccessionVizLink-P7Mx2",body:"body-23YOI",withReads:"withReads-1C9WE",metrics:"metrics-1K5Ev",column:"column-3VmmS",metric:"metric-1WFaL",label:"label-3tEPj",value:"value-2nz8M",ncbiLinkWrapper:"ncbiLinkWrapper-1MoNQ",ncbiLink:"ncbiLink-1lWjp",coverageVizHistogram:"coverageVizHistogram-27Bpi",genomeVizRow:"genomeVizRow-19x2e",rowLabel:"rowLabel-2tlQY",genomeViz:"genomeViz-2Wviu",genomeVizInner:"genomeVizInner-3NUQ2",referenceAccession:"referenceAccession-1GzZ9",noDataBody:"noDataBody-3qtAv",noDataContainer:"noDataContainer-1EK8F",text:"text-3P0f_",message:"message-St1Kd",icon:"icon-3PRti",loadingContainer:"loadingContainer-2bDxU",loadingMessage:"loadingMessage-3G4fa",loadingIcon:"loadingIcon-2NyMf",hoverTooltip:"hoverTooltip-x1V_P",contigDownloader:"contigDownloader-1Hu9E",downloadIcon:"downloadIcon-2Gsdy",copyIcon:"copyIcon-2PiX7",option:"option-G84Vl",optionText:"optionText-gcWrE",optionSubtext:"optionSubtext-7E2A9",loadingBackgroundAnimation:"loadingBackgroundAnimation-3-4es"}},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(3)),d=l(a(11)),c=l(a(2)),u=l(a(0)),f=l(a(373)),p=l(a(4)),m=l(a(24)),h=l(a(299)),g=l(a(46)),v=a(20),y=l(a(426)),b=function(e){function AdvancedDownloadTab(){var e,t;(0,n.default)(this,AdvancedDownloadTab);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return t=(0,o.default)(this,(e=(0,s.default)(AdvancedDownloadTab)).call.apply(e,[this].concat(l))),(0,c.default)((0,i.default)(t),"state",{tooltip:""}),(0,c.default)((0,i.default)(t),"hasCLICommand",function(){var e=t.props.bulkDownload;return"success"===e.status&&null!==e.presigned_output_url}),(0,c.default)((0,i.default)(t),"getCLICommand",function(){var e=t.props.bulkDownload;return"waiting"===e.status||"running"===e.status?"Bulk download is not yet complete.":"error"===e.status?"Bulk download failed. Please contact us for help.":"success"===e.status&&null===e.presigned_output_url?"Failed to generate command. Please contact us for help.":'curl -L "'.concat(e.presigned_output_url,'" > "').concat(e.download_name,'.tar.gz"        && mkdir -p "').concat(e.download_name,'"        && tar -zvxf "').concat(e.download_name,'.tar.gz" -C "').concat(e.download_name,'"      ')}),(0,c.default)((0,i.default)(t),"copyCommandToClipboard",function(){(0,f.default)(t.getCLICommand()),t.setState({tooltip:"Copied command to clipboard"})}),(0,c.default)((0,i.default)(t),"resetTooltip",function(){t.setState({tooltip:""})}),t}return(0,d.default)(AdvancedDownloadTab,e),(0,r.default)(AdvancedDownloadTab,[{key:"render",value:function render(){var e=this.props.bulkDownload,t=this.hasCLICommand()?(0,v.withAnalytics)(this.copyCommandToClipboard,"AdvancedDownloadTab_copy-cloud-command-link_clicked",{bulkDownloadId:e.id,fileSize:e.file_size}):null,a=u.default.createElement("div",{className:(0,p.default)(y.default.cloudCommandContainer,this.hasCLICommand()&&y.default.enabled),onClick:t,onMouseLeave:this.resetTooltip},u.default.createElement("div",{className:y.default.command},this.getCLICommand()),u.default.createElement(h.default,{className:y.default.icon}));return u.default.createElement("div",{className:y.default.advancedDownloadTab},u.default.createElement("div",{className:y.default.header},"Download via command line:"),u.default.createElement("div",{className:y.default.description},"Copy and paste the following command into your terminal to download and extract your files into a folder called"," ",e.download_name,":"),this.state.tooltip?u.default.createElement(g.default,{trigger:a,content:this.state.tooltip,inverted:!0,open:!0,position:"top left"}):a)}}]),AdvancedDownloadTab}(u.default.Component);t.default=b,b.propTypes={bulkDownload:m.default.BulkDownload}},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(26)),r=l(a(27)),o=l(a(7)),s=l(a(8)),i=l(a(10)),d=l(a(9)),c=l(a(3)),u=l(a(11)),f=l(a(2)),p=l(a(0)),m=l(a(1)),h=a(427),g=l(a(145)),v=l(a(97)),y=a(57),b=a(20),C=l(a(73)),w=l(a(779)),E=l(a(781)),S=l(a(426)),_=["Details","Advanced Download"],k=function(e){function BulkDownloadDetailsMode(){var e,t;(0,o.default)(this,BulkDownloadDetailsMode);for(var a=arguments.length,l=new Array(a),s=0;s<a;s++)l[s]=arguments[s];return t=(0,i.default)(this,(e=(0,d.default)(BulkDownloadDetailsMode)).call.apply(e,[this].concat(l))),(0,f.default)((0,c.default)(t),"state",{loading:!0,currentTab:_[0],bulkDownloadDetails:null,downloadType:null}),(0,f.default)((0,c.default)(t),"fetchBulkDownload",function(){var e=(0,r.default)(n.default.mark(function _callee(e){var a,l,r;return n.default.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,h.getBulkDownload)(e);case 2:a=n.sent,l=a.bulk_download,r=a.download_type,l.id===e&&t.setState({bulkDownloadDetails:l,downloadType:r,loading:!1});case 6:case"end":return n.stop()}},_callee)}));return function(t){return e.apply(this,arguments)}}()),(0,f.default)((0,c.default)(t),"onTabChange",function(e){t.setState({currentTab:e}),(0,b.logAnalyticsEvent)("bulkDownloadDetailsMode_tab_changed",{bulkDownloadId:t.props.bulkDownload.id,tab:e})}),(0,f.default)((0,c.default)(t),"renderNotifications",function(){var e=t.state.bulkDownloadDetails;return"error"===e.status?p.default.createElement(C.default,{type:"error",displayStyle:"flat",className:S.default.notification},"There was an error generating your download files. Please contact us for help."):"success"===e.status&&e.error_message?p.default.createElement(C.default,{type:"warn",displayStyle:"flat",className:S.default.notification},e.error_message):null}),(0,f.default)((0,c.default)(t),"renderTab",function(){var e=t.state,a=e.bulkDownloadDetails,l=e.downloadType;return"Details"===t.state.currentTab?p.default.createElement(E.default,{bulkDownload:a,downloadType:l}):"Advanced Download"===t.state.currentTab?p.default.createElement(w.default,{bulkDownload:a,downloadType:l}):null}),t}return(0,u.default)(BulkDownloadDetailsMode,e),(0,s.default)(BulkDownloadDetailsMode,[{key:"componentDidMount",value:function componentDidMount(){this.fetchBulkDownload(this.props.bulkDownload.id)}},{key:"componentDidUpdate",value:function(){var e=(0,r.default)(n.default.mark(function _callee2(e){return n.default.wrap(function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:this.props.bulkDownload&&e.bulkDownload!==this.props.bulkDownload&&(this.setState({loading:!0}),this.fetchBulkDownload(this.props.bulkDownload.id));case 1:case"end":return t.stop()}},_callee2,this)}));return function componentDidUpdate(t){return e.apply(this,arguments)}}()},{key:"render",value:function render(){var e=this.state,t=e.bulkDownloadDetails,a=e.loading,l=(this.context||{}).admin;return p.default.createElement("div",{className:S.default.content},a?p.default.createElement("div",{className:S.default.loadingMsg},"Loading..."):p.default.createElement("div",{className:S.default.title},t.download_name),!a&&l&&p.default.createElement("div",{className:S.default.adminDetails},"ID: ",t.id,", run in:"," ",t.execution_type,t.log_url&&p.default.createElement("span",null,","," ",p.default.createElement(g.default,{className:S.default.logUrl,href:t.log_url},"log url"))),!a&&this.renderNotifications(),!a&&p.default.createElement(v.default,{className:S.default.tabs,tabs:_,value:this.state.currentTab,onChange:this.onTabChange}),!a&&this.renderTab())}}]),BulkDownloadDetailsMode}(p.default.Component);t.default=k,k.propTypes={bulkDownload:m.default.shape({id:m.default.number})},k.contextType=y.UserContext},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(0)),c=l(a(24)),u=a(17),f=a(62),p=l(a(301)),m=l(a(426)),h=function(e){function DetailsTab(){return(0,n.default)(this,DetailsTab),(0,o.default)(this,(0,s.default)(DetailsTab).apply(this,arguments))}return(0,i.default)(DetailsTab,e),(0,r.default)(DetailsTab,[{key:"render",value:function render(){var e=this.props,t=e.bulkDownload,a=e.downloadType,l=[{label:"Samples",value:t.num_samples}];return a.file_type_display&&l.push({label:"File Format",value:a.file_type_display}),a.fields&&a.fields.forEach(function(e){var a=(0,u.get)(["params",e.type,"displayName"],t);a&&l.push({label:e.display_name,value:a})}),d.default.createElement("div",{className:m.default.detailsTab},d.default.createElement(f.Accordion,{className:m.default.accordion,header:d.default.createElement("div",{className:m.default.header},"Details"),bottomContentPadding:!0,open:!0},d.default.createElement(p.default,{fields:l})),d.default.createElement(f.Accordion,{className:m.default.accordion,header:d.default.createElement("div",{className:m.default.header},"Samples in this Download"),bottomContentPadding:!0},d.default.createElement("div",{className:m.default.samplesList},t.pipeline_runs.map(function(e){return d.default.createElement("div",{key:e.id,className:m.default.sampleName},e.sample_name)}))))}}]),DetailsTab}(d.default.Component);t.default=h,h.propTypes={bulkDownload:c.default.BulkDownload,downloadType:c.default.DownloadType}},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(0)),r=l(a(1)),o=function FilterRow(e){var t=e.children;return t&&!Array.isArray(t)&&(t=[t]),n.default.createElement("div",{className:"filter-row"},(t||[]).map(function(e,t){return n.default.createElement("span",{className:"filter-row__wrapper",key:t},e)}))};o.propTypes={children:r.default.oneOfType([r.default.arrayOf(r.default.node),r.default.node])};var s=o;t.default=s},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(0)),c=l(a(1)),u=l(a(226)),f=function(e){function ViewHeaderContent(){return(0,n.default)(this,ViewHeaderContent),(0,o.default)(this,(0,s.default)(ViewHeaderContent).apply(this,arguments))}return(0,i.default)(ViewHeaderContent,e),(0,r.default)(ViewHeaderContent,[{key:"render",value:function render(){return d.default.createElement("div",{className:u.default.content},this.props.children)}}]),ViewHeaderContent}(d.default.Component);f.propTypes={children:c.default.node},f.CLASS_NAME="ViewHeaderContent";var p=f;t.default=p},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(0)),c=l(a(1)),u=l(a(226)),f=function(e){function Pretitle(){return(0,n.default)(this,Pretitle),(0,o.default)(this,(0,s.default)(Pretitle).apply(this,arguments))}return(0,i.default)(Pretitle,e),(0,r.default)(Pretitle,[{key:"render",value:function render(){var e=this.props.breadcrumbLink;return e?d.default.createElement("div",{className:u.default.pretitle},d.default.createElement("a",{href:e,className:u.default.link},this.props.children),d.default.createElement("span",{className:u.default.rightArrow},d.default.createElement("i",{className:"fa fa-angle-right","aria-hidden":"true"}))):d.default.createElement("div",{className:u.default.pretitle},this.props.children)}}]),Pretitle}(d.default.Component);f.propTypes={breadcrumbLink:c.default.string,children:c.default.node};var p=f;t.default=p},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(0)),c=l(a(1)),u=l(a(4)),f=l(a(226)),p=function(e){function ViewHeaderControls(){return(0,n.default)(this,ViewHeaderControls),(0,o.default)(this,(0,s.default)(ViewHeaderControls).apply(this,arguments))}return(0,i.default)(ViewHeaderControls,e),(0,r.default)(ViewHeaderControls,[{key:"render",value:function render(){return d.default.createElement("div",{className:(0,u.default)(f.default.controls,this.props.className)},this.props.children)}}]),ViewHeaderControls}(d.default.Component);p.propTypes={children:c.default.node,className:c.default.string},p.CLASS_NAME="ViewHeaderControls";var m=p;t.default=m},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(3)),d=l(a(11)),c=l(a(2)),u=l(a(0)),f=l(a(1)),p=l(a(4)),m=a(120),h=l(a(58)),g=a(37),v=l(a(226)),y=function(e){function Title(){var e,t;(0,n.default)(this,Title);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return t=(0,o.default)(this,(e=(0,s.default)(Title)).call.apply(e,[this].concat(l))),(0,c.default)((0,i.default)(t),"state",{nameOverflows:!1}),(0,c.default)((0,i.default)(t),"checkNameOverflows",function(){var e=t._nameContainer&&t._name&&t._name.getBoundingClientRect().width>t._nameContainer.getBoundingClientRect().width;t.state.nameOverflows!==e&&t.setState({nameOverflows:e})}),t}return(0,d.default)(Title,e),(0,r.default)(Title,[{key:"componentDidMount",value:function componentDidMount(){this.checkNameOverflows()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.checkNameOverflows()}},{key:"render",value:function render(){var e=this,t=this.props,a=t.options,l=t.label,n=t.id,r=this.state.nameOverflows,o=a&&a.length>1,s=u.default.createElement("div",{ref:function ref(t){return e._nameContainer=t},className:(0,p.default)(v.default.sampleName,o&&v.default.trigger)},u.default.createElement("span",{ref:function ref(t){return e._name=t}},l));if(r&&(s=u.default.createElement(g.Popup,{trigger:s,content:l,inverted:!0,on:"hover",className:v.default.sampleNamePopup})),o){var i=(0,m.filter)(a,function(e){return String(e.id)!==String(n)}).map(function(e){return u.default.createElement(h.default.Item,{onClick:e.onClick,key:e.id},e.label)});return u.default.createElement(h.default,{trigger:s,className:v.default.sampleDropdown,floating:!0,items:i})}return s}}]),Title}(u.default.Component);y.propTypes={children:f.default.node,options:f.default.arrayOf(f.default.shape({label:f.default.string.isRequired,id:f.default.oneOfType([f.default.string,f.default.number]).isRequired,onClick:f.default.func.isRequired})),label:f.default.string,id:f.default.oneOfType([f.default.string,f.default.number])};var b=y;t.default=b},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(0)),r=a(120),o=function extractChildren(e,t){var a=n.default.Children.toArray(e);return t.map(function(e){return(0,r.first)((0,r.filter)(a,["type.name",e]))})};t.default=o},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(780)).default;t.default=n},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(790)).default;t.default=n},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(26)),r=l(a(32)),o=l(a(27)),s=l(a(7)),i=l(a(8)),d=l(a(10)),c=l(a(9)),u=l(a(3)),f=l(a(11)),p=l(a(2)),m=l(a(0)),h=a(120),g=a(17),v=l(a(24)),y=l(a(97)),b=a(42),C=a(89),w=a(20),E=a(302),S=l(a(791)),_=l(a(792)),k=l(a(793)),N=a(794),x=l(a(303)),M=["Metadata","Pipeline","Notes"],T=function(e){function SampleDetailsMode(){var e,t;(0,s.default)(this,SampleDetailsMode);for(var a=arguments.length,l=new Array(a),i=0;i<a;i++)l[i]=arguments[i];return t=(0,d.default)(this,(e=(0,c.default)(SampleDetailsMode)).call.apply(e,[this].concat(l))),(0,p.default)((0,u.default)(t),"state",{metadata:null,additionalInfo:null,pipelineInfo:null,metadataTypes:null,metadataChanged:{},metadataSavePending:{},lastValidMetadata:null,metadataErrors:{},currentTab:M[0]}),(0,p.default)((0,u.default)(t),"onTabChange",function(e){t.setState({currentTab:e}),(0,w.logAnalyticsEvent)("SampleDetailsMode_tab_changed",{sampleId:t.props.sampleId,tab:e})}),(0,p.default)((0,u.default)(t),"fetchMetadata",(0,o.default)(n.default.mark(function _callee(){var e,a,l,o,s,i,d,c,u;return n.default.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:if(e=t.props,a=e.sampleId,l=e.pipelineVersion,t.setState({metadata:null,additionalInfo:null,pipelineInfo:null}),a){n.next=4;break}return n.abrupt("return");case 4:return n.next=6,Promise.all([(0,C.getSampleMetadata)(a,l),(0,C.getSampleMetadataFields)(a),(0,b.getAllSampleTypes)()]);case 6:o=n.sent,s=(0,r.default)(o,3),i=s[0],d=s[1],c=s[2],u=(0,E.processMetadata)(i.metadata,!0),t.setState({metadata:u,lastValidMetadata:u,additionalInfo:(0,N.processAdditionalInfo)(i.additional_info),pipelineInfo:(0,N.processPipelineInfo)(i.additional_info),pipelineRun:i.additional_info.pipeline_run,metadataTypes:d?(0,E.processMetadataTypes)(d):t.state.metadataTypes,sampleTypes:c});case 13:case"end":return n.stop()}},_callee)}))),(0,p.default)((0,u.default)(t),"handleMetadataChange",function(e,a,l){"name"!==e&&"notes"!==e?(t.setState({metadata:(0,g.set)(e,a,t.state.metadata),metadataChanged:(0,g.set)(e,!l,t.state.metadataChanged),metadataErrors:(0,g.set)(e,null,t.state.metadataErrors)},function(){l&&t._save(t.props.sampleId,e,a)}),(0,w.logAnalyticsEvent)("SampleDetailsMode_metadata_changed",{sampleId:t.props.sampleId,key:e,value:a,shouldSave:l,metadataErrors:Object.keys(t.state.metadataErrors).length})):t.setState({additionalInfo:(0,g.set)(e,a,t.state.additionalInfo),metadataChanged:(0,g.set)(e,!0,t.state.metadataChanged)})}),(0,p.default)((0,u.default)(t),"handleMetadataSave",function(){var e=(0,o.default)(n.default.mark(function _callee2(e){var a;return n.default.wrap(function _callee2$(l){for(;;)switch(l.prev=l.next){case 0:t.state.metadataChanged[e]&&(a="name"===e||"notes"===e?t.state.additionalInfo[e]:t.state.metadata[e],t.setState({metadataChanged:(0,g.set)(e,!1,t.state.metadataChanged)},function(){t._save(t.props.sampleId,e,a)}),(0,w.logAnalyticsEvent)("SampleDetailsMode_metadata_saved",{sampleId:t.props.sampleId,key:e,newValue:a}));case 1:case"end":return l.stop()}},_callee2)}));return function(t){return e.apply(this,arguments)}}()),(0,p.default)((0,u.default)(t),"_save",function(){var e=(0,o.default)(n.default.mark(function _callee3(e,a,l){var r,o,s,i;return n.default.wrap(function _callee3$(n){for(;;)switch(n.prev=n.next){case 0:if(t.props.onMetadataUpdate&&t.props.onMetadataUpdate(a,l),t.setState({metadataSavePending:(0,g.set)(a,!0,t.state.metadataSavePending)}),r=t.state.lastValidMetadata,o=t.state.metadataErrors,s=t.state.metadata,"name"!==a){n.next=10;break}return n.next=8,(0,b.saveSampleName)(e,l);case 8:n.next=19;break;case 10:if("notes"!==a){n.next=15;break}return n.next=13,(0,b.saveSampleNotes)(e,l);case 13:n.next=19;break;case 15:return n.next=17,(0,C.saveSampleMetadata)(t.props.sampleId,a,l);case 17:"failed"===(i=n.sent).status?(o=(0,g.set)(a,i.message,o),s=(0,g.set)(a,r[a],s)):r=(0,g.set)(a,l,r);case 19:t.setState({metadataSavePending:(0,g.set)(a,!1,t.state.metadataSavePending),metadataErrors:o,metadata:s,lastValidMetadata:r});case 20:case"end":return n.stop()}},_callee3)}));return function(t,a,l){return e.apply(this,arguments)}}()),(0,p.default)((0,u.default)(t),"renderTab",function(){var e=t.state,a=e.metadata,l=e.metadataTypes,n=e.metadataSavePending,r=e.additionalInfo,o=e.pipelineInfo,s=e.pipelineRun,i=e.metadataErrors,d=e.sampleTypes,c=(0,h.some)(n);return"Metadata"===t.state.currentTab?m.default.createElement(S.default,{metadata:a,additionalInfo:r,metadataTypes:l,onMetadataChange:t.handleMetadataChange,onMetadataSave:t.handleMetadataSave,savePending:c,metadataErrors:i,sampleTypes:d}):"Pipeline"===t.state.currentTab?m.default.createElement(_.default,{pipelineInfo:o,erccComparison:r.ercc_comparison,pipelineRun:s,sampleId:t.props.sampleId}):"Notes"===t.state.currentTab?m.default.createElement(k.default,{notes:r.notes,editable:r.editable,onNoteChange:function onNoteChange(e){return t.handleMetadataChange("notes",e)},onNoteSave:function onNoteSave(){return t.handleMetadataSave("notes")},savePending:c}):null}),t}return(0,f.default)(SampleDetailsMode,e),(0,i.default)(SampleDetailsMode,[{key:"componentDidMount",value:function componentDidMount(){this.props.sampleId&&this.fetchMetadata()}},{key:"componentDidUpdate",value:function componentDidUpdate(e){this.props.sampleId!==e.sampleId&&this.fetchMetadata()}},{key:"render",value:function render(){var e=this.props,t=e.showReportLink,a=e.sampleId,l=this.state,n=l.metadata,r=l.metadataTypes,o=l.additionalInfo,s=!n||!r;return m.default.createElement("div",{className:x.default.content},s?m.default.createElement("div",{className:x.default.loadingMsg},"Loading..."):m.default.createElement("div",{className:x.default.title},o.name),!s&&t&&m.default.createElement("div",{className:x.default.reportLink},m.default.createElement("a",{href:"/samples/".concat(a)},"See Report")),!s&&m.default.createElement(y.default,{className:x.default.tabs,tabs:M,value:this.state.currentTab,onChange:this.onTabChange}),!s&&this.renderTab())}}]),SampleDetailsMode}(m.default.Component);T.propTypes={sampleId:v.default.number,pipelineVersion:v.default.string,onMetadataUpdate:v.default.func,showReportLink:v.default.bool};var P=T;t.default=P},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(3)),d=l(a(11)),c=l(a(2)),u=l(a(0)),f=a(120),p=a(17),m=l(a(24)),h=l(a(83)),g=l(a(286)),v=a(20),y=l(a(301)),b=l(a(227)),C=a(430),w=l(a(303));function ownKeys(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(a,!0).forEach(function(t){(0,c.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var E=function(e){function MetadataTab(e){var t;(0,n.default)(this,MetadataTab),t=(0,o.default)(this,(0,s.default)(MetadataTab).call(this,e)),(0,c.default)((0,i.default)(t),"getMetadataSections",function(){var e={"Sample Info":[]};return(0,p.values)(t.props.metadataTypes).forEach(function(t){var a=null===t.group?"Custom Metadata":t.group+" Info";e.hasOwnProperty(a)?e[a].push(t.key):e[a]=[t.key]}),Object.entries(e).map(function(e){return{name:e[0],keys:e[1].sort()}})}),(0,c.default)((0,i.default)(t),"toggleSection",function(e){var a=t.state,l=a.sectionOpen,n=a.sectionEditing,r=!l[e.name],o={sectionOpen:(0,p.set)(e.name,r,l)};l[e.name]&&(o.sectionEditing=(0,p.set)(e.name,!1,n)),t.setState(o),(0,v.logAnalyticsEvent)("MetadataTab_section_toggled",_objectSpread({section:e.name,sectionOpen:r},t.props.additionalInfo))}),(0,c.default)((0,i.default)(t),"toggleSectionEdit",function(e){var a=t.state,l=a.sectionEditing,n=a.sectionOpen,r=!l[e.name],o={sectionEditing:(0,p.set)(e.name,r,l)};l[e.name]||(o.sectionEditing=(0,f.mapValues)(l,function(){return!1}),o.sectionEditing[e.name]=!0,o.sectionOpen=(0,p.set)(e.name,!0,n)),t.setState(o),(0,v.logAnalyticsEvent)("MetadataTab_section-edit_toggled",_objectSpread({section:e.name,sectionEditing:r},t.props.additionalInfo))}),(0,c.default)((0,i.default)(t),"renderInput",function(e){var a=t.props,l=a.metadata,n=a.onMetadataChange,r=a.onMetadataSave,o=a.metadataErrors,s=a.additionalInfo,i=a.sampleTypes;return u.default.createElement("div",{className:w.default.inputWrapper},u.default.createElement(g.default,{className:w.default.metadataInput,value:l[e.key],metadataType:e,onChange:n,onSave:r,isHuman:"human"===s.host_genome_taxa_category,isInsect:"insect"===s.host_genome_taxa_category,sampleTypes:i}),o[e.key]&&u.default.createElement("div",{className:w.default.error},o[e.key]))}),(0,c.default)((0,i.default)(t),"renderMetadataType",function(e){var a=t.props.metadata;return MetadataTab.renderMetadataValue(a[e.key])}),(0,c.default)((0,i.default)(t),"renderMetadataSectionContent",function(e){var a=t.props,l=a.metadataTypes,n=a.additionalInfo,r=a.onMetadataChange,o=a.onMetadataSave,s=t.state.sectionEditing,i=(0,f.filter)(e.keys,function(e){return(0,f.includes)(Object.keys(l),e)}),d=s[e.name],c=[];return"Sample Info"!==e.name||d||C.SAMPLE_ADDITIONAL_INFO.forEach(function(e){c.push({label:e.name,value:"project_name"===e.key?u.default.createElement("a",{className:w.default.projectLink,href:"/home?project_id=".concat(n.project_id)},n[e.key]):MetadataTab.renderMetadataValue(n[e.key])})}),"Sample Info"===e.name&&d&&c.push({label:"Sample Name",value:u.default.createElement(h.default,{onChange:function onChange(e){return r("name",e)},onBlur:function onBlur(){return o("name")},value:n.name,type:"text",className:w.default.sampleNameInput})}),i.forEach(function(e){c.push({label:l[e].name,value:d?t.renderInput(l[e]):t.renderMetadataType(l[e])})}),u.default.createElement(y.default,{fields:c,className:w.default.metadataFields})});var a=t.getMetadataSections();return t.state={sectionOpen:(0,c.default)({},a[0].name,!0),sectionEditing:{},sections:a},t}return(0,d.default)(MetadataTab,e),(0,r.default)(MetadataTab,[{key:"render",value:function render(){var e=this;return u.default.createElement("div",null,this.state.sections.map(function(t){return u.default.createElement(b.default,{key:t.name,editable:e.props.additionalInfo.editable,toggleable:!0,onToggle:function onToggle(){return e.toggleSection(t)},open:e.state.sectionOpen[t.name],onEditToggle:function onEditToggle(){return e.toggleSectionEdit(t)},editing:e.state.sectionEditing[t.name],title:t.name,savePending:e.props.savePending},e.renderMetadataSectionContent(t))}))}}]),MetadataTab}(u.default.Component);(0,c.default)(E,"renderMetadataValue",function(e){return void 0===e||null===e||""===e?u.default.createElement("div",{className:w.default.emptyValue},"--"):u.default.createElement("div",{className:w.default.metadataValue},(0,p.isObject)(e)&&void 0!==e.name?e.name:e)}),E.propTypes={metadata:m.default.objectOf(m.default.oneOfType([m.default.string,m.default.number])).isRequired,metadataTypes:m.default.objectOf(m.default.MetadataType).isRequired,onMetadataChange:m.default.func.isRequired,onMetadataSave:m.default.func.isRequired,savePending:m.default.bool,additionalInfo:m.default.shape({name:m.default.string.isRequired,project_id:m.default.number.isRequired,project_name:m.default.string.isRequired,upload_date:m.default.string,host_genome_name:m.default.string,editable:m.default.bool}).isRequired,metadataErrors:m.default.objectOf(m.default.string),sampleTypes:m.default.arrayOf(m.default.SampleTypeProps).isRequired};var S=E;t.default=S},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(26)),r=l(a(27)),o=l(a(7)),s=l(a(8)),i=l(a(10)),d=l(a(9)),c=l(a(3)),u=l(a(11)),f=l(a(2)),p=l(a(0)),m=a(17),h=l(a(4)),g=l(a(608)),v=l(a(24)),y=a(128),b=(a(431),a(20)),C=a(42),w=l(a(224)),E=l(a(301)),S=a(430),_=l(a(227)),k=l(a(303)),N=function(e){function PipelineTab(){var e,t;(0,o.default)(this,PipelineTab);for(var a=arguments.length,l=new Array(a),s=0;s<a;s++)l[s]=arguments[s];return t=(0,i.default)(this,(e=(0,d.default)(PipelineTab)).call.apply(e,[this].concat(l))),(0,f.default)((0,c.default)(t),"state",{sectionOpen:{pipelineInfo:!0,readsRemaining:!1,erccScatterplot:!1,downloads:!1},sectionEditing:{},graphWidth:0,pipelineStepDict:{}}),(0,f.default)((0,c.default)(t),"updateGraphDimensions",function(){t._graphContainer&&0===t.state.graphWidth&&t.setState({graphWidth:t._graphContainer.offsetWidth})}),(0,f.default)((0,c.default)(t),"toggleSection",function(e){var a=t.state.sectionOpen,l=!a[e];t.setState({sectionOpen:(0,m.set)(e,l,a)}),(0,b.logAnalyticsEvent)("PipelineTab_section_toggled",{section:e,sectionOpen:l,sampleId:t.props.sampleId})}),(0,f.default)((0,c.default)(t),"getPipelineInfoField",function(e){var a=t.props.pipelineInfo[e.key]||{},l=a.text,n=a.linkLabel,r=a.link,o=n&&r&&p.default.createElement("a",{className:k.default.vizLink,href:r,target:"_blank",rel:"noopener noreferrer"},n,p.default.createElement("i",{className:(0,h.default)("fa fa-chevron-right",k.default.rightArrow)}));return{label:e.name,value:void 0===l||null===l||""===l?p.default.createElement("div",{className:k.default.emptyValue},"--"):p.default.createElement("div",{className:k.default.metadataValue},l,o)}}),(0,f.default)((0,c.default)(t),"getReadCounts",(0,r.default)(n.default.mark(function _callee(){var e,a,l,r;return n.default.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return e=t.props,a=e.sampleId,l=e.pipelineRun,n.next=3,(0,C.getSamplePipelineResults)(a,l&&l.pipeline_version);case 3:(r=n.sent)&&r.displayed_data&&t.setState({pipelineStepDict:r.displayed_data["Host Filtering"]});case 5:case"end":return n.stop()}},_callee)}))),(0,f.default)((0,c.default)(t),"renderReadCountsTable",function(e){var a=(0,y.humanize)(e).slice(0,-4),l=t.state.pipelineStepDict.steps[e],n=t.props.pipelineRun.total_reads,r=l.reads_after,o=(r/n*100).toFixed(2);return p.default.createElement("div",{className:k.default.readsRemainingRow},p.default.createElement("div",{className:k.default.label},p.default.createElement(w.default,{position:"top left",trigger:p.default.createElement("div",{className:k.default.labelText},a),content:l.step_description,title:a})),p.default.createElement("div",{className:k.default.narrowMetadataValueContainer},p.default.createElement("div",{className:k.default.metadataValue},r.toLocaleString())),p.default.createElement("div",{className:k.default.narrowMetadataValueContainer},p.default.createElement("div",{className:k.default.metadataValue},o,"%")))}),t}return(0,u.default)(PipelineTab,e),(0,s.default)(PipelineTab,[{key:"componentDidMount",value:function componentDidMount(){this.updateGraphDimensions(),this.getReadCounts()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.updateGraphDimensions()}},{key:"render",value:function render(){var e=this,t=this.props,a=t.pipelineRun,l=(t.sampleId,S.PIPELINE_INFO_FIELDS.map(this.getPipelineInfoField));return p.default.createElement("div",null,p.default.createElement(_.default,{toggleable:!0,onToggle:function onToggle(){return e.toggleSection("pipelineInfo")},open:this.state.sectionOpen.pipelineInfo,title:"Pipeline Info"},p.default.createElement(E.default,{fields:l,className:k.default.pipelineInfoFields})),p.default.createElement(_.default,{toggleable:!0,onToggle:function onToggle(){return e.toggleSection("readsRemaining")},open:this.state.sectionOpen.readsRemaining,title:"Reads Remaining"},!a||!a.total_reads||(0,m.isEmpty)(this.state.pipelineStepDict)||(0,m.isEmpty)(this.state.pipelineStepDict.steps)?p.default.createElement("div",{className:k.default.noData},"No data"):p.default.createElement("div",null,p.default.createElement("div",{className:k.default.readsRemainingRow},p.default.createElement("div",{className:k.default.label},p.default.createElement(w.default,{position:"top left",trigger:p.default.createElement("div",{className:(0,h.default)(k.default.labelText,k.default.header)},"Host Filtering Step"),content:this.state.pipelineStepDict.stage_description,title:"Host Filtering",link:S.HOST_FILTERING_WIKI})),p.default.createElement("div",{className:k.default.narrowMetadataValueContainer},p.default.createElement("div",{className:k.default.labelText},"Reads Remaining")),p.default.createElement("div",{className:k.default.narrowMetadataValueContainer},p.default.createElement("div",{className:k.default.labelText},"% Reads Remaining"))),Object.keys(this.state.pipelineStepDict.steps).map(this.renderReadCountsTable))),p.default.createElement(_.default,{toggleable:!0,onToggle:function onToggle(){return e.toggleSection("erccScatterplot")},open:this.state.sectionOpen.erccScatterplot,title:"ERCC Spike-In Counts",className:k.default.erccScatterplotSection},p.default.createElement("div",{ref:function ref(t){return e._graphContainer=t},className:k.default.graphContainer},p.default.createElement(g.default,{ercc_comparison:this.props.erccComparison,width:this.state.graphWidth,height:.7*this.state.graphWidth}))),!1)}}]),PipelineTab}(p.default.Component);N.propTypes={pipelineInfo:v.default.objectOf(v.default.shape({text:v.default.string,link:v.default.string,linkLabel:v.default.string})).isRequired,sampleId:v.default.number.isRequired,erccComparison:v.default.ERCCComparison,pipelineRun:v.default.PipelineRun};var x=N;t.default=x},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(3)),d=l(a(11)),c=l(a(2)),u=l(a(0)),f=l(a(227)),p=l(a(228)),m=l(a(1)),h=l(a(303)),g=function(e){function NotesTab(){var e,t;(0,n.default)(this,NotesTab);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return t=(0,o.default)(this,(e=(0,s.default)(NotesTab)).call.apply(e,[this].concat(l))),(0,c.default)((0,i.default)(t),"state",{editing:!1}),(0,c.default)((0,i.default)(t),"toggleEditing",function(){t.setState({editing:!t.state.editing})}),t}return(0,d.default)(NotesTab,e),(0,r.default)(NotesTab,[{key:"render",value:function render(){var e=this,t=this.props,a=t.notes,l=t.onNoteChange,n=t.onNoteSave,r=t.savePending,o=t.editable,s=!a||0===a.length;return u.default.createElement(f.default,{editable:o,onEditToggle:function onEditToggle(){return e.toggleEditing()},editing:this.state.editing,title:"Notes",savePending:r,alwaysShowEditLink:s,className:h.default.notesSection,toggleable:!1},!this.state.editing&&(s?u.default.createElement("div",{className:h.default.noData},"No data"):u.default.createElement("div",{className:h.default.note},a)),this.state.editing&&u.default.createElement("div",{className:h.default.textareaContainer},u.default.createElement(p.default,{onChange:function onChange(e){return l(e)},onBlur:function onBlur(){return n()},value:a,className:h.default.textarea})))}}]),NotesTab}(u.default.Component);g.propTypes={notes:m.default.string,editable:m.default.bool,onNoteChange:m.default.func.isRequired,onNoteSave:m.default.func.isRequired,savePending:m.default.bool};var v=g;t.default=v},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.processAdditionalInfo=t.processPipelineInfo=void 0;var n=l(a(2)),r=l(a(14)),o=a(128);function ownKeys(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}t.processPipelineInfo=function processPipelineInfo(e){var t=e.pipeline_run,a=e.summary_stats,l={};if(t){var n=t.total_ercc_reads?(0,o.numberWithCommas)(t.total_ercc_reads):0,s=t.total_ercc_reads&&t.total_reads?" (".concat((100*t.total_ercc_reads/t.total_reads).toFixed(2),"%)"):"";l.totalReads={text:(0,o.numberWithCommas)(t.total_reads)},l.totalErccReads={text:"".concat(n).concat(s)},t.version.pipeline&&(l.pipelineVersion={text:"v".concat(t.version.pipeline),linkLabel:"View Pipeline Visualization",link:"/samples/".concat(t.sample_id,"/pipeline_viz/").concat(t.version.pipeline)}),l.hostSubtracted={text:t.host_subtracted}}if(a){var i=a.adjusted_remaining_reads?(0,o.numberWithCommas)(a.adjusted_remaining_reads):"unknown",d=a.percent_remaining?" (".concat(a.percent_remaining.toFixed(2),"%)"):"",c=a.unmapped_reads?(0,o.numberWithCommas)(a.unmapped_reads):"unknown",u=a.qc_percent?"".concat(a.qc_percent.toFixed(2),"%"):"unknown",f=a.compression_ratio?a.compression_ratio.toFixed(2):"unknown";l.nonhostReads={text:"".concat(i).concat(d)},l.unmappedReads={text:c},l.qcPercent={text:u},l.compressionRatio={text:f},l.lastProcessedAt={text:(0,r.default)(a.last_processed_at).format("YYYY-MM-DD")}}return l};t.processAdditionalInfo=function processAdditionalInfo(e){return function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(a,!0).forEach(function(t){(0,n.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e,{upload_date:(0,r.default)(e.upload_date).format("YYYY-MM-DD")})}},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(796)).default;t.default=n},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(26)),r=l(a(27)),o=l(a(7)),s=l(a(8)),i=l(a(10)),d=l(a(9)),c=l(a(3)),u=l(a(11)),f=l(a(2)),p=l(a(0)),m=l(a(4)),h=l(a(1)),g=a(42),v=l(a(421)),y=a(20),b=l(a(304)),C=l(a(224)),w=l(a(1403)),E=function(e){function TaxonDetailsMode(){var e,t;(0,o.default)(this,TaxonDetailsMode);for(var a=arguments.length,l=new Array(a),s=0;s<a;s++)l[s]=arguments[s];return t=(0,i.default)(this,(e=(0,d.default)(TaxonDetailsMode)).call.apply(e,[this].concat(l))),(0,f.default)((0,c.default)(t),"state",{loading:!1,showHistogram:!1,taxonDescription:"",taxonParentName:"",taxonParentDescription:"",wikiUrl:null,collapseTaxonDescription:!0,collapseParentDescription:!0,taxonDescriptionTall:!1,parentDescriptionTall:!1}),(0,f.default)((0,c.default)(t),"loadData",(0,r.default)(n.default.mark(function _callee(){return n.default.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({loading:!0,showHistogram:!1,taxonDescription:"",taxonParentName:"",taxonParentDescription:"",wikiUrl:null,collapseTaxonDescription:!0,collapseParentDescription:!0,taxonDescriptionTall:!1,parentDescriptionTall:!1}),e.next=3,Promise.all([t.loadTaxonInfo(),t.loadBackgroundInfo()]);case 3:t.setState({loading:!1});case 4:case"end":return e.stop()}},_callee)}))),(0,f.default)((0,c.default)(t),"expandTaxonDescription",function(){t.setState({collapseTaxonDescription:!1})}),(0,f.default)((0,c.default)(t),"expandParentDescription",function(){t.setState({collapseParentDescription:!1})}),(0,f.default)((0,c.default)(t),"renderHistogram",function(){t.histogram=new v.default(t.histogramContainer,t.state.histogramRpmSeries,{seriesNames:["NT","NR"],labelX:"rPM+1",labelY:"# of Background Samples",refValues:[{name:"this sample",values:[t.props.taxonValues.NT.rpm,t.props.taxonValues.NR.rpm]}],showStatistics:!1,xScaleLog:!0}),t.histogram.update()}),(0,f.default)((0,c.default)(t),"renderTaxonContents",function(){return p.default.createElement("div",{className:w.default.taxonContents},t.state.taxonDescription&&p.default.createElement("div",null,p.default.createElement("div",{className:w.default.subtitle},"Description"),p.default.createElement("div",{className:(0,m.default)(w.default.text,t.state.collapseTaxonDescription&&w.default.collapsed)},p.default.createElement("div",{className:w.default.textInner,ref:function ref(e){return t._taxonDescription=e}},t.state.taxonDescription,t.renderWikipediaLicense(t.props.taxonName,t.state.wikiUrl))),t.state.collapseTaxonDescription&&t.state.taxonDescriptionTall&&p.default.createElement("div",{className:w.default.expandLink,onClick:(0,y.withAnalytics)(t.expandTaxonDescription,"TaxonDetailsMode_show-more-description-link_clicked",{taxonId:t.props.taxonId,taxonName:t.props.taxonName,parentTaxonId:t.props.parentTaxonId})},"Show More")),t.state.taxonParentName&&p.default.createElement("div",null,p.default.createElement("div",{className:w.default.subtitle},"Genus: ",t.state.taxonParentName),p.default.createElement("div",{className:(0,m.default)(w.default.text,t.state.collapseParentDescription&&w.default.collapsed)},p.default.createElement("div",{className:w.default.textInner,ref:function ref(e){return t._taxonParentDescription=e}},t.state.taxonParentDescription,t.renderWikipediaLicense(t.state.taxonParentName,t.state.parentWikiUrl))),t.state.collapseParentDescription&&t.state.parentDescriptionTall&&p.default.createElement("div",{className:w.default.expandLink,onClick:(0,y.withAnalytics)(t.expandParentDescription,"TaxonDetailsMode_show-more-parent-description-link_clicked",{taxonId:t.props.taxonId,taxonName:t.props.taxonName,parentTaxonId:t.props.parentTaxonId})},"Show More")),t.state.showHistogram&&p.default.createElement("div",null,p.default.createElement("div",{className:w.default.subtitle},"Reference Background: ",t.props.background.name,p.default.createElement(C.default,{trigger:p.default.createElement("span",null,p.default.createElement(b.default,{className:w.default.infoIcon})),content:"This chart shows how abundant (rPM) this taxon is in your sample compared to the other samples in the chosen Background Model. The farther your sample line is to the right of the other samples, the higher the likelihood that this taxon is unique to your sample."})),p.default.createElement("div",{className:w.default.histogram,ref:function ref(e){t.histogramContainer=e}})),p.default.createElement("div",{className:w.default.subtitle},"Links"),p.default.createElement("div",{className:w.default.linksSection},p.default.createElement("ul",{className:w.default.linksList},p.default.createElement("li",{className:w.default.link,onClick:function onClick(){return t.linkTo("ncbi")}},"NCBI"),p.default.createElement("li",{className:w.default.link,onClick:function onClick(){return t.linkTo("google")}},"Google")),p.default.createElement("ul",{className:w.default.linksList},t.state.wikiUrl&&p.default.createElement("li",{className:w.default.link,onClick:function onClick(){return t.linkTo("wikipedia")}},"Wikipedia"),p.default.createElement("li",{className:w.default.link,onClick:function onClick(){return t.linkTo("pubmed")}},"Pubmed"))))}),t}return(0,u.default)(TaxonDetailsMode,e),(0,s.default)(TaxonDetailsMode,[{key:"componentDidMount",value:function componentDidMount(){this.loadData()}},{key:"componentDidUpdate",value:function componentDidUpdate(e,t){e.taxonId===this.props.taxonId&&e.background===this.props.background||this.loadData(),t.loading&&!this.state.loading&&this.state.showHistogram&&this.renderHistogram(),this._taxonDescription&&this._taxonDescription.clientHeight>120&&!this.state.taxonDescriptionTall&&this.setState({taxonDescriptionTall:!0}),this._taxonParentDescription&&this._taxonParentDescription.clientHeight>120&&!this.state.parentDescriptionTall&&this.setState({parentDescriptionTall:!0})}},{key:"renderWikipediaLicense",value:function renderWikipediaLicense(e,t){return p.default.createElement("div",{className:w.default.wikiLicense},"This article uses material from the Wikipedia article"," ",p.default.createElement("a",{href:t,className:w.default.wikiLink},e),", which is released under the"," ",p.default.createElement("a",{href:"https://creativecommons.org/licenses/by-sa/3.0/",className:w.default.wikiLink},"Creative Commons Attribution-Share-Alike License 3.0"),".")}},{key:"loadTaxonInfo",value:function loadTaxonInfo(){var e=this,t=[this.props.taxonId];return this.props.parentTaxonId&&t.push(this.props.parentTaxonId),(0,g.getTaxonDescriptions)(t).then(function(t){var a=t[e.props.taxonId],l=e.props.parentTaxonId&&t[e.props.parentTaxonId];a&&e.setState({taxonDescription:t[e.props.taxonId].summary||"",wikiUrl:t[e.props.taxonId].wiki_url||""}),l&&e.setState({taxonParentName:t[e.props.parentTaxonId].title,taxonParentDescription:t[e.props.parentTaxonId].summary,parentWikiUrl:t[e.props.parentTaxonId].wiki_url})}).catch(function(e){console.error("Error loading taxon information: ",e)})}},{key:"loadBackgroundInfo",value:function loadBackgroundInfo(){var e=this;return this.props.background&&this.props.taxonId&&this.props.taxonValues?(this.histogram=null,(0,g.getTaxonDistributionForBackground)(this.props.background.id,this.props.taxonId).then(function(t){if(Object.keys(t).length&&(t.NT||{}).rpm_list&&(t.NR||[]).rpm_list){var a=[t.NT.rpm_list,t.NR.rpm_list];e.setState({histogramRpmSeries:a,showHistogram:!0})}}).catch(function(e){console.error("Unable to retrieve background info",e)})):Promise.resolve()}},{key:"linkTo",value:function linkTo(e){var t=null;switch(e){case"ncbi":t="https://www.ncbi.nlm.nih.gov/Taxonomy/Browser/wwwtax.cgi?mode=Info&id=".concat(this.props.taxonId);break;case"google":t="http://www.google.com/search?q=".concat(this.props.taxonName);break;case"pubmed":t="https://www.ncbi.nlm.nih.gov/pubmed/?term=".concat(this.props.taxonName);break;case"wikipedia":t=this.state.wikiUrl}t&&(window.open(t,"_blank","noopener","noreferrer"),(0,y.logAnalyticsEvent)("TaxonDetailsMode_external-link_clicked",{source:e,url:t,taxonId:this.props.taxonId,taxonName:this.props.taxonName,parentTaxonId:this.props.parentTaxonId}))}},{key:"render",value:function render(){var e=this.state.loading;return p.default.createElement("div",{className:w.default.content},e?p.default.createElement("div",{className:w.default.loadingMsg},"Loading..."):p.default.createElement("div",{className:w.default.title},this.props.taxonName),!e&&this.renderTaxonContents())}}]),TaxonDetailsMode}(p.default.Component);t.default=E,E.propTypes={taxonId:h.default.number.isRequired,taxonName:h.default.string.isRequired,parentTaxonId:h.default.number,taxonValues:h.default.object,background:h.default.object}},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(798)).default;t.default=n},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(0)),c=l(a(4)),u=l(a(14)),f=l(a(1406)),p=l(a(1419)),m=a(87),h=a(61),g=a(62),v=l(a(437)),y=l(a(24)),b=a(20),C=l(a(1503)),w=function(e){function PipelineStepDetailsMode(){return(0,n.default)(this,PipelineStepDetailsMode),(0,o.default)(this,(0,s.default)(PipelineStepDetailsMode).apply(this,arguments))}return(0,i.default)(PipelineStepDetailsMode,e),(0,r.default)(PipelineStepDetailsMode,[{key:"renderStatusBox",value:function renderStatusBox(){var e,t,a=this.props,l=a.status,n=a.startTime,r=a.endTime,o=a.sample,s=a.pipelineRun;switch(l){case"inProgress":e="Current step",t="Running for ".concat((0,u.default)(Math.floor(1e3*n)).fromNow(!0));break;case"userErrored":case"pipelineErrored":var i=(0,m.sampleErrorInfo)(o,s),f=i.message,p=i.linkText,h=i.link;e="Sample failed at this step.",t=d.default.createElement("span",null,f," ",d.default.createElement("a",{href:h},p));break;case"finished":e="Step completed",t=r&&"Finished in ".concat((0,u.default)(Math.floor(1e3*n)).from(1e3*r,!0),".");break;default:return}return d.default.createElement("div",{className:(0,c.default)(C.default.statusBox,C.default[l])},d.default.createElement(v.default,{type:l,className:C.default.statusIcon}),d.default.createElement("div",{className:C.default.statusText},d.default.createElement("div",{className:C.default.statusTitle},e),d.default.createElement("div",{className:C.default.statusDescription},t)))}},{key:"renderStepInfo",value:function renderStepInfo(){var e=this.props.description;if(e){var t=d.default.createElement("div",{className:C.default.title},"Step Info"),a=e.replace(/( {4})/gi,"");return d.default.createElement(g.Accordion,{header:t,className:C.default.accordion,open:!0},d.default.createElement("div",{className:(0,c.default)(C.default.description,C.default.accordionContent)},d.default.createElement(f.default,null,d.default.createElement(p.default,{source:a,className:C.default.description}))))}}},{key:"renderInputFiles",value:function renderInputFiles(){var e=this,t=this.props.inputFiles;if(!t||!t.length)return null;var a=t.map(function(t,a){return d.default.createElement("div",{className:C.default.fileGroup,key:"inputFileGroup.fromStepName-".concat(a)},d.default.createElement("div",{className:C.default.fileGroupHeader},"From ".concat(t.fromStepName||"Sample"," Step:")),e.renderFileList(t.files))}),l=d.default.createElement("div",{className:C.default.title},"Input Files");return d.default.createElement(g.Accordion,{className:C.default.accordion,header:l,open:!0},d.default.createElement("div",{className:C.default.accordionContent},a))}},{key:"renderOutputFiles",value:function renderOutputFiles(){var e=this.props,t=e.stepName,a=e.outputFiles;if(a&&a.length){var l=d.default.createElement("div",{className:C.default.title},"Output Files");return d.default.createElement(g.Accordion,{className:C.default.accordion,header:l,open:!0},d.default.createElement("div",{className:(0,c.default)(C.default.accordionContent,C.default.fileGroup)},d.default.createElement("div",{className:C.default.fileGroupHeader},"From ".concat(t," Step:")),this.renderFileList(a)))}}},{key:"renderFileList",value:function renderFileList(e){return e.map(function(e,t){var a=e.url?C.default.fileLink:C.default.disabledFileLink,l=e.url?d.default.createElement("a",{onClick:(0,b.withAnalytics)(function(){return(0,h.openUrl)(e.url)},"PipelineStepDetailsMode_file-link_clicked",{fileName:e.fileName,url:e.url})},e.fileName):e.fileName;return d.default.createElement("div",{className:a,key:"".concat(e.fileName,"-").concat(t)},l)})}},{key:"renderResources",value:function renderResources(){var e=this.props.resources;if(e&&e.length){var t=d.default.createElement("div",{className:C.default.title},"Resources"),a=e.map(function(e){return d.default.createElement("span",{key:e.url},d.default.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",onClick:(0,b.withAnalytics)(function(){},"PipelineStepDetailsMode_resource-link_clicked",{linkName:e.name,linkUrl:e.url})},e.name))});return d.default.createElement(g.Accordion,{className:C.default.accordion,header:t,open:!0},d.default.createElement("div",{className:(0,c.default)(C.default.resourcesContainer,C.default.accordionContent)},a))}}},{key:"render",value:function render(){var e=this.props.stepName;return d.default.createElement("div",{className:C.default.content},d.default.createElement("div",{className:C.default.stepName},e),this.renderStatusBox(),this.renderStepInfo(),!1,!1,this.renderResources())}}]),PipelineStepDetailsMode}(d.default.Component),E=y.default.arrayOf(y.default.shape({fileName:y.default.string.isRequired,url:y.default.string}).isRequired);w.propTypes={stepName:y.default.string,description:y.default.string,inputFiles:y.default.arrayOf(y.default.shape({fromStepName:y.default.string,files:E.isRequired}).isRequired).isRequired,outputFiles:E.isRequired,status:y.default.string,startTime:y.default.number,endTime:y.default.number,resources:y.default.arrayOf(y.default.shape({name:y.default.string,url:y.default.string})),sample:y.default.Sample,pipelineRun:y.default.PipelineRun};var S=w;t.default=S},,,,,,,,,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(808)).default;t.default=n},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(26)),r=l(a(27)),o=l(a(7)),s=l(a(8)),i=l(a(10)),d=l(a(9)),c=l(a(3)),u=l(a(11)),f=l(a(2)),p=l(a(0)),m=l(a(1)),h=a(439),g=a(20),v=l(a(292)),y=l(a(1506)),b="https://www.ncbi.nlm.nih.gov/pubmed/",C=function(e){function GeneDetailsMode(e){var t;return(0,o.default)(this,GeneDetailsMode),t=(0,i.default)(this,(0,d.default)(GeneDetailsMode).call(this,e)),(0,f.default)((0,c.default)(t),"expandOntology",function(){var e=t.props.geneName;t.setState({collapseOntology:!1}),(0,g.logAnalyticsEvent)("GeneDetailsMode_expand-ontology_clicked",{geneName:e})}),t.state={loading:!0,cardEntryFound:!1,collapseOntology:!0,ontology:{accession:"",label:"",synonyms:[],description:"",geneFamily:[],drugClass:[],publications:[],error:"Placeholder"}},t}return(0,u.default)(GeneDetailsMode,e),(0,s.default)(GeneDetailsMode,[{key:"componentDidMount",value:function componentDidMount(){var e=this.props.geneName;this.getGeneInfo(e)}},{key:"componentDidUpdate",value:function componentDidUpdate(e){var t=this.props.geneName;t!==e.geneName&&(this.setState({loading:!0,cardEntryFound:!1,collapseOntology:!0}),this.getGeneInfo(t))}},{key:"getGeneInfo",value:function(){var e=(0,r.default)(n.default.mark(function _callee(e){var t,a,l;return n.default.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,h.getOntology)(e);case 2:t=n.sent,a=""===t.error,l=7===t.accession.length,this.setState({ontology:t,loading:!1,ontologyInfoFound:a,cardEntryFound:l});case 6:case"end":return n.stop()}},_callee,this)}));return function getGeneInfo(t){return e.apply(this,arguments)}}()},{key:"generateLinkTo",value:function generateLinkTo(e){var t=this.state.ontology,a=t.accession,l=t.genbankAccession,n=this.props.geneName;switch(e){case"CARD Ontology":return"https://card.mcmaster.ca/aro/"+a;case"CARD Ontology OWL":return"https://github.com/arpcard/aro";case"PubMed Search":return b+"?term="+n;case"Google Scholar Search":return"https://scholar.google.com/scholar?q="+n;case"NCBI AMR Reference Gene Catalog":return"https://www.ncbi.nlm.nih.gov/pathogens/isolates#/refgene/"+n;case"NCBI Genbank / Nucleotide Database":return"https://www.ncbi.nlm.nih.gov/nuccore/"+l;default:return""}}},{key:"renderCARDLicense",value:function renderCARDLicense(){return p.default.createElement("div",{className:y.default.cardLicense},"This article uses material from the"," ",p.default.createElement("a",{href:this.generateLinkTo("CARD Ontology OWL"),className:y.default.cardLink,target:"_blank",rel:"noopener noreferrer",onClick:function onClick(){return(0,g.logAnalyticsEvent)("GeneDetailsMode_card-ontology-attribution_clicked")}},"CARD Antibiotic Resistance Ontology"),", which is released under the"," ",p.default.createElement("a",{href:"https://creativecommons.org/licenses/by/4.0/",className:y.default.cardLink,target:"_blank",rel:"noopener noreferrer",onClick:function onClick(){return(0,g.logAnalyticsEvent)("GeneDetailsMode_creative-commons-license_clicked")}},"Creative Commons CC-BY license version 4.0")," ","by McMaster University.")}},{key:"renderPubMedLicense",value:function renderPubMedLicense(){return p.default.createElement("div",{className:y.default.cardLicense},"Publication names courtesy of the U.S. National Library of Medicine.")}},{key:"renderError",value:function renderError(){var e=this.state.ontology.error;return p.default.createElement("div",{className:y.default.cardLicense},e)}},{key:"renderHeader",value:function renderHeader(){var e=this.state,t=e.loading,a=e.ontology.label,l=this.props.geneName;return t?p.default.createElement("div",{className:y.default.loadingMsg},"Loading..."):p.default.createElement("div",{className:y.default.title},""!==a?a:l)}},{key:"renderOntology",value:function renderOntology(){var e=this.state,t=e.ontology,a=t.synonyms,l=t.description,n=t.geneFamily,r=t.drugClass,o=t.publications,s=e.collapseOntology;return p.default.createElement("div",null,a.length>0&&p.default.createElement("div",{className:y.default.text},p.default.createElement("div",{className:y.default.textInner},"Synonym(s)",":"," ",p.default.createElement("span",{className:y.default.textSynonym},a.join(", ")))),p.default.createElement("div",{className:y.default.subtitle},"Description"),p.default.createElement("div",{className:y.default.text},p.default.createElement("div",{className:y.default.textInner},l)),r&&p.default.createElement("div",null,p.default.createElement("div",{className:y.default.subtitle},"Drug Resistances"),p.default.createElement("div",{className:y.default.text},this.renderPropertyList([r]))),!s&&p.default.createElement("div",null,n.length>0&&p.default.createElement("div",null,p.default.createElement("div",{className:y.default.subtitle},"AMR Gene Family"),p.default.createElement("div",{className:y.default.text},this.renderPropertyList(n))),o.length>0&&p.default.createElement("div",null,p.default.createElement("div",{className:y.default.subtitle},"Publications"),p.default.createElement("div",{className:y.default.text},this.renderPublications()))),s&&(n.length>0||o.length>0)&&p.default.createElement("div",{className:y.default.expandLink,onClick:this.expandOntology},"Show More"),p.default.createElement("div",{className:y.default.text},p.default.createElement("div",{className:y.default.textInner},this.renderCARDLicense()),p.default.createElement("div",{className:y.default.textInner},this.renderPubMedLicense())))}},{key:"renderPropertyList",value:function renderPropertyList(e){return e.map(function(e){return p.default.createElement("div",{key:e.label},p.default.createElement("div",{className:y.default.textInner},p.default.createElement("em",null,v.default.capitalizeFirstLetter(e.label))),p.default.createElement("div",{className:y.default.textInner},e.description))})}},{key:"renderPublications",value:function renderPublications(){var e=this.state.ontology,t=e.label,a=e.publications,l=this.props.geneName;return a.map(function(e){var a=/.*(?=(\(PMID))/.exec(e)[0],n=/(PMID)\s[0-9]*/.exec(e)[0],r=n.split(" ")[1];return p.default.createElement("div",{className:y.default.textInner,key:r},a," (",p.default.createElement("span",{className:y.default.link},p.default.createElement("a",{href:b+r,className:y.default.link,target:"_blank",rel:"noopener noreferrer",onClick:function onClick(){return(0,g.logAnalyticsEvent)("GeneDetailsMode_pubmed-citation-link_clicked",{citation:a,pubmedId:r,ontologyLabel:t,geneName:l})}},n)),")")})}},{key:"renderFooterLinks",value:function renderFooterLinks(){var e=this,t=this.state.cardEntryFound,a=this.props.geneName,l=["NCBI Genbank / Nucleotide Database","NCBI AMR Reference Gene Catalog","PubMed Search","Google Scholar Search"];return t&&l.unshift("CARD Ontology"),l.map(function(t){return p.default.createElement("li",{className:y.default.link,key:t},p.default.createElement("a",{href:e.generateLinkTo(t),target:"_blank",rel:"noopener noreferrer",onClick:function onClick(){return(0,g.logAnalyticsEvent)("GeneDetailsMode_footer-link_clicked",{destination:t,geneName:a})}},t))})}},{key:"renderGeneContents",value:function renderGeneContents(){var e=this.state,t=e.loading,a=e.ontologyInfoFound;if(!t)return p.default.createElement("div",{className:y.default.geneContents},a?this.renderOntology():this.renderError(),p.default.createElement("div",{className:y.default.subtitle},"Links"),p.default.createElement("div",{className:y.default.linksSection},p.default.createElement("ul",{className:y.default.linksList},this.renderFooterLinks())))}},{key:"render",value:function render(){return p.default.createElement("div",{className:y.default.content},this.renderHeader(),this.renderGeneContents())}}]),GeneDetailsMode}(p.default.Component);t.default=C,C.propTypes={geneName:m.default.string.isRequired}},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(0)),r=a(744),o=l(a(1510));a(1512);var s=function ToastContainer(){return n.default.createElement(r.ToastContainer,{className:o.default.toastContainer,position:"top-right",autoClose:!1,transition:r.Slide})};t.default=s},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(0)),c=l(a(1)),u=l(a(4)),f=l(a(1522)),p=function(e){function RowGroupLegend(){return(0,n.default)(this,RowGroupLegend),(0,o.default)(this,(0,s.default)(RowGroupLegend).apply(this,arguments))}return(0,i.default)(RowGroupLegend,e),(0,r.default)(RowGroupLegend,[{key:"render",value:function render(){var e=this.props.tooltipLocation;return d.default.createElement("div",{className:(0,u.default)(f.default.tooltip),style:{transform:"translate(-50%)",left:e.left+4,top:e.top-44}},d.default.createElement("div",{className:f.default.legend},this.props.label),d.default.createElement("div",{className:f.default.arrow}))}}]),RowGroupLegend}(d.default.Component);t.default=p,p.propTypes={tooltipLocation:c.default.object,label:c.default.string}},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(26)),r=l(a(27)),o=l(a(7)),s=l(a(8)),i=l(a(10)),d=l(a(9)),c=l(a(3)),u=l(a(11)),f=l(a(2)),p=l(a(0)),m=l(a(4)),h=l(a(1)),g=l(a(83)),v=l(a(228)),y=l(a(442)),b=a(42),C=l(a(181)),w=l(a(182)),E=a(308),S=a(20),_=l(a(1531)),k=function(e){function ProjectCreationForm(){var e,t;(0,o.default)(this,ProjectCreationForm);for(var a=arguments.length,l=new Array(a),s=0;s<a;s++)l[s]=arguments[s];return t=(0,i.default)(this,(e=(0,d.default)(ProjectCreationForm)).call.apply(e,[this].concat(l))),(0,f.default)((0,c.default)(t),"state",{name:"",publicAccess:-1,error:"",description:"",showInfo:!1}),(0,f.default)((0,c.default)(t),"handleNameChange",function(e){t.setState({name:e})}),(0,f.default)((0,c.default)(t),"handleDescriptionChange",function(e){t.setState({description:e})}),(0,f.default)((0,c.default)(t),"handleCreateProject",(0,r.default)(n.default.mark(function _callee(){var e;return n.default.wrap(function _callee$(a){for(;;)switch(a.prev=a.next){case 0:if(""!==t.state.name&&-1!==t.state.publicAccess){a.next=2;break}return a.abrupt("return");case 2:return t.setState({error:""}),a.prev=3,a.next=6,(0,b.createProject)({name:t.state.name,public_access:t.state.publicAccess,description:t.state.description});case 6:e=a.sent,t.props.onCreate(e),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(3),"Name has already been taken"===a.t0[0]?t.setState({error:"Project name is already taken."}):t.setState({error:"There was an error creating your project."});case 13:case"end":return a.stop()}},_callee,null,[[3,10]])}))),(0,f.default)((0,c.default)(t),"toggleInfo",function(){var e=t.state.showInfo;t.setState({showInfo:!e},function(){(0,S.logAnalyticsEvent)("ProjectCreationForm_more-info-toggle_clicked",{showInfo:t.state.showInfo})})}),t}return(0,u.default)(ProjectCreationForm,e),(0,s.default)(ProjectCreationForm,[{key:"render",value:function render(){var e=this,t=this.state.showInfo;return p.default.createElement("div",{className:_.default.projectCreationForm},p.default.createElement("div",{className:_.default.field},p.default.createElement("div",{className:_.default.label},"New Project Name"),p.default.createElement(g.default,{fluid:!0,value:this.state.name,onChange:this.handleNameChange})),p.default.createElement("div",{className:_.default.field},p.default.createElement("div",{className:_.default.label},"Project Sharing"),p.default.createElement("div",{className:_.default.sharingOption,onClick:function onClick(){return e.setState({publicAccess:1})}},p.default.createElement(y.default,{selected:1===this.state.publicAccess,className:_.default.radioButton}),p.default.createElement(C.default,{className:_.default.projectIcon}),p.default.createElement("div",{className:_.default.optionText},p.default.createElement("div",{className:_.default.title},"Public Project"),p.default.createElement("div",{className:_.default.description},"Viewable by all users of IDseq"))),p.default.createElement("div",{className:_.default.sharingOption,onClick:function onClick(){return e.setState({publicAccess:0})}},p.default.createElement(y.default,{selected:0===this.state.publicAccess,className:_.default.radioButton}),p.default.createElement(w.default,{className:_.default.projectIcon}),p.default.createElement("div",{className:_.default.optionText},p.default.createElement("div",{className:_.default.title},"Private Project"),p.default.createElement("div",{className:_.default.description},"Only viewable by you and users you specify. Individual samples will become public after one year.")))),p.default.createElement("div",{className:_.default.field},p.default.createElement("div",{className:_.default.label},"Project Description"," ",p.default.createElement("span",{className:_.default.infoLink,onClick:this.toggleInfo},t?"Less Info":"More Info")),t&&p.default.createElement("div",{className:_.default.info},p.default.createElement("div",{className:_.default.title},"A project description may include:"),p.default.createElement("ul",null,p.default.createElement("li",null,"The project goal (benchmarking, identifying an unknown pathogen, microbiome, etc.)"),p.default.createElement("li",null,"If this work is part of a larger study, the aim of that study"),p.default.createElement("li",null,"A summary of where the samples came from (geographically and collection date) and preparation techniques, if relevant"),p.default.createElement("li",null,"Any other context that might be helpful in interpreting the data")),p.default.createElement("p",null,p.default.createElement("span",{className:_.default.title},"Example project description: "),"Investigation of pathogen diversity in healthy vs. diseased dogs in California. Sequenced RNA extracted from dog stool with a MiSeq.")),p.default.createElement(v.default,{onChange:this.handleDescriptionChange,value:this.state.description,className:_.default.descriptionTextArea,maxLength:E.MAX_DESCRIPTION_LENGTH,placeholder:"Enter your project goals, information about your study, where your samples came from, etc..."}),p.default.createElement("div",{className:_.default.charCounter},E.MAX_DESCRIPTION_LENGTH-this.state.description.length,"/",E.MAX_DESCRIPTION_LENGTH," characters remaining")),this.state.error&&p.default.createElement("div",{className:_.default.error},this.state.error),p.default.createElement("div",{className:_.default.controls},p.default.createElement("div",{className:(0,m.default)(_.default.createButton,(""===this.state.name||-1===this.state.publicAccess)&&_.default.disabled),onClick:this.handleCreateProject},"Create Project"),p.default.createElement("div",{className:_.default.cancelButton,onClick:this.props.onCancel},"Cancel")))}}]),ProjectCreationForm}(p.default.Component);k.propTypes={onCancel:h.default.func.isRequired,onCreate:h.default.func.isRequired};var N=k;t.default=N},function(e,t,a){e.exports={folder:"folder-3ahde",decorator:"decorator-1R6v8"}},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(3)),d=l(a(11)),c=l(a(2)),u=l(a(0)),f=a(17),p=a(84),m=l(a(24)),h=function(e){function ProjectSelect(){var e,t;(0,n.default)(this,ProjectSelect);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return t=(0,o.default)(this,(e=(0,s.default)(ProjectSelect)).call.apply(e,[this].concat(l))),(0,c.default)((0,i.default)(t),"getOptions",function(){return((0,f.sortBy)("name",t.props.projects)||[]).map(function(e){return{value:e.id,text:e.name}})}),(0,c.default)((0,i.default)(t),"onChange",function(e){t.props.onChange((0,f.find)({id:e},t.props.projects))}),t}return(0,d.default)(ProjectSelect,e),(0,r.default)(ProjectSelect,[{key:"render",value:function render(){var e=this,t=this.props,a=t.disabled,l=t.erred;return u.default.createElement(p.Dropdown,{fluid:!0,options:this.getOptions(),onChange:function onChange(t){return e.onChange(t)},value:this.props.value,placeholder:"Select project",search:!0,disabled:a,erred:l})}}]),ProjectSelect}(u.default.Component);h.propTypes={projects:m.default.arrayOf(m.default.Project),value:m.default.number,onChange:m.default.func.isRequired,disabled:m.default.bool,erred:m.default.bool};var g=h;t.default=g},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(0)),c=l(a(1)),u=a(84),f=l(a(309)),p=function(e){function BaseMultipleFilter(){return(0,n.default)(this,BaseMultipleFilter),(0,o.default)(this,(0,s.default)(BaseMultipleFilter).apply(this,arguments))}return(0,i.default)(BaseMultipleFilter,e),(0,r.default)(BaseMultipleFilter,[{key:"render",value:function render(){var e=this.props,t=e.label,a=e.onChange,l=e.options,n=e.selected;return d.default.createElement(u.MultipleDropdown,{checkedOnTop:!0,search:!0,fluid:!0,arrowInsideTrigger:!1,trigger:d.default.createElement("div",{className:f.default.filterLabel},t),menuLabel:"Select ".concat(t),options:l,value:n,onChange:a})}}]),BaseMultipleFilter}(d.default.Component);p.propTypes={selected:c.default.array,onChange:c.default.func,options:c.default.array,counters:c.default.object,label:c.default.string};var m=p;t.default=m},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(0)),c=l(a(1)),u=a(84),f=l(a(309)),p=function(e){function BaseSingleFilter(){return(0,n.default)(this,BaseSingleFilter),(0,o.default)(this,(0,s.default)(BaseSingleFilter).apply(this,arguments))}return(0,i.default)(BaseSingleFilter,e),(0,r.default)(BaseSingleFilter,[{key:"render",value:function render(){var e=this.props,t=e.label,a=e.onChange,l=e.options,n=e.selected;return d.default.createElement(u.BareDropdown,{trigger:d.default.createElement("div",{className:f.default.filterLabel},t),menuLabel:"Select ".concat(t),options:l,onChange:a,value:n})}}]),BaseSingleFilter}(d.default.Component);p.propTypes={selected:c.default.oneOfType([c.default.string,c.default.number]),onChange:c.default.func,options:c.default.array,counters:c.default.object,label:c.default.string};var m=p;t.default=m},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(5)),r=l(a(47)),o=l(a(7)),s=l(a(8)),i=l(a(10)),d=l(a(9)),c=l(a(3)),u=l(a(11)),f=l(a(2)),p=l(a(0)),m=l(a(1)),h=a(17),g=a(443),v=function(e){function LocationFilter(){var e,t;(0,o.default)(this,LocationFilter);for(var a=arguments.length,l=new Array(a),n=0;n<a;n++)l[n]=arguments[n];return t=(0,i.default)(this,(e=(0,d.default)(LocationFilter)).call.apply(e,[this].concat(l))),(0,f.default)((0,c.default)(t),"expandParents",function(e){var t={};return(0,h.forEach)(function(e){(0,h.forEach)(function(a){t[a]?t[a].count+=e.count:t[a]={text:a,value:a,count:e.count}},e.parents||[]);var a=e.value;t[a]?t[a].count+=e.count:t[a]={text:e.text,value:a,count:e.count}},e),(0,h.values)(t)}),t}return(0,u.default)(LocationFilter,e),(0,s.default)(LocationFilter,[{key:"render",value:function render(){var e=this.props,t=e.options,a=(0,r.default)(e,["options"]);return p.default.createElement(g.BaseMultipleFilter,(0,n.default)({},a,{options:(0,h.sortBy)("text",this.expandParents(t))}))}}]),LocationFilter}(p.default.Component);v.propTypes={options:m.default.array};var y=v;t.default=y},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(26)),r=l(a(27)),o=l(a(7)),s=l(a(8)),i=l(a(10)),d=l(a(9)),c=l(a(3)),u=l(a(11)),f=l(a(2)),p=l(a(0)),m=l(a(1)),h=a(84),g=a(42),v=l(a(309)),y=function(e){function TaxonFilter(){var e,t;(0,o.default)(this,TaxonFilter);for(var a=arguments.length,l=new Array(a),s=0;s<a;s++)l[s]=arguments[s];return t=(0,i.default)(this,(e=(0,d.default)(TaxonFilter)).call.apply(e,[this].concat(l))),(0,f.default)((0,c.default)(t),"handleFilterChange",function(){var e=(0,r.default)(n.default.mark(function _callee(e){var a,l,r;return n.default.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return a=t.props.domain,n.next=3,(0,g.getSearchSuggestions)({query:e,categories:["taxon"],domain:a});case 3:return l=n.sent,r=(((l||{}).Taxon||{}).results||[]).filter(function(e){return e.taxid>0}).map(function(e){return{value:e.taxid,text:e.title}}),n.abrupt("return",r);case 6:case"end":return n.stop()}},_callee)}));return function(t){return e.apply(this,arguments)}}()),t}return(0,u.default)(TaxonFilter,e),(0,s.default)(TaxonFilter,[{key:"render",value:function render(){var e=this.props,t=e.onChange,a=e.selectedOptions;return p.default.createElement(h.AsyncMultipleDropdown,{arrowInsideTrigger:!1,trigger:p.default.createElement("div",{className:v.default.filterLabel},"Taxon"),menuLabel:"Select Taxon",selectedOptions:a,onFilterChange:this.handleFilterChange,onChange:t})}}]),TaxonFilter}(p.default.Component);y.propTypes={domain:m.default.string,selectedOptions:m.default.array,onChange:m.default.func};var b=y;t.default=b},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(0)),c=l(a(1)),u=a(84),f=l(a(309)),p=function(e){function VisibilityFilter(e){var t;return(0,n.default)(this,VisibilityFilter),(t=(0,o.default)(this,(0,s.default)(VisibilityFilter).call(this,e))).options=[{value:"public",text:"Public"},{value:"private",text:"Private"}],t}return(0,i.default)(VisibilityFilter,e),(0,r.default)(VisibilityFilter,[{key:"render",value:function render(){var e=this.props,t=e.onChange,a=e.selected;return d.default.createElement(u.BareDropdown,{trigger:d.default.createElement("div",{className:f.default.filterLabel},"Visibility"),options:this.options,onChange:t,value:a})}}]),VisibilityFilter}(d.default.Component);p.propTypes={selected:c.default.string,onChange:c.default.func,counters:c.default.object};var m=p;t.default=m},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(5)),r=l(a(7)),o=l(a(8)),s=l(a(10)),i=l(a(9)),d=l(a(11)),c=l(a(1)),u=l(a(0)),f=a(37),p=function(e){function Container(e){return(0,r.default)(this,Container),(0,s.default)(this,(0,i.default)(Container).call(this,e))}return(0,d.default)(Container,e),(0,o.default)(Container,[{key:"render",value:function render(){return u.default.createElement(f.Container,(0,n.default)({className:"idseq-ui"},this.props),this.props.children)}}]),Container}(u.default.Component);p.propTypes={children:c.default.oneOfType([c.default.arrayOf(c.default.node),c.default.node]).isRequired};var m=p;t.default=m},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(26)),r=l(a(27)),o=l(a(7)),s=l(a(8)),i=l(a(10)),d=l(a(9)),c=l(a(3)),u=l(a(11)),f=l(a(2)),p=l(a(0)),m=l(a(1)),h=a(37),g=l(a(4)),v=l(a(1673)),y=function(e){function LiveSearchBox(e){var t;return(0,o.default)(this,LiveSearchBox),t=(0,i.default)(this,(0,d.default)(LiveSearchBox).call(this,e)),(0,f.default)((0,c.default)(t),"handleKeyDown",function(e){var a=t.props,l=a.onEnter,n=a.inputMode,r=t.state,o=r.value,s=r.selectedResult;"Enter"===e.key&&(n&&!s&&t.handleResultSelect(e,{result:o}),l&&l({current:e,value:o}))}),(0,f.default)((0,c.default)(t),"resetComponent",function(){t.setState({isLoading:!1,results:[],value:""})}),(0,f.default)((0,c.default)(t),"handleResultSelect",function(e,a){var l=a.result,n=t.props.onResultSelect;t.resetComponent(),n&&n({currentEvent:e,result:l})}),(0,f.default)((0,c.default)(t),"triggerSearch",(0,r.default)(n.default.mark(function _callee(){var e,a,l,r;return n.default.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return e=t.props.onSearchTriggered,a=t.state.value,t.setState({isLoading:!0,selectedResult:null}),l=t.lastestTimerId,n.next=6,e(a);case 6:r=n.sent,l===t.lastestTimerId&&t.setState({isLoading:!1,results:r});case 8:case"end":return n.stop()}},_callee)}))),(0,f.default)((0,c.default)(t),"handleSearchChange",function(e,a){var l=a.value,n=t.props,r=n.delayTriggerSearch,o=n.minChars,s=n.onSearchChange;t.setState({value:l}),s&&s(l),l.trim().length>=o&&(t.lastestTimerId&&clearTimeout(t.lastestTimerId),t.lastestTimerId=setTimeout(t.triggerSearch,r,l))}),(0,f.default)((0,c.default)(t),"handleSelectionChange",function(e,a){var l=a.result;t.setState({selectedResult:l})}),t.state={isLoading:!1,results:[],value:t.props.initialValue,selectedResult:null},t.lastestTimerId=null,t}return(0,u.default)(LiveSearchBox,e),(0,s.default)(LiveSearchBox,[{key:"render",value:function render(){var e=this.props,t=e.className,a=e.placeholder,l=e.rectangular,n=this.state,r=n.isLoading,o=n.results,s=n.value;return p.default.createElement(h.Search,{category:!0,className:(0,g.default)(v.default.liveSearchBox,l&&v.default.rectangular,t),loading:r,onKeyDown:this.handleKeyDown,onResultSelect:this.handleResultSelect,onSearchChange:this.handleSearchChange,onSelectionChange:this.handleSelectionChange,placeholder:a,results:o,showNoResults:!1,value:s})}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(e,t){return e.value!==t.prevValue?{prevValue:e.value,value:e.value}:null}}]),LiveSearchBox}(p.default.Component);y.defaultProps={delayTriggerSearch:1e3,initialValue:"",minChars:2,placeholder:"Search",rectangular:!1,inputMode:!1},y.propTypes={className:m.default.string,initialValue:m.default.string,delayTriggerSearch:m.default.number,minChars:m.default.number,placeholder:m.default.string,value:m.default.string,onEnter:m.default.func,onSearchTriggered:m.default.func.isRequired,onSearchChange:m.default.func,onResultSelect:m.default.func,rectangular:m.default.bool,inputMode:m.default.bool};var b=y;t.default=b},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(0)),r=l(a(1)),o=function PlusControlIcon(e){return n.default.createElement("svg",{className:e.className,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},n.default.createElement("path",{d:"M 10 6 C 9.446 6 9 6.4459904 9 7 L 9 9 L 7 9 C 6.446 9 6 9.446 6 10 C 6 10.554 6.446 11 7 11 L 9 11 L 9 13 C 9 13.55401 9.446 14 10 14 C 10.554 14 11 13.55401 11 13 L 11 11 L 13 11 C 13.554 11 14 10.554 14 10 C 14 9.446 13.554 9 13 9 L 11 9 L 11 7 C 11 6.4459904 10.554 6 10 6 z"}))};o.propTypes={className:r.default.string};var s=o;t.default=s},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(0)),r=l(a(1)),o=function MinusControlIcon(e){return n.default.createElement("svg",{className:e.className,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},n.default.createElement("path",{d:"m 7,9 c -0.554,0 -1,0.446 -1,1 0,0.554 0.446,1 1,1 l 6,0 c 0.554,0 1,-0.446 1,-1 0,-0.554 -0.446,-1 -1,-1 z"}))};o.propTypes={className:r.default.string};var s=o;t.default=s},,,,,,,,,,,,,,,function(e,t,a){"use strict";var l=a(96),n=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(7)),o=n(a(8)),s=n(a(10)),i=n(a(9)),d=n(a(11)),c=n(a(2)),u=l(a(0)),f=n(a(1)),p=n(a(1723)),m=function(e){function HeatmapPrivate(){return(0,r.default)(this,HeatmapPrivate),(0,s.default)(this,(0,i.default)(HeatmapPrivate).apply(this,arguments))}return(0,d.default)(HeatmapPrivate,e),(0,o.default)(HeatmapPrivate,[{key:"render",value:function render(){return u.default.createElement("svg",{className:this.props.className,version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 38 38",style:{enableBackground:"new 0 0 38 38"},xmlSpace:"preserve"},u.default.createElement("g",null,u.default.createElement("defs",null,u.default.createElement("path",{id:"SVGID_1_",d:"M-323.4-3.1c0.2-0.2,0.5-0.4,0.8-0.4h3.6c0.3,0,0.6,0.1,0.8,0.4l1,1.2c0.6,0.8,1.6,1.2,2.5,1.2h12.6 c0.3,0,0.6,0.1,0.8,0.3c0.2,0.2,0.3,0.5,0.3,0.8l-0.1,0.6h-22.4l-0.4-3.3C-323.7-2.6-323.6-2.9-323.4-3.1z M-300.4,17.1 c-0.1,0.8-0.7,1.3-1.5,1.3h-20.8c-0.8,0-1.4-0.6-1.5-1.3l-1.2-12.7c0-0.3,0.1-0.6,0.3-0.8c0.2-0.2,0.5-0.4,0.8-0.4h23.9 c0.3,0,0.6,0.1,0.8,0.4c0.2,0.2,0.3,0.5,0.3,0.8L-300.4,17.1z M-327.5,4.6l1.1,12.7c0.2,1.9,1.8,3.3,3.7,3.3h20.8 c1.9,0,3.5-1.4,3.7-3.3l1.1-12.7c0.1-0.9-0.2-1.9-0.8-2.5c-0.2-0.3-0.5-0.5-0.8-0.7l0.1-0.7c0.1-0.9-0.2-1.8-0.8-2.5 c-0.6-0.7-1.5-1.1-2.4-1.1h-12.6c-0.3,0-0.6-0.1-0.8-0.4l-1-1.2c-0.6-0.7-1.6-1.2-2.5-1.2h-3.6c-0.9,0-1.8,0.4-2.5,1.1 c-0.6,0.7-0.9,1.6-0.8,2.6l0.4,3.3c-0.4,0.2-0.9,0.5-1.2,0.8C-327.3,2.8-327.6,3.7-327.5,4.6z"})),u.default.createElement("use",{xlinkHref:"#SVGID_1_",style:{overflow:"visible",fill:"#A300DF"}}),u.default.createElement("clipPath",{id:"SVGID_2_"},u.default.createElement("use",{xlinkHref:"#SVGID_1_",style:{overflow:"visible"}})),u.default.createElement("g",{className:p.default.st1},u.default.createElement("defs",null,u.default.createElement("rect",{id:"SVGID_3_",x:"-518.7",y:"-790.7",width:1478,height:1395})),u.default.createElement("use",{xlinkHref:"#SVGID_3_",style:{overflow:"visible",fill:"#A300DF"}}),u.default.createElement("clipPath",{id:"SVGID_4_"},u.default.createElement("use",{xlinkHref:"#SVGID_3_",style:{overflow:"visible"}})))),u.default.createElement("g",null,u.default.createElement("defs",null,u.default.createElement("circle",{id:"SVGID_5_",cx:"-302.2",cy:"18.8",r:"7.5"})),u.default.createElement("clipPath",{id:"SVGID_6_"},u.default.createElement("use",{xlinkHref:"#SVGID_5_",style:{overflow:"visible"}})),u.default.createElement("g",{className:p.default.st3},u.default.createElement("defs",null,u.default.createElement("rect",{id:"SVGID_7_",x:"-518.7",y:"-790.7",width:1478,height:1395})),u.default.createElement("clipPath",{id:"SVGID_8_"},u.default.createElement("use",{xlinkHref:"#SVGID_7_",style:{overflow:"visible"}})))),u.default.createElement("g",null,u.default.createElement("defs",null,u.default.createElement("path",{id:"SVGID_9_",d:"M-303.9,12.6c0.1,0,0.1,0,0.2,0.1c0.1,0.2,0.2,0.3,0.2,0.5c0.2,0.4,0.2,0.8,0.1,1.2 c-0.2,0.4-0.7,0.6-1.1,0.8c-0.8,0.4-1.6,1.1-2.1,1.9c0,0-0.1,0.1-0.1,0.1c-0.1,0-0.1,0-0.2-0.1c-0.1-0.1-0.2-0.1-0.2-0.2 c0,0-0.1,0-0.1,0.1c-0.1,0.4,0.1,0.9,0.5,1.1c0.1,0,0.1,0.1,0.2,0.1c0.1,0.2,0,0.4,0,0.6c0,0.2,0.3,0.4,0.6,0.4s0.5-0.2,0.8-0.2 c0.6-0.2,1.2-0.1,1.7,0.2c0.2,0.2,0.5,0.4,0.7,0.6c0.2,0.2,0.5,0.3,0.8,0.2c0.1,0,0.1,0,0.2,0.1c0.1,0.2,0,0.6-0.2,0.8 c-0.2,0.2-0.5,0.4-0.7,0.7c-0.5,0.6-0.7,1.5-1.1,2.2c-0.1,0.1-0.2,0.2-0.2,0.4c-0.1,0.2-0.1,0.4-0.1,0.7c0,0,0,0.1-0.1,0.1 c-0.1,0-0.2-0.1-0.3-0.1c-0.1,0-0.1-0.1-0.1-0.2c-0.2-0.9-0.5-1.8-0.9-2.6c-0.2-0.3-0.4-0.7-0.7-0.8c-0.1-0.1-0.2-0.1-0.2-0.2 c0-0.1,0-0.2,0-0.2c0.1-0.8-0.3-1.7-1-2.2c-0.1-0.1-0.2-0.2-0.3-0.3s-0.1-0.3-0.1-0.4s-0.3-0.3-0.4-0.4c-0.1,0-0.1-0.1-0.1-0.2 C-307.9,15-306.1,13.2-303.9,12.6z M-300.8,12.5c0.3,0.1,0.6,0.2,0.8,0.2c0.2,0.1,0.3,0.2,0.5,0.2c0.8,0.4,1.5,0.9,2.1,1.6 c0,0,0.1,0.1,0.1,0.2c0,0.1,0,0.3,0,0.4c0,0.1-0.1,0.2-0.1,0.2c0,0.2,0.2,0.3,0.3,0.3c0.1,0,0.2,0,0.4,0c0.1,0,0.2,0.1,0.2,0.2 c0.1,0.2,0.2,0.4,0.2,0.5c0.3,0.7,0.4,1.4,0.5,2.2c0,0.1,0,0.2-0.1,0.3c-0.1,0.1-0.2,0.3-0.3,0.5c-0.2,0.4-0.4,0.9-0.7,1.3 c-0.2,0.2-0.3,0.3-0.4,0.6c-0.1,0.2,0,0.3-0.1,0.5c0,0.1-0.1,0.1-0.2,0c-0.2-0.4-0.4-0.8-0.5-1.2c-0.1-0.3-0.1-0.6-0.2-0.9 s-0.3-0.6-0.6-0.8c-0.3-0.2-0.7-0.1-1-0.2c-0.3,0-0.7-0.1-0.9-0.3c-0.1-0.1-0.2-0.3-0.2-0.4c-0.2-0.8,0.3-1.7,1-2.1 c0.1-0.1,0.2-0.1,0.3-0.2c0.2-0.2,0.3-0.4,0.2-0.7c0-0.1-0.1-0.1-0.1-0.1c-0.2,0.1-0.4,0.1-0.5,0.2c-0.1,0-0.2,0-0.2-0.1 c0-0.3,0-0.6,0.1-0.9c0.1-0.3,0.2-0.7,0-1c0-0.1-0.1-0.1-0.2-0.1c-0.3,0-0.6,0-0.9,0c0,0,0,0,0,0c0.2-0.1,0.3-0.2,0.4-0.3 C-300.9,12.5-300.8,12.5-300.8,12.5z M-301.6,11.4c-4.5-0.4-8.3,3.4-7.9,7.9c0.3,3.6,3.2,6.4,6.7,6.7c4.5,0.4,8.3-3.4,7.9-7.9 C-295.2,14.6-298,11.7-301.6,11.4z"})),u.default.createElement("clipPath",{id:"SVGID_10_"},u.default.createElement("use",{xlinkHref:"#SVGID_9_",style:{overflow:"visible"}})),u.default.createElement("g",{className:p.default.st5},u.default.createElement("defs",null,u.default.createElement("rect",{id:"SVGID_11_",x:"-518.7",y:"-790.7",width:1478,height:1395})),u.default.createElement("clipPath",{id:"SVGID_12_"},u.default.createElement("use",{xlinkHref:"#SVGID_11_",style:{overflow:"visible"}})))),u.default.createElement("g",null,u.default.createElement("defs",null,u.default.createElement("path",{id:"SVGID_13_",d:"M-807.8,27.7c-0.4,0-0.7,0.3-0.7,0.6c0,0.2,0.1,0.4,0.4,0.6v0.9c0,0.2,0.2,0.3,0.4,0.3s0.4-0.1,0.4-0.3 v-0.9c0.2-0.1,0.4-0.3,0.4-0.6C-807.1,28-807.4,27.7-807.8,27.7z"})),u.default.createElement("clipPath",{id:"SVGID_14_"},u.default.createElement("use",{xlinkHref:"#SVGID_13_",style:{overflow:"visible"}})),u.default.createElement("g",{className:p.default.st7},u.default.createElement("defs",null,u.default.createElement("rect",{id:"SVGID_15_",x:"-1026.7",y:"-650.8",width:1478,height:1395})),u.default.createElement("clipPath",{id:"SVGID_16_"},u.default.createElement("use",{xlinkHref:"#SVGID_15_",style:{overflow:"visible"}})))),u.default.createElement("g",null,u.default.createElement("path",{className:p.default.st10,d:"M29,23.8c-1,0-1.8,0.8-1.8,1.8v0.9h3.5v-0.9C30.8,24.6,30,23.8,29,23.8z"}),u.default.createElement("path",{className:p.default.st10,d:"M29,27.9c-0.4,0-0.6,0.3-0.6,0.6c0,0.2,0.1,0.4,0.3,0.6V30c0,0.2,0.1,0.3,0.3,0.3c0.2,0,0.3-0.1,0.3-0.3v-0.9 c0.2-0.1,0.3-0.3,0.3-0.6C29.7,28.2,29.4,27.9,29,27.9z"}),u.default.createElement("path",{className:p.default.st10,d:"M29,20.3c-4.1,0-7.5,3.4-7.5,7.5s3.4,7.5,7.5,7.5s7.5-3.4,7.5-7.5S33.2,20.3,29,20.3z M32.5,30.8 c0,0.5-0.4,0.9-0.9,0.9h-5.2c-0.5,0-0.9-0.4-0.9-0.9v-3.5c0-0.5,0.4-0.9,0.9-0.9v-0.9c0-1.4,1.2-2.6,2.6-2.6c1.4,0,2.6,1.2,2.6,2.6 v0.9c0.5,0,0.9,0.4,0.9,0.9V30.8z"})),u.default.createElement("path",{className:p.default.st0,d:"M21.6,28.8h-2.7v-4.3h3.4c0.5-1,1.3-1.9,2.2-2.6v-2.9h4.3v1.4c0.1,0,0.2,0,0.3,0c0.5,0,1.1,0.1,1.6,0.2V6.3 c0-0.5-0.4-0.9-0.9-0.9l-23.3,0c0,0-0.1,0-0.1,0h0c-0.5,0-0.8,0.4-0.8,0.9v23.3c0,0.5,0.4,0.9,0.9,0.9h15.7 C21.8,30,21.7,29.4,21.6,28.8z M24.5,7.2h4.3v4.3h-4.3V7.2z M24.5,13.4h4.3v3.7h-4.3V13.4z M18.9,7.2h3.7v4.3h-3.7V7.2z M18.9,13.4 h3.7v3.7h-3.7V13.4z M18.9,18.9h3.7v3.7h-3.7V18.9z M11.5,28.8H7.2v-4.3h4.3V28.8z M11.5,22.6H7.2v-3.7h4.3V22.6z M11.5,17.1H7.2 v-3.7h4.3V17.1z M11.5,11.5H7.2V7.2h4.3V11.5z M17.1,28.8h-3.7v-4.3h3.7V28.8z M17.1,22.6h-3.7v-3.7h3.7V22.6z M17.1,17.1h-3.7v-3.7 h3.7V17.1z M17.1,11.5h-3.7V7.2h3.7V11.5z"}))}}]),HeatmapPrivate}(u.Component);t.default=m,(0,c.default)(m,"propTypes",{className:f.default.string})},function(e,t,a){"use strict";var l=a(96),n=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(7)),o=n(a(8)),s=n(a(10)),i=n(a(9)),d=n(a(11)),c=n(a(2)),u=l(a(0)),f=n(a(1)),p=n(a(1725)),m=function(e){function HeatmapPublic(){return(0,r.default)(this,HeatmapPublic),(0,s.default)(this,(0,i.default)(HeatmapPublic).apply(this,arguments))}return(0,d.default)(HeatmapPublic,e),(0,o.default)(HeatmapPublic,[{key:"render",value:function render(){return u.default.createElement("svg",{className:this.props.className,version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 38 38",style:{enableBackground:"new 0 0 38 38"},xmlSpace:"preserve"},u.default.createElement("g",null,u.default.createElement("defs",null,u.default.createElement("path",{id:"SVGID_1_",d:"M-281.4-3.1c0.2-0.2,0.5-0.4,0.8-0.4h3.6c0.3,0,0.6,0.1,0.8,0.4l1,1.2c0.6,0.8,1.6,1.2,2.5,1.2h12.6 c0.3,0,0.6,0.1,0.8,0.3c0.2,0.2,0.3,0.5,0.3,0.8l-0.1,0.6h-22.4l-0.4-3.3C-281.7-2.6-281.6-2.9-281.4-3.1z M-258.4,17.1 c-0.1,0.8-0.7,1.3-1.5,1.3h-20.8c-0.8,0-1.4-0.6-1.5-1.3l-1.2-12.7c0-0.3,0.1-0.6,0.3-0.8c0.2-0.2,0.5-0.4,0.8-0.4h23.9 c0.3,0,0.6,0.1,0.8,0.4c0.2,0.2,0.3,0.5,0.3,0.8L-258.4,17.1z M-285.5,4.6l1.1,12.7c0.2,1.9,1.8,3.3,3.7,3.3h20.8 c1.9,0,3.5-1.4,3.7-3.3l1.1-12.7c0.1-0.9-0.2-1.9-0.8-2.5c-0.2-0.3-0.5-0.5-0.8-0.7l0.1-0.7c0.1-0.9-0.2-1.8-0.8-2.5 c-0.6-0.7-1.5-1.1-2.4-1.1h-12.6c-0.3,0-0.6-0.1-0.8-0.4l-1-1.2c-0.6-0.7-1.6-1.2-2.5-1.2h-3.6c-0.9,0-1.8,0.4-2.5,1.1 c-0.6,0.7-0.9,1.6-0.8,2.6l0.4,3.3c-0.4,0.2-0.9,0.5-1.2,0.8C-285.3,2.8-285.6,3.7-285.5,4.6z"})),u.default.createElement("use",{xlinkHref:"#SVGID_1_",style:{overflow:"visible",fill:"#A300DF"}}),u.default.createElement("clipPath",{id:"SVGID_2_"},u.default.createElement("use",{xlinkHref:"#SVGID_1_",style:{overflow:"visible"}})),u.default.createElement("g",{className:p.default.st1},u.default.createElement("defs",null,u.default.createElement("rect",{id:"SVGID_3_",x:"-476.7",y:"-790.7",width:1478,height:1395})),u.default.createElement("use",{xlinkHref:"#SVGID_3_",style:{overflow:"visible",fill:"#A300DF"}}),u.default.createElement("clipPath",{id:"SVGID_4_"},u.default.createElement("use",{xlinkHref:"#SVGID_3_",style:{overflow:"visible"}})))),u.default.createElement("g",null,u.default.createElement("defs",null,u.default.createElement("circle",{id:"SVGID_5_",cx:"-260.2",cy:"18.8",r:"7.5"})),u.default.createElement("clipPath",{id:"SVGID_6_"},u.default.createElement("use",{xlinkHref:"#SVGID_5_",style:{overflow:"visible"}})),u.default.createElement("g",{className:p.default.st3},u.default.createElement("defs",null,u.default.createElement("rect",{id:"SVGID_7_",x:"-476.7",y:"-790.7",width:1478,height:1395})),u.default.createElement("clipPath",{id:"SVGID_8_"},u.default.createElement("use",{xlinkHref:"#SVGID_7_",style:{overflow:"visible"}})))),u.default.createElement("g",null,u.default.createElement("defs",null,u.default.createElement("path",{id:"SVGID_9_",d:"M-261.9,12.6c0.1,0,0.1,0,0.2,0.1c0.1,0.2,0.2,0.3,0.2,0.5c0.2,0.4,0.2,0.8,0.1,1.2 c-0.2,0.4-0.7,0.6-1.1,0.8c-0.8,0.4-1.6,1.1-2.1,1.9c0,0-0.1,0.1-0.1,0.1c-0.1,0-0.1,0-0.2-0.1c-0.1-0.1-0.2-0.1-0.2-0.2 c0,0-0.1,0-0.1,0.1c-0.1,0.4,0.1,0.9,0.5,1.1c0.1,0,0.1,0.1,0.2,0.1c0.1,0.2,0,0.4,0,0.6c0,0.2,0.3,0.4,0.6,0.4s0.5-0.2,0.8-0.2 c0.6-0.2,1.2-0.1,1.7,0.2c0.2,0.2,0.5,0.4,0.7,0.6c0.2,0.2,0.5,0.3,0.8,0.2c0.1,0,0.1,0,0.2,0.1c0.1,0.2,0,0.6-0.2,0.8 c-0.2,0.2-0.5,0.4-0.7,0.7c-0.5,0.6-0.7,1.5-1.1,2.2c-0.1,0.1-0.2,0.2-0.2,0.4c-0.1,0.2-0.1,0.4-0.1,0.7c0,0,0,0.1-0.1,0.1 c-0.1,0-0.2-0.1-0.3-0.1c-0.1,0-0.1-0.1-0.1-0.2c-0.2-0.9-0.5-1.8-0.9-2.6c-0.2-0.3-0.4-0.7-0.7-0.8c-0.1-0.1-0.2-0.1-0.2-0.2 c0-0.1,0-0.2,0-0.2c0.1-0.8-0.3-1.7-1-2.2c-0.1-0.1-0.2-0.2-0.3-0.3s-0.1-0.3-0.1-0.4s-0.3-0.3-0.4-0.4c-0.1,0-0.1-0.1-0.1-0.2 C-265.9,15-264.1,13.2-261.9,12.6z M-258.8,12.5c0.3,0.1,0.6,0.2,0.8,0.2c0.2,0.1,0.3,0.2,0.5,0.2c0.8,0.4,1.5,0.9,2.1,1.6 c0,0,0.1,0.1,0.1,0.2c0,0.1,0,0.3,0,0.4c0,0.1-0.1,0.2-0.1,0.2c0,0.2,0.2,0.3,0.3,0.3c0.1,0,0.2,0,0.4,0c0.1,0,0.2,0.1,0.2,0.2 c0.1,0.2,0.2,0.4,0.2,0.5c0.3,0.7,0.4,1.4,0.5,2.2c0,0.1,0,0.2-0.1,0.3c-0.1,0.1-0.2,0.3-0.3,0.5c-0.2,0.4-0.4,0.9-0.7,1.3 c-0.2,0.2-0.3,0.3-0.4,0.6c-0.1,0.2,0,0.3-0.1,0.5c0,0.1-0.1,0.1-0.2,0c-0.2-0.4-0.4-0.8-0.5-1.2c-0.1-0.3-0.1-0.6-0.2-0.9 s-0.3-0.6-0.6-0.8c-0.3-0.2-0.7-0.1-1-0.2c-0.3,0-0.7-0.1-0.9-0.3c-0.1-0.1-0.2-0.3-0.2-0.4c-0.2-0.8,0.3-1.7,1-2.1 c0.1-0.1,0.2-0.1,0.3-0.2c0.2-0.2,0.3-0.4,0.2-0.7c0-0.1-0.1-0.1-0.1-0.1c-0.2,0.1-0.4,0.1-0.5,0.2c-0.1,0-0.2,0-0.2-0.1 c0-0.3,0-0.6,0.1-0.9c0.1-0.3,0.2-0.7,0-1c0-0.1-0.1-0.1-0.2-0.1c-0.3,0-0.6,0-0.9,0c0,0,0,0,0,0c0.2-0.1,0.3-0.2,0.4-0.3 C-258.9,12.5-258.8,12.5-258.8,12.5z M-259.6,11.4c-4.5-0.4-8.3,3.4-7.9,7.9c0.3,3.6,3.2,6.4,6.7,6.7c4.5,0.4,8.3-3.4,7.9-7.9 C-253.2,14.6-256,11.7-259.6,11.4z"})),u.default.createElement("clipPath",{id:"SVGID_10_"},u.default.createElement("use",{xlinkHref:"#SVGID_9_",style:{overflow:"visible"}})),u.default.createElement("g",{className:p.default.st5},u.default.createElement("defs",null,u.default.createElement("rect",{id:"SVGID_11_",x:"-476.7",y:"-790.7",width:1478,height:1395})),u.default.createElement("clipPath",{id:"SVGID_12_"},u.default.createElement("use",{xlinkHref:"#SVGID_11_",style:{overflow:"visible"}})))),u.default.createElement("g",null,u.default.createElement("defs",null,u.default.createElement("path",{id:"SVGID_13_",d:"M-765.8,27.7c-0.4,0-0.7,0.3-0.7,0.6c0,0.2,0.1,0.4,0.4,0.6v0.9c0,0.2,0.2,0.3,0.4,0.3s0.4-0.1,0.4-0.3 v-0.9c0.2-0.1,0.4-0.3,0.4-0.6C-765.1,28-765.4,27.7-765.8,27.7z"})),u.default.createElement("clipPath",{id:"SVGID_14_"},u.default.createElement("use",{xlinkHref:"#SVGID_13_",style:{overflow:"visible"}})),u.default.createElement("g",{className:p.default.st7},u.default.createElement("defs",null,u.default.createElement("rect",{id:"SVGID_15_",x:"-984.7",y:"-650.8",width:1478,height:1395})),u.default.createElement("clipPath",{id:"SVGID_16_"},u.default.createElement("use",{xlinkHref:"#SVGID_15_",style:{overflow:"visible"}})))),u.default.createElement("path",{className:p.default.st10,d:"M29.7,20.7c-4.6-0.4-8.5,3.5-8.1,8.1c0.3,3.6,3.2,6.6,6.9,6.9c4.6,0.4,8.5-3.5,8.1-8.1 C36.3,23.9,33.4,20.9,29.7,20.7z M30.6,21.7c0.3,0.1,0.6,0.2,0.9,0.3c0.2,0.1,0.3,0.2,0.5,0.2c0.8,0.4,1.5,0.9,2.1,1.6 c0,0,0.1,0.1,0.1,0.2c0,0.1,0,0.3,0,0.4c0,0.1-0.1,0.2-0.1,0.3c0,0.2,0.2,0.3,0.3,0.3c0.1,0,0.3,0,0.4,0c0.1,0,0.2,0.1,0.2,0.2 c0.1,0.2,0.2,0.4,0.2,0.5c0.3,0.7,0.4,1.4,0.5,2.2c0,0.1,0,0.2-0.1,0.3c-0.1,0.1-0.3,0.3-0.4,0.5c-0.2,0.4-0.4,1-0.7,1.3 c-0.2,0.2-0.4,0.4-0.4,0.6c-0.1,0.2,0,0.4-0.1,0.5c0,0.1-0.1,0.1-0.2,0c-0.3-0.4-0.4-0.8-0.5-1.2c-0.1-0.3-0.1-0.6-0.2-1 c-0.1-0.3-0.3-0.6-0.6-0.8c-0.3-0.2-0.7-0.1-1-0.2c-0.4,0-0.7-0.1-1-0.4c-0.1-0.1-0.2-0.3-0.2-0.4c-0.2-0.8,0.3-1.7,1-2.1 c0.1-0.1,0.2-0.1,0.3-0.2c0.2-0.2,0.3-0.4,0.2-0.7c0-0.1-0.1-0.1-0.1-0.1c-0.2,0.1-0.4,0.1-0.5,0.2c-0.1,0-0.2,0-0.2-0.1 c0-0.3,0-0.6,0.1-1c0.1-0.4,0.2-0.7,0-1c0-0.1-0.1-0.1-0.2-0.1c-0.3,0-0.6,0-0.9,0c0,0,0,0,0,0c0.2-0.1,0.3-0.2,0.4-0.4 C30.5,21.8,30.6,21.7,30.6,21.7z M27.4,21.8c0.1,0,0.1,0,0.2,0.1c0.1,0.2,0.2,0.3,0.3,0.5c0.2,0.4,0.3,0.9,0.1,1.2 c-0.2,0.4-0.7,0.6-1.1,0.9c-0.9,0.4-1.6,1.1-2.1,1.9c0,0-0.1,0.1-0.1,0.1c-0.1,0-0.1,0-0.2-0.1c-0.1-0.1-0.2-0.1-0.3-0.2 c0,0-0.1,0-0.1,0.1c-0.1,0.4,0.1,0.9,0.5,1.1c0.1,0,0.1,0.1,0.2,0.1c0.1,0.2,0,0.4,0,0.6c0,0.3,0.4,0.4,0.6,0.4 c0.3,0,0.5-0.2,0.8-0.3c0.6-0.2,1.2-0.1,1.7,0.2c0.3,0.2,0.5,0.4,0.7,0.6c0.2,0.2,0.5,0.3,0.8,0.3c0.1,0,0.1,0,0.2,0.1 c0.1,0.3,0,0.6-0.2,0.8c-0.2,0.3-0.5,0.4-0.7,0.7c-0.5,0.6-0.7,1.5-1.1,2.2c-0.1,0.1-0.2,0.3-0.3,0.4c-0.1,0.2-0.1,0.4-0.1,0.7 c0,0,0,0.1-0.1,0.1c-0.1,0-0.2-0.1-0.3-0.1c-0.1,0-0.1-0.1-0.1-0.2c-0.2-0.9-0.5-1.8-0.9-2.7c-0.2-0.3-0.4-0.7-0.7-0.9 c-0.1-0.1-0.2-0.1-0.2-0.2c0-0.1,0-0.2,0-0.2c0.1-0.9-0.3-1.8-1-2.3c-0.1-0.1-0.3-0.2-0.3-0.3s-0.1-0.3-0.1-0.4 c-0.1-0.1-0.3-0.3-0.4-0.4c-0.1,0-0.1-0.1-0.1-0.2C23.4,24.3,25.1,22.4,27.4,21.8z"}),u.default.createElement("path",{className:p.default.st0,d:"M21.7,28.8h-2.8v-4.3h3.7c0.5-0.9,1.1-1.6,1.9-2.2v-3.4h4.3v1.7c0.1,0,0.2,0,0.4,0c0.5,0,1,0.1,1.4,0.1V6.3 c0-0.5-0.4-0.9-0.9-0.9l-23.3,0c0,0-0.1,0-0.1,0h0c-0.5,0-0.8,0.4-0.8,0.9v23.3c0,0.5,0.4,0.9,0.9,0.9H22 C21.8,30,21.7,29.4,21.7,28.8z M24.5,7.2h4.3v4.3h-4.3V7.2z M24.5,13.4h4.3v3.7h-4.3V13.4z M18.9,7.2h3.7v4.3h-3.7V7.2z M18.9,13.4 h3.7v3.7h-3.7V13.4z M18.9,18.9h3.7v3.7h-3.7V18.9z M11.5,28.8H7.2v-4.3h4.3V28.8z M11.5,22.6H7.2v-3.7h4.3V22.6z M11.5,17.1H7.2 v-3.7h4.3V17.1z M11.5,11.5H7.2V7.2h4.3V11.5z M17.1,28.8h-3.7v-4.3h3.7V28.8z M17.1,22.6h-3.7v-3.7h3.7V22.6z M17.1,17.1h-3.7v-3.7 h3.7V17.1z M17.1,11.5h-3.7V7.2h3.7V11.5z"}))}}]),HeatmapPublic}(u.Component);t.default=m,(0,c.default)(m,"propTypes",{className:f.default.string})},function(e,t,a){"use strict";var l=a(96),n=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(7)),o=n(a(8)),s=n(a(10)),i=n(a(9)),d=n(a(11)),c=n(a(2)),u=l(a(0)),f=n(a(1)),p=n(a(1727)),m=function(e){function PhyloTreePrivate(){return(0,r.default)(this,PhyloTreePrivate),(0,s.default)(this,(0,i.default)(PhyloTreePrivate).apply(this,arguments))}return(0,d.default)(PhyloTreePrivate,e),(0,o.default)(PhyloTreePrivate,[{key:"render",value:function render(){return u.default.createElement("svg",{className:this.props.className,version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 38 38",style:{enableBackground:"new 0 0 38 38"},xmlSpace:"preserve"},u.default.createElement("g",null,u.default.createElement("defs",null,u.default.createElement("path",{id:"SVGID_1_",d:"M-323.4-46.8c0.2-0.2,0.5-0.4,0.8-0.4h3.6c0.3,0,0.6,0.1,0.8,0.4l1,1.2c0.6,0.8,1.6,1.2,2.5,1.2h12.6 c0.3,0,0.6,0.1,0.8,0.3c0.2,0.2,0.3,0.5,0.3,0.8l-0.1,0.6h-22.4l-0.4-3.3C-323.7-46.3-323.6-46.6-323.4-46.8z M-300.4-26.6 c-0.1,0.8-0.7,1.3-1.5,1.3h-20.8c-0.8,0-1.4-0.6-1.5-1.3l-1.2-12.7c0-0.3,0.1-0.6,0.3-0.8c0.2-0.2,0.5-0.4,0.8-0.4h23.9 c0.3,0,0.6,0.1,0.8,0.4c0.2,0.2,0.3,0.5,0.3,0.8L-300.4-26.6z M-327.5-39.1l1.1,12.7c0.2,1.9,1.8,3.3,3.7,3.3h20.8 c1.9,0,3.5-1.4,3.7-3.3l1.1-12.7c0.1-0.9-0.2-1.9-0.8-2.5c-0.2-0.3-0.5-0.5-0.8-0.7l0.1-0.7c0.1-0.9-0.2-1.8-0.8-2.5 c-0.6-0.7-1.5-1.1-2.4-1.1h-12.6c-0.3,0-0.6-0.1-0.8-0.4l-1-1.2c-0.6-0.7-1.6-1.2-2.5-1.2h-3.6c-0.9,0-1.8,0.4-2.5,1.1 c-0.6,0.7-0.9,1.6-0.8,2.6l0.4,3.3c-0.4,0.2-0.9,0.5-1.2,0.8C-327.3-41-327.6-40.1-327.5-39.1z"})),u.default.createElement("use",{xlinkHref:"#SVGID_1_",style:{overflow:"visible",fill:"#A300DF"}}),u.default.createElement("clipPath",{id:"SVGID_2_"},u.default.createElement("use",{xlinkHref:"#SVGID_1_",style:{overflow:"visible"}})),u.default.createElement("g",{className:p.default.st1},u.default.createElement("defs",null,u.default.createElement("rect",{id:"SVGID_3_",x:"-518.7",y:"-834.5",width:1478,height:1395})),u.default.createElement("use",{xlinkHref:"#SVGID_3_",style:{overflow:"visible",fill:"#A300DF"}}),u.default.createElement("clipPath",{id:"SVGID_4_"},u.default.createElement("use",{xlinkHref:"#SVGID_3_",style:{overflow:"visible"}})))),u.default.createElement("g",null,u.default.createElement("defs",null,u.default.createElement("circle",{id:"SVGID_5_",cx:"-302.2",cy:-25,r:"7.5"})),u.default.createElement("clipPath",{id:"SVGID_6_"},u.default.createElement("use",{xlinkHref:"#SVGID_5_",style:{overflow:"visible"}})),u.default.createElement("g",{className:p.default.st3},u.default.createElement("defs",null,u.default.createElement("rect",{id:"SVGID_7_",x:"-518.7",y:"-834.5",width:1478,height:1395})),u.default.createElement("clipPath",{id:"SVGID_8_"},u.default.createElement("use",{xlinkHref:"#SVGID_7_",style:{overflow:"visible"}})))),u.default.createElement("g",null,u.default.createElement("defs",null,u.default.createElement("path",{id:"SVGID_9_",d:"M-303.9-31.2c0.1,0,0.1,0,0.2,0.1c0.1,0.2,0.2,0.3,0.2,0.5c0.2,0.4,0.2,0.8,0.1,1.2 c-0.2,0.4-0.7,0.6-1.1,0.8c-0.8,0.4-1.6,1.1-2.1,1.9c0,0-0.1,0.1-0.1,0.1c-0.1,0-0.1,0-0.2-0.1c-0.1-0.1-0.2-0.1-0.2-0.2 c0,0-0.1,0-0.1,0.1c-0.1,0.4,0.1,0.9,0.5,1.1c0.1,0,0.1,0.1,0.2,0.1c0.1,0.2,0,0.4,0,0.6c0,0.2,0.3,0.4,0.6,0.4s0.5-0.2,0.8-0.2 c0.6-0.2,1.2-0.1,1.7,0.2c0.2,0.2,0.5,0.4,0.7,0.6c0.2,0.2,0.5,0.3,0.8,0.2c0.1,0,0.1,0,0.2,0.1c0.1,0.2,0,0.6-0.2,0.8 c-0.2,0.2-0.5,0.4-0.7,0.7c-0.5,0.6-0.7,1.5-1.1,2.2c-0.1,0.1-0.2,0.2-0.2,0.4c-0.1,0.2-0.1,0.4-0.1,0.7c0,0,0,0.1-0.1,0.1 c-0.1,0-0.2-0.1-0.3-0.1c-0.1,0-0.1-0.1-0.1-0.2c-0.2-0.9-0.5-1.8-0.9-2.6c-0.2-0.3-0.4-0.7-0.7-0.8c-0.1-0.1-0.2-0.1-0.2-0.2 c0-0.1,0-0.2,0-0.2c0.1-0.8-0.3-1.7-1-2.2c-0.1-0.1-0.2-0.2-0.3-0.3s-0.1-0.3-0.1-0.4s-0.3-0.3-0.4-0.4c-0.1,0-0.1-0.1-0.1-0.2 C-307.9-28.8-306.1-30.6-303.9-31.2z M-300.8-31.2c0.3,0.1,0.6,0.2,0.8,0.2c0.2,0.1,0.3,0.2,0.5,0.2c0.8,0.4,1.5,0.9,2.1,1.6 c0,0,0.1,0.1,0.1,0.2c0,0.1,0,0.3,0,0.4c0,0.1-0.1,0.2-0.1,0.2c0,0.2,0.2,0.3,0.3,0.3c0.1,0,0.2,0,0.4,0c0.1,0,0.2,0.1,0.2,0.2 c0.1,0.2,0.2,0.4,0.2,0.5c0.3,0.7,0.4,1.4,0.5,2.2c0,0.1,0,0.2-0.1,0.3c-0.1,0.1-0.2,0.3-0.3,0.5c-0.2,0.4-0.4,0.9-0.7,1.3 c-0.2,0.2-0.3,0.3-0.4,0.6c-0.1,0.2,0,0.3-0.1,0.5c0,0.1-0.1,0.1-0.2,0c-0.2-0.4-0.4-0.8-0.5-1.2c-0.1-0.3-0.1-0.6-0.2-0.9 s-0.3-0.6-0.6-0.8c-0.3-0.2-0.7-0.1-1-0.2c-0.3,0-0.7-0.1-0.9-0.3c-0.1-0.1-0.2-0.3-0.2-0.4c-0.2-0.8,0.3-1.7,1-2.1 c0.1-0.1,0.2-0.1,0.3-0.2c0.2-0.2,0.3-0.4,0.2-0.7c0-0.1-0.1-0.1-0.1-0.1c-0.2,0.1-0.4,0.1-0.5,0.2c-0.1,0-0.2,0-0.2-0.1 c0-0.3,0-0.6,0.1-0.9c0.1-0.3,0.2-0.7,0-1c0-0.1-0.1-0.1-0.2-0.1c-0.3,0-0.6,0-0.9,0c0,0,0,0,0,0c0.2-0.1,0.3-0.2,0.4-0.3 C-300.9-31.2-300.8-31.2-300.8-31.2z M-301.6-32.3c-4.5-0.4-8.3,3.4-7.9,7.9c0.3,3.6,3.2,6.4,6.7,6.7c4.5,0.4,8.3-3.4,7.9-7.9 C-295.2-29.2-298-32-301.6-32.3z"})),u.default.createElement("clipPath",{id:"SVGID_10_"},u.default.createElement("use",{xlinkHref:"#SVGID_9_",style:{overflow:"visible"}})),u.default.createElement("g",{className:p.default.st5},u.default.createElement("defs",null,u.default.createElement("rect",{id:"SVGID_11_",x:"-518.7",y:"-834.5",width:1478,height:1395})),u.default.createElement("clipPath",{id:"SVGID_12_"},u.default.createElement("use",{xlinkHref:"#SVGID_11_",style:{overflow:"visible"}})))),u.default.createElement("g",null,u.default.createElement("defs",null,u.default.createElement("path",{id:"SVGID_13_",d:"M-807.8-16c-0.4,0-0.7,0.3-0.7,0.6c0,0.2,0.1,0.4,0.4,0.6v0.9c0,0.2,0.2,0.3,0.4,0.3s0.4-0.1,0.4-0.3v-0.9 c0.2-0.1,0.4-0.3,0.4-0.6C-807.1-15.7-807.4-16-807.8-16z"})),u.default.createElement("clipPath",{id:"SVGID_14_"},u.default.createElement("use",{xlinkHref:"#SVGID_13_",style:{overflow:"visible"}})),u.default.createElement("g",{className:p.default.st7},u.default.createElement("defs",null,u.default.createElement("rect",{id:"SVGID_15_",x:"-1026.7",y:"-694.5",width:1478,height:1395})),u.default.createElement("clipPath",{id:"SVGID_16_"},u.default.createElement("use",{xlinkHref:"#SVGID_15_",style:{overflow:"visible"}})))),u.default.createElement("g",null,u.default.createElement("path",{className:p.default.st10,d:"M29,23.8c-1,0-1.8,0.8-1.8,1.8v0.9h3.5v-0.9C30.8,24.6,30,23.8,29,23.8z"}),u.default.createElement("path",{className:p.default.st10,d:"M29,27.9c-0.4,0-0.6,0.3-0.6,0.6c0,0.2,0.1,0.4,0.3,0.6V30c0,0.2,0.1,0.3,0.3,0.3c0.2,0,0.3-0.1,0.3-0.3v-0.9 c0.2-0.1,0.3-0.3,0.3-0.6C29.7,28.2,29.4,27.9,29,27.9z"}),u.default.createElement("path",{className:p.default.st10,d:"M29,20.3c-4.1,0-7.5,3.4-7.5,7.5s3.4,7.5,7.5,7.5s7.5-3.4,7.5-7.5S33.2,20.3,29,20.3z M32.5,30.8 c0,0.5-0.4,0.9-0.9,0.9h-5.2c-0.5,0-0.9-0.4-0.9-0.9v-3.5c0-0.5,0.4-0.9,0.9-0.9v-0.9c0-1.4,1.2-2.6,2.6-2.6c1.4,0,2.6,1.2,2.6,2.6 v0.9c0.5,0,0.9,0.4,0.9,0.9V30.8z"})),u.default.createElement("path",{className:p.default.st0,d:"M22.7,23.8h-5.3v-6.4h3.9c0.4,1.6,1.8,2.7,3.4,2.7c2,0,3.6-1.6,3.6-3.6s-1.6-3.6-3.6-3.6c-1.6,0-3,1.1-3.4,2.7 h-3.9V9.2h3.9c0.4,1.6,1.8,2.6,3.4,2.6c2,0,3.6-1.6,3.6-3.6s-1.6-3.6-3.6-3.6c-1.6,0-3.1,1.2-3.4,2.8h-4.7c0,0,0,0,0,0 c-0.2,0-0.4,0.1-0.6,0.3c-0.2,0.2-0.3,0.4-0.3,0.6v7.3h-3.9c-0.4-1.6-1.8-2.7-3.4-2.7c-2,0-3.6,1.6-3.6,3.6l0,0.1h0 c0.1,1.9,1.7,3.5,3.6,3.5c1.6,0,3-1.1,3.4-2.7h3.9v7.3c0,0.5,0.4,0.9,0.9,0.9c0,0,0,0,0,0h5.3C22,24.9,22.3,24.4,22.7,23.8z M24.7,14.7c1,0,1.8,0.8,1.8,1.8c0,1-0.8,1.9-1.8,1.9c-1,0-1.8-0.8-1.8-1.9C22.8,15.5,23.6,14.7,24.7,14.7z M24.7,6.4 c1,0,1.8,0.8,1.8,1.9c0,1-0.8,1.8-1.8,1.8c-1,0-1.8-0.8-1.8-1.8C22.8,7.3,23.7,6.4,24.7,6.4z M8.3,18.4c-1,0-1.8-0.8-1.8-1.9 c0-1,0.8-1.8,1.8-1.8c1,0,1.9,0.8,1.9,1.8C10.2,17.5,9.3,18.4,8.3,18.4z"}))}}]),PhyloTreePrivate}(u.Component);t.default=m,(0,c.default)(m,"propTypes",{className:f.default.string})},function(e,t,a){"use strict";var l=a(96),n=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(7)),o=n(a(8)),s=n(a(10)),i=n(a(9)),d=n(a(11)),c=n(a(2)),u=l(a(0)),f=n(a(1)),p=n(a(1729)),m=function(e){function PhyloTreePublic(){return(0,r.default)(this,PhyloTreePublic),(0,s.default)(this,(0,i.default)(PhyloTreePublic).apply(this,arguments))}return(0,d.default)(PhyloTreePublic,e),(0,o.default)(PhyloTreePublic,[{key:"render",value:function render(){return u.default.createElement("svg",{className:this.props.className,version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 38 38",style:{enableBackground:"new 0 0 38 38"},xmlSpace:"preserve"},u.default.createElement("g",null,u.default.createElement("defs",null,u.default.createElement("path",{id:"SVGID_1_",d:"M-281.4-46.8c0.2-0.2,0.5-0.4,0.8-0.4h3.6c0.3,0,0.6,0.1,0.8,0.4l1,1.2c0.6,0.8,1.6,1.2,2.5,1.2h12.6 c0.3,0,0.6,0.1,0.8,0.3c0.2,0.2,0.3,0.5,0.3,0.8l-0.1,0.6h-22.4l-0.4-3.3C-281.7-46.3-281.6-46.6-281.4-46.8z M-258.4-26.6 c-0.1,0.8-0.7,1.3-1.5,1.3h-20.8c-0.8,0-1.4-0.6-1.5-1.3l-1.2-12.7c0-0.3,0.1-0.6,0.3-0.8c0.2-0.2,0.5-0.4,0.8-0.4h23.9 c0.3,0,0.6,0.1,0.8,0.4c0.2,0.2,0.3,0.5,0.3,0.8L-258.4-26.6z M-285.5-39.1l1.1,12.7c0.2,1.9,1.8,3.3,3.7,3.3h20.8 c1.9,0,3.5-1.4,3.7-3.3l1.1-12.7c0.1-0.9-0.2-1.9-0.8-2.5c-0.2-0.3-0.5-0.5-0.8-0.7l0.1-0.7c0.1-0.9-0.2-1.8-0.8-2.5 c-0.6-0.7-1.5-1.1-2.4-1.1h-12.6c-0.3,0-0.6-0.1-0.8-0.4l-1-1.2c-0.6-0.7-1.6-1.2-2.5-1.2h-3.6c-0.9,0-1.8,0.4-2.5,1.1 c-0.6,0.7-0.9,1.6-0.8,2.6l0.4,3.3c-0.4,0.2-0.9,0.5-1.2,0.8C-285.3-41-285.6-40.1-285.5-39.1z"})),u.default.createElement("use",{xlinkHref:"#SVGID_1_",style:{overflow:"visible",fill:"#A300DF"}}),u.default.createElement("clipPath",{id:"SVGID_2_"},u.default.createElement("use",{xlinkHref:"#SVGID_1_",style:{overflow:"visible"}})),u.default.createElement("g",{className:p.default.st1},u.default.createElement("defs",null,u.default.createElement("rect",{id:"SVGID_3_",x:"-476.7",y:"-834.5",width:1478,height:1395})),u.default.createElement("use",{xlinkHref:"#SVGID_3_",style:{overflow:"visible",fill:"#A300DF"}}),u.default.createElement("clipPath",{id:"SVGID_4_"},u.default.createElement("use",{xlinkHref:"#SVGID_3_",style:{overflow:"visible"}})))),u.default.createElement("g",null,u.default.createElement("defs",null,u.default.createElement("circle",{id:"SVGID_5_",cx:"-260.2",cy:-25,r:"7.5"})),u.default.createElement("clipPath",{id:"SVGID_6_"},u.default.createElement("use",{xlinkHref:"#SVGID_5_",style:{overflow:"visible"}})),u.default.createElement("g",{className:p.default.st3},u.default.createElement("defs",null,u.default.createElement("rect",{id:"SVGID_7_",x:"-476.7",y:"-834.5",width:1478,height:1395})),u.default.createElement("clipPath",{id:"SVGID_8_"},u.default.createElement("use",{xlinkHref:"#SVGID_7_",style:{overflow:"visible"}})))),u.default.createElement("g",null,u.default.createElement("defs",null,u.default.createElement("path",{id:"SVGID_9_",d:"M-261.9-31.2c0.1,0,0.1,0,0.2,0.1c0.1,0.2,0.2,0.3,0.2,0.5c0.2,0.4,0.2,0.8,0.1,1.2 c-0.2,0.4-0.7,0.6-1.1,0.8c-0.8,0.4-1.6,1.1-2.1,1.9c0,0-0.1,0.1-0.1,0.1c-0.1,0-0.1,0-0.2-0.1c-0.1-0.1-0.2-0.1-0.2-0.2 c0,0-0.1,0-0.1,0.1c-0.1,0.4,0.1,0.9,0.5,1.1c0.1,0,0.1,0.1,0.2,0.1c0.1,0.2,0,0.4,0,0.6c0,0.2,0.3,0.4,0.6,0.4s0.5-0.2,0.8-0.2 c0.6-0.2,1.2-0.1,1.7,0.2c0.2,0.2,0.5,0.4,0.7,0.6c0.2,0.2,0.5,0.3,0.8,0.2c0.1,0,0.1,0,0.2,0.1c0.1,0.2,0,0.6-0.2,0.8 c-0.2,0.2-0.5,0.4-0.7,0.7c-0.5,0.6-0.7,1.5-1.1,2.2c-0.1,0.1-0.2,0.2-0.2,0.4c-0.1,0.2-0.1,0.4-0.1,0.7c0,0,0,0.1-0.1,0.1 c-0.1,0-0.2-0.1-0.3-0.1c-0.1,0-0.1-0.1-0.1-0.2c-0.2-0.9-0.5-1.8-0.9-2.6c-0.2-0.3-0.4-0.7-0.7-0.8c-0.1-0.1-0.2-0.1-0.2-0.2 c0-0.1,0-0.2,0-0.2c0.1-0.8-0.3-1.7-1-2.2c-0.1-0.1-0.2-0.2-0.3-0.3s-0.1-0.3-0.1-0.4s-0.3-0.3-0.4-0.4c-0.1,0-0.1-0.1-0.1-0.2 C-265.9-28.8-264.1-30.6-261.9-31.2z M-258.8-31.2c0.3,0.1,0.6,0.2,0.8,0.2c0.2,0.1,0.3,0.2,0.5,0.2c0.8,0.4,1.5,0.9,2.1,1.6 c0,0,0.1,0.1,0.1,0.2c0,0.1,0,0.3,0,0.4c0,0.1-0.1,0.2-0.1,0.2c0,0.2,0.2,0.3,0.3,0.3c0.1,0,0.2,0,0.4,0c0.1,0,0.2,0.1,0.2,0.2 c0.1,0.2,0.2,0.4,0.2,0.5c0.3,0.7,0.4,1.4,0.5,2.2c0,0.1,0,0.2-0.1,0.3c-0.1,0.1-0.2,0.3-0.3,0.5c-0.2,0.4-0.4,0.9-0.7,1.3 c-0.2,0.2-0.3,0.3-0.4,0.6c-0.1,0.2,0,0.3-0.1,0.5c0,0.1-0.1,0.1-0.2,0c-0.2-0.4-0.4-0.8-0.5-1.2c-0.1-0.3-0.1-0.6-0.2-0.9 s-0.3-0.6-0.6-0.8c-0.3-0.2-0.7-0.1-1-0.2c-0.3,0-0.7-0.1-0.9-0.3c-0.1-0.1-0.2-0.3-0.2-0.4c-0.2-0.8,0.3-1.7,1-2.1 c0.1-0.1,0.2-0.1,0.3-0.2c0.2-0.2,0.3-0.4,0.2-0.7c0-0.1-0.1-0.1-0.1-0.1c-0.2,0.1-0.4,0.1-0.5,0.2c-0.1,0-0.2,0-0.2-0.1 c0-0.3,0-0.6,0.1-0.9c0.1-0.3,0.2-0.7,0-1c0-0.1-0.1-0.1-0.2-0.1c-0.3,0-0.6,0-0.9,0c0,0,0,0,0,0c0.2-0.1,0.3-0.2,0.4-0.3 C-258.9-31.2-258.8-31.2-258.8-31.2z M-259.6-32.3c-4.5-0.4-8.3,3.4-7.9,7.9c0.3,3.6,3.2,6.4,6.7,6.7c4.5,0.4,8.3-3.4,7.9-7.9 C-253.2-29.2-256-32-259.6-32.3z"})),u.default.createElement("clipPath",{id:"SVGID_10_"},u.default.createElement("use",{xlinkHref:"#SVGID_9_",style:{overflow:"visible"}})),u.default.createElement("g",{className:p.default.st5},u.default.createElement("defs",null,u.default.createElement("rect",{id:"SVGID_11_",x:"-476.7",y:"-834.5",width:1478,height:1395})),u.default.createElement("clipPath",{id:"SVGID_12_"},u.default.createElement("use",{xlinkHref:"#SVGID_11_",style:{overflow:"visible"}})))),u.default.createElement("g",null,u.default.createElement("defs",null,u.default.createElement("path",{id:"SVGID_13_",d:"M-765.8-16c-0.4,0-0.7,0.3-0.7,0.6c0,0.2,0.1,0.4,0.4,0.6v0.9c0,0.2,0.2,0.3,0.4,0.3s0.4-0.1,0.4-0.3v-0.9 c0.2-0.1,0.4-0.3,0.4-0.6C-765.1-15.7-765.4-16-765.8-16z"})),u.default.createElement("clipPath",{id:"SVGID_14_"},u.default.createElement("use",{xlinkHref:"#SVGID_13_",style:{overflow:"visible"}})),u.default.createElement("g",{className:p.default.st7},u.default.createElement("defs",null,u.default.createElement("rect",{id:"SVGID_15_",x:"-984.7",y:"-694.5",width:1478,height:1395})),u.default.createElement("clipPath",{id:"SVGID_16_"},u.default.createElement("use",{xlinkHref:"#SVGID_15_",style:{overflow:"visible"}})))),u.default.createElement("path",{className:p.default.st10,d:"M29.7,20.7c-4.6-0.4-8.5,3.5-8.1,8.1c0.3,3.6,3.2,6.6,6.9,6.9c4.6,0.4,8.5-3.5,8.1-8.1 C36.3,23.9,33.4,20.9,29.7,20.7z M30.6,21.7c0.3,0.1,0.6,0.2,0.9,0.3c0.2,0.1,0.3,0.2,0.5,0.2c0.8,0.4,1.5,0.9,2.1,1.6 c0,0,0.1,0.1,0.1,0.2c0,0.1,0,0.3,0,0.4c0,0.1-0.1,0.2-0.1,0.3c0,0.2,0.2,0.3,0.3,0.3c0.1,0,0.3,0,0.4,0c0.1,0,0.2,0.1,0.2,0.2 c0.1,0.2,0.2,0.4,0.2,0.5c0.3,0.7,0.4,1.4,0.5,2.2c0,0.1,0,0.2-0.1,0.3c-0.1,0.1-0.3,0.3-0.4,0.5c-0.2,0.4-0.4,1-0.7,1.3 c-0.2,0.2-0.4,0.4-0.4,0.6c-0.1,0.2,0,0.4-0.1,0.5c0,0.1-0.1,0.1-0.2,0c-0.3-0.4-0.4-0.8-0.5-1.2c-0.1-0.3-0.1-0.6-0.2-1 c-0.1-0.3-0.3-0.6-0.6-0.8c-0.3-0.2-0.7-0.1-1-0.2c-0.4,0-0.7-0.1-1-0.4c-0.1-0.1-0.2-0.3-0.2-0.4c-0.2-0.8,0.3-1.7,1-2.1 c0.1-0.1,0.2-0.1,0.3-0.2c0.2-0.2,0.3-0.4,0.2-0.7c0-0.1-0.1-0.1-0.1-0.1c-0.2,0.1-0.4,0.1-0.5,0.2c-0.1,0-0.2,0-0.2-0.1 c0-0.3,0-0.6,0.1-1c0.1-0.4,0.2-0.7,0-1c0-0.1-0.1-0.1-0.2-0.1c-0.3,0-0.6,0-0.9,0c0,0,0,0,0,0c0.2-0.1,0.3-0.2,0.4-0.4 C30.5,21.8,30.6,21.7,30.6,21.7z M27.4,21.8c0.1,0,0.1,0,0.2,0.1c0.1,0.2,0.2,0.3,0.3,0.5c0.2,0.4,0.3,0.9,0.1,1.2 c-0.2,0.4-0.7,0.6-1.1,0.9c-0.9,0.4-1.6,1.1-2.1,1.9c0,0-0.1,0.1-0.1,0.1c-0.1,0-0.1,0-0.2-0.1c-0.1-0.1-0.2-0.1-0.3-0.2 c0,0-0.1,0-0.1,0.1c-0.1,0.4,0.1,0.9,0.5,1.1c0.1,0,0.1,0.1,0.2,0.1c0.1,0.2,0,0.4,0,0.6c0,0.3,0.4,0.4,0.6,0.4 c0.3,0,0.5-0.2,0.8-0.3c0.6-0.2,1.2-0.1,1.7,0.2c0.3,0.2,0.5,0.4,0.7,0.6c0.2,0.2,0.5,0.3,0.8,0.3c0.1,0,0.1,0,0.2,0.1 c0.1,0.3,0,0.6-0.2,0.8c-0.2,0.3-0.5,0.4-0.7,0.7c-0.5,0.6-0.7,1.5-1.1,2.2c-0.1,0.1-0.2,0.3-0.3,0.4c-0.1,0.2-0.1,0.4-0.1,0.7 c0,0,0,0.1-0.1,0.1c-0.1,0-0.2-0.1-0.3-0.1c-0.1,0-0.1-0.1-0.1-0.2c-0.2-0.9-0.5-1.8-0.9-2.7c-0.2-0.3-0.4-0.7-0.7-0.9 c-0.1-0.1-0.2-0.1-0.2-0.2c0-0.1,0-0.2,0-0.2c0.1-0.9-0.3-1.8-1-2.3c-0.1-0.1-0.3-0.2-0.3-0.3s-0.1-0.3-0.1-0.4 c-0.1-0.1-0.3-0.3-0.4-0.4c-0.1,0-0.1-0.1-0.1-0.2C23.4,24.3,25.1,22.4,27.4,21.8z"}),u.default.createElement("path",{className:p.default.st0,d:"M23,23.8h-5.6v-6.4h3.9c0.4,1.6,1.8,2.7,3.4,2.7c2,0,3.6-1.6,3.6-3.6s-1.6-3.6-3.6-3.6c-1.6,0-3,1.1-3.4,2.7 h-3.9V9.2h3.9c0.4,1.6,1.8,2.6,3.4,2.6c2,0,3.6-1.6,3.6-3.6s-1.6-3.6-3.6-3.6c-1.6,0-3.1,1.2-3.4,2.8h-4.7c0,0,0,0,0,0 c-0.2,0-0.4,0.1-0.6,0.3c-0.2,0.2-0.3,0.4-0.3,0.6v7.3h-3.9c-0.4-1.6-1.8-2.7-3.4-2.7c-2,0-3.6,1.6-3.6,3.6l0,0.1h0 c0.1,1.9,1.7,3.5,3.6,3.5c1.6,0,3-1.1,3.4-2.7h3.9v7.3c0,0.5,0.4,0.9,0.9,0.9c0,0,0,0,0,0h5.6C22.3,24.9,22.6,24.3,23,23.8z M24.7,14.7c1,0,1.8,0.8,1.8,1.8c0,1-0.8,1.9-1.8,1.9c-1,0-1.8-0.8-1.8-1.9C22.8,15.5,23.6,14.7,24.7,14.7z M24.7,6.4 c1,0,1.8,0.8,1.8,1.9c0,1-0.8,1.8-1.8,1.8c-1,0-1.8-0.8-1.8-1.8C22.8,7.3,23.7,6.4,24.7,6.4z M8.3,18.4c-1,0-1.8-0.8-1.8-1.9 c0-1,0.8-1.8,1.8-1.8c1,0,1.9,0.8,1.9,1.8C10.2,17.5,9.3,18.4,8.3,18.4z"}))}}]),PhyloTreePublic}(u.Component);t.default=m,(0,c.default)(m,"propTypes",{className:f.default.string})},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(0)),r=l(a(1)),o=function PipelineStageArrowheadIcon(e){return n.default.createElement("svg",{className:e.className,viewBox:"0 0 97 60",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},n.default.createElement("g",{id:"Styleguide-and-Components",stroke:"none",strokeWidth:"1"},n.default.createElement("g",{id:"1.1-Styleguide-Copy",transform:"translate(-865.000000, -1980.000000)"},n.default.createElement("polygon",{id:"Path-5-Copy",points:"865 1980 874.880859 2009.53369 865 2039.06738 961.522461 2009.53369"}))))};o.propTypes={className:r.default.string};var s=o;t.default=s},function(e,t,a){e.exports={cls1:"cls1-3H7c-",cls2:"cls2-23UXz",cls3:"cls3-wMGUy",cls4:"cls4-245XX",cls5:"cls5-26aU_",cls6:"cls6-2kYuh",cls7:"cls7-1S54-",cls8:"cls8-2Knvp"}},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(95)),r=l(a(144)),o=l(a(374)),s=l(a(375)),i=l(a(172)),d=l(a(386)),c=l(a(299)),u=l(a(419)),f=l(a(488)),p=l(a(489)),m=l(a(490)),h=l(a(175)),g=l(a(377)),v=l(a(491)),y=l(a(212)),b=l(a(492)),C=l(a(378)),w=l(a(493)),E=l(a(408)),S=l(a(494)),_=l(a(81)),k=l(a(213)),N=l(a(223)),x=l(a(379)),M=l(a(380)),T=l(a(495)),P=l(a(496)),D=l(a(376)),I=l(a(291)),j=l(a(181)),L=l(a(182)),O=l(a(110)),R=l(a(498)),A=l(a(497)),F=l(a(499)),V=l(a(323)),U=l(a(381)),z=l(a(500)),B=l(a(214)),H=l(a(382)),q={CUSTOM:{AlertIcon:n.default,BacteriaIcon:r.default,BeeIcon:o.default,CatIcon:s.default,CompareIcon:d.default,CopyIcon:c.default,CoverageIcon:u.default,DecipherIcon:f.default,DetectIcon:p.default,DiscoverIcon:m.default,DownloadIcon:h.default,ERCCIcon:g.default,FiltersIcon:v.default,GlobeIcon:y.default,HeatmapIcon:b.default,HumanIcon:C.default,InfoPanelIcon:w.default,LargeDownloadIcon:S.default,LockIcon:k.default,MosquitoIcon:x.default,MouseIcon:M.default,NoResultsIcon:T.default,PhyloTreeIcon:P.default,PigIcon:D.default,PlusIcon:I.default,RemoveIcon:O.default,SamplePublicIcon:R.default,SamplePrivateIcon:A.default,TickIcon:U.default,UploadIcon:z.default,UserIcon:B.default,WormIcon:H.default,PublicProjectIcon:j.default,PrivateProjectIcon:L.default,SaveIcon:F.default},FONT_AWESOME:{CheckmarkIcon:i.default,InsightIcon:E.default,LoadingIcon:_.default,SortIcon:V.default},LOGO:{LogoIcon:N.default}};t.default=q},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(0)),c=l(a(1)),u=l(a(4)),f=l(a(73)),p=l(a(141)),m=l(a(1735)),h=function(e){function AccordionNotification(e){return(0,n.default)(this,AccordionNotification),(0,o.default)(this,(0,s.default)(AccordionNotification).call(this,e))}return(0,i.default)(AccordionNotification,e),(0,r.default)(AccordionNotification,[{key:"render",value:function render(){var e=this.props,t=e.className,a=e.header,l=e.content,n=e.type,r=e.open,o=d.default.createElement(f.default,{type:n,displayStyle:"flat",className:m.default.notificationContainer},a);return d.default.createElement("div",{className:(0,u.default)(m.default.AccordionNotification,t)},d.default.createElement(p.default,{bottomContentPadding:!0,header:o,open:r,className:(0,u.default)(m.default.listContainer,m.default[n]),toggleAlignment:"baseline"},d.default.createElement("div",{className:m.default.messageContainer},l)))}}]),AccordionNotification}(d.default.Component);t.default=h,h.defaultProps={type:"info"},h.propTypes={className:c.default.string,header:c.default.node,content:c.default.node,open:c.default.bool,type:c.default.oneOf(["success","info","warn","error"])}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function compound(){var e=[].slice.call(arguments);if(0===e.length)return null;function scale(t){for(var a=0;a<e.length;a++){var l=e[a].domain();if(Math.min.apply(null,l)<=t&&t<=Math.max.apply(null,l))return e[a](t)}return e[e.length-1](t)}scale.domain=function(){if(arguments.length)throw"Setting a domain is not supported on compound scales";var t=[].concat.apply([],e.map(function(e){return e.domain()})),a=[Math.min.apply(null,t),Math.max.apply(null,t)];return t[0]>t[1]&&(a=a.slice().reverse()),a};scale.range=function(){if(arguments.length)throw"Setting a range is not supported on compound scales";var t=[].concat.apply([],e.map(function(e){return e.range()})),a=[Math.min.apply(null,t),Math.max.apply(null,t)];return t[0]>t[1]&&(a=a.slice().reverse()),a};scale.copy=function(){return compound.apply(null,e.map(function(e){return e.copy()}))};scale.scales=function(t){return arguments.length?(e=t,scale):e};return scale}},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function symlog(){var e=(0,n.default)(r.default.scale.linear()),t=e.range,a=e.domain;return e.domain=function(t){return arguments.length?e.scales(rescale(e.range(),t)):a()},e.range=function(a){return arguments.length?e.scales(rescale(a,e.domain())):t()},e};var n=l(a(876)),r=l(a(384));function intersection(e,t){var a=e[0]>e[1];a&&(e=e.slice().reverse());var l=e[0]<t[0]?e:t,n=l===e?t:e;if(l[1]<n[0])return null;var r=[n[0],l[1]<n[1]?l[1]:n[1]];return r[0]===r[1]?null:(a&&(r=r.slice().reverse()),r)}function rescale(e,t){var a,l=r.default.scale.log(),n=[];(a=intersection(t,[Number.NEGATIVE_INFINITY,-1]))&&n.push({domain:a,type:r.default.scale.log,extent:l(Math.abs(a[1]-a[0])+1)-l(1)}),(a=intersection(t,[-1,1]))&&n.push({domain:a,type:r.default.scale.linear,extent:Math.abs(a[1]-a[0])*(l(2)-l(1))}),(a=intersection(t,[1,Number.POSITIVE_INFINITY]))&&n.push({domain:a,type:r.default.scale.log,extent:l(Math.abs(a[1]-a[0])+1)-l(1)});for(var o=[],s=e[1]-e[0],i=n.reduce(function(e,t){return t.extent+e},0),d=e[0],c=0;c<n.length;c++){var u=n[c];if(u.extent>0){var f=u.extent/i,p=c===n.length-1?e[1]:d+f*s;o.push(u.type().domain(u.domain).range([d,p])),d=p}}return o}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function addSvgColorFilter(e,t,a){return e.append("filter").attr("id",t).append("feColorMatrix").attr("color-interpolation-filters","sRGB").attr("type","matrix").attr("values",function generateColorMatrix(e){var t=e[0]/255,a=e[1]/255,l=e[2]/255;return"0 0 0 0 ".concat(t,"\n          0 0 0 0 ").concat(a,"\n          0 0 0 0 ").concat(l,"\n          0 0 0 1 0")}(function hexToRgb(e){var t=parseInt(e.slice(1,3),16),a=parseInt(e.slice(3,5),16),l=parseInt(e.slice(5,7),16);return[t,a,l]}(a))),e}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AMR_TABLE_FEATURE=void 0;t.AMR_TABLE_FEATURE="AMR"},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(536)),r=l(a(7)),o=l(a(8)),s=function(){function NewickParser(e){(0,r.default)(this,NewickParser),this._lastId=0,this._symbols=new Set("(),;"),this.newickString=e,this.root=this.createNode()}return(0,o.default)(NewickParser,[{key:"getUniqueId",value:function getUniqueId(){return this._lastId++}},{key:"getOutput",value:function getOutput(){return this.output}},{key:"getUnrootedTree",value:function getUnrootedTree(){return this.convertToUnrootedTree(this.root)}},{key:"createNode",value:function createNode(e){return{children:[],name:e,distance:arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,id:this.getUniqueId()}}},{key:"getNextTokenAndSymbol",value:function getNextTokenAndSymbol(e){for(var t="";e<this.newickString.length&&!this._symbols.has(this.newickString[e]);)t+=this.newickString[e++];return{token:t.trim(),symbol:this.newickString[e]}}},{key:"parse",value:function parse(){var e=[],t=this.newickString.indexOf("("),a=this.root,l=!1;try{for(;!l&&t<this.newickString.length;){var n=this.getNextTokenAndSymbol(t),r=n.token,o=n.symbol;switch(o){case"(":if(r.length>0)throw new Error("Name should not preceed '('");var s=this.createNode();a.children.push(s),e.push(a),a=s;break;case",":this.editNodeWithToken(a,r),a=this.createNode(),e[e.length-1].children.push(a);break;case")":r.length>0&&this.editNodeWithToken(a,r),a=e.pop();break;case";":r.length>0&&this.editNodeWithToken(a,r);break;default:throw new Error("Bad tree format - bad symbol: ".concat(o))}t+=r.length+1,l=";"===o}}catch(e){return null}return this}},{key:"editNodeWithToken",value:function editNodeWithToken(e,t){var a=t.split(":"),l=(0,n.default)(a),r=l[0],o=l[1];if(l.slice(2).length>0)throw new Error("Bad token: ".concat(t));Object.assign(e,{name:r,distance:parseFloat(o)})}},{key:"lastNode",value:function lastNode(){var e=this.nodeGroups[this.nodeGroups.length-1];return e[e.length-1]}}]),NewickParser}();t.default=s},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(1741)),r=l(a(7)),o=l(a(8)),s=l(a(880)),i=function(){function Tree(e,t){if((0,r.default)(this,Tree),this.root=e,t)for(var a=this.bfs(),l=0;l<a.length;l++){var n=a[l];t[n.name]&&Object.assign(n,t[n.name])}}return(0,o.default)(Tree,[{key:"detachFromParent",value:function detachFromParent(e,t){var a=(t.children||[]).indexOf(e);t.children.splice(a,1)}},{key:"rerootTree",value:function rerootTree(e){for(var t=this.ancestors(this.root,e);t.length>1;){var a=t.pop(),l=t[t.length-1];this.detachFromParent(l,a);var n=[l.distance,a.distance];a.distance=n[0],l.distance=n[1],l.children.push(a)}this.root=t.pop()}},{key:"ancestors",value:function ancestors(e,t){if(e.id===t)return[e];for(var a=0;a<e.children.length;a++){var l=e.children[a],n=this.ancestors(l,t);if(n)return n.push(e),n}return null}},{key:"bfs",value:function bfs(){for(var e=[],t=[this.root];t.length>0;){var a=t.shift();e.push(a),t=t.concat(a.children)}return e}}],[{key:"fromNewickString",value:function fromNewickString(e){if(!e)return null;var t=new s.default(e);t.parse();for(var a=arguments.length,l=new Array(a>1?a-1:0),r=1;r<a;r++)l[r-1]=arguments[r];return(0,n.default)(Tree,[t.root].concat(l))}}]),Tree}();t.default=i},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(5)),r=l(a(7)),o=l(a(8)),s=l(a(10)),i=l(a(9)),d=l(a(11)),c=l(a(0)),u=l(a(594)),f=l(a(24)),p=a(383),m=function(e){function BulkUploadImportPage(){return(0,r.default)(this,BulkUploadImportPage),(0,s.default)(this,(0,i.default)(BulkUploadImportPage).apply(this,arguments))}return(0,d.default)(BulkUploadImportPage,e),(0,o.default)(BulkUploadImportPage,[{key:"render",value:function render(){return c.default.createElement("div",{id:"samplesUploader",className:"row"},c.default.createElement("div",{className:"col s6 offset-s3 upload-form-container"},c.default.createElement(u.default,(0,n.default)({},this.props,{onBulkUploadRemote:p.bulkUploadRemote,onBulkUploadLocal:p.bulkUploadLocal}))))}}]),BulkUploadImportPage}(c.default.Component);m.propTypes={projects:f.default.arrayOf(f.default.Project),csrf:f.default.string,host_genomes:f.default.arrayOf(f.default.HostGenome),admin:f.default.bool};var h=m;t.default=h},,,,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(2)),r=l(a(47)),o=l(a(7)),s=l(a(8)),i=a(1767);function ownKeys(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(a,!0).forEach(function(t){(0,n.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var d=function(){function NetworkGraph(e,t,a,l){(0,o.default)(this,NetworkGraph);var n=l.onClick,s=l.onNodeHover,d=l.onNodeBlur,c=(0,r.default)(l,["onClick","onNodeHover","onNodeBlur"]);this.data={nodes:new i.DataSet(t),edges:new i.DataSet(a)},this.graph=new i.Network(e,this.data,c),this.graph.on("click",n),this.graph.on("hoverNode",s),this.graph.on("blurNode",d)}return(0,s.default)(NetworkGraph,[{key:"moveNodeToPosition",value:function moveNodeToPosition(e,t,a){var l=this.graph.DOMtoCanvas({x:t,y:a});this.graph.moveNode(e,l.x,l.y)}},{key:"getNodePosition",value:function getNodePosition(e){var t=this.graph.getPositions([e])[e];return this.graph.canvasToDOM(t)}},{key:"getEdges",value:function getEdges(e){return this.data.edges.getIds({filter:e})}},{key:"updateEdges",value:function updateEdges(e,t){var a=this;e.forEach(function(e){a.data.edges.update(_objectSpread({id:e},t))})}},{key:"updateNodes",value:function updateNodes(e,t){var a=this;e.forEach(function(e){a.data.nodes.update(_objectSpread({id:e},t))})}},{key:"getNodeAt",value:function getNodeAt(e,t){return this.graph.getNodeAt({x:e,y:t})}},{key:"getEdgeAt",value:function getEdgeAt(e,t){return this.graph.getEdgeAt({x:e,y:t})}},{key:"minimizeSizeGivenScale",value:function minimizeSizeGivenScale(e){var t=this;this.graph.moveTo({scale:e});var a=Number.MAX_VALUE,l=Number.MIN_VALUE,n=Number.MAX_VALUE,r=Number.MIN_VALUE;this.data.nodes.getIds().forEach(function(e){var o=t.graph.getBoundingBox(e);a=Math.min(a,o.left),l=Math.max(l,o.right),n=Math.min(n,o.top),r=Math.max(r,o.bottom)});var o=this.graph.canvasToDOM({x:a,y:n}),s=o.x,i=o.y,d=this.graph.canvasToDOM({x:l,y:r}),c=d.x,u=d.y;this.graph.setSize(c-s+"px",u-i),this.graph.moveTo({scale:1,position:{x:0,y:0}})}},{key:"afterDrawingOnce",value:function afterDrawingOnce(e){this.graph.once("afterDrawing",e)}},{key:"unselectAll",value:function unselectAll(){this.graph.unselectAll()}},{key:"selectNodes",value:function selectNodes(e){this.graph.selectNodes(e)}}]),NetworkGraph}();t.default=d},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(3)),d=l(a(11)),c=l(a(2)),u=l(a(0)),f=l(a(59)),p=l(a(325)),m=l(a(24)),h=l(a(225)),g=l(a(438)),v=function(e){function PipelineVizHeader(){var e,t;(0,n.default)(this,PipelineVizHeader);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return t=(0,o.default)(this,(e=(0,s.default)(PipelineVizHeader)).call.apply(e,[this].concat(l))),(0,c.default)((0,i.default)(t),"renderVersionDisplay",function(){var e=t.props.pipelineRun;return e&&e.version&&e.version.pipeline?"v".concat(e.version.pipeline)+(e.version.alignment_db?", NT/NR: ".concat(e.version.alignment_db):""):""}),(0,c.default)((0,i.default)(t),"handlePipelineVersionSelect",function(e){var a=t.props.sample;window.location="".concat(location.protocol,"//").concat(location.host,"/samples/").concat(a.id,"/pipeline_viz/").concat(e)}),t}return(0,d.default)(PipelineVizHeader,e),(0,r.default)(PipelineVizHeader,[{key:"render",value:function render(){var e=this.props,t=e.pipelineRun,a=e.pipelineVersions,l=e.lastProcessedAt,n=e.sample;return u.default.createElement(f.default,null,u.default.createElement(h.default,{className:g.default.headerSection},u.default.createElement(h.default.Content,null,u.default.createElement("div",{className:g.default.pipelineInfo},u.default.createElement("span",null,"PIPELINE ",this.renderVersionDisplay()),u.default.createElement(p.default,{pipelineRun:t,pipelineVersions:a,lastProcessedAt:l,onPipelineVersionSelect:this.handlePipelineVersionSelect})),u.default.createElement(h.default.Pretitle,{breadcrumbLink:"/samples/".concat(n.id)},n.name),u.default.createElement(h.default.Title,{label:"Pipeline Visualization"}))),u.default.createElement("div",{className:g.default.headerDivider}))}}]),PipelineVizHeader}(u.default.Component);v.propTypes={pipelineRun:m.default.PipelineRun,sample:m.default.Sample,pipelineVersions:m.default.arrayOf(m.default.string),lastProcessedAt:m.default.string};var y=v;t.default=y},function(e,t,a){e.exports={h1:"h1-1OQe-",h2:"h2-pV-cY",h3:"h3-1xs0W",h4:"h4-fi8Op",h5:"h5-3Q8UA",h6:"h6-3NxEw","display-xlarge":"display-xlarge-2H_q5","display-large":"display-large-18lq5","display-medium":"display-medium-1rQv9","display-small":"display-small-3YUqi",heading:"heading-2ODEI",subheading:"subheading-1py6l",small:"small-u4dn3",p:"p-2ty44","body-text":"body-text-SVt9Q",subdued:"subdued-3GCYH",caption:"caption-EJaN6","text-left":"text-left-226kd","text-right":"text-right-3PQi5","text-center":"text-center-Erq9u","text-justify":"text-justify-36mU2","text-nowrap":"text-nowrap-23ySI","text-lowercase":"text-lowercase-1CsnO","text-uppercase":"text-uppercase-190Uh","text-capitalize":"text-capitalize-IJzpZ","text-muted":"text-muted-2tcuN",viewHeader:"viewHeader-3wdn1",pipelineInfo:"pipelineInfo-2dHDO",warning:"warning-25Wbd",linkToPipelineViz:"linkToPipelineViz-1TPeW",sampleDetailsLinkContainer:"sampleDetailsLinkContainer-2bX_i",sampleDetailsLink:"sampleDetailsLink-11hUz",warningIcon:"warningIcon-3gROe",reportsDivider:"reportsDivider-2R4wx",dividerContainer:"dividerContainer-JOwcs",tabs:"tabs-1f83H",divider:"divider-362nZ",pipelineVersionSelectContainer:"pipelineVersionSelectContainer-2mIWw",pipelineVersionSelect:"pipelineVersionSelect-1OEhG",dropdownTrigger:"dropdownTrigger-1uGUV",waitingContainer:"waitingContainer-uGKWQ",spinner:"spinner-1ff-h",failedContainer:"failedContainer-fKRa9",failed:"failed-2Nset",sampleMessage:"sampleMessage-266ez",textContainer:"textContainer-2vc08",reportStatus:"reportStatus-1wYVE",icon:"icon-2vUXJ",text:"text-Mt-QI",error:"error-2oD1i",inProgress:"inProgress-2BCgK",info:"info-2xTLB",message:"message-3b4sN",actionLink:"actionLink-JS0OF",rightArrow:"rightArrow-2-2TJ",bacteriaIcon:"bacteriaIcon-1NqDn"}},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.inverseTransformDOMCoordinates=void 0;var n=l(a(32)),r=a(1986);t.inverseTransformDOMCoordinates=function inverseTransformDOMCoordinates(e,t,a){var l=window.getComputedStyle(e).getPropertyValue("transform").replace(/(matrix\()|(\))+/gi,"").split(", ").map(function(e){return parseFloat(e)}).slice(0,4),o=(0,n.default)(l,4),s=o[0],i=o[1],d=o[2],c=o[3];if(1==s&&0==i&&0==d&&1==c)return{x:t,y:a};var u=new r.Matrix([[s,d],[i,c]]),f=(0,r.inverse)(u),p=r.Matrix.columnVector([t,a]),m=f.mmul(p);return{x:m.get(0,0),y:m.get(1,0)}}},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(26)),r=l(a(27)),o=l(a(7)),s=l(a(8)),i=l(a(10)),d=l(a(9)),c=l(a(3)),u=l(a(11)),f=l(a(2)),p=l(a(0)),m=a(17),h=l(a(24)),g=l(a(51)),v=l(a(74)),y=l(a(81)),b=l(a(73)),C=a(1770),w=a(20),E=a(221),S=a(244),_=l(a(1771)),k=function(e){function BasespaceSampleImport(){var e,t;(0,o.default)(this,BasespaceSampleImport);for(var a=arguments.length,l=new Array(a),s=0;s<a;s++)l[s]=arguments[s];return t=(0,i.default)(this,(e=(0,d.default)(BasespaceSampleImport)).call.apply(e,[this].concat(l))),(0,f.default)((0,c.default)(t),"state",{basespaceProjects:null,selectedProjectId:null,loadingSamples:!1,error:"",errorType:""}),(0,f.default)((0,c.default)(t),"handleMessageEvent",function(){var e=(0,r.default)(n.default.mark(function _callee(e){var a,l;return n.default.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:a=t.props.onAccessTokenChange,e.source===t._window&&e.origin===window.location.origin&&e.data.basespaceAccessToken&&(l=e.data.basespaceAccessToken,t.fetchBasespaceProjects(l),a(l));case 2:case"end":return n.stop()}},_callee)}));return function(t){return e.apply(this,arguments)}}()),(0,f.default)((0,c.default)(t),"handleProjectSelect",function(e){t.setState({selectedProjectId:e})}),(0,f.default)((0,c.default)(t),"requestBasespaceBrowseGlobalPermissions",function(){var e=t.props,a=e.basespaceClientId,l=e.basespaceOauthRedirectUri;t._window=(0,E.openBasespaceOAuthPopup)({client_id:a,redirect_uri:l,scope:"browse+global"})}),(0,f.default)((0,c.default)(t),"getProjectOptions",function(){var e=t.state.basespaceProjects;return(0,m.map)(function(e){return{value:e.id,text:e.name}},e)}),(0,f.default)((0,c.default)(t),"fetchBasespaceProjects",function(){var e=(0,r.default)(n.default.mark(function _callee2(e){var a,l;return n.default.wrap(function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,C.getBasespaceProjects)(e);case 2:a=n.sent,l={basespaceProjects:a,selectedProjectId:(0,m.get)("id",(0,m.head)(a))},(0,m.isEmpty)(a)&&(l.error="No projects found in logged-in Basespace account. Please contact us for help.",l.errorType="error"),t.setState(l);case 6:case"end":return n.stop()}},_callee2)}));return function(t){return e.apply(this,arguments)}}()),(0,f.default)((0,c.default)(t),"fetchSamplesForBasespaceProject",(0,r.default)(n.default.mark(function _callee3(){var e,a,l,r,o,s,i,d,c,u;return n.default.wrap(function _callee3$(n){for(;;)switch(n.prev=n.next){case 0:if(e=t.state,a=e.selectedProjectId,l=e.basespaceProjects,r=t.props,o=r.onChange,s=r.accessToken,i=r.project,d=r.onNoProject,t.props.project){n.next=8;break}return t.setState({error:S.NO_TARGET_PROJECT_ERROR,errorType:"error"}),d(),n.abrupt("return");case 8:t.setState({error:""});case 9:return t.setState({loadingSamples:!0}),n.next=12,(0,C.getSamplesForBasespaceProject)(s,a);case 12:if(c=n.sent,t.setState({loadingSamples:!1}),u=(0,m.get)("name",(0,m.find)(["id",a],l)),!c.error){n.next=18;break}return t.setState({error:"There was an error accessing project ".concat(u,". Please contact us for help."),errorType:"error"}),n.abrupt("return");case 18:c=(0,m.map)((0,m.set)("project_id",i.id),c),(0,m.isEmpty)(c)&&t.setState({error:"No valid samples could be found in project ".concat(u),errorType:"warn"}),o(c);case 21:case"end":return n.stop()}},_callee3)}))),(0,f.default)((0,c.default)(t),"renderConnectButton",function(){return p.default.createElement(p.default.Fragment,null,p.default.createElement("div",{className:_.default.helpText},"Please connect to Basespace and authorize IDseq to view your projects and samples."),p.default.createElement(g.default,{text:"Connect to Basespace",rounded:!1,onClick:(0,w.withAnalytics)(t.requestBasespaceBrowseGlobalPermissions,"BasespaceSampleImport_connect-btn_clicked",{})}))}),(0,f.default)((0,c.default)(t),"renderProjectSelect",function(){var e=t.state,a=e.basespaceProjects,l=e.selectedProjectId,n=e.loadingSamples,r=e.error,o=e.errorType,s=(0,m.isArray)(a)&&(0,m.isEmpty)(a);return p.default.createElement(p.default.Fragment,null,p.default.createElement("div",{className:_.default.label},"Select Basespace Project"),p.default.createElement("div",{className:_.default.projectSelectContainer},p.default.createElement(v.default,{disabled:s,placeholder:s?"No projects found":"Loading projects...",fluid:!0,floating:!0,scrolling:!0,options:t.getProjectOptions(),onChange:t.handleProjectSelect,value:l}),p.default.createElement(g.default,{disabled:(0,m.isEmpty)(a),text:"Connect to Project",rounded:!1,onClick:(0,w.withAnalytics)(t.fetchSamplesForBasespaceProject,"BasespaceSampleImport_connect-project-btn_clicked",{}),className:_.default.connectProjectButton})),n&&p.default.createElement("div",{className:_.default.loadingMessage},p.default.createElement(y.default,{className:_.default.loadingIcon}),p.default.createElement("span",null,"Loading samples...")),t.state.error&&p.default.createElement(b.default,{type:o,displayStyle:"flat",className:_.default.notification},r))}),t}return(0,u.default)(BasespaceSampleImport,e),(0,s.default)(BasespaceSampleImport,[{key:"componentDidMount",value:function componentDidMount(){var e=this.props.accessToken;window.addEventListener("message",this.handleMessageEvent),e&&this.fetchBasespaceProjects(e)}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.state.error===S.NO_TARGET_PROJECT_ERROR&&null!==this.props.project&&this.setState({error:""})}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.removeEventListener("message",this.handleMessageEvent)}},{key:"render",value:function render(){var e=this.props.accessToken;return p.default.createElement("div",{className:_.default.basespaceSampleImport},e?this.renderProjectSelect():this.renderConnectButton())}}]),BasespaceSampleImport}(p.default.Component);t.default=k,k.propTypes={onChange:h.default.func.isRequired,accessToken:h.default.string,onAccessTokenChange:h.default.func.isRequired,project:h.default.Project,basespaceClientId:h.default.string.isRequired,basespaceOauthRedirectUri:h.default.string.isRequired,onNoProject:h.default.func.isRequired}},function(e,t,a){"use strict";var l=a(96),n=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(7)),o=n(a(8)),s=n(a(10)),i=n(a(9)),d=n(a(3)),c=n(a(11)),u=n(a(2)),f=n(a(0)),p=l(a(17)),m=n(a(4)),h=a(87),g=n(a(209)),v=n(a(24)),y=a(20),b=n(a(161)),C=p.default.map.convert({cap:!1}),w=function(e){function LocalSampleFileUpload(){var e,t;(0,r.default)(this,LocalSampleFileUpload);for(var a=arguments.length,l=new Array(a),n=0;n<a;n++)l[n]=arguments[n];return t=(0,s.default)(this,(e=(0,i.default)(LocalSampleFileUpload)).call.apply(e,[this].concat(l))),(0,u.default)((0,d.default)(t),"state",{showInfo:!1}),(0,u.default)((0,d.default)(t),"onDrop",function(e){var a=(0,p.flow)((0,p.groupBy)(function(e){return(0,h.sampleNameFromFileName)(e.name)}),(0,p.mapValues)((0,p.flow)((0,p.sortBy)(function(e){return e.name.toLowerCase()}),(0,p.slice)(0,2))))(e),l=C(function(e,a){return{name:a,project_id:(0,p.get)("id",t.props.project),host_genome_id:"",input_files_attributes:e.map(function(e){return{source_type:"local",source:e.name,parts:e.name}}),files:(0,p.keyBy)("name",e),status:"created",client:"web"}},a);t.props.onChange(l)}),(0,u.default)((0,d.default)(t),"onRejected",function(e){var t=e.filter(function(e){return 0===e.size}),a=e.filter(function(e){return 0!==e.size}),l=p.default.compose(p.default.join(", "),p.default.map("name")),n="Some of your files cannot be uploaded.\n";t.length>0&&(n+="- Empty files: ".concat(l(t),"\n")),a.length>0&&(n+="- Too large: ".concat(l(a),"\nSize must be under 5GB for local uploads. For larger files, please try our CLI.")),window.alert(n)}),(0,u.default)((0,d.default)(t),"toggleInfo",function(){t.setState({showInfo:!t.state.showInfo},function(){(0,y.logAnalyticsEvent)("LocalSampleFileUpload_more-info-toggle_clicked",{showInfo:t.state.showInfo})})}),(0,u.default)((0,d.default)(t),"getFilePickerTitle",function(){var e=t.props.hasSamplesLoaded,a=(0,p.sumBy)(function(e){return(0,p.size)(e.input_files_attributes)},t.props.samples);return a?"".concat(a," File").concat(a>1?"s":""," Selected For Upload"):e?"No Files Selected For Upload":null}),t}return(0,c.default)(LocalSampleFileUpload,e),(0,o.default)(LocalSampleFileUpload,[{key:"render",value:function render(){var e=this.getFilePickerTitle();return f.default.createElement("div",{className:b.default.localFileUpload},f.default.createElement("div",{className:b.default.label},"Upload Your Input Files",f.default.createElement("span",{className:b.default.infoLink,onClick:this.toggleInfo},this.state.showInfo?"Hide":"More"," Info")),this.state.showInfo&&f.default.createElement("div",{className:b.default.info},f.default.createElement("div",{className:b.default.title},"File Instructions"),f.default.createElement("ul",null,f.default.createElement("li",null,"Accepted file formats: fastq (.fq), fastq.gz (.fq.gz), fasta (.fa), fasta.gz (.fa.gz)."),f.default.createElement("li",null,'Paired files must be labeled with "_R1" or "_R2" at the end of the basename.'),f.default.createElement("li",null,"File names must be no longer than 120 characters and can only contain letters from the English alphabet (A-Z, upper and lower case), numbers (0-9), periods (.), hyphens (-) and underscores (_). Spaces are not allowed."))),f.default.createElement(g.default,{className:(0,m.default)(b.default.localFilePicker,!e&&b.default.short),title:e,onChange:this.onDrop,onRejected:this.onRejected,multiFile:!0}))}}]),LocalSampleFileUpload}(f.default.Component);w.propTypes={project:v.default.Project,onChange:v.default.func.isRequired,samples:v.default.arrayOf(v.default.object),hasSamplesLoaded:v.default.bool};var E=w;t.default=E},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(26)),r=l(a(27)),o=l(a(7)),s=l(a(8)),i=l(a(10)),d=l(a(9)),c=l(a(3)),u=l(a(11)),f=l(a(2)),p=l(a(0)),m=a(17),h=l(a(83)),g=l(a(51)),v=l(a(24)),y=a(42),b=a(20),C=l(a(73)),w=a(244),E=l(a(161));function ownKeys(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(a,!0).forEach(function(t){(0,f.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var S=function(e){function RemoteSampleFileUpload(){var e,t;(0,o.default)(this,RemoteSampleFileUpload);for(var a=arguments.length,l=new Array(a),s=0;s<a;s++)l[s]=arguments[s];return t=(0,i.default)(this,(e=(0,d.default)(RemoteSampleFileUpload)).call.apply(e,[this].concat(l))),(0,f.default)((0,c.default)(t),"state",{showInfo:!1,remoteS3Path:"",lastPathChecked:""}),(0,f.default)((0,c.default)(t),"toggleInfo",function(){t.setState({showInfo:!t.state.showInfo},function(){(0,b.logAnalyticsEvent)("RemoteSampleFileUpload_more-info-toggle_clicked",{showInfo:t.state.showInfo})})}),(0,f.default)((0,c.default)(t),"handleRemotePathChange",function(e){t.setState({remoteS3Path:e})}),(0,f.default)((0,c.default)(t),"handleConnect",(0,r.default)(n.default.mark(function _callee(){var e;return n.default.wrap(function _callee$(a){for(;;)switch(a.prev=a.next){case 0:if(t.props.project){a.next=4;break}return t.setState({error:w.NO_TARGET_PROJECT_ERROR}),t.props.onNoProject(),a.abrupt("return");case 4:return t.setState({error:"",lastPathChecked:t.state.remoteS3Path}),a.prev=5,a.next=8,(0,y.bulkImportRemoteSamples)({projectId:t.props.project.id,hostGenomeId:"",bulkPath:t.state.remoteS3Path});case 8:e=(e=a.sent).samples.map(function(e){return _objectSpread({},e,{input_files_attributes:(0,m.compact)(e.input_files_attributes)})}),t.props.onChange(e),(0,b.logAnalyticsEvent)("RemoteSampleFileUpload_connect_succeeded",{projectId:t.props.project.id,bulkPath:t.state.remoteS3Path,newSamples:e.length}),a.next=18;break;case 14:a.prev=14,a.t0=a.catch(5),a.t0.status?t.setState({error:a.t0.status}):t.setState({error:w.NO_VALID_SAMPLES_FOUND_ERROR}),(0,b.logAnalyticsEvent)("RemoteSampleFileUpload_connect_failed",{projectId:t.props.project.id,bulkPath:t.state.remoteS3Path,error:a.t0.status||a.t0.message||a.t0});case 18:case"end":return a.stop()}},_callee,null,[[5,14]])}))),t}return(0,u.default)(RemoteSampleFileUpload,e),(0,s.default)(RemoteSampleFileUpload,[{key:"componentDidUpdate",value:function componentDidUpdate(){this.state.error===w.NO_TARGET_PROJECT_ERROR&&null!==this.props.project&&this.setState({error:""})}},{key:"render",value:function render(){return p.default.createElement("div",{className:E.default.remoteFileUpload},p.default.createElement("div",{className:E.default.label},"Path to S3 Bucket",p.default.createElement("span",{className:E.default.infoLink,onClick:this.toggleInfo},this.state.showInfo?"Hide":"More"," Info")),this.state.showInfo&&p.default.createElement("div",{className:E.default.info},p.default.createElement("div",{className:E.default.title},"S3 Bucket Instructions"),p.default.createElement("ul",null,p.default.createElement("li",null,"Please ensure that IDseq has permissions to read/list your S3 bucket. ",p.default.createElement("span",null,"Contact us")," for help getting set up."),p.default.createElement("li",null,'Also convert links like "https://s3-us-west-2.amazonaws.com/your_s3_bucket/rawdata/fastqs" to the format "s3://your_s3_bucket/rawdata/fastqs"')),p.default.createElement("div",{className:E.default.title},"File Instructions"),p.default.createElement("ul",null,p.default.createElement("li",null,"Accepted file formats: fastq (.fq), fastq.gz (.fq.gz), fasta (.fa), fasta.gz (.fa.gz)."),p.default.createElement("li",null,'Paired files must be labeled with "_R1" or "_R2" at the end of the basename.'),p.default.createElement("li",null,"File names must be no longer than 120 characters and can only contain letters from the English alphabet (A-Z, upper and lower case), numbers (0-9), periods (.), hyphens (-) and underscores (_). Spaces are not allowed."))),p.default.createElement("div",{className:E.default.controls},p.default.createElement(h.default,{fluid:!0,placeholder:"Ex: s3://your_s3_bucket/rawdata/fastqs",className:E.default.input,value:this.state.remoteS3Path,onChange:this.handleRemotePathChange}),p.default.createElement(g.default,{className:E.default.connectButton,rounded:!1,text:"Connect to Bucket",disabled:""===this.state.remoteS3Path||this.state.remoteS3Path===this.state.lastPathChecked,onClick:this.handleConnect})),this.state.error&&p.default.createElement(C.default,{type:"error",displayStyle:"flat",className:E.default.notification},this.state.error))}}]),RemoteSampleFileUpload}(p.default.Component);S.propTypes={project:v.default.Project,onChange:v.default.func.isRequired,onNoProject:v.default.func.isRequired,showNoProjectError:v.default.bool};var _=S;t.default=_},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(35)),r=l(a(26)),o=l(a(27)),s=l(a(7)),i=l(a(8)),d=l(a(10)),c=l(a(9)),u=l(a(3)),f=l(a(11)),p=l(a(2)),m=l(a(0)),h=l(a(4)),g=a(17),v=a(57),y=a(89),b=l(a(125)),C=l(a(24)),w=a(143),E=l(a(51)),S=l(a(278)),_=l(a(126)),k=a(20),N=l(a(181)),x=l(a(182)),M=l(a(161)),T=l(a(894)),P=l(a(502));function ownKeys(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}var D=function(e){function ReviewStep(){var e,t;(0,s.default)(this,ReviewStep);for(var a=arguments.length,l=new Array(a),i=0;i<a;i++)l[i]=arguments[i];return t=(0,d.default)(this,(e=(0,c.default)(ReviewStep)).call.apply(e,[this].concat(l))),(0,p.default)((0,u.default)(t),"state",{consentChecked:!1,projectMetadataFields:null,showLessDescription:!0,showUploadModal:!1,skipSampleProcessing:!1}),(0,p.default)((0,u.default)(t),"loadProjectMetadataFields",(0,o.default)(r.default.mark(function _callee(){var e,a;return r.default.wrap(function _callee$(l){for(;;)switch(l.prev=l.next){case 0:return e=t.props.project,l.next=3,(0,y.getProjectMetadataFields)(e.id);case 3:a=l.sent,t.setState({projectMetadataFields:(0,g.keyBy)("key",a)});case 5:case"end":return l.stop()}},_callee)}))),(0,p.default)((0,u.default)(t),"uploadSamplesAndMetadata",function(){(0,t.props.onUploadStatusChange)(!0),t.setState({showUploadModal:!0}),t.setState({})}),(0,p.default)((0,u.default)(t),"getFieldDisplayName",function(e){var a=t.state.projectMetadataFields;return a[e]?a[e].name:e}),(0,p.default)((0,u.default)(t),"getDataHeaders",function(){var e=t.props,a=e.uploadType,l=e.metadata,r=(0,g.without)(["Sample Name","sample_name"],l.headers.map(t.getFieldDisplayName));return"basespace"!==a?["Sample Name","Input Files","Host Organism"].concat((0,n.default)(r)):["Sample Name","Basespace Project","File Size","File Type","Host Organism"].concat((0,n.default)(r))}),(0,p.default)((0,u.default)(t),"getDataRows",function(){var e=t.props,a=e.uploadType,l=e.metadata.rows.map(function(e){return(0,g.mapKeys)(t.getFieldDisplayName,e)}),n=(0,g.keyBy)(function(e){return e["Sample Name"]||e.sample_name},l),r=(0,g.keyBy)("id",t.props.hostGenomes);return(0,g.map)(function assembleDataForSample(e){var t=function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(a,!0).forEach(function(t){(0,p.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},n[e.name],{"Sample Name":m.default.createElement("div",{className:M.default.sampleName},e.name),"Host Organism":(0,g.get)("name",r[e.host_genome_id])});return"basespace"!==a?t["Input Files"]=m.default.createElement("div",{className:M.default.files},e.input_files_attributes.map(function(e){return m.default.createElement("div",{key:e.source,className:M.default.file},e.name||e.source)})):(t["File Size"]=(0,w.formatFileSize)(e.file_size),t["File Type"]=e.file_type,t["Basespace Project"]=e.basespace_project_name),t},t.props.samples)}),(0,p.default)((0,u.default)(t),"linksEnabled",function(){return!t.state.showUploadModal}),(0,p.default)((0,u.default)(t),"onLinkClick",function(e){t.linksEnabled()&&t.props.onStepSelect(e)}),(0,p.default)((0,u.default)(t),"getColumnWidth",function(e){switch(e){case"Sample Name":return 200;case"Input Files":return 300;case"Water Control":return 80;case"Nucleotide Type":case"Collection Date":return 100;default:return 140}}),(0,p.default)((0,u.default)(t),"toggleDisplayDescription",function(){t.setState(function(e){return{showLessDescription:!e.showLessDescription}})}),(0,p.default)((0,u.default)(t),"countNewLines",function(e){return e?e.split(/\r*\n/).length:0}),(0,p.default)((0,u.default)(t),"toggleSkipSampleProcessing",function(){t.setState({skipSampleProcessing:!t.state.skipSampleProcessing})}),(0,p.default)((0,u.default)(t),"renderSkipSampleProcessingOption",function(){return m.default.createElement(_.default,{className:M.default.skipSampleProcessingOption,checked:t.state.skipSampleProcessing,onChange:t.toggleSkipSampleProcessing,label:"Skip sample processing after upload is complete."})}),(0,p.default)((0,u.default)(t),"renderReviewTable",function(){return t.state.projectMetadataFields?m.default.createElement(b.default,{className:M.default.metadataTable,columns:t.getDataHeaders(),data:t.getDataRows(),getColumnWidth:t.getColumnWidth}):m.default.createElement("div",{className:M.default.loadingMsg},"Loading...")}),t}return(0,f.default)(ReviewStep,e),(0,i.default)(ReviewStep,[{key:"componentDidMount",value:function componentDidMount(){this.loadProjectMetadataFields()}},{key:"render",value:function render(){var e=this,t=this.state,a=t.showUploadModal,l=t.showLessDescription,n=t.skipSampleProcessing,r=this.props,o=r.onUploadComplete,s=r.uploadType,i=r.samples,d=r.metadata,c=r.project,u=c.description&&this.countNewLines(c.description)>5,f=this.context||{},p=f.userSettings,v=f.allowedFeatures;return m.default.createElement("div",{className:(0,h.default)(M.default.reviewStep,M.default.uploadFlowStep,this.props.visible&&M.default.visible)},m.default.createElement("div",{className:M.default.flexContent},m.default.createElement("div",{className:M.default.projectContainer},m.default.createElement("div",{className:M.default.reviewHeader},m.default.createElement("span",{className:M.default.text},"Project Info"),m.default.createElement("div",{className:(0,h.default)(M.default.links,this.linksEnabled()&&M.default.enabled)},m.default.createElement("div",{className:M.default.link,onClick:function onClick(){e.onLinkClick("uploadSamples"),(0,k.logAnalyticsEvent)("ReviewStep_edit-project-link_clicked",{projectId:e.props.project.id,projectName:e.props.project.name,uploadType:e.props.uploadType})}},"Edit Project"))),m.default.createElement("div",{className:M.default.project},1===this.props.project.public_access?m.default.createElement(N.default,{className:M.default.projectIcon}):m.default.createElement(x.default,{className:M.default.projectIcon}),m.default.createElement("div",{className:M.default.text},m.default.createElement("div",{className:M.default.header},m.default.createElement("div",{className:M.default.name},this.props.project.name),m.default.createElement("div",{className:M.default.publicAccess},this.props.project.public_access?"Public Project":"Private Project")),c.description&&m.default.createElement("div",{className:M.default.descriptionContainer},m.default.createElement("div",{className:(0,h.default)(u&&l&&M.default.truncated)},c.description),u&&m.default.createElement("div",{className:M.default.showHide,onClick:this.toggleDisplayDescription},l?"Show More":"Show Less")),m.default.createElement("div",{className:M.default.existingSamples},this.props.project.number_of_samples||0," existing samples in project")))),m.default.createElement("div",{className:M.default.sampleContainer},m.default.createElement("div",{className:M.default.reviewHeader},m.default.createElement("span",{className:M.default.text},"Sample Info"),m.default.createElement("div",{className:(0,h.default)(M.default.links,this.linksEnabled()&&M.default.enabled)},m.default.createElement("div",{className:M.default.link,onClick:function onClick(){e.onLinkClick("uploadSamples"),(0,k.logAnalyticsEvent)("ReviewStep_edit-samples-link_clicked",{projectId:e.props.project.id,projectName:e.props.project.name,uploadType:e.props.uploadType})}},"Edit Samples"),m.default.createElement("div",{className:M.default.divider},"|"),m.default.createElement("div",{className:M.default.link,onClick:function onClick(){e.onLinkClick("uploadMetadata"),(0,k.logAnalyticsEvent)("ReviewStep_edit-metadata-link_clicked",{projectId:e.props.project.id,projectName:e.props.project.name,uploadType:e.props.uploadType})}},"Edit Metadata"))),m.default.createElement("div",{className:M.default.tableScrollWrapper},this.renderReviewTable()))),m.default.createElement("div",{className:M.default.controls},v.includes("host_genome_free_text")&&m.default.createElement(P.default,{hostGenomes:this.props.originalHostGenomes,samples:i}),(0,g.get)("show_skip_processing_option",p)&&this.renderSkipSampleProcessingOption(),m.default.createElement(S.default,{checked:this.state.consentChecked,onChange:function onChange(){return e.setState({consentChecked:!e.state.consentChecked},function(){return(0,k.logAnalyticsEvent)("ReviewStep_consent-checkbox_checked",{consentChecked:e.state.consentChecked})})}}),!a&&m.default.createElement(E.default,{text:"Start Upload",disabled:!this.state.consentChecked,onClick:(0,k.withAnalytics)(this.uploadSamplesAndMetadata,"ReviewStep_start-upload-button_clicked",{samples:this.props.samples.length,uploadType:this.props.uploadType}),rounded:!1}),a&&m.default.createElement(T.default,{samples:i,uploadType:s,onUploadComplete:o,metadata:function processMetadataRows(e){return(0,g.flow)((0,g.keyBy)(function(e){return e.sample_name||e["Sample Name"]}),(0,g.mapValues)((0,g.omit)(["sample_name","Sample Name"])))(e)}(d.rows),project:c,skipSampleProcessing:n})))}}]),ReviewStep}(m.default.Component);D.propTypes={metadata:C.default.shape({headers:C.default.arrayOf(C.default.string),rows:C.default.arrayOf(C.default.objectOf(C.default.any))}),project:C.default.Project,samples:C.default.arrayOf(C.default.shape({host_genome_id:C.default.number.isRequired,input_file_attributes:C.default.shape({name:C.default.string,source:C.default.string,source_type:C.default.string}),name:C.default.string,project_id:C.default.oneOfType([C.default.number,C.default.string]),status:C.default.string,file_size:C.default.number,file_type:C.default.string,basespace_project_name:C.default.string,files:C.default.objectOf(C.default.instanceOf(File))})),uploadType:C.default.string.isRequired,hostGenomes:C.default.arrayOf(C.default.HostGenome),originalHostGenomes:C.default.arrayOf(C.default.HostGenome),visible:C.default.bool,onUploadStatusChange:C.default.func,onStepSelect:C.default.func,onUploadComplete:C.default.func.isRequired,admin:C.default.bool},D.contextType=v.UserContext;var I=D;t.default=I},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(26)),r=l(a(27)),o=l(a(7)),s=l(a(8)),i=l(a(10)),d=l(a(9)),c=l(a(3)),u=l(a(11)),f=l(a(2)),p=l(a(0)),m=a(17),h=l(a(127)),g=l(a(24)),v=a(20),y=a(143),b=l(a(95)),C=l(a(290)),w=l(a(500)),E=l(a(51)),S=l(a(468)),_=a(383),k=l(a(1779));function ownKeys(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(a,!0).forEach(function(t){(0,f.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var N=["name","project_id","host_genome_id","basespace_access_token","basespace_dataset_id"],x=function(e){function UploadProgressModal(){var e,t;(0,o.default)(this,UploadProgressModal);for(var a=arguments.length,l=new Array(a),s=0;s<a;s++)l[s]=arguments[s];return t=(0,i.default)(this,(e=(0,d.default)(UploadProgressModal)).call.apply(e,[this].concat(l))),(0,f.default)((0,c.default)(t),"state",{sampleUploadPercentages:{},sampleUploadStatuses:{},uploadComplete:!1,failedSampleNames:[]}),(0,f.default)((0,c.default)(t),"updateSampleUploadStatus",function(e,a){t.setState(function(t){return _objectSpread({},t,{sampleUploadStatuses:_objectSpread({},t.sampleUploadStatuses,(0,f.default)({},e,a))})})}),(0,f.default)((0,c.default)(t),"updateSampleUploadPercentage",function(e,a){t.setState(function(t){return _objectSpread({},t,{sampleUploadPercentages:_objectSpread({},t.sampleUploadPercentages,(0,f.default)({},e,a))})})}),(0,f.default)((0,c.default)(t),"addFlagsToSamples",function(e){var a=t.props.skipSampleProcessing;return e.map(function(e){return _objectSpread({},e,{do_not_process:a})})}),(0,f.default)((0,c.default)(t),"initiateUploadLocal",function(){var e=t.props,a=e.samples,l=e.metadata,n=t.addFlagsToSamples(a);(0,_.bulkUploadLocalWithMetadata)({samples:n,metadata:l,callbacks:{onCreateSamplesError:function onCreateSamplesError(e,a){console.error("onCreateSamplesError:",e);var l=(0,m.zipObject)(a,(0,m.times)((0,m.constant)("error"),a.length));t.setState(function(e){return _objectSpread({},e,{sampleUploadStatuses:_objectSpread({},e.sampleUploadStatuses,{},l)})}),t.logUploadStepError("createSamples",a.length)},onSampleUploadProgress:function onSampleUploadProgress(e,a){t.updateSampleUploadPercentage(e.name,a)},onSampleUploadError:function onSampleUploadError(e,a){console.error("onSampleUploadError:",e.name,a),t.updateSampleUploadStatus(e.name,"error"),t.logUploadStepError("sampleUpload",1)},onSampleUploadSuccess:function onSampleUploadSuccess(e){t.updateSampleUploadStatus(e.name,"success")},onMarkSampleUploadedError:function onMarkSampleUploadedError(e){console.error("onMarkSampleUploadedError:",e.name),t.updateSampleUploadStatus(e.name,"error"),t.logUploadStepError("markSampleUploaded",1)}}})}),(0,f.default)((0,c.default)(t),"initiateUpload",(0,r.default)(n.default.mark(function _callee(){var e,a,l,r,o,s,i,d,c;return n.default.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return e=t.props,a=e.onUploadComplete,l=e.uploadType,r=e.samples,o=e.metadata,s=_.bulkUploadRemote,i="bulkUploadRemote",d=r,"basespace"===l&&(s=_.bulkUploadBasespace,i="bulkUploadBasespace",d=(0,m.map)((0,m.pick)(N),d)),d=t.addFlagsToSamples(d),n.prev=6,n.next=9,s({samples:d,metadata:o});case 9:c=n.sent,n.next=18;break;case 12:return n.prev=12,n.t0=n.catch(6),console.error("".concat(i," error:"),n.t0),t.setState({uploadComplete:!0,failedSampleNames:(0,m.map)("name",r)}),t.logUploadFailed(r.length,0),n.abrupt("return");case 18:t.setState({uploadComplete:!0,failedSampleNames:c.errored_sample_names||[]}),a(),c.errors.length>0?t.logUploadFailed(c.errored_sample_names.length,c.sample_ids.length):t.logUploadSucceeded(c.sample_ids.length);case 21:case"end":return n.stop()}},_callee,null,[[6,12]])}))),(0,f.default)((0,c.default)(t),"logUploadStepError",function(e,a){var l=t.props.uploadType;(0,v.logAnalyticsEvent)("UploadProgressModal_upload-step_error",{erroredSamples:a,step:e,uploadType:l})}),(0,f.default)((0,c.default)(t),"logUploadFailed",function(e,a){var l=t.props.uploadType;(0,v.logAnalyticsEvent)("UploadProgressModal_upload_failed",{erroredSamples:e,createdSamples:a,uploadType:l})}),(0,f.default)((0,c.default)(t),"logUploadSucceeded",function(e){var a=t.props.uploadType;(0,v.logAnalyticsEvent)("UploadProgressModal_upload_succeeded",{createdSamples:e,uploadType:a})}),(0,f.default)((0,c.default)(t),"getSampleUploadPercentage",function(e){return t.state.sampleUploadPercentages[e.name]}),(0,f.default)((0,c.default)(t),"getSampleTotalSize",function(e){return(0,m.sum)((0,m.map)(function(e){return e.size},e.files))}),(0,f.default)((0,c.default)(t),"getNumFailedSamples",function(){var e=t.props.uploadType,a=t.state,l=a.sampleUploadStatuses,n=a.failedSampleNames;return"local"===e?(0,m.size)((0,m.pickBy)(function(e){return"error"===e},l)):n.length}),(0,f.default)((0,c.default)(t),"someLocalSamplesInProgress",function(){var e=t.props.samples,a=t.state.sampleUploadStatuses;return(0,m.some)(function(e){return void 0===a[e.name]},e)}),(0,f.default)((0,c.default)(t),"someLocalSamplesFailed",function(){var e=t.props.samples,a=t.state.sampleUploadStatuses;return(0,m.some)(function(e){return"error"===a[e.name]},e)}),(0,f.default)((0,c.default)(t),"renderSampleStatus",function(e){var a=t.state.sampleUploadStatuses;if("error"===a[e.name])return p.default.createElement(p.default.Fragment,null,p.default.createElement(b.default,{className:k.default.alertIcon}),"Upload failed");if("success"===a[e.name])return p.default.createElement(p.default.Fragment,null,p.default.createElement(C.default,{className:k.default.checkmarkIcon}),"Uploaded and sent to pipeline");var l=t.getSampleUploadPercentage(e);if(void 0===l)return"Waiting to upload...";var n=t.getSampleTotalSize(e);return"Uploaded ".concat((0,y.formatFileSize)(n*l)," of ").concat((0,y.formatFileSize)(n))}),(0,f.default)((0,c.default)(t),"renderFailedSamplesTitle",function(){var e=t.getNumFailedSamples();return p.default.createElement(p.default.Fragment,null,p.default.createElement("div",{className:k.default.titleWithIcon},p.default.createElement(b.default,{className:k.default.alertIcon}),e," sample",1===e?"":"s"," failed to upload"),p.default.createElement("div",{className:k.default.subtitle},p.default.createElement("a",{className:k.default.helpLink,href:"mailto:help@idseq.net",onClick:function onClick(){return(0,v.logAnalyticsEvent)("UploadProgressModal_contact-us-link_clicked")}},"Contact us for help")))}),(0,f.default)((0,c.default)(t),"renderTitle",function(){var e=t.props,a=e.samples,l=e.project,n=e.uploadType,r=t.state,o=r.uploadComplete,s=r.failedSampleNames;return"remote"===n||"basespace"===n?o?s.length>0?t.renderFailedSamplesTitle():p.default.createElement(p.default.Fragment,null,p.default.createElement("div",{className:k.default.titleWithIcon},p.default.createElement(C.default,{className:k.default.checkmarkIcon}),a.length," samples successfully created"),p.default.createElement("div",{className:k.default.instructions},"We have started uploading your sample files from"," ","basespace"===n?"Basespace":"S3",". After the upload is complete, your samples will automatically start processing.")):p.default.createElement(p.default.Fragment,null,p.default.createElement("div",{className:k.default.title},"Creating ",a.length," sample",1!==a.length&&"s"," in"," ",l.name),p.default.createElement("div",{className:k.default.subtitle},"Please stay on this page")):t.someLocalSamplesInProgress()?p.default.createElement(p.default.Fragment,null,p.default.createElement("div",{className:k.default.title},"Uploading ",a.length," sample",1!==a.length&&"s"," to"," ",l.name),p.default.createElement("div",{className:k.default.subtitle},"Please stay on this page until your upload completes")):t.someLocalSamplesFailed()?t.renderFailedSamplesTitle():p.default.createElement("div",{className:k.default.titleWithIcon},p.default.createElement(C.default,{className:k.default.checkmarkIcon}),"All samples uploaded successfully")}),(0,f.default)((0,c.default)(t),"renderSampleLoadingBar",function(e){var a=t.getSampleUploadPercentage(e);return p.default.createElement(S.default,{percentage:a})}),(0,f.default)((0,c.default)(t),"renderViewProjectButton",function(){var e=t.props.project;return t.state.uploadComplete?p.default.createElement("a",{className:k.default.link,href:"/home?project_id=".concat(e.id)},p.default.createElement(E.default,{text:"Go to Project",rounded:!1,onClick:function onClick(){return(0,v.logAnalyticsEvent)("UploadProgressModal_to-project-button_clicked",{projectId:e.id,projectName:e.name})}})):null}),t}return(0,u.default)(UploadProgressModal,e),(0,s.default)(UploadProgressModal,[{key:"componentDidUpdate",value:function componentDidUpdate(){var e=this.props,t=e.samples,a=e.onUploadComplete,l=e.uploadType,n=this.state,r=n.uploadComplete,o=n.sampleUploadStatuses;if("local"===l&&!r&&!this.someLocalSamplesInProgress())if(a(),this.setState({uploadComplete:!0}),this.someLocalSamplesFailed()){var s=(0,m.filter)(function(e){return"error"===o[e.name]},t);this.logUploadFailed(s.length,t.length-s.length)}else this.logUploadSucceeded(t.length)}},{key:"componentDidMount",value:function componentDidMount(){"local"===this.props.uploadType?this.initiateUploadLocal():this.initiateUpload()}},{key:"render",value:function render(){var e=this,t=this.props,a=t.samples,l=t.uploadType,n=this.state.failedSampleNames;return p.default.createElement(h.default,{open:!0,tall:!0,narrow:!0,className:k.default.uploadProgressModal},p.default.createElement("div",{className:k.default.header},p.default.createElement(w.default,{className:k.default.uploadIcon}),this.renderTitle()),"local"===l&&p.default.createElement("div",{className:k.default.sampleList},a.map(function(t){return p.default.createElement("div",{key:t.name,className:k.default.sample},p.default.createElement("div",{className:k.default.sampleHeader},p.default.createElement("div",{className:k.default.sampleName},t.name),p.default.createElement("div",{className:k.default.fill}),p.default.createElement("div",{className:k.default.sampleStatus},e.renderSampleStatus(t))),e.renderSampleLoadingBar(t))})),n.length>0&&p.default.createElement("div",{className:k.default.failedSamples},"Failed samples:"," ",(0,m.take)(3,n).join(", "),n.length>3&&p.default.createElement("span",null,",and"," ",n.length-3," more.")),p.default.createElement("div",{className:k.default.footer},this.renderViewProjectButton()))}}]),UploadProgressModal}(p.default.Component);t.default=x,x.propTypes={samples:g.default.arrayOf(g.default.shape({host_genome_id:g.default.number.isRequired,input_file_attributes:g.default.shape({name:g.default.string,source:g.default.string,source_type:g.default.string}),name:g.default.string,project_id:g.default.oneOfType([g.default.number,g.default.string]),status:g.default.string,file_size:g.default.number,file_type:g.default.string,basespace_project_name:g.default.string,files:g.default.objectOf(g.default.instanceOf(File))})),metadata:g.default.objectOf(g.default.any),onUploadComplete:g.default.func.isRequired,uploadType:g.default.string.isRequired,project:g.default.Project,skipSampleProcessing:g.default.bool}},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(3)),d=l(a(11)),c=l(a(2)),u=l(a(0)),f=l(a(4)),p=a(17),m=l(a(896)),h=l(a(59)),g=l(a(24)),v=l(a(904)),y=l(a(893)),b=l(a(161)),C=l(a(905));function ownKeys(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}var w=["host_genome","Host Genome","host_organism","Host Organism"],E=function(e){function SampleUploadFlow(){var e,t;(0,n.default)(this,SampleUploadFlow);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return t=(0,o.default)(this,(e=(0,s.default)(SampleUploadFlow)).call.apply(e,[this].concat(l))),(0,c.default)((0,i.default)(t),"state",{currentStep:"uploadSamples",samples:null,uploadType:"",project:null,sampleNamesToFiles:null,metadata:null,metadataIssues:null,stepsEnabled:{uploadSamples:!0,uploadMetadata:!1,review:!1},hostGenomes:[]}),(0,c.default)((0,i.default)(t),"onUploadComplete",function(){window.onbeforeunload=null}),(0,c.default)((0,i.default)(t),"handleUploadSamples",function(e){var a=e.samples,l=e.project,n=e.uploadType,r=e.sampleNamesToFiles;t.setState({samples:a,project:l,uploadType:n,sampleNamesToFiles:r,currentStep:"uploadMetadata",stepsEnabled:(0,p.set)("uploadMetadata",!0,t.state.stepsEnabled)})}),(0,c.default)((0,i.default)(t),"handleUploadMetadata",function(e){var a=e.metadata,l=e.issues,n=e.newHostGenomes,r=t.props.hostGenomes.concat(n),o=t.state.samples.map(function(e){var t=(0,p.find)(function(t){return(0,p.get)("sample_name",t)===e.name||(0,p.get)("Sample Name",t)===e.name},a.rows),l=w.reduce(function(e,a){return t[a]||e},null),n=(0,p.find)(function(e){return e.name.toLowerCase()===l.toLowerCase()},r).id;return function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(a,!0).forEach(function(t){(0,c.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e,{host_genome_id:n,host_genome_name:l})}),s=(0,p.flow)((0,p.set)("rows",a.rows.map((0,p.omit)(w))),(0,p.set)("headers",(0,p.without)(w,a.headers)))(a);t.setState({samples:o,metadata:s,metadataIssues:l,currentStep:"review",stepsEnabled:(0,p.set)("review",!0,t.state.stepsEnabled),hostGenomes:r})}),(0,c.default)((0,i.default)(t),"samplesChanged",function(){t.setState({stepsEnabled:{uploadSamples:!0,uploadMetadata:!1,review:!1}})}),(0,c.default)((0,i.default)(t),"metadataChanged",function(){t.setState({stepsEnabled:{uploadSamples:!0,uploadMetadata:!0,review:!1}})}),(0,c.default)((0,i.default)(t),"handleStepSelect",function(e){t.setState({currentStep:e})}),(0,c.default)((0,i.default)(t),"renderSteps",function(){return u.default.createElement("div",null,u.default.createElement(m.default,{onDirty:t.samplesChanged,onUploadSamples:t.handleUploadSamples,visible:"uploadSamples"===t.state.currentStep,basespaceClientId:t.props.basespaceClientId,basespaceOauthRedirectUri:t.props.basespaceOauthRedirectUri,admin:t.props.admin,biohubS3UploadEnabled:t.props.biohubS3UploadEnabled}),t.state.samples&&u.default.createElement(v.default,{onUploadMetadata:t.handleUploadMetadata,samples:t.state.samples,project:t.state.project,visible:"uploadMetadata"===t.state.currentStep,onDirty:t.metadataChanged}),t.state.samples&&t.state.metadata&&u.default.createElement(y.default,{metadata:t.state.metadata,samples:t.state.samples,uploadType:t.state.uploadType,project:t.state.project,sampleNamesToFiles:t.state.sampleNamesToFiles,hostGenomes:t.state.hostGenomes,originalHostGenomes:t.props.hostGenomes,visible:"review"===t.state.currentStep,onUploadStatusChange:t.onUploadStatusChange,onStepSelect:t.handleStepSelect,onUploadComplete:t.onUploadComplete}))}),(0,c.default)((0,i.default)(t),"onUploadStatusChange",function(e){t.setState({stepsEnabled:{uploadSamples:!e,uploadMetadata:!e,review:!e}})}),t}return(0,d.default)(SampleUploadFlow,e),(0,r.default)(SampleUploadFlow,[{key:"componentDidMount",value:function componentDidMount(){window.onbeforeunload=function(){return"Are you sure you want to leave? All data will be lost."}}},{key:"render",value:function render(){return u.default.createElement("div",null,u.default.createElement(C.default,{currentStep:this.state.currentStep,samples:this.state.samples,project:this.state.project,onStepSelect:this.handleStepSelect,stepsEnabled:this.state.stepsEnabled}),u.default.createElement(h.default,{className:(0,f.default)(b.default.sampleUploadFlow)},u.default.createElement("div",{className:b.default.inner},this.renderSteps())))}}]),SampleUploadFlow}(u.default.Component);E.propTypes={csrf:g.default.string,hostGenomes:g.default.arrayOf(g.default.HostGenome),admin:g.default.bool,biohubS3UploadEnabled:g.default.bool,basespaceClientId:g.default.string.isRequired,basespaceOauthRedirectUri:g.default.string.isRequired};var S=E;t.default=S},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(32)),r=l(a(26)),o=l(a(27)),s=l(a(7)),i=l(a(8)),d=l(a(10)),c=l(a(9)),u=l(a(3)),f=l(a(11)),p=l(a(2)),m=l(a(0)),h=l(a(4)),g=l(a(210)),v=a(17),y=l(a(24)),b=l(a(813)),C=l(a(97)),w=l(a(289)),E=a(42),S=a(20),_=l(a(811)),k=l(a(51)),N=l(a(88)),x=l(a(891)),M=l(a(892)),T=l(a(890)),P=l(a(161)),D=l(a(897)),I=a(221),j=a(244);function ownKeys(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(a,!0).forEach(function(t){(0,p.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var L="local",O="remote",R="basespace",A="Upload from Your Computer",F="Upload from S3",V="Upload from Basespace",U="UploadSampleStep_sample_changed",z=function(e){function UploadSampleStep(){var e,t;(0,s.default)(this,UploadSampleStep);for(var a=arguments.length,l=new Array(a),i=0;i<a;i++)l[i]=arguments[i];return t=(0,d.default)(this,(e=(0,c.default)(UploadSampleStep)).call.apply(e,[this].concat(l))),(0,p.default)((0,u.default)(t),"state",{selectedProject:null,createProjectOpen:!1,projects:[],currentTab:L,localSamples:[],remoteSamples:[],basespaceSamples:[],localSelectedSampleIds:new Set,remoteSelectedSampleIds:new Set,basespaceSelectedSampleIds:new Set,basespaceAccessToken:null,removedLocalFiles:[],validatingSamples:!1,showNoProjectError:!1}),(0,p.default)((0,u.default)(t),"handleBasespaceOAuthMessageEvent",function(){var e=(0,o.default)(r.default.mark(function _callee(e){var a,l,n,o;return r.default.wrap(function _callee$(r){for(;;)switch(r.prev=r.next){case 0:a=t.state.selectedProject,l=t.getSelectedSamples("basespace"),e.source===t._window&&e.origin===window.location.origin&&e.data.basespaceAccessToken&&(n=e.data.basespaceAccessToken,o=(0,v.map)(function(e){return _objectSpread({},e,{basespace_access_token:n})},l),t.props.onUploadSamples({samples:o,project:a,uploadType:"basespace"}));case 3:case"end":return r.stop()}},_callee)}));return function(t){return e.apply(this,arguments)}}()),(0,p.default)((0,u.default)(t),"requestBasespaceReadProjectPermissions",function(){var e=t.getSelectedSamples("basespace"),a=t.props,l=a.basespaceOauthRedirectUri,n=a.basespaceClientId,r=(0,v.uniq)((0,v.map)("basespace_project_id",e)),o=(0,v.map)(function(e){return",read+project+".concat(e)},r).join("");t._window=(0,I.openBasespaceOAuthPopup)({client_id:n,redirect_uri:l,scope:"browse+global".concat(o)})}),(0,p.default)((0,u.default)(t),"handleBasespaceAccessTokenChange",function(e){t.setState({basespaceAccessToken:e})}),(0,p.default)((0,u.default)(t),"getUploadTabs",function(){var e=t.props,a=e.admin,l=e.biohubS3UploadEnabled;return(0,v.compact)([{value:L,label:A},(a||l)&&{value:O,label:F},{value:R,label:V}])}),(0,p.default)((0,u.default)(t),"handleTabChange",function(e){t.props.onDirty(),t.setState({currentTab:e}),(0,S.logAnalyticsEvent)("UploadSampleStep_tab_changed",{tab:e})}),(0,p.default)((0,u.default)(t),"updateSamplesForNewProject",function(){var e=(0,o.default)(r.default.mark(function _callee2(e){var a,l,n,o;return r.default.wrap(function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:return a=e.samples,l=e.project,r.next=3,t.validateSampleNames({samples:a,project:l});case 3:return n=r.sent,o=n.samples,r.abrupt("return",{samples:(0,v.map)((0,v.set)("project_id",(0,v.get)("id",l)),o)});case 6:case"end":return r.stop()}},_callee2)}));return function(t){return e.apply(this,arguments)}}()),(0,p.default)((0,u.default)(t),"handleProjectCreate",function(){var e=(0,o.default)(r.default.mark(function _callee3(e){var a,l,o,s,i;return r.default.wrap(function _callee3$(r){for(;;)switch(r.prev=r.next){case 0:return t.props.onDirty(),t.setState({validatingSamples:!0,showNoProjectError:!1}),r.next=4,Promise.all([t.updateSamplesForNewProject({samples:t.state.localSamples,project:e}),t.updateSamplesForNewProject({samples:t.state.remoteSamples,project:e}),t.updateSamplesForNewProject({samples:t.state.basespaceSamples,project:e})]);case 4:a=r.sent,l=(0,n.default)(a,3),o=l[0].samples,s=l[1].samples,i=l[2].samples,t.setState({validatingSamples:!1,projects:(0,v.concat)(e,t.state.projects),selectedProject:e,createProjectOpen:!1,localSamples:o,remoteSamples:s,basespaceSamples:i}),(0,S.logAnalyticsEvent)("UploadSampleStep_project_created",_objectSpread({localSamples:o.length,remoteSamples:s.length,basespaceSamples:i.length},t.getAnalyticsContext()));case 11:case"end":return r.stop()}},_callee3)}));return function(t){return e.apply(this,arguments)}}()),(0,p.default)((0,u.default)(t),"handleProjectChange",function(){var e=(0,o.default)(r.default.mark(function _callee4(e){var a,l,o,s,i;return r.default.wrap(function _callee4$(r){for(;;)switch(r.prev=r.next){case 0:return t.props.onDirty(),t.setState({validatingSamples:!0,showNoProjectError:!1}),r.next=4,Promise.all([t.updateSamplesForNewProject({samples:t.state.localSamples,project:e}),t.updateSamplesForNewProject({samples:t.state.remoteSamples,project:e}),t.updateSamplesForNewProject({samples:t.state.basespaceSamples,project:e})]);case 4:a=r.sent,l=(0,n.default)(a,3),o=l[0].samples,s=l[1].samples,i=l[2].samples,t.setState({selectedProject:e,validatingSamples:!1,localSamples:o,remoteSamples:s,basespaceSamples:i}),(0,S.logAnalyticsEvent)("UploadSampleStep_project-selector_changed",_objectSpread({localSamples:o.length,remoteSamples:s.length,basespaceSamples:i.length},t.getAnalyticsContext()));case 11:case"end":return r.stop()}},_callee4)}));return function(t){return e.apply(this,arguments)}}()),(0,p.default)((0,u.default)(t),"handleNoProject",function(){t.setState({showNoProjectError:!0})}),(0,p.default)((0,u.default)(t),"openCreateProject",function(){t.setState({createProjectOpen:!0})}),(0,p.default)((0,u.default)(t),"closeCreateProject",function(){t.setState({createProjectOpen:!1})}),(0,p.default)((0,u.default)(t),"getSelectedSampleIdsKey",function(e){return"".concat(e,"SelectedSampleIds")}),(0,p.default)((0,u.default)(t),"getSamplesKey",function(e){return"".concat(e,"Samples")}),(0,p.default)((0,u.default)(t),"getSelectedSampleIds",function(e){return t.state[t.getSelectedSampleIdsKey(e)]}),(0,p.default)((0,u.default)(t),"getSelectedSamples",function(e){var a=t.getSelectedSampleIds(e),l=t.getSamplesKey(e);return(0,v.filter)(function(e){return a.has(e._selectId)},t.state[l])}),(0,p.default)((0,u.default)(t),"getSampleDataForUploadTable",function(e){if("basespace"===e)return t.state.basespaceSamples;if("remote"===e||"local"===e){var a=t.getSamplesKey(e);return t.state[a].map(function(e){return _objectSpread({},(0,v.pick)(["name",j.SELECT_ID_KEY],e),{file_names:(0,v.map)(function(e){return e.name||e.source},e.input_files_attributes).sort()})})}}),(0,p.default)((0,u.default)(t),"addSelectIdToSamples",function(e){return(0,v.map)(function(e){return(0,v.set)(j.SELECT_ID_KEY,(0,v.uniqueId)(),e)},e)}),(0,p.default)((0,u.default)(t),"mergeSamples",function(e,t){var a=(0,v.keyBy)("name",e),l=(0,v.keyBy)("name",t),n=(0,v.mergeWith)(function(e,t){if(t&&e)return(0,v.flow)((0,v.set)("input_files_attributes",(0,v.uniqBy)("source",(0,v.concat)(e.input_files_attributes,t.input_files_attributes))),(0,v.set)("files",_objectSpread({},e.files,{},t.files)))(t)},l,a);return(0,v.values)(n)}),(0,p.default)((0,u.default)(t),"validateSampleNames",function(){var e=(0,o.default)(r.default.mark(function _callee5(e){var a,l,n,o,s;return r.default.wrap(function _callee5$(r){for(;;)switch(r.prev=r.next){case 0:if(a=e.samples,l=e.project,(n=l||t.state.selectedProject)&&!((0,v.size)(a)<=0)){r.next=4;break}return r.abrupt("return",{samples:a});case 4:return r.next=6,(0,E.validateSampleNames)((0,v.get)("id",n),(0,v.map)("name",a));case 6:return o=r.sent,s=(0,v.zipObject)((0,v.map)("name",a),o),r.abrupt("return",{samples:a.map(function(e){return _objectSpread({},e,{name:s[e.name]})})});case 9:case"end":return r.stop()}},_callee5)}));return function(t){return e.apply(this,arguments)}}()),(0,p.default)((0,u.default)(t),"validateAddedSamples",function(){var e=(0,o.default)(r.default.mark(function _callee6(e,a){var l,o,s,i,d,c,u;return r.default.wrap(function _callee6$(r){for(;;)switch(r.prev=r.next){case 0:if("local"===a){r.next=2;break}return r.abrupt("return",t.validateSampleNames({samples:e}));case 2:if(!((0,v.size)(e)<=0)){r.next=4;break}return r.abrupt("return",{samples:e,removedLocalFiles:[]});case 4:return l=(0,v.flatten)((0,v.map)(function(e){return(0,v.keys)(e.files)},e)),r.next=7,Promise.all([t.validateSampleNames({samples:e}),(0,E.validateSampleFiles)(l)]);case 7:return o=r.sent,s=(0,n.default)(o,2),i=s[0].samples,d=s[1],c=(0,v.zipObject)(l,d),i=(i=i.map(function(e){return(0,v.set)("files",(0,v.pickBy)(function(e,t){return c[t]},e.files),e)})).map(function(e){return(0,v.set)("input_files_attributes",(0,v.filter)(function(e){return c[e.source]},e.input_files_attributes),e)}),u=(0,v.filter)(function(e){return(0,v.size)(e.files)>0},i),r.abrupt("return",{samples:u,removedLocalFiles:(0,v.keys)((0,v.pickBy)(function(e){return!e},c))});case 16:case"end":return r.stop()}},_callee6)}));return function(t,a){return e.apply(this,arguments)}}()),(0,p.default)((0,u.default)(t),"handleSampleSelect",function(e,a,l){t.props.onDirty();var n=t.getSelectedSampleIdsKey(l),r=t.state[n];a?r.add(e):r.delete(e),t.setState((0,p.default)({},n,r))}),(0,p.default)((0,u.default)(t),"handleAllSamplesSelect",function(e,a){t.props.onDirty();var l=t.getSelectedSampleIdsKey(a),n=t.getSamplesKey(a);t.setState((0,p.default)({},l,e?new Set((0,v.map)(j.SELECT_ID_KEY,t.state[n])):new Set))}),(0,p.default)((0,u.default)(t),"handleSamplesAdd",function(){var e=(0,o.default)(r.default.mark(function _callee7(e,a){var l,n,o,s,i,d,c,u,f,m,h;return r.default.wrap(function _callee7$(r){for(;;)switch(r.prev=r.next){case 0:return t.props.onDirty(),n=t.getSamplesKey(a),o=t.getSelectedSampleIdsKey(a),t.setState(_objectSpread({validatingSamples:!0},"local"===a?{removedLocalFiles:[]}:{})),s=t.addSelectIdToSamples(e),r.next=7,t.validateAddedSamples(s,a);case 7:i=r.sent,d=i.samples,c=i.removedLocalFiles,u=t.mergeSamples(t.state[n],d),f=(0,v.map)(j.SELECT_ID_KEY,u),m=(0,v.intersection)((0,v.map)(j.SELECT_ID_KEY,d),f),h=new Set((0,v.union)(Array.from(t.state[o]),m)),t.setState(_objectSpread((l={validatingSamples:!1},(0,p.default)(l,n,u),(0,p.default)(l,o,h),l),"local"===a?{removedLocalFiles:c}:{})),(0,S.logAnalyticsEvent)(U,_objectSpread({newSamples:d.length,totalSamples:u.length,sampleType:a},"local"===a?{removedLocalFiles:c.length}:{},{},t.getAnalyticsContext()));case 16:case"end":return r.stop()}},_callee7)}));return function(t,a){return e.apply(this,arguments)}}()),(0,p.default)((0,u.default)(t),"handleSamplesRemove",function(e,a){var l;t.props.onDirty();var n=t.getSamplesKey(a),r=t.getSelectedSampleIdsKey(a),o=(0,v.reject)(function(t){return(0,v.includes)(t[j.SELECT_ID_KEY],e)},t.state[n]),s=new Set((0,v.difference)(Array.from(t.getSelectedSampleIds(a)),e)),i=(l={},(0,p.default)(l,n,o),(0,p.default)(l,r,s),l);t.setState(i),(0,S.logAnalyticsEvent)("UploadSampleStep_samples_removed",_objectSpread({sampleNames:e.length,sampleType:t.state.currentTab},t.getAnalyticsContext()))}),(0,p.default)((0,u.default)(t),"handleContinue",function(){var e=t.state,a=e.currentTab,l=e.selectedProject;t.state.currentTab===R?t.requestBasespaceReadProjectPermissions():t.props.onUploadSamples({samples:t.getSelectedSamples(a),project:l,uploadType:a}),(0,S.logAnalyticsEvent)("UploadSampleStep_continue-button_clicked",_objectSpread({localSamples:t.state.localSamples.length,remoteSamples:t.state.remoteSamples.length,basespaceSamples:t.state.basespaceSamples.length,currentTab:t.state.currentTab},t.getAnalyticsContext()))}),(0,p.default)((0,u.default)(t),"isValid",function(){return null!==t.state.selectedProject&&(0,v.size)(t.getSelectedSamples(t.state.currentTab))>0&&!t.state.validatingSamples}),(0,p.default)((0,u.default)(t),"getAnalyticsContext",function(){var e=t.state.selectedProject;return{projectId:e&&e.id,projectName:e&&e.name}}),(0,p.default)((0,u.default)(t),"renderTab",function(){var e=t.state,a=e.basespaceAccessToken,l=e.currentTab,n=e.selectedProject;switch(l){case L:return m.default.createElement(x.default,{onChange:function onChange(e){return t.handleSamplesAdd(e,"local")},project:n,samples:t.getSelectedSamples("local"),hasSamplesLoaded:(0,v.size)(t.state.localSamples)>0});case O:return m.default.createElement(M.default,{project:n,onChange:function onChange(e){return t.handleSamplesAdd(e,"remote")},onNoProject:t.handleNoProject});case R:return m.default.createElement(T.default,{project:n,onChange:function onChange(e){return t.handleSamplesAdd(e,"basespace")},accessToken:a,onAccessTokenChange:t.handleBasespaceAccessTokenChange,basespaceClientId:t.props.basespaceClientId,basespaceOauthRedirectUri:t.props.basespaceOauthRedirectUri,onNoProject:t.handleNoProject});default:return m.default.createElement("div",null)}}),t}return(0,f.default)(UploadSampleStep,e),(0,i.default)(UploadSampleStep,[{key:"componentDidMount",value:function(){var e=(0,o.default)(r.default.mark(function _callee8(){var e,t,a,l,n;return r.default.wrap(function _callee8$(r){for(;;)switch(r.prev=r.next){case 0:return window.addEventListener("message",this.handleBasespaceOAuthMessageEvent),r.next=3,(0,E.getProjects)({domain:"updatable",basic:!0});case 3:e=r.sent,t=(e||{}).projects,this.setState({projects:t}),a=g.default.parse(location.search,{arrayFormat:"bracket"}),(l=parseInt(a.projectId))&&!this.state.selectedProject&&(n=(0,v.find)(["id",l],t))&&this.handleProjectChange(n),window.history.replaceState({},document.title,location.pathname);case 10:case"end":return r.stop()}},_callee8,this)}));return function componentDidMount(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function componentWillUnmount(){window.removeEventListener("message",this.handleBasespaceOAuthMessageEvent)}},{key:"render",value:function render(){var e=this,t=this.state.currentTab,a=t===R&&this.isValid();return m.default.createElement("div",{className:(0,h.default)(P.default.uploadSampleStep,P.default.uploadFlowStep,this.props.visible&&P.default.visible)},m.default.createElement("div",{className:P.default.flexContent},m.default.createElement("div",{className:P.default.projectSelect},m.default.createElement("div",{className:P.default.header,role:"heading"},"Select Project"),m.default.createElement("div",{className:P.default.label},"Project"),m.default.createElement(b.default,{projects:this.state.projects,value:(0,v.get)("id",this.state.selectedProject),onChange:this.handleProjectChange,disabled:this.state.createProjectOpen,erred:this.state.showNoProjectError&&null===this.state.selectedProject}),this.state.createProjectOpen?m.default.createElement("div",{className:P.default.projectCreationContainer},m.default.createElement(_.default,{onCancel:(0,S.withAnalytics)(this.closeCreateProject,"UploadSampleStep_project-creation-form_closed"),onCreate:this.handleProjectCreate})):m.default.createElement("div",{className:P.default.createProjectButton,onClick:(0,S.withAnalytics)(this.openCreateProject,"UploadSampleStep_create-project_opened")},"+ Create Project")),m.default.createElement("div",{className:P.default.fileUpload},m.default.createElement("div",{className:P.default.title},"Upload Files"),m.default.createElement(C.default,{className:P.default.tabs,tabs:this.getUploadTabs(),value:this.state.currentTab,onChange:this.handleTabChange}),this.renderTab()),this.state.currentTab===L&&this.state.removedLocalFiles.length>0&&m.default.createElement(w.default,{caption:"".concat(this.state.removedLocalFiles.length,' files were invalid. Please check the acceptable file formats under "More Info".'),headers:["Invalid File Names"],rows:this.state.removedLocalFiles.map(function(e){return[e]}),type:"warning"}),m.default.createElement(D.default,{samples:this.getSampleDataForUploadTable(t),onSamplesRemove:function onSamplesRemove(a){return e.handleSamplesRemove(a,t)},onSampleSelect:function onSampleSelect(a,l){return e.handleSampleSelect(a,l,t)},onAllSamplesSelect:function onAllSamplesSelect(a){return e.handleAllSamplesSelect(a,t)},selectedSampleIds:this.getSelectedSampleIds(t),sampleUploadType:t})),m.default.createElement("div",{className:P.default.controls},a&&m.default.createElement("div",{className:P.default.helpText},"Please authorize IDseq to fetch your selected samples from Basespace."),m.default.createElement(k.default,{text:a?"Authorize":"Continue",onClick:this.handleContinue,disabled:!this.isValid(),rounded:!1,className:P.default.continueButton}),m.default.createElement("a",{href:"/home"},m.default.createElement(N.default,{text:"Cancel",rounded:!1,onClick:function onClick(){return(0,S.logAnalyticsEvent)("UploadSampleStep_cancel-button_clicked",_objectSpread({},e.getAnalyticsContext()))}}))))}}]),UploadSampleStep}(m.default.Component);z.propTypes={onUploadSamples:y.default.func.isRequired,onDirty:y.default.func.isRequired,visible:y.default.bool,admin:y.default.bool,biohubS3UploadEnabled:y.default.bool,basespaceClientId:y.default.string.isRequired,basespaceOauthRedirectUri:y.default.string.isRequired};var B=z;t.default=B},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(3)),d=l(a(11)),c=l(a(2)),u=l(a(0)),f=a(17),p=a(190),m=l(a(24)),h=a(143),g=a(326),v=a(244),y=l(a(903)),b=l(a(1810)),C={dataKey:"name",width:500,label:"Sample Name",className:b.default.cell,headerClassName:b.default.header},w={dataKey:"basespace_project_name",flexGrow:1,width:400,label:"Basespace Project",className:b.default.cell,headerClassName:b.default.header},E={dataKey:"file_size",flexGrow:1,width:100,label:"File Size",className:b.default.cell,headerClassName:b.default.header,cellRenderer:function cellRenderer(e){var t=e.cellData;return(0,h.formatFileSize)(t)}},S={dataKey:"file_type",flexGrow:1,width:200,label:"File Type",className:b.default.cell,headerClassName:b.default.header},_={dataKey:"file_names",flexGrow:1,width:100,label:"Files",className:b.default.cell,headerClassName:b.default.header,cellRenderer:y.default.renderFileNames},k=function(e){function SampleUploadTable(){var e,t;(0,n.default)(this,SampleUploadTable);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return t=(0,o.default)(this,(e=(0,s.default)(SampleUploadTable)).call.apply(e,[this].concat(l))),(0,c.default)((0,i.default)(t),"getColumns",function(){var e=t.props.sampleUploadType;return"basespace"===e?[C,w,E,S]:"remote"===e||"local"===e?[C,_]:void 0}),(0,c.default)((0,i.default)(t),"removeUnselectedSamples",function(){var e=t.props,a=e.samples,l=e.onSamplesRemove,n=e.selectedSampleIds;l((0,f.difference)((0,f.map)(v.SELECT_ID_KEY,a),Array.from(n)))}),(0,c.default)((0,i.default)(t),"onRowClick",function(e){var a=e.rowData,l=t.props,n=l.onSampleSelect,r=l.selectedSampleIds,o=a._selectId;n(o,!r.has(o))}),(0,c.default)((0,i.default)(t),"hasPairedSample",function(){var e=t.props.samples;return(0,f.some)(function(e){return(0,f.size)(e.file_names)>1},e)}),t}return(0,d.default)(SampleUploadTable,e),(0,r.default)(SampleUploadTable,[{key:"render",value:function render(){var e=this.props,t=e.samples,a=e.onSampleSelect,l=e.onAllSamplesSelect,n=e.selectedSampleIds;return(0,f.isEmpty)(t)?null:u.default.createElement("div",{className:b.default.sampleUploadTable},u.default.createElement("div",{className:b.default.detectedMsg},u.default.createElement("span",{className:b.default.count},(0,f.size)(n)," of ",(0,f.size)(t)," samples selected."),"Select samples that you want to upload. ",u.default.createElement("span",{className:b.default.removeLink,onClick:this.removeUnselectedSamples},"Click to remove unselected samples")),u.default.createElement(g.Table,{className:b.default.table,columns:this.getColumns(),data:t,defaultRowHeight:this.hasPairedSample()?75:40,sortable:!0,selectableKey:"_selectId",onSelectRow:a,onSelectAllRows:l,selected:n,onRowClick:this.onRowClick,defaultSortBy:"name",defaultSortDirection:p.SortDirection.ASC}))}}]),SampleUploadTable}(u.default.Component);t.default=k,k.propTypes={samples:m.default.arrayOf(m.default.shape({name:m.default.string,file_size:m.default.number,file_type:m.default.string,file_names:m.default.arrayOf(m.default.string),basespace_project_name:m.default.string,_selectId:m.default.string})),selectedSampleIds:m.default.instanceOf(Set),onSamplesRemove:m.default.func.isRequired,onSampleSelect:m.default.func.isRequired,onAllSamplesSelect:m.default.func.isRequired,sampleUploadType:m.default.SampleUploadType.isRequired}},,,,,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(5)),r=l(a(47)),o=l(a(7)),s=l(a(8)),i=l(a(10)),d=l(a(9)),c=l(a(3)),u=l(a(11)),f=l(a(2)),p=l(a(0)),m=l(a(1)),h=a(17),g=a(190),v=l(a(504)),y=function(e){function Table(e){var t;return(0,o.default)(this,Table),t=(0,i.default)(this,(0,d.default)(Table).call(this,e)),(0,f.default)((0,c.default)(t),"handleSort",function(e){var a=e.sortBy,l=e.sortDirection;t.setState({sortBy:a,sortDirection:l})}),(0,f.default)((0,c.default)(t),"handleGetRow",function(e){var a=e.index;return t.sortedData[a]}),(0,f.default)((0,c.default)(t),"isSelectAllChecked",function(){var e=t.props,a=e.data,l=e.selectableKey,n=e.selected;return!(!l||!n)&&(!(0,h.isEmpty)(a)&&(0,h.isEmpty)((0,h.difference)((0,h.map)(l,a),Array.from(n))))}),t.state={sortBy:t.props.defaultSortBy,sortDirection:t.props.defaultSortDirection||g.SortDirection.ASC},t}return(0,u.default)(Table,e),(0,s.default)(Table,[{key:"render",value:function render(){var e=this.props,t=e.columns,a=e.data,l=e.onSelectRow,o=e.onSelectAllRows,s=e.selected,i=e.sortable,d=(0,r.default)(e,["columns","data","onSelectRow","onSelectAllRows","selected","sortable"]),c=this.state,u=c.sortBy,f=c.sortDirection,m=a;if(i&&u){var y=(0,h.find)({dataKey:u},t)||{},b=f===g.SortDirection.ASC?"asc":"desc";m=y.sortFunction?y.sortFunction({data:a,sortDirection:b}):(0,h.orderBy)(y.sortKey||u,[b],a)}var C=this.isSelectAllChecked();return p.default.createElement(v.default,(0,n.default)({columns:t,onSelectAllRows:o,onSelectRow:l,onSort:this.handleSort,rowCount:m.length,rowGetter:function rowGetter(e){var t=e.index;return m[t]},selectAllChecked:C,selected:s,sortable:i,sortBy:u,sortDirection:f},d))}}]),Table}(p.default.Component);y.defaultProps={data:[],selected:new Set},y.propTypes={columns:m.default.arrayOf(m.default.shape({dataKey:m.default.string.isRequired,sortFunction:m.default.function})).isRequired,data:m.default.array,onSelectRow:m.default.func,onSelectAllRows:m.default.func,selectableKey:m.default.string,selected:m.default.instanceOf(Set),sortable:m.default.bool,sortBy:m.default.string,sortDirection:m.default.string,defaultSortBy:m.default.string,defaultSortDirection:m.default.string};var b=y;t.default=b},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(10)),o=l(a(9)),s=l(a(11)),i=l(a(2)),d=l(a(0)),c=l(a(1807)),u=function(e){function SampleUploadTableRenderers(){return(0,n.default)(this,SampleUploadTableRenderers),(0,r.default)(this,(0,o.default)(SampleUploadTableRenderers).apply(this,arguments))}return(0,s.default)(SampleUploadTableRenderers,e),SampleUploadTableRenderers}(d.default.Component);t.default=u,(0,i.default)(u,"renderFileNames",function(e){var t=e.cellData;return d.default.createElement("div",null,t.map(function(e){return d.default.createElement("div",{key:e,className:c.default.fileName},e)}))})},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(26)),r=l(a(27)),o=l(a(7)),s=l(a(8)),i=l(a(10)),d=l(a(9)),c=l(a(3)),u=l(a(11)),f=l(a(2)),p=l(a(0)),m=l(a(4)),h=l(a(394)),g=l(a(399)),v=l(a(24)),y=l(a(51)),b=l(a(88)),C=a(89),w=a(20),E=l(a(161)),S=function(e){function UploadMetadataStep(){var e,t;(0,o.default)(this,UploadMetadataStep);for(var a=arguments.length,l=new Array(a),s=0;s<a;s++)l[s]=arguments[s];return t=(0,i.default)(this,(e=(0,d.default)(UploadMetadataStep)).call.apply(e,[this].concat(l))),(0,f.default)((0,c.default)(t),"state",{showInstructions:!1,continueDisabled:!0,metadata:null,issues:null,wasManual:!1,newHostGenomes:[]}),(0,f.default)((0,c.default)(t),"setShowInstructions",function(e){t.setState({showInstructions:e})}),(0,f.default)((0,c.default)(t),"handleMetadataChange",function(e){var a=e.metadata,l=e.issues,n=e.wasManual,r=e.newHostGenomes;t.setState({metadata:a,issues:l,wasManual:n,newHostGenomes:r});var o=a&&!(l&&l.errors.length>0);t.setState({continueDisabled:!o})}),(0,f.default)((0,c.default)(t),"handleContinue",(0,r.default)(n.default.mark(function _callee(){var e,a;return n.default.wrap(function _callee$(l){for(;;)switch(l.prev=l.next){case 0:if(e=null,!t.state.wasManual){l.next=11;break}return t.setState({issues:null}),a=t.state.metadata,l.next=6,(0,C.validateManualMetadataForNewSamples)(t.props.samples,a);case 6:e=l.sent,t.setState({issues:e.issues,newHostGenomes:e.newHostGenomes}),!a||e.issues&&e.issues.errors.length>0||t.props.onUploadMetadata({metadata:a,issues:e.issues,newHostGenomes:e.newHostGenomes}),l.next=12;break;case 11:t.props.onUploadMetadata({metadata:t.state.metadata,issues:t.state.issues,newHostGenomes:t.state.newHostGenomes});case 12:(0,w.logAnalyticsEvent)("UploadMetadataStep_continue-button_clicked",{wasManual:t.state.wasManual,errors:(e||t.state).issues.errors.length,warnings:(e||t.state).issues.warnings.length,samples:t.props.samples.length,projectId:t.props.project.id,projectName:t.props.project.name});case 13:case"end":return l.stop()}},_callee)}))),t}return(0,u.default)(UploadMetadataStep,e),(0,s.default)(UploadMetadataStep,[{key:"render",value:function render(){var e=this;return p.default.createElement("div",{className:E.default.uploadMetadataStep},p.default.createElement("div",{className:(0,m.default)(E.default.uploadInstructions,!this.state.showInstructions&&E.default.hide)},p.default.createElement(g.default,{onClose:function onClose(){return e.setShowInstructions(!1)}})),p.default.createElement("div",{className:(0,m.default)(E.default.uploadFlowStep,this.state.showInstructions&&E.default.hide,this.props.visible&&E.default.visible)},p.default.createElement("div",{className:E.default.flexContent},p.default.createElement(h.default,{onShowCSVInstructions:function onShowCSVInstructions(){return e.setShowInstructions(!0)},samples:this.props.samples,project:this.props.project,onMetadataChange:this.handleMetadataChange,samplesAreNew:!0,issues:this.state.wasManual?this.state.issues:null,visible:this.props.visible,onDirty:this.props.onDirty,metadata:this.state.metadata})),p.default.createElement("div",{className:E.default.controls},p.default.createElement(y.default,{text:"Continue",onClick:this.handleContinue,disabled:this.state.continueDisabled,rounded:!1,className:E.default.continueButton}),p.default.createElement("a",{href:"/home"},p.default.createElement(b.default,{text:"Cancel",rounded:!1,onClick:function onClick(){return(0,w.logAnalyticsEvent)("UploadMetadataStep_cancel-button_clicked",{projectId:e.props.project.id,projectName:e.props.project.name})}})))))}}]),UploadMetadataStep}(p.default.Component);S.propTypes={onUploadMetadata:v.default.func.isRequired,samples:v.default.arrayOf(v.default.shape({name:v.default.string,host_genome_id:v.default.number})),project:v.default.shape({id:v.default.number,name:v.default.string}),visible:v.default.bool,onDirty:v.default.func.isRequired};var _=S;t.default=_},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(3)),d=l(a(11)),c=l(a(2)),u=l(a(0)),f=a(17),p=l(a(4)),m=l(a(24)),h=l(a(111)),g=l(a(59)),v=a(20),y=l(a(145)),b=l(a(161)),C=[{text:"Samples",step:"uploadSamples"},{text:"Metadata",step:"uploadMetadata"},{text:"Review",step:"review"}],w=function(e){function SampleUploadFlowHeader(){var e,t;(0,n.default)(this,SampleUploadFlowHeader);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return t=(0,o.default)(this,(e=(0,s.default)(SampleUploadFlowHeader)).call.apply(e,[this].concat(l))),(0,c.default)((0,i.default)(t),"isStepEnabled",function(e){return t.props.stepsEnabled[e]}),(0,c.default)((0,i.default)(t),"onStepSelect",function(e){t.isStepEnabled(e)&&t.props.onStepSelect(e)}),t}return(0,d.default)(SampleUploadFlowHeader,e),(0,r.default)(SampleUploadFlowHeader,[{key:"render",value:function render(){var e=this,t=this.props.currentStep;return u.default.createElement("div",{className:b.default.headerWrapper},u.default.createElement(g.default,null,u.default.createElement("div",{className:b.default.sampleUploadFlowHeader},u.default.createElement("div",{className:b.default.titleContainer},u.default.createElement("div",{className:b.default.title},(0,f.startCase)(t)),"uploadSamples"===t&&u.default.createElement("div",{className:b.default.subtitle},"Rather use our command-line interface?",u.default.createElement(y.default,{href:"/cli_user_instructions",className:b.default.link},"View CLI Instructions.")),"uploadMetadata"===t&&u.default.createElement("div",{className:b.default.subtitle},"This metadata will provide context around your samples and results in IDseq."),"review"===t&&u.default.createElement("div",{className:b.default.subtitle},"Uploading ",this.props.samples.length," samples to"," ",this.props.project.name)),u.default.createElement("div",{className:b.default.fill}),u.default.createElement("div",{className:b.default.menu},C.map(function(a,l){return u.default.createElement("div",{className:(0,p.default)(b.default.option,t===a.step&&b.default.active,t!==a.step&&e.isStepEnabled(a.step)&&b.default.enabled),key:a.text,onClick:function onClick(){e.onStepSelect(a.step),(0,v.logAnalyticsEvent)("SampleUploadFlowHeader_step-option_clicked",{step:a.step,text:a.text})}},u.default.createElement(h.default,{className:b.default.circle,circular:!0,text:l+1}),u.default.createElement("div",{className:b.default.text},a.text))})))))}}]),SampleUploadFlowHeader}(u.default.Component);w.propTypes={currentStep:m.default.string.isRequired,samples:m.default.arrayOf(m.default.Sample),project:m.default.Project,onStepSelect:m.default.func.isRequired,stepsEnabled:m.default.objectOf(m.default.bool)};var E=w;t.default=E},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(26)),r=l(a(27)),o=l(a(7)),s=l(a(8)),i=l(a(10)),d=l(a(9)),c=l(a(3)),u=l(a(11)),f=l(a(2)),p=l(a(0)),m=l(a(4)),h=l(a(279)),g=a(17),v=a(42),y=a(82),b=a(20),C=l(a(24)),w=a(87),E=l(a(347)),S=l(a(46)),_=l(a(768)),k=l(a(225)),N=l(a(59)),x=l(a(97)),M=l(a(146)),T=l(a(425)),P=a(176),D=l(a(144)),I=l(a(95)),j=l(a(81)),L=l(a(505)),O=l(a(325)),R=l(a(888));function ownKeys(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}var A=function(e){function SampleView(e){var t;return(0,o.default)(this,SampleView),t=(0,i.default)(this,(0,d.default)(SampleView).call(this,e)),(0,f.default)((0,c.default)(t),"fetchAdditionalData",(0,r.default)(n.default.mark(function _callee(){var e,a;return n.default.wrap(function _callee$(l){for(;;)switch(l.prev=l.next){case 0:if(!t.coverageVizEnabled()){l.next=6;break}return e=t.props.sample,l.next=4,(0,v.getCoverageVizSummary)(e.id);case 4:a=l.sent,t.setState({coverageVizDataByTaxon:a});case 6:case"end":return l.stop()}},_callee)}))),(0,f.default)((0,c.default)(t),"generateGsnapFilterStatus",function(e){var a=t.props,l=a.jobStatistics,n=a.hostGenome;if(!l||!n||"Human"!==n.name)return null;var r=!0,o=!1,s=void 0;try{for(var i,d=e[Symbol.iterator]();!(r=(i=d.next()).done);r=!0){if("gsnap_filter_out"===i.value.task)return null}}catch(e){o=!0,s=e}finally{try{r||null==d.return||d.return()}finally{if(o)throw s}}return"gsnap filter on human/chimp genome was not run."}),(0,f.default)((0,c.default)(t),"refreshPage",function(e){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],l=Object.assign({},t.props.reportPageParams,e),n=location.protocol+"//"+location.host+location.pathname+"?"+(0,y.getURLParamString)(l);if(a)window.location=n;else try{history.replaceState(window.history.state,document.title,n)}catch(e){console.error(e),window.location=n}}),(0,f.default)((0,c.default)(t),"handleTabChange",function(e){t.setState({currentTab:e});var a=e.replace(/\W+/g,"-").toLowerCase();(0,b.logAnalyticsEvent)("SampleView_tab-".concat(a,"_clicked"),{tab:e})}),(0,f.default)((0,c.default)(t),"handleNameTypeChange",function(e){h.default.set("name_type",e),t.setState({nameType:e})}),(0,f.default)((0,c.default)(t),"toggleSampleDetailsSidebar",function(){"sampleDetails"===t.state.sidebarMode&&t.state.sidebarVisible?t.setState({sidebarVisible:!1}):t.setState({sidebarMode:"sampleDetails",sidebarVisible:!0})}),(0,f.default)((0,c.default)(t),"handleTaxonClick",function(e){e?"taxonDetails"===t.state.sidebarMode&&t.state.sidebarVisible&&(0,g.get)("taxonId",e)===(0,g.get)("taxonId",t.state.sidebarTaxonModeConfig)?t.setState({sidebarVisible:!1}):t.setState({sidebarMode:"taxonDetails",sidebarTaxonModeConfig:e,sidebarVisible:!0,coverageVizVisible:!1}):t.setState({sidebarVisible:!1})}),(0,f.default)((0,c.default)(t),"closeSidebar",function(){t.setState({sidebarVisible:!1})}),(0,f.default)((0,c.default)(t),"handleCoverageVizClick",function(e){var a=t.state,l=a.coverageVizParams,n=a.coverageVizVisible;e.taxId?n&&(0,g.get)("taxId",l)===e.taxId?t.setState({coverageVizVisible:!1}):t.setState({coverageVizParams:e,coverageVizVisible:!0,sidebarVisible:!1}):t.setState({coverageVizVisible:!1})}),(0,f.default)((0,c.default)(t),"closeCoverageViz",function(){t.setState({coverageVizVisible:!1})}),(0,f.default)((0,c.default)(t),"handlePipelineVersionSelect",function(e){t.refreshPage({pipeline_version:e})}),(0,f.default)((0,c.default)(t),"handleMetadataUpdate",function(e,a){"name"===e&&t.setState({sampleName:a})}),(0,f.default)((0,c.default)(t),"pipelineInProgress",function(){var e=t.props,a=e.sample,l=e.pipelineRun;return!a.upload_error&&!(l&&l.results_finalized>0)}),(0,f.default)((0,c.default)(t),"renderVersionDisplay",function(){var e=t.props.pipelineRun;return e&&e.version&&e.version.pipeline?"v".concat(e.version.pipeline)+(e.version.alignment_db?", NT/NR: ".concat(e.version.alignment_db):""):""}),(0,f.default)((0,c.default)(t),"renderPipelineWarnings",function(){var e=t.props.pipelineRun;if(!e)return null;var a=[];if(!t.pipelineInProgress()&&(0,w.pipelineVersionHasAssembly)(e.pipeline_version)&&1!==e.assembled&&a.push("The reads did not assemble for this run."),a.length>0){var l=p.default.createElement("div",null,a.map(function(e){return p.default.createElement("div",{className:R.default.warning,key:e},e)}));return p.default.createElement(S.default,{trigger:p.default.createElement("i",{className:(0,m.default)("fa fa-exclamation-circle",R.default.warningIcon)}),position:"bottom left",content:l,wide:"very",horizontalOffset:15})}return null}),(0,f.default)((0,c.default)(t),"renderSampleMessage",function(){var e,a,l,n,r,o,s=t.props,i=s.pipelineRun,d=s.sample,c=s.sampleStatus;if(t.pipelineInProgress())e="IN PROGRESS",a=c,o=p.default.createElement(j.default,{className:R.default.icon}),n="inProgress",i&&i.version&&i.version.pipeline&&(l="View Pipeline Visualization",r="/samples/".concat(d.id,"/pipeline_viz/").concat(i.version.pipeline));else{var u=(0,w.sampleErrorInfo)(d,i);e=u.status,a=u.message,l=u.linkText,n=u.type,r=u.link,o=u.icon,o=p.default.createElement(I.default,{className:R.default.icon})}return p.default.createElement("div",{className:R.default.sampleMessage},p.default.createElement("div",{className:R.default.textContainer},p.default.createElement("div",{className:(0,m.default)(R.default.reportStatus,R.default[n])},o,p.default.createElement("span",{className:R.default.text},e)),p.default.createElement("div",{className:R.default.message},a),p.default.createElement("a",{className:R.default.actionLink,href:r},l,l&&p.default.createElement("i",{className:(0,m.default)("fa fa-chevron-right",R.default.rightArrow)}))),p.default.createElement(D.default,{className:R.default.bacteriaIcon}))}),(0,f.default)((0,c.default)(t),"renderTab",function(){return"Report"===t.state.currentTab?t.props.reportPresent?p.default.createElement(_.default,{sample_id:t.props.sample.id,projectId:t.props.project.id,projectName:t.props.project.name,admin:t.props.admin,allowedFeatures:t.props.allowedFeatures,csrf:t.props.csrf,report_ts:t.props.reportTime,git_version:t.props.gitVersion,all_categories:t.props.allCategories,all_backgrounds:t.props.allBackgrounds,report_details:t.props.reportDetails,can_see_align_viz:t.props.canSeeAlignViz,can_edit:t.props.canEdit,refreshPage:t.refreshPage,gsnapFilterStatus:t.gsnapFilterStatus,reportPageParams:t.props.reportPageParams,onTaxonClick:t.handleTaxonClick,onCoverageVizClick:t.handleCoverageVizClick,onViewClick:t.handleViewClick,savedParamValues:t.props.savedParamValues,nameType:t.state.nameType,onNameTypeChange:t.handleNameTypeChange,view:t.state.view}):t.renderSampleMessage():"Antimicrobial Resistance"===t.state.currentTab?p.default.createElement(E.default,{amr:t.props.amr}):null}),(0,f.default)((0,c.default)(t),"getSidebarParams",function(){var e=t.props,a=e.reportDetails,l=e.sample;return"taxonDetails"===t.state.sidebarMode?t.state.sidebarTaxonModeConfig:"sampleDetails"===t.state.sidebarMode?{sampleId:l.id,pipelineVersion:(0,g.get)("pipeline_info.pipeline_version",a),onMetadataUpdate:t.handleMetadataUpdate}:{}}),(0,f.default)((0,c.default)(t),"getCombinedAccessionDataForSpecies",function(e){var a=t.state.coverageVizDataByTaxon,l=(0,g.map)("taxonId",e);return{best_accessions:(0,g.flatten)((0,g.compact)((0,g.map)(function getSpeciesBestAccessions(e){var t=(0,g.get)([e.taxonId,"best_accessions"],a);return(0,g.map)(function(t){return function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(a,!0).forEach(function(t){(0,f.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},t,{taxon_name:e.taxonName,taxon_common_name:e.taxonCommonName})},t)},e))),num_accessions:(0,g.sum)((0,g.map)(function(e){return(0,g.get)([e,"num_accessions"],a)},l))}}),(0,f.default)((0,c.default)(t),"getCoverageVizParams",function(){var e=t.state,a=e.coverageVizParams,l=e.coverageVizDataByTaxon;if(!a)return{};var n=null;return n="genus"===a.taxLevel?t.getCombinedAccessionDataForSpecies(a.speciesTaxons):(0,g.get)(a.taxId,l),{taxonId:a.taxId,taxonName:a.taxName,taxonCommonName:a.taxCommonName,taxonLevel:a.taxLevel,alignmentVizUrl:a.alignmentVizUrl,accessionData:n}}),(0,f.default)((0,c.default)(t),"onShareClick",(0,r.default)(n.default.mark(function _callee2(){return n.default.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,y.copyShortUrlToClipboard)();case 2:case"end":return e.stop()}},_callee2)}))),(0,f.default)((0,c.default)(t),"onSaveClick",(0,r.default)(n.default.mark(function _callee3(){var e;return n.default.wrap(function _callee3$(a){for(;;)switch(a.prev=a.next){case 0:return(e=(0,y.parseUrlParams)()).sampleIds=[t.props.sample.id],a.next=4,(0,v.saveVisualization)(e.view||"table",e);case 4:case"end":return a.stop()}},_callee3)}))),(0,f.default)((0,c.default)(t),"coverageVizEnabled",function(){return(0,w.pipelineVersionHasCoverageViz)((0,g.get)("pipeline_version",t.props.reportPageParams))}),(0,f.default)((0,c.default)(t),"handleViewClick",function(e){t.setState({view:e.name})}),t.state={sampleName:e.sample.name,currentTab:"Report",sidebarMode:null,sidebarVisible:!1,sidebarTaxonModeConfig:null,coverageVizDataByTaxon:null,nameType:h.default.get("name_type")||"Scientific name",view:"table"},t.gsnapFilterStatus=t.generateGsnapFilterStatus(),t}return(0,u.default)(SampleView,e),(0,s.default)(SampleView,[{key:"componentDidMount",value:function componentDidMount(){this.pipelineInProgress()?setTimeout(function(){location.reload()},3e5):this.fetchAdditionalData(),(0,b.logAnalyticsEvent)(b.ANALYTICS_EVENT_NAMES.sampleViewed,{sampleId:this.props.sample.id})}},{key:"render",value:function render(){var e=this.renderVersionDisplay(),t=this.props,a=t.project,l=t.sampleIdToNameMap,n=t.pipelineVersions,r=t.sample,o=t.pipelineRun,s=t.summaryStats,i=t.amr,d=t.reportPresent,c=t.reportDetails,u=t.reportPageParams,f=i,h=o&&o.version&&o.version.pipeline;return p.default.createElement("div",null,p.default.createElement(N.default,null,p.default.createElement(k.default,{className:R.default.viewHeader},p.default.createElement(k.default.Content,null,p.default.createElement("div",{className:(0,m.default)(R.default.pipelineInfo,h&&R.default.linkToPipelineViz),onClick:function onClick(){return h&&window.open("/samples/".concat(r.id,"/pipeline_viz/").concat(h))}},p.default.createElement("span",null,"PIPELINE ",e),p.default.createElement(O.default,{pipelineRun:o,pipelineVersions:n,lastProcessedAt:(0,g.get)("last_processed_at",s),onPipelineVersionSelect:this.handlePipelineVersionSelect}),this.renderPipelineWarnings()),p.default.createElement(k.default.Pretitle,{breadcrumbLink:"/home?project_id=".concat(a.id)},a.name),p.default.createElement(k.default.Title,{label:this.state.sampleName,id:r.id,options:Object.keys(l).map(function(e){return{label:l[e],id:e,onClick:function onClick(){window.open("/samples/".concat(e),"_self"),(0,b.logAnalyticsEvent)("SampleView_header-title_clicked",{sampleId:e})}}})}),p.default.createElement("div",{className:R.default.sampleDetailsLinkContainer},p.default.createElement("span",{className:R.default.sampleDetailsLink,onClick:(0,b.withAnalytics)(this.toggleSampleDetailsSidebar,"SampleView_sample-details-link_clicked",{sampleId:r.id,sampleName:r.name})},"Sample Details"))),p.default.createElement(k.default.Controls,null,p.default.createElement(S.default,{trigger:p.default.createElement(P.ShareButton,{onClick:(0,b.withAnalytics)(this.onShareClick,"SampleView_share-button_clicked",{sampleId:r.id,sampleName:r.name})}),content:"A shareable URL was copied to your clipboard!",on:"click",hideOnScroll:!0})," ",this.props.admin&&p.default.createElement(P.SaveButton,{onClick:(0,b.withAnalytics)(this.onSaveClick,"SampleView_save-button_clicked",{sampleId:r.id,sampleName:r.name})})," ",p.default.createElement(L.default,{backgroundId:u.background_id,reportPresent:d,sample:r,project:a,pipelineRun:o,reportDetails:c,editable:this.props.canEdit,view:this.state.view})))),p.default.createElement(N.default,null,f?p.default.createElement(x.default,{className:R.default.tabs,tabs:["Report","Antimicrobial Resistance"],value:this.state.currentTab,onChange:this.handleTabChange}):p.default.createElement("div",{className:R.default.dividerContainer},p.default.createElement("div",{className:R.default.divider})),this.renderTab()),p.default.createElement(M.default,{visible:this.state.sidebarVisible,mode:this.state.sidebarMode,onClose:(0,b.withAnalytics)(this.closeSidebar,"SampleView_details-sidebar_closed",{sampleId:r.id,sampleName:r.name}),params:this.getSidebarParams()}),this.coverageVizEnabled()&&p.default.createElement(T.default,{visible:this.state.coverageVizVisible,onClose:(0,b.withAnalytics)(this.closeCoverageViz,"SampleView_coverage-viz-sidebar_closed",{sampleId:r.id,sampleName:r.name}),params:this.getCoverageVizParams(),sampleId:r.id,pipelineVersion:this.props.pipelineRun.pipeline_version,nameType:this.state.nameType}))}}]),SampleView}(p.default.Component);A.propTypes={sample:C.default.Sample,project:C.default.Project,sampleIdToNameMap:C.default.objectOf(C.default.string),pipelineRun:C.default.PipelineRun,pipelineVersions:C.default.arrayOf(C.default.string),summaryStats:C.default.SummaryStats,reportPageParams:C.default.shape({pipeline_version:C.default.string,background_id:C.default.oneOfType([C.default.string,C.default.number])}),amr:C.default.arrayOf(C.default.shape({id:C.default.number,gene:C.default.string,allele:C.default.string})),reportPresent:C.default.bool,admin:C.default.bool,allowedFeatures:C.default.arrayOf(C.default.string),csrf:C.default.string,reportTime:C.default.string,gitVersion:C.default.string,allCategories:C.default.arrayOf(C.default.shape({taxid:C.default.number,name:C.default.string})),allBackgrounds:C.default.arrayOf(C.default.BackgroundData),reportDetails:C.default.ReportDetails,canSeeAlignViz:C.default.bool,canEdit:C.default.bool,hostGenome:C.default.shape({name:C.default.string}),jobStatistics:C.default.string,sampleStatus:C.default.string,savedParamValues:C.default.object};var F=A;t.default=F},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(10)),o=l(a(9)),s=l(a(3)),i=l(a(11)),d=l(a(2)),c=l(a(0)),u=l(a(1)),f=a(17),p=l(a(410)),m=l(a(411)),h=l(a(412)),g=l(a(415)),v=l(a(414)),y=l(a(216)),b=l(a(413)),C=l(a(220)),w=a(20),E=l(a(293)),S=l(a(142)),_=a(507),k=l(a(1818)),N=function(e){function ReportFilters(){var e,t;(0,n.default)(this,ReportFilters);for(var a=arguments.length,l=new Array(a),i=0;i<a;i++)l[i]=arguments[i];return t=(0,r.default)(this,(e=(0,o.default)(ReportFilters)).call.apply(e,[this].concat(l))),(0,d.default)((0,s.default)(t),"handleFilterChange",function(e){var a=e.key,l=e.value,n=t.props.onFilterChanged;(0,w.logAnalyticsEvent)("SampleView_filter_changed",{key:a,value:l}),n({key:a,value:l})}),(0,d.default)((0,s.default)(t),"handleRemoveFilter",function(e){var a=e.key,l=e.subpath,n=e.value,r=t.props.onFilterRemoved;(0,w.logAnalyticsEvent)("SampleView_filter_removed",{key:a,subpath:l,value:n}),r({key:a,subpath:l,value:n})}),(0,d.default)((0,s.default)(t),"renderFilterTag",function(e){var a=e.key,l=e.label,n=e.subpath,r=e.value,o=e.idx;return l=l||r,c.default.createElement(S.default,{className:k.default.filterTag,key:"".concat(l,"_filter_tag_").concat(o),text:l,onClose:function onClose(){return t.handleRemoveFilter({key:a,subpath:n,value:r})}})}),(0,d.default)((0,s.default)(t),"renderThresholdFilterTag",function(e){var a=e.threshold,l=e.idx;return c.default.createElement(E.default,{className:k.default.filterTag,key:"threshold_filter_tag_".concat(l),threshold:a,onClose:function onClose(){return t.handleRemoveFilter({key:"thresholds",value:a})}})}),(0,d.default)((0,s.default)(t),"renderCategoryFilterTags",function(){var e=t.props.selected;return(0,f.flatten)((0,f.map)("name",_.CATEGORIES).map(function(a,l){var n=[];return(0,f.getOr)([],["categories","categories"],e).includes(a)&&n.push(t.renderFilterTag({key:"categories",subpath:"categories",value:a,idx:l})),(0,f.getOr)([],["categories","subcategories",a],e).map(function(e,r){n.push(t.renderFilterTag({key:"categories",subpath:"subcategories.".concat(a),value:e,idx:"".concat(l,".").concat(r)}))}),n}))}),(0,d.default)((0,s.default)(t),"render",function(){var e=t.props,a=e.backgrounds,l=e.sampleId,n=e.selected,r=e.view;return c.default.createElement(c.default.Fragment,null,c.default.createElement("div",{className:k.default.filterList},c.default.createElement("div",{className:k.default.filterListElement},c.default.createElement(y.default,{clearOnSelect:!0,rounded:!0,levelLabel:!0,serverSearchAction:"choose_taxon",serverSearchActionArgs:{args:"species,genus",sample_id:l},onResultSelect:function onResultSelect(e,a){var l=a.result;return t.handleFilterChange({key:"taxon",value:{taxId:l.taxid,taxLevel:l.level,name:l.title}})},placeholder:"Taxon name"})),c.default.createElement("div",{className:k.default.filterListElement},c.default.createElement(v.default,{value:n.nameType,onChange:function onChange(e){return t.handleFilterChange({key:"nameType",value:e})}})),c.default.createElement("div",{className:k.default.filterListElement},c.default.createElement(p.default,{allBackgrounds:a,value:n.background,onChange:function onChange(e){return t.handleFilterChange({key:"background",value:e})}})),c.default.createElement("div",{className:k.default.filterListElement},c.default.createElement(m.default,{allCategories:_.CATEGORIES,categoryParentChild:(0,f.transform)(function(e,t){t.children&&(e[t.name]=t.children)},{})(_.CATEGORIES),categoryChildParent:(0,f.transform)(function(e,t){(0,f.forEach)(function(a){return e[a]=t.name},t.children||[])},{})(_.CATEGORIES),selectedCategories:(0,f.getOr)([],["categories","categories"],n),selectedSubcategories:(0,f.flatten)((0,f.values)((0,f.getOr)({},["categories","subcategories"],n))),onChange:function onChange(e,a){return t.handleFilterChange({key:"categories",value:{categories:e,subcategories:a}})}})),c.default.createElement("div",{className:k.default.filterListElement},c.default.createElement(C.default,{options:{targets:_.THRESHOLDS,operators:[">=","<="]},thresholds:n.thresholds,onApply:function onApply(e){return t.handleFilterChange({key:"thresholds",value:e})}})),c.default.createElement("div",{className:k.default.filterListElement},c.default.createElement(b.default,{value:n.readSpecificity,onChange:function onChange(e){return t.handleFilterChange({key:"readSpecificity",value:e})}})),"tree"==r&&c.default.createElement("div",{className:k.default.filterListElement},c.default.createElement(h.default,{options:_.TREE_METRICS,value:n.metric||_.TREE_METRICS[0].value,onChange:function onChange(e){return t.handleFilterChange({key:"metric",value:e})}})),"table"==r&&c.default.createElement("div",{className:k.default.filterListElement},c.default.createElement(g.default,{value:n.minContigReads,onChange:function onChange(e){return t.handleFilterChange({key:"minContigReads",value:e})}}))),c.default.createElement("div",{className:k.default.tagList},n.taxon&&t.renderFilterTag({key:"taxon",label:n.taxon.name,value:n.taxon}),n.thresholds.map(function(e,a){return t.renderThresholdFilterTag({threshold:e,idx:a})}),t.renderCategoryFilterTags()))}),t}return(0,i.default)(ReportFilters,e),ReportFilters}(c.default.Component);N.propTypes={backgrounds:u.default.array,onFilterChanged:u.default.func,onFilterRemoved:u.default.func,sampleId:u.default.number,selected:u.default.object,view:u.default.oneOf(["tree","table"])};var x=N;t.default=x},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(47)),r=l(a(7)),o=l(a(8)),s=l(a(10)),i=l(a(9)),d=l(a(3)),c=l(a(11)),u=l(a(2)),f=l(a(0)),p=a(17),m=l(a(4)),h=a(326),g=a(190),v=a(20),y=a(295),b=a(1820),C=a(87),w=a(57),E=l(a(46)),S=l(a(407)),_=l(a(177)),k=l(a(406)),N=l(a(284)),x=l(a(24)),M=l(a(215)),T=l(a(162)),P=a(409),D=l(a(418)),I=l(a(1823));function ownKeys(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(a,!0).forEach(function(t){(0,u.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var j=["","zzzzzzzzz"],L=[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],O=-1e8,R={species:1,genus:2},A=694002,F=function(e){function ReportTable(e){var t;(0,r.default)(this,ReportTable),t=(0,s.default)(this,(0,i.default)(ReportTable).call(this,e)),(0,u.default)((0,d.default)(t),"renderAggregateScore",function(e){var t=e.cellData,a=e.rowData;return f.default.createElement("div",{className:I.default.annotatedData},f.default.createElement("div",{className:I.default.icon},a.highlighted&&f.default.createElement(S.default,null)),f.default.createElement("div",{className:I.default.data},T.default.formatNumberWithCommas(Number(t).toFixed(0))))}),(0,u.default)((0,d.default)(t),"renderName",function(e){var a=e.cellData,l=e.rowData,n=t.props.onTaxonNameClick;return l&&f.default.createElement("div",{className:I.default.taxonContainer},f.default.createElement("span",{className:(0,m.default)(I.default.taxonName,!!a||I.default.missingName),onClick:function onClick(){return n(_objectSpread({},l))}},a||l.name),"genus"==l.taxLevel&&(l.category?f.default.createElement("span",{className:I.default.countInfo},"(".concat(l.filteredSpecies.length," ").concat((0,y.getCategoryAdjective)(l.category)," species)")):f.default.createElement("span",{className:I.default.countInfo},"(".concat(l.filteredSpecies.length," species)"))),f.default.createElement("span",null,l.pathogens&&f.default.createElement(k.default,{tag2Count:l.pathogens}),l.pathogenTag&&f.default.createElement(_.default,{type:l.pathogenTag})),f.default.createElement("span",null,t.renderHoverActions({rowData:l})))}),(0,u.default)((0,d.default)(t),"renderExpandIcon",function(e){var a=e.rowData,l=t.state.expandedGenusIds;return f.default.createElement("div",{className:I.default.expandIcon},"genus"==a.taxLevel?f.default.createElement("i",{className:(0,m.default)("fa",l.has(a.taxId)?"fa-angle-down":"fa-angle-right"),onClick:(0,v.withAnalytics)(function(){return t.toggleExpandGenus({taxId:a.taxId})},"PipelineSampleReport_expand-genus_clicked",{tax_id:a.taxId})}):"")}),(0,u.default)((0,d.default)(t),"renderExpandIconHeader",function(){var e=t.state.expandAllOpened;return f.default.createElement("div",{className:I.default.expandIcon},f.default.createElement("i",{className:(0,m.default)("fa",e?"fa-angle-down":"fa-angle-right"),onClick:(0,v.withAnalytics)(function(){return t.toggleExpandAll()},"PipelineSampleReport_expand-all_clicked")}))}),(0,u.default)((0,d.default)(t),"renderNtNrDecimalValues",function(e){var a=e.cellData,l=e.decimalPlaces;return t.renderNtNrStack({cellData:a.map(function(e){return T.default.formatNumberWithCommas(Number(e).toFixed(l||0))})})}),(0,u.default)((0,d.default)(t),"renderNtNrSelector",function(){var e=f.default.createElement("div",null,t.renderNtNrStack({cellData:["NT","NR"],onClick:[(0,v.withAnalytics)(function(){return t.handleNtNrChange("nt")},"ReportTable_count-type_clicked",{countType:"nt"}),(0,v.withAnalytics)(function(){return t.handleNtNrChange("nr")},"ReportTable_count-type_clicked",{countType:"nr"})]}));return f.default.createElement(E.default,{trigger:e,position:"top right",content:"Switch count type",inverted:!0,basic:!1,size:"small"})}),(0,u.default)((0,d.default)(t),"renderNtNrStack",function(e){var a=e.cellData,l=e.onClick,n=t.state.dbType;return f.default.createElement("div",{className:I.default.stack},f.default.createElement("div",{className:(0,m.default)(I.default.stackElement,"nt"==n||I.default.lowlightValue),onClick:l?function(){return l[0]("nt")}:null},a?a[0]:"-"),f.default.createElement("div",{className:(0,m.default)(I.default.stackElement,"nr"==n||I.default.lowlightValue),onClick:l?function(){return l[1]("nr")}:null},a?a[1]:"-"))}),(0,u.default)((0,d.default)(t),"linkToNCBI",function(e){var t=e.taxId,a=parseInt(t);a<-1e8&&(a=-a%-1e8),a=a.toString();var l="https://www.ncbi.nlm.nih.gov/Taxonomy/Browser/wwwtax.cgi?mode=Info&id=".concat(a);window.open(l,"hide_referrer")}),(0,u.default)((0,d.default)(t),"downloadFastaUrl",function(e){var a=e.taxLevel,l=e.taxId,n=t.props,r=n.pipelineVersion,o=n.sampleId,s=R[a];s?location.href="/samples/".concat(o,"/fasta/").concat(s,"/").concat(l,"/NT_or_NR?pipeline_version=").concat(r):console.error("Unknown taxLevel:",a)}),(0,u.default)((0,d.default)(t),"downloadContigUrl",function(e){var a=e.taxId,l=t.props,n=l.pipelineVersion,r=l.sampleId;location.href="/samples/".concat(r,"/taxid_contigs?taxid=").concat(a,"&pipeline_version=").concat(n)}),(0,u.default)((0,d.default)(t),"handleCoverageVizClick",function(e){var a=e.taxId,l=e.taxLevel,n=e.taxName,r=e.taxCommonName,o=e.taxSpecies,s=t.props,i=s.onCoverageVizClick,d=s.pipelineVersion,c=s.sampleId,u="/samples/".concat(c,"/alignment_viz/nt_").concat(l,"_").concat(a,"?pipeline_version=").concat(d);(0,C.pipelineVersionHasCoverageViz)(d)?i({taxId:a,taxName:n,taxCommonName:r,taxLevel:l,alignmentVizUrl:u,taxSpecies:o}):window.open(u)}),(0,u.default)((0,d.default)(t),"handlePhyloTreeModalOpen",function(e){t.setState({phyloTreeModalParams:e})}),(0,u.default)((0,d.default)(t),"handlePhyloTreeModalClose",function(){t.setState({phyloTreeModalParams:null})}),(0,u.default)((0,d.default)(t),"renderHoverActions",function(e){var a=e.rowData,l=t.props,n=l.alignVizAvailable,r=l.fastaDownloadEnabled,o=l.phyloTreeAllowed,s=l.pipelineVersion,i=l.projectId,d=l.sampleId,c=a.taxId<O||a.taxId>0,u=!!(0,p.keys)((0,p.getOr)({},"nt.contigs",a)).length||!!(0,p.keys)((0,p.getOr)({},"nr.contigs",a)).length,m=n&&c&&(0,p.getOr)(0,"nt.count",a)>0,h=o&&a.taxId>0&&N.default.passesCreateCondition((0,p.getOr)(0,"nt.count",a),(0,p.getOr)(0,"nr.count",a)),g={projectId:i,sampleId:d,taxId:a.taxId,taxLevel:a.taxLevel,taxName:a.name};return f.default.createElement(D.default,{className:I.default.hoverActions,taxId:a.taxId,taxLevel:"species"===a.taxLevel?1:2,taxName:a.name,taxCommonName:a.common_name,taxSpecies:a.species,ncbiEnabled:c,onNcbiActionClick:(0,v.withAnalytics)(t.linkToNCBI,"PipelineSampleReport_ncbi-link_clicked",g),fastaEnabled:r,onFastaActionClick:(0,v.withAnalytics)(t.downloadFastaUrl,"PipelineSampleReport_taxon-fasta-link_clicked",g),coverageVizEnabled:m,onCoverageVizClick:(0,v.withAnalytics)(t.handleCoverageVizClick,"PipelineSampleReport_coverage-viz-link_clicked",g),contigVizEnabled:u,onContigVizClick:(0,v.withAnalytics)(t.downloadContigUrl,"PipelineSampleReport_contig-download-link_clicked",g),phyloTreeEnabled:h,onPhyloTreeModalOpened:(0,v.withAnalytics)(t.handlePhyloTreeModalOpen,"PipelineSampleReport_phylotree-link_clicked",g),pipelineVersion:s})}),(0,u.default)((0,d.default)(t),"rowRenderer",function(e){var t=e.rowData;return t&&(e.className=(0,m.default)(e.className,I.default["".concat(t.taxLevel,"Row")],(t.highlighted||t.highlightedChildren)&&I.default.highlighted)),(0,g.defaultTableRowRenderer)(e)}),(0,u.default)((0,d.default)(t),"nestedSortFunction",function(e){var t=e.data,a=e.path,l=e.sortDirection,n=e.nullValue,r=e.limits;return(0,v.logAnalyticsEvent)("PipelineSampleReport_column-sort-arrow_clicked",{path:a,sortDirection:l}),(0,p.orderBy)([function(e){return e.genus?(0,p.getOr)(n,["genus"].concat(a),e):(0,p.getOr)(n,a,e)},function(e){return e.genus?e.genus.taxId:e.taxId},function(e){return e.genus?(0,p.getOr)(n,a,e):"asc"===l?r[0]:r[1]}],[l,l,l],t)}),(0,u.default)((0,d.default)(t),"nestedNtNrSortFunction",function(e){var a=e.path,l=(0,n.default)(e,["path"]),r=t.state.dbType;return t.nestedSortFunction(_objectSpread({path:[r].concat(a)},l))}),(0,u.default)((0,d.default)(t),"toggleExpandGenus",function(e){var a=e.taxId,l=t.props.data,n=t.state,r=n.expandedGenusIds,o=n.expandAllOpened;r.delete(a)||r.add(a);var s=o;r.size===l.length?s=!0:r.size||(s=!1),t.setState({expandedGenusIds:new Set(r),expandAllOpened:s})}),(0,u.default)((0,d.default)(t),"toggleExpandAll",function(){var e=t.props.data;t.state.expandAllOpened?t.setState({expandedGenusIds:new Set,expandAllOpened:!1}):t.setState({expandedGenusIds:new Set((0,p.map)("taxId",e)),expandAllOpened:!0})}),(0,u.default)((0,d.default)(t),"handleNtNrChange",function(e){t.setState({dbType:e})}),(0,u.default)((0,d.default)(t),"getTableRows",function(){var e=t.props.data,a=t.state.expandedGenusIds,l=[];return e.forEach(function(e){l.push(e),a.has(e.taxId)&&e.filteredSpecies.forEach(function(t){t.genus=e,l.push(t)})}),l}),(0,u.default)((0,d.default)(t),"render",function(){var e=t.props,a=e.projectId,l=e.projectName,n=e.rowHeight,r=t.state.phyloTreeModalParams;return f.default.createElement(f.default.Fragment,null,f.default.createElement(h.Table,{cellClassName:I.default.cell,columns:t.columns,data:t.getTableRows(),defaultRowHeight:n,headerClassName:I.default.header,rowClassName:I.default.row,rowRenderer:t.rowRenderer,sortable:!0,sortedHeaderClassName:I.default.sortedHeader}),r&&f.default.createElement(w.UserContext.Consumer,null,function(e){return f.default.createElement(M.default,{admin:e.admin?1:0,csrf:(0,b.getCsrfToken)(),taxonId:r.taxId,taxonName:r.taxName,projectId:a,projectName:l,onClose:t.handlePhyloTreeModalClose})}))});var a=e.pipelineVersion;t.state={expandAllOpened:!1,expandedGenusIds:new Set([A]),dbType:t.props.initialDbType};var l=(0,C.pipelineVersionHasAssembly)(a);return t.columns=(0,p.compact)([{cellRenderer:t.renderExpandIcon,className:I.default.expandHeader,dataKey:"expanded",disableSort:!0,headerClassName:I.default.expandCell,headerRenderer:t.renderExpandIconHeader,width:20},{cellRenderer:t.renderName,className:I.default.nameCell,dataKey:"displayName",flexGrow:1,headerClassName:I.default.taxonHeader,label:"Taxon",minWidth:300,sortFunction:function sortFunction(e){var a=e.data,l=e.sortDirection;return t.nestedSortFunction({data:a,sortDirection:l,path:["displayName"],nullValue:"",limits:j})}},{cellRenderer:t.renderAggregateScore,columnData:P.REPORT_TABLE_COLUMNS.NT_aggregatescore,dataKey:"agg_score",label:"Score",width:130,sortFunction:function sortFunction(e){var a=e.data,l=e.sortDirection;return t.nestedSortFunction({data:a,sortDirection:l,path:["agg_score"],nullValue:L[0],limits:L})}},{cellDataGetter:function cellDataGetter(e){var a=e.rowData;return t.getNtNrFromDataRow(a,"z_score",0)},cellRenderer:function cellRenderer(e){var a=e.cellData;return t.renderNtNrDecimalValues({cellData:a,decimalPlaces:1})},columnData:P.REPORT_TABLE_COLUMNS.zscore,dataKey:"z_score",sortFunction:function sortFunction(e){var a=e.data,l=e.sortDirection;return t.nestedNtNrSortFunction({data:a,sortDirection:l,path:["z_score"],nullValue:0,limits:L})},width:65},{cellDataGetter:function cellDataGetter(e){var a=e.rowData;return t.getNtNrFromDataRow(a,"rpm",0)},cellRenderer:function cellRenderer(e){var a=e.cellData;return t.renderNtNrDecimalValues({cellData:a,decimalPlaces:1})},columnData:P.REPORT_TABLE_COLUMNS.rpm,dataKey:"rpm",label:"rPM",sortFunction:function sortFunction(e){var a=e.data,l=e.sortDirection;return t.nestedNtNrSortFunction({data:a,sortDirection:l,path:["rpm"],nullValue:0,limits:L})},width:75},{cellDataGetter:function cellDataGetter(e){var a=e.rowData;return t.getNtNrFromDataRow(a,"count",0)},cellRenderer:t.renderNtNrDecimalValues,columnData:P.REPORT_TABLE_COLUMNS.r,dataKey:"r",label:"r",sortFunction:function sortFunction(e){var a=e.data,l=e.sortDirection;return t.nestedNtNrSortFunction({data:a,sortDirection:l,path:["count"],nullValue:0,limits:L})},width:75},l&&{cellDataGetter:function cellDataGetter(e){var a=e.rowData;return t.getNtNrFromDataRow(a,"contigCount",0)},cellRenderer:t.renderNtNrDecimalValues,columnData:P.REPORT_TABLE_COLUMNS.contigs,dataKey:"contigCount",label:"contig",sortFunction:function sortFunction(e){var a=e.data,l=e.sortDirection;return t.nestedNtNrSortFunction({data:a,sortDirection:l,path:["contigCount"],nullValue:0,limits:L})},width:75},l&&{cellDataGetter:function cellDataGetter(e){var a=e.rowData;return t.getNtNrFromDataRow(a,"readsCount",0)},cellRenderer:t.renderNtNrDecimalValues,columnData:P.REPORT_TABLE_COLUMNS.contigreads,dataKey:"readsCount",label:"contig r",sortFunction:function sortFunction(e){var a=e.data,l=e.sortDirection;return t.nestedNtNrSortFunction({data:a,sortDirection:l,path:["readsCount"],nullValue:0,limits:L})},width:75},{cellDataGetter:function cellDataGetter(e){var a=e.rowData;return t.getNtNrFromDataRow(a,"percent_identity",0)},cellRenderer:function cellRenderer(e){var a=e.cellData;return t.renderNtNrDecimalValues({cellData:a,decimalPlaces:1})},columnData:P.REPORT_TABLE_COLUMNS.percentidentity,dataKey:"percent_identity",label:"%id",sortFunction:function sortFunction(e){var a=e.data,l=e.sortDirection;return t.nestedNtNrSortFunction({data:a,sortDirection:l,path:["percent_identity"],nullValue:0,limits:L})},width:60},{cellDataGetter:function cellDataGetter(e){var a=e.rowData;return t.getNtNrFromDataRow(a,"alignment_length",0)},cellRenderer:function cellRenderer(e){var a=e.cellData;return t.renderNtNrDecimalValues({cellData:a,decimalPlaces:1})},columnData:P.REPORT_TABLE_COLUMNS.alignmentlength,dataKey:"alignment_length",label:"L",sortFunction:function sortFunction(e){var a=e.data,l=e.sortDirection;return t.nestedNtNrSortFunction({data:a,sortDirection:l,path:["alignment_length"],nullValue:0,limits:L})},width:60},{cellDataGetter:function cellDataGetter(e){var a=e.rowData;return t.getNtNrFromDataRow(a,"e_value",0)},cellRenderer:function cellRenderer(e){var a=e.cellData;return t.renderNtNrDecimalValues({cellData:a,decimalPlaces:1})},columnData:P.REPORT_TABLE_COLUMNS.neglogevalue,dataKey:"e_value",label:"log(1/E)",sortFunction:function sortFunction(e){var a=e.data,l=e.sortDirection;return t.nestedNtNrSortFunction({data:a,sortDirection:l,path:["e_value"],nullValue:0,limits:L})},width:65},{dataKey:"ntnrSelector",disableSort:!0,headerClassName:I.default.ntnrSelectorHeader,headerRenderer:t.renderNtNrSelector,width:40}]),t}return(0,c.default)(ReportTable,e),(0,o.default)(ReportTable,[{key:"getNtNrFromDataRow",value:function getNtNrFromDataRow(e,t,a){return[(0,p.getOr)(a,["nt",t],e),(0,p.getOr)(a,["nr",t],e)]}}]),ReportTable}(f.default.Component);F.defaultProps={data:[],initialDbType:"nt",rowHeight:54},F.propTypes={data:x.default.array,initialDbType:x.default.oneOf(["nt","nr"]),onTaxonNameClick:x.default.func,rowHeight:x.default.number,alignVizAvailable:x.default.bool.isRequired,fastaDownloadEnabled:x.default.bool.isRequired,onCoverageVizClick:x.default.func.isRequired,phyloTreeAllowed:x.default.bool.isRequired,pipelineVersion:x.default.string,projectId:x.default.number,projectName:x.default.string,sampleId:x.default.number};var V=F;t.default=V},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(0)),r=l(a(1)),o=a(37),s=function ReportViewSelector(e){var t=e.view,a=e.onViewClick;return n.default.createElement(o.Menu,{icon:!0,floated:"right"},n.default.createElement(o.Popup,{trigger:n.default.createElement(o.Menu.Item,{name:"table",active:"table"===t,onClick:function onClick(){return a({view:"table"})}},n.default.createElement(o.Icon,{name:"table"})),content:"Table View",inverted:!0}),n.default.createElement(o.Popup,{trigger:n.default.createElement(o.Menu.Item,{name:"tree",active:"tree"===t,onClick:function onClick(){return a({view:"tree"})}},n.default.createElement(o.Icon,{name:"fork"})),content:n.default.createElement("div",null,"Taxonomic Tree View"),inverted:!0,position:"top right"}))};s.defaultProps={view:"table"},s.propTypes={view:r.default.oneOf(["table","tree"]),onViewClick:r.default.func};var i=s;t.default=i},function(e,t,a){"use strict";var l=a(96),n=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=SampleViewHeader;var r=n(a(26)),o=n(a(27)),s=l(a(0)),i=n(a(4)),d=a(17),c=n(a(46)),u=n(a(24)),f=n(a(505)),p=n(a(225)),m=a(57),h=a(176),g=a(61),v=a(20),y=a(82),b=a(42),C=n(a(325)),w=n(a(1826));function SampleViewHeader(e){var t=e.backgroundId,a=e.deletable,l=e.editable,n=e.onDetailsClick,u=e.onPipelineVersionChange,E=e.pipelineRun,S=e.project,_=e.projectSamples,k=e.reportPresent,N=e.sample,x=e.view,M=e.minContigReads,T=(0,s.useContext)(m.UserContext),P=function(){var e=(0,o.default)(r.default.mark(function _callee(){var e;return r.default.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:if(!x){t.next=5;break}return(e=(0,y.parseUrlParams)()).sampleIds=[N.id],t.next=5,(0,b.saveVisualization)(x,e);case 5:case"end":return t.stop()}},_callee)}));return function onSaveClick(){return e.apply(this,arguments)}}();return s.default.createElement(p.default,{className:w.default.viewHeader},s.default.createElement(p.default.Content,null,s.default.createElement("div",{className:(0,i.default)(w.default.pipelineInfo,(0,d.get)("pipeline_version",E)&&w.default.linkToPipelineViz),onClick:function onClick(){return(0,d.get)("pipeline_version",E)&&(0,g.openUrl)("/samples/".concat(N.id,"/pipeline_viz/").concat((0,d.get)("pipeline_version",E)),event)}},s.default.createElement("span",{className:w.default.pipelineRunVersion},"Pipeline ",function renderVersion(){if(!E)return"";var e=E.pipeline_version?"v".concat(E.pipeline_version):"N/A",t=(0,d.get)("alignment_config_name",E),a=t?", NT/NR: ".concat(t):"";return"".concat(e).concat(a)}()),s.default.createElement(C.default,{pipelineRun:E,pipelineVersions:(0,d.map)("pipeline_version",(0,d.get)("pipeline_runs",N)),lastProcessedAt:(0,d.get)("created_at",E),onPipelineVersionSelect:function onPipelineVersionSelect(e){(0,v.logAnalyticsEvent)("SampleView_pipeline-select_clicked",{sampleId:N.id,pipelineVersion:e}),u(e)}})),s.default.createElement(p.default.Pretitle,{breadcrumbLink:S&&"/home?project_id=".concat(S.id)},S?S.name:""),s.default.createElement(p.default.Title,{label:N&&N.name,id:N&&N.id,options:_.map(function(e){return{label:e.name,id:e.id,onClick:function onClick(){(0,g.openUrl)("/samples/".concat(e.id,"  "),event),(0,v.logAnalyticsEvent)("SampleView_header-title_clicked",{sampleId:e.id})}}})}),s.default.createElement("div",{className:w.default.sampleDetailsLinkContainer},s.default.createElement("span",{className:w.default.sampleDetailsLink,onClick:(0,v.withAnalytics)(n,"SampleView_sample-details-link_clicked",{sampleId:N&&N.id})},"Sample Details"))),s.default.createElement(p.default.Controls,null,s.default.createElement(c.default,{trigger:s.default.createElement(h.ShareButton,{onClick:function onClick(){(0,y.copyShortUrlToClipboard)(),(0,v.logAnalyticsEvent)("SampleView_share-button_clicked",{sampleId:N&&N.id})}}),content:"A shareable URL was copied to your clipboard!",on:"click",hideOnScroll:!0})," ",T.admin&&s.default.createElement(h.SaveButton,{onClick:(0,v.withAnalytics)(P,"SampleView_save-button_clicked",{sampleId:N&&N.id})})," ",s.default.createElement(f.default,{backgroundId:t,deletable:a,reportPresent:k,sample:N,project:S,pipelineRun:E,editable:l,view:x,minContigReads:M})))}SampleViewHeader.defaultProps={deletable:!1,projectSample:[],reportPresent:!1},SampleViewHeader.propTypes={backgroundId:u.default.number,deletable:u.default.bool,editable:u.default.bool.isRequired,onDetailsClick:u.default.func.isRequired,onPipelineVersionChange:u.default.func.isRequired,pipelineRun:u.default.PipelineRun,pipelineVersions:u.default.arrayOf(u.default.string),project:u.default.Project,projectSamples:u.default.arrayOf(u.default.Sample),reportPresent:u.default.bool,sample:u.default.Sample,view:u.default.string.isRequired,minContigReads:u.default.number}},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(47)),r=l(a(35)),o=l(a(32)),s=l(a(26)),i=l(a(27)),d=l(a(7)),c=l(a(8)),u=l(a(10)),f=l(a(9)),p=l(a(3)),m=l(a(11)),h=l(a(2)),g=l(a(0)),v=a(17),y=l(a(912)),b=l(a(4)),C=a(42),w=a(439),E=a(57),S=a(879),_=a(20),k=a(87),N=a(296),x=l(a(95)),M=l(a(347)),T=l(a(144)),P=l(a(425)),D=l(a(146)),I=l(a(81)),j=l(a(59)),L=l(a(24)),O=l(a(910)),R=l(a(97)),A=l(a(501)),F=a(507),V=l(a(909)),U=l(a(907)),z=l(a(908)),B=l(a(913)),H=l(a(1829));function ownKeys(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(a,!0).forEach(function(t){(0,h.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var q=v.mapValues.convert({cap:!1}),G=1,W=2,K={pipelineVersion:"string",selectedOptions:"object",view:"string"},Y={selectedOptions:{excludePaths:["taxon"]}},Z=function(e){function SampleViewV2(e,t){var a;(0,d.default)(this,SampleViewV2),a=(0,u.default)(this,(0,f.default)(SampleViewV2).call(this,e,t)),(0,h.default)((0,p.default)(a),"componentDidMount",function(){a.fetchSample(),a.fetchBackgrounds(),a.fetchSampleReportData(),(0,_.logAnalyticsEvent)("PipelineSampleReport_sample_viewed",{sampleId:a.props.sampleId}),(0,_.logAnalyticsEvent)(_.ANALYTICS_EVENT_NAMES.sampleViewed,{sampleId:a.props.sampleId})}),(0,h.default)((0,p.default)(a),"loadState",function(e,t){try{return JSON.parse(e.getItem(t))||{}}catch(e){console.warn("Bad state: ".concat(e))}return{}}),(0,h.default)((0,p.default)(a),"defaultSelectedOptions",function(){return{categories:{},metric:F.TREE_METRICS[0].value,minContigReads:4,nameType:"Scientific name",readSpecificity:0,thresholds:[]}}),(0,h.default)((0,p.default)(a),"fetchSample",(0,i.default)(s.default.mark(function _callee(){var e,t,l;return s.default.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return e=a.props.sampleId,t=a.state.pipelineVersion,n.next=4,(0,C.getSample)({sampleId:e});case 4:(l=n.sent).id=e,a.setState({sample:l,pipelineRun:(0,v.find)(t?{pipeline_version:t}:{id:l.default_pipeline_run_id},l.pipeline_runs),project:l.project},function(){a.fetchProjectSamples(),a.fetchCoverageVizData()});case 7:case"end":return n.stop()}},_callee)}))),(0,h.default)((0,p.default)(a),"fetchProjectSamples",(0,i.default)(s.default.mark(function _callee2(){var e,t;return s.default.wrap(function _callee2$(l){for(;;)switch(l.prev=l.next){case 0:if(!(e=a.state.project)){l.next=6;break}return l.next=4,(0,C.getSamples)({projectId:e.id,basic:!0});case 4:t=l.sent,a.setState({projectSamples:t.samples});case 6:case"end":return l.stop()}},_callee2)}))),(0,h.default)((0,p.default)(a),"fetchSampleReportData",(0,i.default)(s.default.mark(function _callee3(){var e,t,l,n,r,o,i,d,c;return s.default.wrap(function _callee3$(s){for(;;)switch(s.prev=s.next){case 0:return e=a.props.sampleId,t=a.state,l=t.pipelineVersion,n=t.selectedOptions,a.setState({loadingReport:!0}),s.next=5,(0,C.getSampleReportData)({sampleId:e,background:n.background,pipelineVersion:l});case 5:r=s.sent,o=[],i=new Set(r.highlightedTaxIds),r.sortedGenus&&(d=(0,N.getGeneraPathogenCounts)(r.counts[G]),r.sortedGenus.forEach(function(e){var t=!1,a=r.counts[W][e].species_tax_ids.map(function(e){var a=i.has(e);return t=t||a,(0,v.merge)(r.counts[G][e],{highlighted:a,taxId:e,taxLevel:"species"})});o.push((0,v.merge)(r.counts[W][e],{highlightedChildren:t,pathogens:d[e],taxId:e,taxLevel:"genus",species:a}))})),a.setDisplayName(_objectSpread({reportData:o},n)),a.computeContigStats(_objectSpread({reportData:o},n)),c=a.filterReportData({reportData:o,filters:n}),a.setState({filteredReportData:c,lineageData:r.lineage,loadingReport:!1,reportData:o,reportMetadata:r.metadata,selectedOptions:Object.assign({},n,{background:r.metadata.backgroundId})});case 13:case"end":return s.stop()}},_callee3)}))),(0,h.default)((0,p.default)(a),"fetchAmrData",(0,i.default)(s.default.mark(function _callee4(){var e,t;return s.default.wrap(function _callee4$(l){for(;;)switch(l.prev=l.next){case 0:return e=a.state.sample,l.next=3,(0,w.getAmrData)(e.id);case 3:t=l.sent,a.setState({amrData:t});case 5:case"end":return l.stop()}},_callee4)}))),(0,h.default)((0,p.default)(a),"fetchBackgrounds",(0,i.default)(s.default.mark(function _callee5(){var e;return s.default.wrap(function _callee5$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,C.getBackgrounds)();case 2:e=t.sent,a.setState({backgrounds:e});case 4:case"end":return t.stop()}},_callee5)}))),(0,h.default)((0,p.default)(a),"fetchCoverageVizData",(0,i.default)(s.default.mark(function _callee6(){var e,t;return s.default.wrap(function _callee6$(l){for(;;)switch(l.prev=l.next){case 0:if(e=a.state.sample,!a.coverageVizEnabled()){l.next=6;break}return l.next=4,(0,C.getCoverageVizSummary)(e.id);case 4:t=l.sent,a.setState({coverageVizDataByTaxon:t});case 6:case"end":return l.stop()}},_callee6)}))),(0,h.default)((0,p.default)(a),"applyFilters",function(e){var t=e.row,l=e.categories,n=e.subcategories,r=e.thresholds,o=e.readSpecificity,s=e.taxon;return a.filterTaxon({row:t,taxon:s})&&a.filterCategories({row:t,categories:l,subcategories:n})&&a.filterReadSpecificity({row:t,readSpecificity:o})&&a.filterThresholds({row:t,thresholds:r})}),(0,h.default)((0,p.default)(a),"filterTaxon",function(e){var t=e.row,a=e.taxon;return!a||t.taxId===a.taxId||t.genus_tax_id===a.taxId}),(0,h.default)((0,p.default)(a),"filterCategories",function(e){var t=e.row,a=e.categories,l=e.subcategories;return 0===a.size&&0===l.size||(!!(0,v.some)(function(e){return l.has(e)},t.subcategories||[])||!!(a.has(t.category)&&!(0,v.some)(function(e){return l.has(e)},t.subcategories||[])||a.has("uncategorized")&&null===t.category))}),(0,h.default)((0,p.default)(a),"getTaxonMetricValue",function(e,t){var a=t.split(":"),l=(0,v.get)(a,e);return a.includes("contigs")&&l?l=(0,v.sum)(Object.values(l)):a.includes("contig_reads")&&(l=(l=(0,v.get)([a[0],"contigs"],e))?(0,v.sum)(Object.entries(l).map(function(e){var t=(0,o.default)(e,2);return t[0]*t[1]})):0),l}),(0,h.default)((0,p.default)(a),"filterThresholds",function(e){var t=e.row,l=e.thresholds;return!l||!l.length||(0,v.every)(function(e){var l=e.metric,n=e.operator,r=e.value,o=parseFloat(r),s=a.getTaxonMetricValue(t,l);switch(n){case">=":return o<=s;case"<=":return o>=s}return!0},l)}),(0,h.default)((0,p.default)(a),"filterReadSpecificity",function(e){var t=e.row;return!e.readSpecificity||("genus"===t.taxLevel?t.taxId>0:t.genus_tax_id>0)}),(0,h.default)((0,p.default)(a),"computeRowContigStats",function(e){var t=e.row,a=e.minContigReads;["nr","nt"].forEach(function(e){var l=(0,v.get)([e,"contigs"],t);if(l&&(0,v.keys)(l).length){var n=t[e];n.contigCount=0,n.readsCount=0,(0,v.flow)(v.entries,(0,v.map)(function(e){var t=(0,o.default)(e,2),l=t[0],r=t[1];l>=a&&(n.contigCount+=r,n.readsCount+=r*l)}))(l)}})}),(0,h.default)((0,p.default)(a),"computeContigStats",function(e){var t=e.reportData,l=e.minContigReads;t.forEach(function(e){a.computeRowContigStats({row:e,minContigReads:l}),e.species.forEach(function(e){a.computeRowContigStats({row:e,minContigReads:l})})})}),(0,h.default)((0,p.default)(a),"setDisplayName",function(e){var t=e.reportData,a="Scientific name"===e.nameType;t.forEach(function(e){e.displayName=a?e.name:e.common_name,e.species.forEach(function(e){e.displayName=a?e.name:e.common_name})})}),(0,h.default)((0,p.default)(a),"filterReportData",function(e){var t=e.reportData,l=e.filters,n=l.categories,r=l.thresholds,o=l.readSpecificity,s=l.taxon,i=new Set((0,v.map)(function(e){return e.toLowerCase()},n.categories||[])),d=new Set((0,v.map)(function(e){return e.toLowerCase()},(0,v.flatten)((0,v.values)(n.subcategories)))),c=[];return t.forEach(function(e){e.passedFilters=a.applyFilters({row:e,categories:i,subcategories:d,thresholds:r,readSpecificity:o,taxon:s}),e.filteredSpecies=e.species.filter(function(e){return a.applyFilters({row:e,categories:i,subcategories:d,thresholds:r,readSpecificity:o,taxon:s})}),(e.passedFilters||e.filteredSpecies.length)&&c.push(e)}),c}),(0,h.default)((0,p.default)(a),"handlePipelineVersionSelect",function(e){var t=a.state,l=t.pipelineRun,n=t.sample;e!=l.version&&a.setState({pipelineRun:(0,v.find)({pipeline_version:e},n.pipeline_runs),pipelineVersion:e,filteredReportData:[],reportData:[]},function(){a.updateHistoryAndPersistOptions(),a.fetchSampleReportData(),a.fetchCoverageVizData()})}),(0,h.default)((0,p.default)(a),"handleTabChange",function(e){a.setState({currentTab:e});var t=e.replace(/\W+/g,"-").toLowerCase();(0,_.logAnalyticsEvent)("SampleView_tab-".concat(t,"_clicked"),{tab:e})}),(0,h.default)((0,p.default)(a),"updateHistoryAndPersistOptions",function(){var e=(0,v.pick)((0,v.keys)(K),a.state),t=q(function(e,t){return(0,v.omit)(e.excludePaths||[],a.state[t])},Y),l=a.urlParser.stringify(e);l&&(l="?".concat(l)),history.replaceState(e,"SampleView","".concat(l)),localStorage.setItem("SampleViewOptions",JSON.stringify(t))}),(0,h.default)((0,p.default)(a),"handleOptionChanged",function(e){var t=e.key,l=e.value,n=a.state.selectedOptions;if(!(0,y.default)(n[t],l)){var r=Object.assign({},n,(0,h.default)({},t,l));a.refreshDataFromOptionsChange({key:t,newSelectedOptions:r})}}),(0,h.default)((0,p.default)(a),"handleFilterRemoved",function(e){var t=e.key,l=e.subpath,n=e.value,r=_objectSpread({},a.state.selectedOptions);switch(t){case"categories":r.categories=(0,v.set)(l,(0,v.pull)(n,(0,v.get)(l,r.categories)),r.categories);break;case"taxon":r.taxon=null;break;case"thresholds":r.thresholds=(0,v.pull)(n,r.thresholds);break;default:return}a.refreshDataFromOptionsChange({key:t,newSelectedOptions:r})}),(0,h.default)((0,p.default)(a),"handleCoverageVizClick",function(e){var t=a.state,l=t.coverageVizParams,n=t.coverageVizVisible;e.taxId?n&&(0,v.get)("taxId",l)===e.taxId?a.setState({coverageVizVisible:!1}):a.setState({coverageVizParams:e,coverageVizVisible:!0,sidebarVisible:!1}):a.setState({coverageVizVisible:!1})}),(0,h.default)((0,p.default)(a),"closeCoverageViz",function(){a.setState({coverageVizVisible:!1})}),(0,h.default)((0,p.default)(a),"coverageVizEnabled",function(){var e=a.state.pipelineRun;return(0,k.pipelineVersionHasCoverageViz)((0,v.get)("pipeline_version",e))}),(0,h.default)((0,p.default)(a),"getCombinedAccessionDataForSpecies",function(e){var t=a.state.coverageVizDataByTaxon,l=(0,v.map)("taxId",e);return{best_accessions:(0,v.flatten)((0,v.compact)((0,v.map)(function getSpeciesBestAccessions(e){var a=(0,v.get)([e.taxId,"best_accessions"],t);return(0,v.map)(function(t){return _objectSpread({},t,{taxon_name:e.name,taxon_common_name:e.commonName})},a)},e))),num_accessions:(0,v.sum)((0,v.map)(function(e){return(0,v.get)([e,"num_accessions"],t)},l))}}),(0,h.default)((0,p.default)(a),"getCoverageVizParams",function(){var e=a.state,t=e.coverageVizParams,l=e.coverageVizDataByTaxon;if(!t)return{};var n=null;return n="genus"===t.taxLevel?a.getCombinedAccessionDataForSpecies(t.taxSpecies):(0,v.get)(t.taxId,l),{taxonId:t.taxId,taxonName:t.taxName,taxonCommonName:t.taxCommonName,taxonLevel:t.taxLevel,alignmentVizUrl:t.alignmentVizUrl,accessionData:n}}),(0,h.default)((0,p.default)(a),"refreshDataFromOptionsChange",function(e){var t=e.key,l=e.newSelectedOptions,n=a.state.reportData;switch(t){case"minContigReads":a.computeContigStats(_objectSpread({reportData:n},l)),a.setState({reportData:(0,r.default)(n)});break;case"nameType":a.setDisplayName(_objectSpread({reportData:n},l)),a.setState({reportData:(0,r.default)(n)});break;case"background":a.setState({reportData:[]},a.fetchSampleReportData);break;case"taxon":case"categories":case"thresholds":case"readSpecificity":a.setState({filteredReportData:a.filterReportData({reportData:n,filters:l})});break;case"metric":break;default:return}a.setState({selectedOptions:l},function(){a.updateHistoryAndPersistOptions()})}),(0,h.default)((0,p.default)(a),"toggleSidebar",function(e){var t=e.mode,l=a.state,n=l.sidebarMode;l.sidebarVisible&&n===t?a.setState({sidebarVisible:!1}):a.setState({sidebarMode:t,sidebarVisible:!0})}),(0,h.default)((0,p.default)(a),"handleTaxonClick",function(e){var t=a.state,l=t.sidebarMode,n=t.sidebarVisible,r=t.sidebarTaxonData;e.taxId?"taxonDetails"===l&&n&&r&&r.taxId===e.taxId?a.setState({sidebarVisible:!1}):a.setState({sidebarMode:"taxonDetails",sidebarTaxonData:e,sidebarVisible:!0,coverageVizVisible:!1}):a.setState({sidebarVisible:!1})}),(0,h.default)((0,p.default)(a),"toggleSampleDetailsSidebar",function(){var e=a.state,t=e.sidebarMode;e.sidebarVisible&&"sampleDetails"===t?a.setState({sidebarVisible:!1}):a.setState({sidebarMode:"sampleDetails",sidebarVisible:!0})}),(0,h.default)((0,p.default)(a),"closeSidebar",function(){a.setState({sidebarVisible:!1})}),(0,h.default)((0,p.default)(a),"handleMetadataUpdate",function(e,t){var l=a.state.sample;"name"===e&&a.setState({sample:Object.assign({},l,{name:t})})}),(0,h.default)((0,p.default)(a),"getSidebarParams",function(){var e=a.state,t=e.backgrounds,l=e.pipelineRun,n=e.sample,r=e.selectedOptions,o=e.sidebarMode,s=e.sidebarTaxonData;return"taxonDetails"===o?{background:(0,v.find)({id:r.background},t),parentTaxonId:(s.genus||{}).taxId,taxonId:s.taxId,taxonName:s.name,taxonValues:{NT:{rpm:(0,v.get)("nt.rpm",s)||0},NR:{rpm:(0,v.get)("nr.rpm",s)||0}}}:"sampleDetails"===o?{sampleId:n.id,pipelineVersion:l?l.pipeline_version:null,onMetadataUpdate:a.handleMetadataUpdate}:{}}),(0,h.default)((0,p.default)(a),"countReportRows",function(){var e=a.state,t=e.filteredReportData,l=e.reportData,n=l.length,r=t.length;return l.forEach(function(e){n+=e.species.length,r+=e.filteredSpecies.length}),{total:n,filtered:r}}),(0,h.default)((0,p.default)(a),"filteredMessage",function(){var e=a.countReportRows(),t=e.total,l=e.filtered;return l!=t?"".concat(l," rows passing the above filters, out of ").concat(t," total rows."):"".concat(t," total rows.")}),(0,h.default)((0,p.default)(a),"truncatedMessage",function(){var e=a.state.reportMetadata.truncatedReadsCount;return e&&"Initial input was truncated to ".concat(e," reads.")}),(0,h.default)((0,p.default)(a),"subsamplingMessage",function(){var e=a.state.reportMetadata,t=e.subsampledReadsCount,l=e.adjustedRemainingReadsCount;return t&&l&&t!=l&&"Report values are computed from ".concat(t," reads subsampled         randomly from the ").concat(l," reads passing host and quality filters.")}),(0,h.default)((0,p.default)(a),"renderReportInfo",function(){return(0,v.compact)([a.truncatedMessage(),a.subsamplingMessage(),a.filteredMessage()]).map(function(e,t){return g.default.createElement("span",{className:H.default.reportInfoMsg,key:"msg-".concat(t)},e)})}),(0,h.default)((0,p.default)(a),"clearAllFilters",function(){var e=a.state,t=e.reportData,l=_objectSpread({},e.selectedOptions);l.thresholds=[],l.categories={},a.setState({selectedOptions:l,filteredReportData:a.filterReportData({reportData:t,filters:l})},function(){a.updateHistoryAndPersistOptions()}),(0,_.logAnalyticsEvent)("PipelineSampleReport_clear-filters-link_clicked")}),(0,h.default)((0,p.default)(a),"countFilters",function(){var e=a.state.selectedOptions,t=e.categories,l=e.thresholds,n=e.taxon?1:0;return n+=l.length,n+=(t.categories||[]).length,n+=(0,v.sum)((0,v.map)(function(e){return e.length},(0,v.values)(t.subcategories||{})))}),(0,h.default)((0,p.default)(a),"renderSampleMessage",function(){var e,t,l,n,r,o,s=a.state,i=s.loadingReport,d=s.pipelineRun,c=s.reportMetadata,u=s.sample,f=c.errorMessage,p=c.knownUserError,m=c.pipelineRunStatus,h=c.jobStatus;if(i)e="Loading",t="Loading report data.",o=g.default.createElement(I.default,{className:H.default.icon}),n="inProgress";else if("WAITING"===m&&u&&!u.upload_error)e="IN PROGRESS",t=h,o=g.default.createElement(I.default,{className:H.default.icon}),n="inProgress",d&&d.pipeline_version&&(l="View Pipeline Visualization",r="/samples/".concat(u.id,"/pipeline_viz/").concat(d.pipeline_version));else{if(u){d&&(d.known_user_error=p,d.error_message=f);var v=(0,k.sampleErrorInfo)(u,d);e=v.status,t=v.message,l=v.linkText,n=v.type,r=v.link,o=v.icon}o=g.default.createElement(x.default,{className:H.default.icon})}return g.default.createElement("div",{className:H.default.sampleMessage},g.default.createElement("div",{className:H.default.textContainer},g.default.createElement("div",{className:(0,b.default)(H.default.reportStatus,H.default[n])},o,g.default.createElement("span",{className:H.default.text},e)),g.default.createElement("div",{className:H.default.message},t),g.default.createElement("a",{className:H.default.actionLink,href:r},l,l&&g.default.createElement("i",{className:(0,b.default)("fa fa-chevron-right",H.default.rightArrow)}))),g.default.createElement(T.default,{className:H.default.bacteriaIcon}))}),(0,h.default)((0,p.default)(a),"handleViewClick",function(e){var t=e.view;(0,_.logAnalyticsEvent)("PipelineSampleReport_".concat(t,"-view-menu_clicked")),a.setState({view:t},function(){a.updateHistoryAndPersistOptions()})}),(0,h.default)((0,p.default)(a),"renderReport",function(){var e=a.state,t=e.backgrounds,l=e.filteredReportData,n=e.lineageData,r=e.pipelineRun,o=e.project,s=e.reportMetadata,i=e.sample,d=e.selectedOptions,c=e.view;return s.reportReady?g.default.createElement("div",{className:H.default.reportViewContainer},g.default.createElement("div",{className:H.default.reportFilters},g.default.createElement(U.default,{backgrounds:t,onFilterChanged:a.handleOptionChanged,onFilterRemoved:a.handleFilterRemoved,sampleId:i&&i.id,selected:d,view:c})),g.default.createElement("div",{className:H.default.reportHeader},g.default.createElement("div",{className:H.default.statsRow},a.renderReportInfo(),!!a.countFilters()&&g.default.createElement("span",{className:H.default.clearAllFilters,onClick:a.clearAllFilters},"Clear All Filters")),g.default.createElement("div",{className:H.default.reportViewSelector},g.default.createElement(V.default,{view:c,onViewClick:a.handleViewClick}))),"table"===c&&g.default.createElement("div",{className:H.default.reportTable},g.default.createElement(z.default,{alignVizAvailable:!(!s||!s.alignVizAvailable),data:l,onCoverageVizClick:a.handleCoverageVizClick,onTaxonNameClick:(0,_.withAnalytics)(a.handleTaxonClick,"PipelineSampleReport_taxon-sidebar-link_clicked"),fastaDownloadEnabled:!(!s||!s.hasByteRanges),phyloTreeAllowed:!!i&&i.editable,pipelineVersion:r&&r.pipeline_version,projectId:o&&o.id,projectName:o&&o.name,sampleId:i&&i.id})),"tree"==c&&l.length>0&&g.default.createElement("div",null,g.default.createElement(B.default,{lineage:n,metric:d.metric,nameType:d.nameType,onTaxonClick:a.handleTaxonClick,sample:i,taxa:l,useReportV2Format:!0}))):a.renderSampleMessage()}),(0,h.default)((0,p.default)(a),"render",function(){var e=a.state,t=e.amrData,l=e.coverageVizVisible,n=e.currentTab,r=e.pipelineRun,o=e.project,s=e.projectSamples,i=e.reportMetadata,d=e.sample,c=e.selectedOptions,u=e.sidebarVisible,f=e.sidebarMode,p=e.view;return g.default.createElement(g.default.Fragment,null,g.default.createElement(j.default,{className:H.default.sampleViewContainer},g.default.createElement("div",{className:H.default.sampleViewHeader},g.default.createElement(O.default,{backgroundId:c.background,deletable:!!d&&d.deletable,editable:!!d&&d.editable,onDetailsClick:a.toggleSampleDetailsSidebar,onPipelineVersionChange:a.handlePipelineVersionSelect,pipelineRun:r,project:o,projectSamples:s,reportPresent:!!i.reportReady,sample:d,view:p,minContigReads:c.minContigReads})),g.default.createElement("div",{className:H.default.tabsContainer},g.default.createElement(E.UserContext.Consumer,null,function(e){return e.allowedFeatures.includes(S.AMR_TABLE_FEATURE)&&"SUCCEEDED"===i.pipelineRunStatus?g.default.createElement(R.default,{className:H.default.tabs,tabs:["Report","Antimicrobial Resistance"],value:n,onChange:a.handleTabChange}):g.default.createElement("div",{className:H.default.dividerContainer},g.default.createElement("div",{className:H.default.divider}))})),"Report"===n&&a.renderReport(),"Antimicrobial Resistance"===n&&t&&g.default.createElement(M.default,{amr:t})),d&&g.default.createElement(D.default,{visible:u,mode:f,onClose:(0,_.withAnalytics)(a.closeSidebar,"SampleView_details-sidebar_closed",{sampleId:d.id,sampleName:d.name}),params:a.getSidebarParams()}),a.coverageVizEnabled()&&g.default.createElement(P.default,{visible:l,onClose:(0,_.withAnalytics)(a.closeCoverageViz,"SampleView_coverage-viz-sidebar_closed",{sampleId:d.id,sampleName:d.name}),params:a.getCoverageVizParams(),sampleId:d.id,pipelineVersion:r.pipeline_version,nameType:c.nameType}))}),a.urlParser=new A.default(K);var l=a.urlParser.parse(location.search),c=(l.selectedOptions,(0,n.default)(l,["selectedOptions"])),m=a.loadState(localStorage,"SampleViewOptions"),L=(m.selectedOptions,(0,n.default)(m,["selectedOptions"])),Z=(t||{}).appConfig;return a.state=Object.assign({amrData:null,backgrounds:[],coverageVizDataByTaxon:{},coverageVizParams:{},coverageVizVisible:!1,currentTab:"Report",filteredReportData:[],loadingReport:!1,pipelineRun:null,pipelineVersion:null,project:null,projectSamples:[],reportData:[],reportMetadata:{},sample:null,sidebarMode:null,sidebarVisible:!1,sidebarTaxonData:null,view:"table",selectedOptions:Object.assign(a.defaultSelectedOptions(),Z.publicNcovReportPageSelectedOptions)},L,c),a}return(0,m.default)(SampleViewV2,e),(0,c.default)(SampleViewV2,[{key:"componentDidUpdate",value:function componentDidUpdate(){var e=this.state,t=e.amrData;"Antimicrobial Resistance"!==e.currentTab||t||this.fetchAmrData()}}]),SampleViewV2}(g.default.Component);t.default=Z,Z.contextType=E.UserContext,Z.propTypes={sampleId:L.default.number}},,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(35)),r=l(a(7)),o=l(a(8)),s=l(a(10)),i=l(a(9)),d=l(a(3)),c=l(a(11)),u=l(a(2)),f=l(a(0)),p=l(a(1)),m=a(20),h=a(17),g=l(a(177)),v=l(a(417)),y=h.map.convert({cap:!1}),b=function(e){function TaxonTreeVis(e){var t;return(0,r.default)(this,TaxonTreeVis),t=(0,s.default)(this,(0,i.default)(TaxonTreeVis).call(this,e)),(0,u.default)((0,d.default)(t),"getCollapsedInUrl",function(){try{var e=new URL(window.location.href),t=[];return e.searchParams.forEach(function(e,a){"c"===e&&t.push(a)}),new Set(t)}catch(e){console.error(e)}}),(0,u.default)((0,d.default)(t),"handleNodeHover",function(e){t.setState({nodeHover:e}),(0,m.logAnalyticsEvent)("TaxonTreeVis_node_hovered",{id:e.id,scientificName:e.data.scientificName,commonName:e.data.commonName})}),(0,u.default)((0,d.default)(t),"handleNodeLabelClick",function(e){var a=t.props.onTaxonClick;["genus","species"].includes(e.data.lineageRank)&&a(e.data),(0,m.logAnalyticsEvent)("TaxonTreeVis_node-label_clicked",{taxonId:e.data.taxId,taxonName:e.data.name,taxLevel:e.data.lineageRank})}),(0,u.default)((0,d.default)(t),"isCommonNameActive",function(){return"common name"===t.nameType.toLowerCase()}),(0,u.default)((0,d.default)(t),"fillNodeValues",function(e){e.leaves().forEach(function(e){e.children||e.data.values||function(){for(var t=e.ancestors(),a=function _loop(e){var a=t[e];if(a.children=a.children.filter(function(a){return a.id!==t[e-1].id}),a.children&&a.children.length>0)return"break"},l=1;l<t.length;l++){if("break"===a(l))break}}()}),e.eachAfter(function(e){e.data.highlight&&(e.data.highlight=!0,e.ancestors().forEach(function(e){e.data.highlight=!0}));var a=function _loop2(a){e.data.values||(e.data.values={}),t.metrics.hasOwnProperty(a)&&!e.data.values.hasOwnProperty(a)&&(e.data.values[a]=t.metrics[a].agg(e.children.filter(function(e){return e.data.values[a]}).map(function(e){return e.data.values[a]})))};for(var l in t.metrics)a(l)})}),(0,u.default)((0,d.default)(t),"createTree",function(){var e=t.props,a=e.taxa,l=e.lineage,n=[{id:"_"}],r=new Set,o=function formatAndAddNode(e){var t=e.nodeData,a=e.parentId,l=e.fixedId,o={id:"".concat(l||t.taxId),taxId:t.taxId,parentId:"".concat(a),name:t.name,scientificName:t.name,lineageRank:t.taxLevel,commonName:t.common_name,highlight:t.highlighted,values:{aggregatescore:t.agg_score,nt_r:(0,h.get)("nt.count",t)||0,nt_rpm:(0,h.get)("nt.rpm",t)||0,nt_zscore:(0,h.get)("nt.z_score",t)||0,nr_r:(0,h.get)("nr.count",t)||0,nr_rpm:(0,h.get)("nr.rpm",t)||0,nr_zscore:(0,h.get)("nr.z_score",t)||0}};r.add(o.id),n.push(o)};return a.forEach(function(e){var t=null;e.filteredSpecies.forEach(function(a){var n=l[a.taxId]||{};t||(0,h.getOr)(e.taxId,"parent",n)===e.taxId||(t=n.parent)}),e.filteredSpecies.forEach(function(a){var n=l[a.taxId]||{};o({nodeData:a,parentId:n.parent||l[e.taxId]&&e.taxId||t||"_"})});var a=l[e.taxId]||l[t]||{};o({nodeData:e,parentId:a.parent||"_",fixedId:t})}),y(function(e,t){r.has(t)||n.push({id:"".concat(t),taxId:parseInt(t),parentId:"".concat(e.parent||"_"),scientificName:e.name,lineageRank:e.rank})},l),n}),(0,u.default)((0,d.default)(t),"renderTooltip",function(){var e=t.state.nodeHover;if(!e)return null;var a=[];for(var l in t.metrics)t.metrics.hasOwnProperty(l)&&a.push(f.default.createElement("li",{key:"tt_".concat(l),className:"taxon_tooltip__row ".concat(t.props.metric===l?"taxon_tooltip__row--active":"")},f.default.createElement("div",{className:"taxon_tooltip__row__label"},t.metrics[l].label,":"),f.default.createElement("div",{className:"taxon_tooltip__row__value"},Math.round(e.data.values[l]).toLocaleString())));var n=t.isCommonNameActive()&&e.data.commonName||e.data.scientificName;return e.isAggregated&&(n="".concat((e.parent.collapsedChildren||[]).length," Taxa")),f.default.createElement("div",{className:"taxon_tooltip"},f.default.createElement("div",{className:"taxon_tooltip__title"},e.data.lineageRank),f.default.createElement("div",{className:"taxon_tooltip__name"},n),f.default.createElement("div",{className:"taxon_tooltip__title"},"Data"),f.default.createElement("div",{className:"taxon_tooltip__data"},f.default.createElement("ul",null,a)))}),(0,u.default)((0,d.default)(t),"renderPathogenLabel",function(e,t){return f.default.createElement("div",{className:"node-overlay node-overlay__".concat(e),key:"label-".concat(e)},f.default.createElement(g.default,{type:t}))}),(0,u.default)((0,d.default)(t),"renderPathogenLabels",function(){var e=[];return t.props.taxa.forEach(function(a){a.pathogenTag&&e.push(t.renderPathogenLabel(a.taxId,a.pathogenTag)),a.filteredSpecies.forEach(function(a){a.pathogenTag&&e.push(t.renderPathogenLabel(a.taxId,a.pathogenTag))})}),e}),t.state={nodeHover:null,taxonSidebarData:null},t.nameType=t.props.nameType,t.metric=t.props.metric,t.taxa=t.props.taxa,t.tree=null,t.treeVis=null,t.metrics={aggregatescore:{label:"Aggregate Score",agg:function agg(e){return Math.max.apply(Math,(0,n.default)(e))}},nt_r:{label:"NT r",agg:function agg(e){return e.reduce(function(e,t){return e+t},0)}},nt_rpm:{label:"NT rpm",agg:function agg(e){return e.reduce(function(e,t){return e+t},0)}},nr_r:{label:"NR r",agg:function agg(e){return e.reduce(function(e,t){return e+t},0)}},nr_rpm:{label:"NR rpm",agg:function agg(e){return e.reduce(function(e,t){return e+t},0)}}},t}return(0,c.default)(TaxonTreeVis,e),(0,o.default)(TaxonTreeVis,[{key:"componentDidMount",value:function componentDidMount(){var e=this.createTree(this.taxa);this.treeVis=new v.default(this.treeContainer,e,{attribute:this.metric,useCommonName:this.isCommonNameActive(),onNodeHover:this.handleNodeHover,onNodeLabelClick:this.handleNodeLabelClick,onCreatedTree:this.fillNodeValues,tooltipContainer:this.treeTooltip,onCollapsedStateChange:(0,m.withAnalytics)(this.persistCollapsedInUrl,"TaxonTreeVis_node-collapsed-state_changed"),collapsed:this.getCollapsedInUrl()||new Set}),this.treeVis.update()}},{key:"persistCollapsedInUrl",value:function persistCollapsedInUrl(e){try{var t=new URL(window.location.href);!function hasAllChildrenCollapsed(e){return!(e.children||!e.collapsedChildren)}(e)?t.searchParams.delete(e.id):t.searchParams.set(e.id,"c"),history.replaceState(window.history.state,document.title,t)}catch(e){console.error(e)}}},{key:"componentDidUpdate",value:function componentDidUpdate(){var e={};this.nameType!==this.props.nameType&&(this.nameType=this.props.nameType,e.useCommonName=this.isCommonNameActive()),this.metric!==this.props.metric&&(this.metric=this.props.metric,e.attribute=this.props.metric),Object.keys(e).length&&this.treeVis.setOptions(e),this.taxa!==this.props.taxa&&(this.taxa=this.props.taxa,this.treeVis.setTree(this.createTree(this.props.taxa)))}},{key:"capitalize",value:function capitalize(e){return e?e.charAt(0).toUpperCase()+e.slice(1):e}},{key:"render",value:function render(){var e=this;return f.default.createElement("div",{className:"taxon-tree-vis"},f.default.createElement("div",{className:"taxon-tree-vis__container",ref:function ref(t){e.treeContainer=t}},f.default.createElement("div",{className:"pathogen-labels"},this.renderPathogenLabels())),f.default.createElement("div",{className:"taxon-tree-vis__tooltip",ref:function ref(t){e.treeTooltip=t}},this.renderTooltip()))}}]),TaxonTreeVis}(f.default.Component);b.defaultProps={useReportV2Format:!1},b.propTypes={lineage:p.default.object,metric:p.default.string,nameType:p.default.string,taxa:p.default.array,onTaxonClick:p.default.func.isRequired};var C=b;t.default=C},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(2)),r=l(a(7)),o=l(a(8)),s=l(a(10)),i=l(a(9)),d=l(a(11)),c=l(a(0)),u=l(a(1)),f=l(a(4)),p=a(62),m=a(84),h=l(a(508)),g=l(a(917)),v=function(e){function AMRHeatmapControls(){return(0,r.default)(this,AMRHeatmapControls),(0,s.default)(this,(0,i.default)(AMRHeatmapControls).apply(this,arguments))}return(0,d.default)(AMRHeatmapControls,e),(0,o.default)(AMRHeatmapControls,[{key:"handleOptionChange",value:function handleOptionChange(e,t){var a=this.props,l=a.selectedOptions,r=a.onSelectedOptionsChange;t!==l[e]&&r((0,n.default)({},e,t))}},{key:"renderControlDropdowns",value:function renderControlDropdowns(){var e=this,t=this.props,a=t.controls,l=t.selectedOptions,n=t.isDataReady;return a.map(function(t){return c.default.createElement("div",{className:"col s3",key:t.key},c.default.createElement(m.Dropdown,{fluid:!0,rounded:!0,options:t.options,onChange:function onChange(a){return e.handleOptionChange(t.key,a)},value:l[t.key],label:t.label,disabled:!n}))})}},{key:"renderLegend",value:function renderLegend(){var e=this.props,t=e.isDataReady,a=e.maxValueForLegend,l=e.selectedOptions;if(t)return c.default.createElement("div",{className:"col s3",key:"SequentialLegendVis"},c.default.createElement(h.default,{min:0,max:a,scale:l.scale}))}},{key:"render",value:function render(){return c.default.createElement("div",{className:g.default.menu},c.default.createElement(p.Divider,null),c.default.createElement("div",{className:(0,f.default)(g.default.filterRow,"row")},this.renderControlDropdowns(),this.renderLegend()),c.default.createElement(p.Divider,null))}}]),AMRHeatmapControls}(c.default.Component);t.default=v,v.propTypes={controls:u.default.arrayOf(u.default.shape({key:u.default.string,options:u.default.arrayOf(u.default.shape({text:u.default.string,value:u.default.string})),label:u.default.string})),selectedOptions:u.default.shape({metric:u.default.string,viewLevel:u.default.string,scale:u.default.string}),onSelectedOptionsChange:u.default.func.isRequired,isDataReady:u.default.bool,maxValueForLegend:u.default.number}},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=a(246),s=a(952),i=a(48),d=l(a(1837)),c=l(a(916)),u=function(){function HeatmapLegend(e,t){var a=this;if((0,n.default)(this,HeatmapLegend),this.svg=null,this.g=null,this.container=(0,i.select)(e),this.options=Object.assign({numberOfLevels:10,colors:null,height:35,width:e.clientWidth,min:0,max:10,levels:10,cellHeight:20,cellWidth:null,fontSize:"9pt"},t),!this.options.colors){var l=(0,o.scaleSequential)(s.interpolateYlOrRd);this.options.colors=this.range(this.options.numberOfLevels).map(function(e){return l(e/(a.options.numberOfLevels-1))})}this.setup()}return(0,r.default)(HeatmapLegend,[{key:"range",value:function range(e){return Array.apply(null,{length:e}).map(Number.call,Number)}},{key:"setup",value:function setup(){this.svg=this.container.append("svg").attr("class","legend").attr("width",this.options.width).attr("height",this.options.height),this.g=this.svg.append("g"),this.gCells=this.g.append("g"),this.gLabels=this.g.append("g")}},{key:"updateOptions",value:function updateOptions(e){this.options=Object.assign(this.options,e)}},{key:"update",value:function update(){var e=(0,d.default)(Math.round(this.options.min)),t=(0,d.default)(Math.round(this.options.max)),a=(0,c.default)(e,this.options.fontSize),l=(0,c.default)(t,this.options.fontSize),n=this.options.width-a/2-l/2,r=n/this.options.colors.length;this.gLabels.selectAll("text").remove(),this.gCells.selectAll("rect").remove(),this.gLabels.selectAll(".legend-text-min").data([this.options.min]).enter().append("text").attr("class","mono").text(e).attr("x",a/2).attr("y",this.options.height).attr("text-anchor","middle"),this.gLabels.selectAll(".legend-text-max").data([this.options.max]).enter().append("text").attr("class","mono").text(t).attr("x",a/2+n).attr("y",this.options.height).style("text-anchor","middle"),this.gCells.selectAll(".legend-cell").data(this.options.colors).enter().append("rect").attr("x",function(e,t){return a/2+Math.floor(r*t)}).attr("y",0).attr("width",Math.ceil(r)).attr("height",this.options.cellHeight).style("fill",function(e){return e})}}]),HeatmapLegend}();t.default=u},,function(e,t,a){e.exports={AMRHeatmapView:"AMRHeatmapView-2EUaS",viewHeader:"viewHeader-3j1aV",controls:"controls-1eWHB",controlElement:"controlElement-2hwV0",menu:"menu-2Yc_O",filterRow:"filterRow-OWzMO",loadingIndicator:"loadingIndicator-3L8ka",noDataMsg:"noDataMsg-3e3NO"}},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(3)),d=l(a(11)),c=l(a(2)),u=l(a(0)),f=l(a(1)),p=l(a(4)),m=l(a(328)),h=l(a(440)),g=l(a(441)),v=a(178),y=a(179),b=a(20),C=l(a(1852)),w="allele",E=["collection_location_v2"],S=function(e){function AMRHeatmapVis(e){var t;return(0,n.default)(this,AMRHeatmapVis),t=(0,o.default)(this,(0,s.default)(AMRHeatmapVis).call(this,e)),(0,c.default)((0,i.default)(t),"colorFilter",function(e,t,a,l,n){return e>0?a:n}),(0,c.default)((0,i.default)(t),"onNodeHover",function(e){t.setState({nodeHoverInfo:t.getTooltipData(e),nodeHovered:!0})}),(0,c.default)((0,i.default)(t),"onNodeHoverMove",function(e,a){a&&t.setState({tooltipLocation:{left:a.pageX,top:a.pageY}})}),(0,c.default)((0,i.default)(t),"onNodeHoverOut",function(){t.setState({nodeHoverInfo:null})}),(0,c.default)((0,i.default)(t),"onRowLabelClick",function(e){var a=t.props,l=a.alleleToGeneMap,n=a.selectedOptions,r=a.onGeneLabelClick,o=e;n.viewLevel===w&&(o=l[e]),r(o)}),(0,c.default)((0,i.default)(t),"onMetadataLabelHover",function(e){var a=t.heatmap.getColumnMetadataLegend(e.value);t.setState({columnMetadataLegend:a,metadataLabelHovered:!0})}),(0,c.default)((0,i.default)(t),"onMetadataLabelOut",function(){t.setState({columnMetadataLegend:null})}),(0,c.default)((0,i.default)(t),"onMetadataAddButtonClick",function(e){t.setState({addMetadataTrigger:e}),(0,b.logAnalyticsEvent)("AMRHeatmapVis_metadata-add-button_clicked")}),(0,c.default)((0,i.default)(t),"onMetadataSelectionChange",function(e){t.setState({selectedMetadata:e}),(0,b.logAnalyticsEvent)("AMRHeatmapVis_selected-metadata_changed",{selectedMetadata:e})}),t.state={nodeHoverInfo:null,tooltipLocation:null,columnMetadataLegend:null,addMetadataTrigger:null,nodeHovered:!1,metadataLabelHovered:!1,selectedMetadata:new Set(E)},t.heatmap=null,t}return(0,d.default)(AMRHeatmapVis,e),(0,r.default)(AMRHeatmapVis,[{key:"componentDidMount",value:function componentDidMount(){this.updateHeatmap()}},{key:"componentDidUpdate",value:function componentDidUpdate(e,t){var a=this.state,l=a.selectedMetadata,n=a.nodeHovered,r=a.metadataLabelHovered,o=this.props,s=o.sampleLabels;o.selectedOptions===e.selectedOptions&&s===e.sampleLabels||this.updateHeatmap(),l===t.selectedMetadata&&s===e.sampleLabels||this.heatmap.updateColumnMetadata(this.getSelectedMetadataFields()),n!==t.nodeHovered&&(0,b.logAnalyticsEvent)("AMRHeatmapVis_heatmap-node-hover_triggered"),r!==t.metadataLabelHovered&&(0,b.logAnalyticsEvent)("AMRHeatmapVis_heatmap-metadata-label-hover_triggered")}},{key:"getMetadataTypes",value:function getMetadataTypes(){var e=this.props.samplesMetadataTypes;return Object.keys(e).sort().map(function(t){return{label:e[t].name,value:e[t].key}})}},{key:"getTooltipData",value:function getTooltipData(e){var t=this.props,a=t.sampleLabels,l=t.alleleToGeneMap,n=t.samplesWithAMRCounts,r=t.selectedOptions,o=t.metrics,s=a[e.columnIndex].label,i=this.getHeatmapLabels()[e.rowIndex].label,d=n[e.columnIndex],c=this.findAMRCountForName(i,d),f="",p="";switch(r.viewLevel){case w:f=l[p=i];break;case"gene":f=i,p=c?c.allele:"---"}return[{name:"Info",data:[["Sample",s],["Gene",f],["Allele",p]]},{name:"Values",data:o.map(function(e){var t=c?c[e.value]||"N/A":0;if("coverage"!==e.value&&"depth"!==e.value&&d.amrCounts.length>0){var a=d.amrCounts[0].rpm;0!==t||null!==a&&void 0!==a||(t="N/A")}return[e.text,e.value===r.metric?u.default.createElement("b",null,t):t]})}]}},{key:"getHeatmapLabels",value:function getHeatmapLabels(){var e=this.props,t=e.alleleLabels,a=e.geneLabels;switch(e.selectedOptions.viewLevel){case w:return t;case"gene":return a}}},{key:"findAMRCountForName",value:function findAMRCountForName(e,t){switch(this.props.selectedOptions.viewLevel){case w:return t.amrCounts.find(function(t){return t.allele===e});case"gene":var a=t.amrCounts.find(function(t){return t.annotation_gene===e});return void 0===a&&(a=t.amrCounts.find(function(t){return t.gene===e})),a}}},{key:"computeHeatmapValues",value:function computeHeatmapValues(e){var t=this,a=this.props,l=a.selectedOptions,n=a.samplesWithAMRCounts,r=[];return e.forEach(function(e){var a=[],o=e.label;n.forEach(function(e){var n=t.findAMRCountForName(o,e);void 0!==n?a.push(n[l.metric]||0):a.push(0)}),r.push(a)}),r}},{key:"updateHeatmap",value:function updateHeatmap(){var e=this.props,t=e.selectedOptions,a=e.sampleLabels,l=this.getHeatmapLabels(),n=a,r=this.computeHeatmapValues(l);null!==this.heatmap?(this.heatmap.updateData({rowLabels:l,columnLabels:n,values:r}),this.heatmap.updateScale(t.scale)):this.initializeHeatmap(l,n,r)}},{key:"initializeHeatmap",value:function initializeHeatmap(e,t,a){var l=this.props,n=l.selectedOptions,r=l.onSampleLabelClick;this.heatmap=new m.default(this.heatmapContainer,{rowLabels:e,columnLabels:t,values:a},{scale:n.scale,scaleMin:0,customColorCallback:this.colorFilter,onNodeHover:this.onNodeHover,onNodeHoverMove:this.onNodeHoverMove,onNodeHoverOut:this.onNodeHoverOut,onColumnLabelClick:r,onRowLabelClick:this.onRowLabelClick,columnMetadata:this.getSelectedMetadataFields(),onColumnMetadataLabelMove:this.onNodeHoverMove,onColumnMetadataLabelHover:this.onMetadataLabelHover,onColumnMetadataLabelOut:this.onMetadataLabelOut,onAddColumnMetadataClick:this.onMetadataAddButtonClick,marginLeft:50}),this.heatmap.start()}},{key:"getSelectedMetadataFields",value:function getSelectedMetadataFields(){var e=this.props.samplesMetadataTypes,t=this.state.selectedMetadata;return Array.from(t).map(function(t){return{label:e[t].name,value:t}}).sort(function sortByLabel(e,t){return e.label>t.label?1:-1})}},{key:"renderNodeHoverTooltip",value:function renderNodeHoverTooltip(){var e=this.state,t=e.nodeHoverInfo,a=e.tooltipLocation;if(t&&a)return u.default.createElement("div",{className:(0,p.default)(C.default.tooltip,t&&C.default.visible),style:(0,y.getTooltipStyle)(a,{buffer:20,below:!0})},u.default.createElement(v.DataTooltip,{data:t}))}},{key:"render",value:function render(){var e=this,t=this.state,a=t.columnMetadataLegend,l=t.tooltipLocation,n=t.addMetadataTrigger,r=t.selectedMetadata;return u.default.createElement("div",{className:C.default.AMRHeatmapVis},u.default.createElement("div",{className:C.default.AMRHeatmapContainer,ref:function ref(t){e.heatmapContainer=t}}),this.renderNodeHoverTooltip(),a&&l&&u.default.createElement(h.default,{metadataColors:a,tooltipLocation:l}),n&&u.default.createElement(g.default,{addMetadataTrigger:n,selectedMetadata:r,metadataTypes:this.getMetadataTypes(),onMetadataSelectionChange:this.onMetadataSelectionChange,onMetadataSelectionClose:function onMetadataSelectionClose(){e.setState({addMetadataTrigger:null})}}))}}]),AMRHeatmapVis}(u.default.Component);t.default=S,S.propTypes={samplesWithAMRCounts:f.default.arrayOf(f.default.shape({sampleName:f.default.string,sampleId:f.default.number,metadata:f.default.array,amrCounts:f.default.array,error:f.default.string})),selectedOptions:f.default.shape({metric:f.default.string,viewLevel:f.default.string,scale:f.default.string}),onSampleLabelClick:f.default.func,onGeneLabelClick:f.default.func,samplesMetadataTypes:f.default.object,sampleLabels:f.default.arrayOf(f.default.shape({label:f.default.string,id:f.default.number,metadata:f.default.object})),geneLabels:f.default.shape({label:f.default.string}),alleleLabels:f.default.shape({label:f.default.string}),alleleToGeneMap:f.default.object,metrics:f.default.arrayOf(f.default.shape({text:f.default.string,value:f.default.string}))}},,,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(10)),o=l(a(9)),s=l(a(11)),i=l(a(2)),d=l(a(0)),c=l(a(175)),u=l(a(243)),f=l(a(468)),p=l(a(1859)),m=function(e){function BulkDownloadTableRenderers(){return(0,n.default)(this,BulkDownloadTableRenderers),(0,r.default)(this,(0,o.default)(BulkDownloadTableRenderers).apply(this,arguments))}return(0,s.default)(BulkDownloadTableRenderers,e),BulkDownloadTableRenderers}(d.default.Component);t.default=m,(0,i.default)(m,"renderDownload",function(e){var t=e.rowData,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?d.default.createElement("div",{className:p.default.downloadCell},d.default.createElement(c.default,{className:p.default.downloadIcon}),d.default.createElement("div",{className:p.default.downloadRightPane},d.default.createElement("div",{className:p.default.downloadNameContainer},d.default.createElement("div",{className:p.default.downloadName},t.download_name),d.default.createElement(u.default,{className:p.default.downloadStatus,status:t.statusDisplay,type:t.statusType,tooltipText:t.tooltipText})),d.default.createElement("div",{className:p.default.metadata},d.default.createElement("span",{className:p.default.detailsLink,onClick:t.onStatusClick},"Details"),a&&d.default.createElement(d.default.Fragment,null,"|",d.default.createElement("span",{className:p.default.userName},t.user_name))))):null}),(0,i.default)(m,"renderNumberOfSamples",function(e){var t=e.rowData;return d.default.createElement("div",{className:p.default.samplesCell},t.num_samples)}),(0,i.default)(m,"renderStatus",function(e){var t=e.rowData,a=t.status,l=t.progress;return"success"===a?d.default.createElement("div",{className:p.default.statusCell},d.default.createElement("div",{className:p.default.links},d.default.createElement("div",{className:p.default.link,onClick:t.onDownloadFileClick},"Download File"))):"error"===a?d.default.createElement("div",{className:p.default.statusCell},d.default.createElement("div",{className:p.default.links},d.default.createElement("a",{className:p.default.link,href:"mailto:help@idseq.net"},"Contact us"))):d.default.createElement("div",{className:p.default.statusCell},d.default.createElement(f.default,{percentage:l,showHint:!0,tiny:!0}))})},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(26)),r=l(a(27)),o=l(a(7)),s=l(a(8)),i=l(a(10)),d=l(a(9)),c=l(a(3)),u=l(a(11)),f=l(a(2)),p=l(a(32)),m=l(a(0)),h=l(a(1)),g=a(17),v=l(a(300)),y=a(42),b=a(427),C=a(20),w=l(a(127)),E=l(a(923)),S=l(a(925)),_=l(a(1874)),k=(0,v.default)(function(e,t,a,l){var n=(0,g.get)(e,t),r=(0,g.get)(e,a),o={};if(n)for(var s=0,i=Object.entries(n);s<i.length;s++){var d=(0,p.default)(i[s],2),c=d[0],u=d[1];o[c]={value:u,displayName:r[c]||u}}return{downloadType:e,fields:o,sampleIds:Array.from(l)}}),N=function(e){function BulkDownloadModal(){var e,t;(0,o.default)(this,BulkDownloadModal);for(var a=arguments.length,l=new Array(a),s=0;s<a;s++)l[s]=arguments[s];return t=(0,i.default)(this,(e=(0,d.default)(BulkDownloadModal)).call.apply(e,[this].concat(l))),(0,f.default)((0,c.default)(t),"state",{bulkDownloadTypes:null,selectedFields:{},selectedFieldsDisplay:{},selectedDownloadTypeName:null,validSampleIds:new Set,invalidSampleNames:[],validationError:null,backgroundOptions:null,metricsOptions:null,allSamplesUploadedByCurrentUser:!1,loading:!0,waitingForCreate:!1,createStatus:null,createError:null}),(0,f.default)((0,c.default)(t),"handleDownloadRequest",function(){var e=t.state,a=e.selectedDownloadTypeName,l=e.selectedFields,n=e.selectedFieldsDisplay,r=e.validSampleIds,o=k(a,l,n,r);t.createBulkDownload(o)}),(0,f.default)((0,c.default)(t),"handleSelectDownloadType",function(e){e!==t.state.selectedDownloadTypeName&&((0,C.logAnalyticsEvent)("BulkDownloadModal_radio-button-for-download-type_selected",{downloadType:e}),t.setState({selectedDownloadTypeName:e}))}),(0,f.default)((0,c.default)(t),"handleFieldSelect",function(e,a,l,n){t.setState(function(t){return(0,C.logAnalyticsEvent)("BulkDownloadModal_dropdown-field-for-download-type_selected",{downloadType:e,fieldType:a,fieldValue:l,displayName:n}),{selectedFields:void 0!==l?(0,g.set)([e,a],l,t.selectedFields):(0,g.unset)([e,a],t.selectedFields),selectedFieldsDisplay:void 0!==n?(0,g.set)([e,a],n,t.selectedFieldsDisplay):(0,g.unset)([e,a],t.selectedFieldsDisplay)}})}),(0,f.default)((0,c.default)(t),"createBulkDownload",function(){var e=(0,r.default)(n.default.mark(function _callee(e){var a;return n.default.wrap(function _callee$(l){for(;;)switch(l.prev=l.next){case 0:return a=t.props.onGenerate,t.setState({waitingForCreate:!0}),l.prev=2,l.next=5,(0,b.createBulkDownload)(e);case 5:l.next=12;break;case 7:return l.prev=7,l.t0=l.catch(2),t.setState({waitingForCreate:!1,createStatus:"error",createError:l.t0.error}),(0,C.logAnalyticsEvent)("BulkDownloadModal_bulk-download-creation_failed"),l.abrupt("return");case 12:(0,C.logAnalyticsEvent)("BulkDownloadModal_bulk-download-creation_successful"),a();case 14:case"end":return l.stop()}},_callee,null,[[2,7]])}));return function(t){return e.apply(this,arguments)}}()),t}return(0,u.default)(BulkDownloadModal,e),(0,s.default)(BulkDownloadModal,[{key:"componentDidMount",value:function componentDidMount(){this.fetchSampleOptionsAndValidateSelectedSamples()}},{key:"fetchSampleOptionsAndValidateSelectedSamples",value:function(){var e=(0,r.default)(n.default.mark(function _callee2(){var e,t,a,l,r,o,s,i,d,c,u,f,m,h,g,v;return n.default.wrap(function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:return e=this.props.selectedSampleIds,t=this.fetchDownloadTypes(),a=this.fetchValidationInfo(Array.from(e)),l=this.fetchBackgrounds(),r=this.fetchHeatmapMetrics(),o=this.checkAllSamplesUploadedByCurrentUser(),n.next=8,Promise.all([t,a,l,r,o]);case 8:s=n.sent,i=(0,p.default)(s,5),d=i[0],c=i[1],u=i[2],f=i[3],m=i[4],h=new Set(c.validSampleIds),g=c.invalidSampleNames,v=c.error,this.setState({bulkDownloadTypes:d,validSampleIds:h,invalidSampleNames:g,validationError:v,backgroundOptions:u,metricsOptions:f,allSamplesUploadedByCurrentUser:m,loading:!1});case 19:case"end":return n.stop()}},_callee2,this)}));return function fetchSampleOptionsAndValidateSelectedSamples(){return e.apply(this,arguments)}}()},{key:"fetchDownloadTypes",value:function(){var e=(0,r.default)(n.default.mark(function _callee3(){var e;return n.default.wrap(function _callee3$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,b.getBulkDownloadTypes)();case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}},_callee3)}));return function fetchDownloadTypes(){return e.apply(this,arguments)}}()},{key:"fetchValidationInfo",value:function(){var e=(0,r.default)(n.default.mark(function _callee4(e){var t;return n.default.wrap(function _callee4$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,b.validateSampleIdsForBulkDownload)(e);case 2:return t=a.sent,a.abrupt("return",t);case 4:case"end":return a.stop()}},_callee4)}));return function fetchValidationInfo(t){return e.apply(this,arguments)}}()},{key:"fetchBackgrounds",value:function(){var e=(0,r.default)(n.default.mark(function _callee5(){var e,t;return n.default.wrap(function _callee5$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,y.getBackgrounds)();case 2:return e=a.sent,t=e.map(function(e){return{text:e.name,value:e.id}}),a.abrupt("return",t);case 5:case"end":return a.stop()}},_callee5)}));return function fetchBackgrounds(){return e.apply(this,arguments)}}()},{key:"fetchHeatmapMetrics",value:function(){var e=(0,r.default)(n.default.mark(function _callee6(){var e;return n.default.wrap(function _callee6$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,y.getHeatmapMetrics)();case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}},_callee6)}));return function fetchHeatmapMetrics(){return e.apply(this,arguments)}}()},{key:"checkAllSamplesUploadedByCurrentUser",value:function(){var e=(0,r.default)(n.default.mark(function _callee7(){var e,t;return n.default.wrap(function _callee7$(a){for(;;)switch(a.prev=a.next){case 0:return e=this.props.selectedSampleIds,a.next=3,(0,y.uploadedByCurrentUser)(Array.from(e));case 3:return t=a.sent,a.abrupt("return",t);case 5:case"end":return a.stop()}},_callee7,this)}));return function checkAllSamplesUploadedByCurrentUser(){return e.apply(this,arguments)}}()},{key:"render",value:function render(){var e=this.props,t=e.open,a=e.onClose,l=this.state,n=l.bulkDownloadTypes,r=l.validSampleIds,o=l.invalidSampleNames,s=l.validationError,i=l.backgroundOptions,d=l.metricsOptions,c=l.allSamplesUploadedByCurrentUser,u=l.selectedDownloadTypeName,f=l.selectedFields,p=l.waitingForCreate,h=l.createStatus,g=l.createError,v=r.size;return m.default.createElement(w.default,{narrow:!0,open:t,tall:!0,onClose:a},m.default.createElement("div",{className:_.default.modal},m.default.createElement("div",{className:_.default.header},m.default.createElement("div",{className:_.default.title},"Select a Download Type"),m.default.createElement("div",{className:_.default.tagline},v," sample",1!=v?"s":""," selected")),m.default.createElement("div",{className:_.default.options},m.default.createElement(E.default,{downloadTypes:n,validSampleIds:r,backgroundOptions:i,metricsOptions:d,allSamplesUploadedByCurrentUser:c,onFieldSelect:this.handleFieldSelect,selectedFields:f,selectedDownloadTypeName:u,onSelect:this.handleSelectDownloadType})),m.default.createElement("div",{className:_.default.footer},m.default.createElement(S.default,{loading:!n,downloadTypes:n,validSampleIds:r,invalidSampleNames:o,validationError:s,waitingForCreate:p,createStatus:h,createError:g,selectedFields:f,selectedDownloadTypeName:u,onDownloadRequest:this.handleDownloadRequest}))))}}]),BulkDownloadModal}(m.default.Component);N.propTypes={onClose:h.default.func.isRequired,open:h.default.bool,selectedSampleIds:h.default.instanceOf(Set),onGenerate:h.default.func.isRequired};var x=N;t.default=x},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(3)),d=l(a(11)),c=l(a(2)),u=l(a(0)),f=l(a(24)),p=a(17),m=l(a(4)),h=l(a(300)),g=l(a(243)),v=l(a(74)),y=l(a(229)),b=l(a(442)),C=l(a(46)),w=a(57),E=l(a(924)),S=a(509),_=l(a(1868)),k=function triggersConditionalField(e,t){return e.triggerValues.includes((0,p.get)(e.dependentField,t))},N=function(e){function BulkDownloadModalOptions(){var e,t;(0,n.default)(this,BulkDownloadModalOptions);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return t=(0,o.default)(this,(e=(0,s.default)(BulkDownloadModalOptions)).call.apply(e,[this].concat(l))),(0,c.default)((0,i.default)(t),"sortTaxaWithReadsOptions",(0,h.default)(function(e){return(0,p.orderBy)(["sampleCount","text"],["desc","asc"],e)})),(0,c.default)((0,i.default)(t),"renderOption",function(e,a){var l=t.props,n=l.backgroundOptions,r=l.metricsOptions,o=l.validSampleIds,s=l.onFieldSelect,i=l.selectedFields,d=l.selectedDownloadTypeName,c=(0,p.get)(d,i),f=(0,p.get)(a.type,c),m=null,h="",g=S.CONDITIONAL_FIELDS[0];if(a.type===g.field&&e.type===g.downloadType&&!k(g,c))return u.default.createElement("div",{className:_.default.field,key:a.type},u.default.createElement("div",{className:_.default.label},a.display_name,":"),u.default.createElement("div",{className:_.default.forcedOption},".fasta"),u.default.createElement("div",{className:_.default.info},"Note: Only .fasta is available when selecting one taxon."));if(!S.CONDITIONAL_FIELDS.some(function(t){return a.type===t.field&&e.type===t.downloadType&&!k(t,c)})){switch(a.type){case"file_format":m=a.options.map(function(e){return{text:e,value:e}}),h="Select file format";break;case"taxa_with_reads":return u.default.createElement("div",{className:_.default.field,key:a.type},u.default.createElement("div",{className:_.default.label},a.display_name,":"),u.default.createElement(E.default,{sampleIds:o,onChange:function onChange(t,l){s(e.type,a.type,t,l)},value:f,hitType:"read"}));case"taxa_with_contigs":return u.default.createElement("div",{className:_.default.field,key:a.type},u.default.createElement("div",{className:_.default.label},a.display_name,":"),u.default.createElement(E.default,{sampleIds:o,onChange:function onChange(t,l){s(e.type,a.type,t,l)},value:f,hitType:"contig"}));case"background":m=n||[],h=n?"Select background":"Loading...";break;case"metric":m=r||[],h=r?"Select metric":"Loading..."}return m?u.default.createElement("div",{className:_.default.field,key:a.type},u.default.createElement("div",{className:_.default.label},a.display_name,":"),u.default.createElement(v.default,{fluid:!0,placeholder:h,options:m,onChange:function onChange(t,l){s(e.type,a.type,t,l),S.CONDITIONAL_FIELDS.forEach(function(l){a.type!==l.dependentField||e.type!==l.downloadType||l.triggerValues.includes(t)||s(e.type,l.field,void 0,void 0)})},value:f,usePortal:!0,withinModal:!0})):null}}),(0,c.default)((0,i.default)(t),"renderDownloadType",function(e){var a=t.props,l=a.validSampleIds,n=a.onSelect,r=a.allSamplesUploadedByCurrentUser,o=a.selectedDownloadTypeName,s=t.context||{},i=s.admin,d=s.appConfig,c=o===e.type,f=!1,p="";!e.uploader_only||r||i?"original_input_file"===e.type&&d.maxSamplesBulkDownloadOriginalFiles&&l.size>d.maxSamplesBulkDownloadOriginalFiles&&!i&&(f=!0,p="No more than ".concat(d.maxSamplesBulkDownloadOriginalFiles," samples\n        allowed for ").concat(e.display_name," downloads")):(f=!0,p="To download ".concat(e.display_name,", you must be the original uploader of all selected samples."));var h=u.default.createElement("div",{className:(0,m.default)(_.default.downloadType,c&&_.default.selected,f&&_.default.disabled),key:e.type,onClick:function onClick(){return!f&&n(e.type)}},u.default.createElement(b.default,{disabled:f,className:_.default.radioButton,selected:c}),u.default.createElement("div",{className:_.default.content},u.default.createElement("div",{className:_.default.name},e.display_name,e.file_type_display&&u.default.createElement("span",{className:_.default.fileType},"(",e.file_type_display,")"),e.admin_only&&u.default.createElement(g.default,{inline:!0,status:"Admin Only"})),u.default.createElement("div",{className:_.default.description},e.description),e.fields&&c&&u.default.createElement("div",{className:_.default.fields},e.fields.map(function(a){return t.renderOption(e,a)}))));return f&&p?u.default.createElement(C.default,{key:e.type,trigger:h,content:p}):h}),(0,c.default)((0,i.default)(t),"renderDownloadTypes",function(){var e=t.props.downloadTypes;if(!e)return u.default.createElement(y.default,{message:"Loading download types..."});var a=(0,p.filter)(["category","report"],e),l=(0,p.filter)(["category","raw"],e);return u.default.createElement(u.default.Fragment,null,u.default.createElement("div",{className:_.default.category},u.default.createElement("div",{className:_.default.title},"Reports"),a.map(t.renderDownloadType)),u.default.createElement("div",{className:_.default.category},u.default.createElement("div",{className:_.default.title},"Raw Data"),l.map(t.renderDownloadType)))}),t}return(0,d.default)(BulkDownloadModalOptions,e),(0,r.default)(BulkDownloadModalOptions,[{key:"render",value:function render(){return u.default.createElement("div",{className:_.default.downloadTypeContainer},this.renderDownloadTypes())}}]),BulkDownloadModalOptions}(u.default.Component);N.propTypes={downloadTypes:f.default.arrayOf(f.default.DownloadType),selectedDownloadTypeName:f.default.string,selectedFields:f.default.objectOf(f.default.string),onFieldSelect:f.default.func.isRequired,validSampleIds:f.default.instanceOf(Set).isRequired,backgroundOptions:f.default.array,metricsOptions:f.default.array,allSamplesUploadedByCurrentUser:f.default.bool,onSelect:f.default.func.isRequired},N.contextType=w.UserContext;var x=N;t.default=x},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(35)),r=l(a(26)),o=l(a(27)),s=l(a(7)),i=l(a(8)),d=l(a(10)),c=l(a(9)),u=l(a(3)),f=l(a(11)),p=l(a(2)),m=l(a(0)),h=a(17),g=l(a(300)),v=a(42),y=l(a(24)),b=l(a(74)),C=l(a(1865)),w=200,E=function(e){function TaxonHitSelect(){var e,t;(0,s.default)(this,TaxonHitSelect);for(var a=arguments.length,l=new Array(a),n=0;n<a;n++)l[n]=arguments[n];return t=(0,d.default)(this,(e=(0,c.default)(TaxonHitSelect)).call.apply(e,[this].concat(l))),(0,p.default)((0,u.default)(t),"state",{options:null,isLoadingOptions:!1}),(0,p.default)((0,u.default)(t),"_lastQuery",""),(0,p.default)((0,u.default)(t),"handleFilterChange",function(e){t.setState({isLoadingOptions:!0}),t.loadOptionsForQuery(e)}),(0,p.default)((0,u.default)(t),"loadOptionsForQuery",(0,h.debounce)(w,function(){var e=(0,o.default)(r.default.mark(function _callee(e){var a,l,n,o,s,i;return r.default.wrap(function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return t._lastQuery=e,a=t.props,l=a.sampleIds,n=a.hitType,o="contig"===n?v.getTaxaWithContigsSuggestions:v.getTaxaWithReadsSuggestions,r.next=5,o(e,Array.from(l));case 5:if(s=r.sent,e==t._lastQuery){r.next=8;break}return r.abrupt("return");case 8:i=s.map(function(e){return{value:e.taxid,text:e.title,customNode:m.default.createElement("div",{className:C.default.option},m.default.createElement("div",{className:C.default.taxonName},e.title),m.default.createElement("div",{className:C.default.fill}),m.default.createElement("div",{className:C.default.sampleCount},e.sample_count)),sampleCount:e.sample_count}}),t.setState({options:i,isLoadingOptions:!1});case 10:case"end":return r.stop()}},_callee)}));return function(t){return e.apply(this,arguments)}}())),(0,p.default)((0,u.default)(t),"sortOptions",(0,g.default)(function(e){return(0,h.orderBy)(["sampleCount","text"],["desc","asc"],e)})),t}return(0,f.default)(TaxonHitSelect,e),(0,i.default)(TaxonHitSelect,[{key:"render",value:function render(){var e=this.props,t=e.sampleIds,a=e.onChange,l=e.value,r=e.usePortal,o=e.withinModal,s=this.state,i=s.options,d=s.isLoadingOptions,c=[{text:"All Taxa",value:"all",customNode:m.default.createElement("div",{className:C.default.option},m.default.createElement("div",{className:C.default.taxonName},"All taxa"),m.default.createElement("div",{className:C.default.fill}),m.default.createElement("div",{className:C.default.sampleCount},t.size))}].concat((0,n.default)(this.sortOptions(i)||[])),u=m.default.createElement("div",{className:C.default.optionsHeader},m.default.createElement("div",{className:C.default.header},"Taxon"),m.default.createElement("div",{className:C.default.fill}),m.default.createElement("div",{className:C.default.header},"Samples"));return m.default.createElement(b.default,{fluid:!0,placeholder:"Select taxon",options:c,onChange:a,value:l,optionsHeader:u,menuLabel:"Select taxon",className:C.default.taxaWithHitsDropdown,search:!0,onFilterChange:this.handleFilterChange,showNoResultsMessage:!0,isLoadingSearchOptions:d,usePortal:r,withinModal:o})}}]),TaxonHitSelect}(m.default.Component);E.propTypes={sampleIds:y.default.instanceOf(Set),onChange:y.default.func,value:y.default.number,usePortal:y.default.bool,withinModal:y.default.bool,hitType:y.default.oneOf(["read","contig"])},E.defaultProps={usePortal:!0,withinModal:!0};var S=E;t.default=S},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(3)),d=l(a(11)),c=l(a(2)),u=l(a(0)),f=l(a(24)),p=a(17),m=l(a(229)),h=l(a(875)),g=l(a(73)),v=l(a(51)),y=a(20),b=a(509),C=l(a(1871)),w=function triggersConditionalField(e,t){return e.triggerValues.includes((0,p.get)(e.dependentField,t))},E=function(e){function BulkDownloadModalFooter(e){var t;return(0,n.default)(this,BulkDownloadModalFooter),t=(0,o.default)(this,(0,s.default)(BulkDownloadModalFooter).call(this,e)),(0,c.default)((0,i.default)(t),"getSelectedDownloadType",function(){var e=t.props,a=e.downloadTypes,l=e.selectedDownloadTypeName;return l?a.find(function(e){return e.type===l}):null}),(0,c.default)((0,i.default)(t),"getRequiredFieldsForSelectedType",function(){var e=t.props,a=e.selectedFields,l=e.selectedDownloadTypeName,n=(0,p.get)(l,a),r=t.getSelectedDownloadType();if(!r)return null;var o=r.fields;return b.CONDITIONAL_FIELDS.forEach(function(e){r.type!==e.downloadType||w(e,n)||(o=(0,p.reject)(["type",e.field],o))}),o}),(0,c.default)((0,i.default)(t),"isSelectedDownloadValid",function(){var e=t.props,a=e.validSampleIds,l=e.selectedFields,n=e.selectedDownloadTypeName,r=(0,p.get)(n,l);if(!t.getSelectedDownloadType()||a.size<1)return!1;var o=t.getRequiredFieldsForSelectedType();return!o||!(0,p.some)(Boolean,(0,p.map)(function(e){return(0,p.isUndefined)((0,p.get)(e.type,r))},o))}),t}return(0,d.default)(BulkDownloadModalFooter,e),(0,r.default)(BulkDownloadModalFooter,[{key:"renderInvalidSamplesWarning",value:function renderInvalidSamplesWarning(){var e=this.props.invalidSampleNames,t=u.default.createElement("div",null,u.default.createElement("span",{className:C.default.highlight},e.length," sample",e.length>1?"s":""," won't be included in the bulk download"),", because they either failed or are still processing:"),a=u.default.createElement("span",null,e.map(function(e,t){return u.default.createElement("div",{key:t,className:C.default.messageLine},e)}));return u.default.createElement(h.default,{header:t,content:a,open:!1,type:"warn",displayStyle:"flat"})}},{key:"renderValidationError",value:function renderValidationError(){return u.default.createElement("div",{className:C.default.notificationContainer},u.default.createElement(g.default,{type:"error",displayStyle:"flat"},u.default.createElement("div",{className:C.default.errorMessage},"An error occurred when verifying your selected samples.")))}},{key:"renderNoValidSamplesError",value:function renderNoValidSamplesError(){return u.default.createElement("div",{className:C.default.notificationContainer},u.default.createElement(g.default,{type:"error",displayStyle:"flat"},u.default.createElement("div",{className:C.default.errorMessage},"No valid samples to download data from.")))}},{key:"renderDownloadButton",value:function renderDownloadButton(){var e=this.props,t=e.waitingForCreate,a=e.createStatus,l=e.createError,n=e.onDownloadRequest;return t?u.default.createElement(m.default,{message:"Starting your download..."}):"error"===a?u.default.createElement(g.default,{type:"error"},l):u.default.createElement(v.default,{disabled:!this.isSelectedDownloadValid(),text:"Start Generating Download",onClick:(0,y.withAnalytics)(n,"BulkDownloadModalFooter_start-generating-button_clicked")})}},{key:"render",value:function render(){var e=this.props,t=e.validSampleIds,a=e.invalidSampleNames,l=e.validationError,n=e.loading,r=t.size;return u.default.createElement("div",{className:C.default.footer},u.default.createElement("div",{className:C.default.notifications},a.length>0&&this.renderInvalidSamplesWarning(),null!=l&&this.renderValidationError(),r<1&&!n&&this.renderNoValidSamplesError()),this.renderDownloadButton(),u.default.createElement("div",{className:C.default.downloadDisclaimer},"Downloads for larger files can take multiple hours to generate."))}}]),BulkDownloadModalFooter}(u.default.Component);t.default=E,E.propTypes={loading:f.default.bool,downloadTypes:f.default.arrayOf(f.default.DownloadType),validSampleIds:f.default.instanceOf(Set).isRequired,invalidSampleNames:f.default.arrayOf(f.default.string),validationError:f.default.string,selectedDownloadTypeName:f.default.string,selectedFields:f.default.objectOf(f.default.string),waitingForCreate:f.default.bool,createStatus:f.default.string,createError:f.default.string,onDownloadRequest:f.default.func.isRequired}},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.showBulkDownloadNotification=t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(0)),c=l(a(1)),u=a(217),f=l(a(73)),p=a(20),m=l(a(1877)),h=function(e){function BulkDownloadNotification(){return(0,n.default)(this,BulkDownloadNotification),(0,o.default)(this,(0,s.default)(BulkDownloadNotification).apply(this,arguments))}return(0,i.default)(BulkDownloadNotification,e),(0,r.default)(BulkDownloadNotification,[{key:"render",value:function render(){var e=this.props.onClose,t=d.default.createElement("div",{className:m.default.label},d.default.createElement("div",{className:m.default.message},"We've received your download request and are busy preparing your data. To check the status of your download, visit the"," ",d.default.createElement("a",{href:"bulk_downloads",onClick:(0,p.logAnalyticsEvent)("BulkDownloadNotification_downloads-page-link-clicked")},"Downloads page"),"."));return d.default.createElement(f.default,{className:m.default.publicSampleNotification,displayStyle:"elevated",type:"info",onClose:e},t)}}]),BulkDownloadNotification}(d.default.Component);t.default=h;t.showBulkDownloadNotification=function showBulkDownloadNotification(){(0,u.showToast)(function(e){var t=e.closeToast;return d.default.createElement(h,{onClose:t})},{autoClose:12e3})},h.propTypes={onClose:c.default.func}},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(3)),d=l(a(11)),c=l(a(2)),u=l(a(0)),f=l(a(1)),p=a(17),m=l(a(4)),h=a(84),g=a(62),v=a(20),y=l(a(470)),b=l(a(508)),C=l(a(293)),w=l(a(142)),E=l(a(510)),S=function(e){function SamplesHeatmapControls(){var e,t;(0,n.default)(this,SamplesHeatmapControls);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return t=(0,o.default)(this,(e=(0,s.default)(SamplesHeatmapControls)).call.apply(e,[this].concat(l))),(0,c.default)((0,i.default)(t),"onTaxonLevelChange",function(e){t.props.selectedOptions.species!==e&&(t.props.onSelectedOptionsChange({species:e}),(0,v.logAnalyticsEvent)("SamplesHeatmapControls_taxon-level-select_changed",{taxonLevel:e}))}),(0,c.default)((0,i.default)(t),"onCategoryChange",function(e,a){t.props.onSelectedOptionsChange({categories:e,subcategories:a}),(0,v.logAnalyticsEvent)("SamplesHeatmapControls_category-filter_changed",{categories:e.length,subcategories:a.length})}),(0,c.default)((0,i.default)(t),"onMetricChange",function(e){e!==t.props.selectedOptions.metric&&(t.props.onSelectedOptionsChange({metric:e}),(0,v.logAnalyticsEvent)("SamplesHeatmapControls_metric-select_changed",{metric:e}))}),(0,c.default)((0,i.default)(t),"onBackgroundChange",function(e){e!=t.props.selectedOptions.background&&(t.props.onSelectedOptionsChange({background:e}),(0,v.logAnalyticsEvent)("SamplesHeatmapControls_background-select_changed",{background:e}))}),(0,c.default)((0,i.default)(t),"onThresholdFilterApply",function(e){(0,p.isEqual)(e,t.props.selectedOptions.thresholdFilters)||(t.props.onSelectedOptionsChange({thresholdFilters:e}),(0,v.logAnalyticsEvent)("SamplesHeatmapControls_threshold-filter-select_applied",{filters:e.length}))}),(0,c.default)((0,i.default)(t),"onSpecificityChange",function(e){e!==t.props.selectedOptions.readSpecificity&&(t.props.onSelectedOptionsChange({readSpecificity:e}),(0,v.logAnalyticsEvent)("SamplesHeatmapControls_specificity-filter_changed",{readSpecificity:e}))}),(0,c.default)((0,i.default)(t),"onSortSamplesChange",function(e){e!==t.props.selectedOptions.sampleSortType&&(t.props.onSelectedOptionsChange({sampleSortType:e}),(0,v.logAnalyticsEvent)("SamplesHeatmapControls_sort-samples-select_changed",{sampleSortType:e}))}),(0,c.default)((0,i.default)(t),"onSortTaxaChange",function(e){e!==t.props.selectedOptions.taxaSortType&&(t.props.onSelectedOptionsChange({taxaSortType:e}),(0,v.logAnalyticsEvent)("SamplesHeatmapControls_sort-taxa-select_changed",{taxaSortType:e}))}),(0,c.default)((0,i.default)(t),"onDataScaleChange",function(e){e!=t.props.selectedOptions.dataScaleIdx&&(t.props.onSelectedOptionsChange({dataScaleIdx:e}),(0,v.logAnalyticsEvent)("SamplesHeatmapControls_data-scale-select_changed",{dataScaleIdx:e}))}),(0,c.default)((0,i.default)(t),"onTaxonsPerSampleEnd",function(e){t.props.onSelectedOptionsChange({taxonsPerSample:e}),(0,v.logAnalyticsEvent)("SamplesHeatmapControls_taxons-per-sample-slider_changed",{taxonsPerSample:e})}),(0,c.default)((0,i.default)(t),"handleRemoveThresholdFilter",function(e){var a=(0,p.pull)(e,t.props.selectedOptions.thresholdFilters);t.props.onSelectedOptionsChange({thresholdFilters:a})}),(0,c.default)((0,i.default)(t),"handleRemoveCategory",function(e){var a=(0,p.pull)(e,t.props.selectedOptions.categories);t.props.onSelectedOptionsChange({categories:a})}),(0,c.default)((0,i.default)(t),"handleRemoveSubcategory",function(e){var a=(0,p.omitBy)(p.isEmpty,(0,p.mapValues)((0,p.pull)(e),t.props.selectedOptions.subcategories));t.props.onSelectedOptionsChange({subcategories:a})}),(0,c.default)((0,i.default)(t),"renderFilterTags",function(){var e=[],a=t.props.selectedOptions;if(a.thresholdFilters&&(e=e.concat(a.thresholdFilters.map(function(e,a){return u.default.createElement(C.default,{className:E.default.filterTag,key:"threshold_filter_tag_".concat(a),threshold:e,onClose:function onClose(){t.handleRemoveThresholdFilter(e),(0,v.logAnalyticsEvent)("SamplesHeatmapControls_threshold-filter_removed",{value:e.value,operator:e.operator,metric:e.metric})}})}))),a.categories&&(e=e.concat(a.categories.map(function(e,a){return u.default.createElement(w.default,{className:E.default.filterTag,key:"category_filter_tag_".concat(a),text:e,onClose:function onClose(){t.handleRemoveCategory(e),(0,v.logAnalyticsEvent)("SamplesHeatmapControl_categories-filter_removed",{category:e})}})}))),a.subcategories){var l=(0,p.flatten)((0,p.values)(a.subcategories));e=e.concat(l.map(function(e,a){return u.default.createElement(w.default,{className:E.default.filterTag,key:"subcat_filter_tag_".concat(a),text:e,onClose:function onClose(){t.handleRemoveSubcategory(e),(0,v.logAnalyticsEvent)("SamplesHeatmapControl_categories-filter_removed",{subcat:e})}})}))}return e}),t}return(0,d.default)(SamplesHeatmapControls,e),(0,r.default)(SamplesHeatmapControls,[{key:"renderTaxonLevelSelect",value:function renderTaxonLevelSelect(){return u.default.createElement(h.Dropdown,{fluid:!0,rounded:!0,options:this.props.options.taxonLevels,value:this.props.selectedOptions.species,onChange:this.onTaxonLevelChange,label:"Taxon Level",disabled:!this.props.data})}},{key:"renderCategoryFilter",value:function renderCategoryFilter(){var e=this,t=this.props.options.categories.map(function(t){var a={text:t,value:t},l=e.props.options.subcategories[t];return Array.isArray(l)&&(a.suboptions=l.map(function(e){return{text:e,value:e}})),a});return u.default.createElement(h.MultipleNestedDropdown,{boxed:!0,fluid:!0,rounded:!0,options:t,onChange:this.onCategoryChange,selectedOptions:this.props.selectedOptions.categories,selectedSuboptions:this.props.selectedOptions.subcategories,label:"Taxon Categories",disabled:!this.props.data})}},{key:"renderMetricSelect",value:function renderMetricSelect(){return u.default.createElement(h.Dropdown,{fluid:!0,rounded:!0,options:this.props.options.metrics,onChange:this.onMetricChange,value:this.props.selectedOptions.metric,label:"Metric",disabled:!this.props.data})}},{key:"renderBackgroundSelect",value:function renderBackgroundSelect(){var e=this.props.options.backgrounds.map(function(e){return{text:e.name,value:e.value}});return u.default.createElement(h.Dropdown,{fluid:!0,rounded:!0,options:e,onChange:this.onBackgroundChange,value:this.props.selectedOptions.background,label:"Background",disabled:!this.props.data})}},{key:"renderThresholdFilterSelect",value:function renderThresholdFilterSelect(){return u.default.createElement(h.ThresholdFilterDropdown,{options:this.props.options.thresholdFilters,thresholds:this.props.selectedOptions.thresholdFilters,onApply:this.onThresholdFilterApply,disabled:!this.props.data})}},{key:"renderSpecificityFilter",value:function renderSpecificityFilter(){return u.default.createElement(h.Dropdown,{fluid:!0,rounded:!0,options:this.props.options.specificityOptions,value:this.props.selectedOptions.readSpecificity,label:"Read Specificity",onChange:this.onSpecificityChange,disabled:!this.props.data})}},{key:"renderSortSamplesSelect",value:function renderSortSamplesSelect(){return u.default.createElement(h.Dropdown,{fluid:!0,rounded:!0,options:this.props.options.sampleSortTypeOptions,value:this.props.selectedOptions.sampleSortType,label:"Sort Samples",onChange:this.onSortSamplesChange,disabled:!this.props.data})}},{key:"renderSortTaxaSelect",value:function renderSortTaxaSelect(){return u.default.createElement(h.Dropdown,{fluid:!0,rounded:!0,options:this.props.options.taxaSortTypeOptions,value:this.props.selectedOptions.taxaSortType,label:"Sort Taxa",onChange:this.onSortTaxaChange,disabled:!this.props.data})}},{key:"renderScaleSelect",value:function renderScaleSelect(){var e=this.props.options.scales.map(function(e,t){return{text:e[0],value:t}});return u.default.createElement(h.Dropdown,{fluid:!0,rounded:!0,value:this.props.selectedOptions.dataScaleIdx,onChange:this.onDataScaleChange,options:e,label:"Scale",disabled:!this.props.data})}},{key:"renderTaxonsPerSampleSlider",value:function renderTaxonsPerSampleSlider(){return u.default.createElement(y.default,{label:"Taxa per Sample: ",min:this.props.options.taxonsPerSample.min,max:this.props.options.taxonsPerSample.max,value:this.props.selectedOptions.taxonsPerSample,onAfterChange:this.onTaxonsPerSampleEnd})}},{key:"renderLegend",value:function renderLegend(){if(!this.props.loading&&this.props.data&&(this.props.data[this.props.selectedOptions.metric]||[]).length){var e=this.props.data[this.props.selectedOptions.metric],t=this.props.selectedOptions.dataScaleIdx;return u.default.createElement(b.default,{min:Math.max(0,(0,p.min)(e.map(function(e){return(0,p.min)(e)}))),max:(0,p.max)(e.map(function(e){return(0,p.max)(e)})),scale:this.props.options.scales[t][1]})}}},{key:"render",value:function render(){return u.default.createElement("div",{className:E.default.menu},u.default.createElement(g.Divider,null),u.default.createElement("div",{className:"".concat(E.default.filterRow," row")},u.default.createElement("div",{className:"col s2"},this.renderTaxonLevelSelect()),u.default.createElement("div",{className:"col s2"},this.renderCategoryFilter()),u.default.createElement("div",{className:"col s2"},this.renderSortTaxaSelect()),u.default.createElement("div",{className:"col s2"},this.renderSortSamplesSelect()),u.default.createElement("div",{className:"col s2"},this.renderMetricSelect()),u.default.createElement("div",{className:"col s2"},this.renderBackgroundSelect())),u.default.createElement("div",{className:"".concat(E.default.filterRow," row")},u.default.createElement("div",{className:"col s2"},this.renderThresholdFilterSelect()),u.default.createElement("div",{className:"col s2"},this.renderSpecificityFilter()),u.default.createElement("div",{className:"col s2"},this.renderScaleSelect()),u.default.createElement("div",{className:"col s2"},this.renderTaxonsPerSampleSlider()),u.default.createElement("div",{className:"col s2"},this.renderLegend())),u.default.createElement("div",{className:(0,m.default)(E.default.filterTagsList,"row")},u.default.createElement("div",{className:"col"},this.renderFilterTags())),u.default.createElement(g.Divider,null))}}]),SamplesHeatmapControls}(u.default.Component);t.default=S,S.propTypes={options:f.default.shape({metrics:f.default.arrayOf(f.default.shape({text:f.default.string,value:f.default.string})),categories:f.default.arrayOf(f.default.string),subcategories:f.default.objectOf(f.default.arrayOf(f.default.string)),backgrounds:f.default.arrayOf(f.default.shape({name:f.default.string,value:f.default.number})),taxonLevels:f.default.arrayOf(f.default.shape({text:f.default.string,value:f.default.number})),specificityOptions:f.default.arrayOf(f.default.shape({text:f.default.string,value:f.default.number})),sampleSortTypeOptions:f.default.arrayOf(f.default.shape({text:f.default.string,value:f.default.string})),taxaSortTypeOptions:f.default.arrayOf(f.default.shape({text:f.default.string,value:f.default.string})),sortTaxaOptions:f.default.arrayOf(f.default.shape({text:f.default.string,value:f.default.number})),thresholdFilters:f.default.shape({operators:f.default.arrayOf(f.default.string),targets:f.default.arrayOf(f.default.shape({text:f.default.string,value:f.default.string}))}),scales:f.default.arrayOf(f.default.arrayOf(f.default.string)),taxonsPerSample:f.default.objectOf(f.default.number)}),selectedOptions:f.default.shape({species:f.default.number,categories:f.default.arrayOf(f.default.string),subcategories:f.default.objectOf(f.default.arrayOf(f.default.string)),metric:f.default.string,background:f.default.number,thresholdFilters:f.default.arrayOf(f.default.shape({metric:f.default.string,value:f.default.string,operator:f.default.string})),readSpecificity:f.default.number,sampleSortType:f.default.string,taxaSortType:f.default.string,dataScaleIdx:f.default.number,taxonsPerSample:f.default.number}),onSelectedOptionsChange:f.default.func.isRequired,loading:f.default.bool,data:f.default.objectOf(f.default.arrayOf(f.default.arrayOf(f.default.number)))}},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(3)),d=l(a(11)),c=l(a(2)),u=l(a(0)),f=l(a(1)),p=l(a(46)),m=l(a(243)),h=a(176),g=a(84),v=a(20),y=a(57),b=a(62),C=l(a(510)),w=[{text:"Download CSV",value:"csv"},{text:"Download SVG",value:"svg"},{text:"Download PNG",value:"png"}],E=function(e){function SamplesHeatmapHeader(){var e,t;(0,n.default)(this,SamplesHeatmapHeader);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return t=(0,o.default)(this,(e=(0,s.default)(SamplesHeatmapHeader)).call.apply(e,[this].concat(l))),(0,c.default)((0,i.default)(t),"handleDownloadClick",function(e){switch(e){case"svg":t.props.onDownloadSvg();break;case"png":t.props.onDownloadPng();break;case"csv":t.props.onDownloadCsv()}(0,v.logAnalyticsEvent)("SamplesHeatmapHeader_download-button_clicked",{sampleIds:t.props.sampleIds.length,fileType:e})}),t}return(0,d.default)(SamplesHeatmapHeader,e),(0,r.default)(SamplesHeatmapHeader,[{key:"render",value:function render(){var e=this.props.sampleIds,t=(this.context||{}).allowedFeatures;return u.default.createElement(b.ViewHeader,{className:C.default.viewHeader},u.default.createElement(b.ViewHeader.Content,null,u.default.createElement(b.ViewHeader.Pretitle,null,u.default.createElement(u.default.Fragment,null,"Heatmap",t.includes("heatmap_filter_fe")&&u.default.createElement(m.default,{status:"Beta - Client Filtering",type:"info",inline:!0}))),u.default.createElement(b.ViewHeader.Title,{label:"Comparing ".concat(e?e.length:""," Samples")})),u.default.createElement(b.ViewHeader.Controls,{className:C.default.controls},u.default.createElement(p.default,{trigger:u.default.createElement(h.ShareButton,{onClick:(0,v.withAnalytics)(this.props.onShareClick,"SamplesHeatmapHeader_share-button_clicked",{sampleIds:e.length}),className:C.default.controlElement}),content:"A shareable URL was copied to your clipboard!",on:"click",hideOnScroll:!0}),!1,u.default.createElement(g.DownloadButtonDropdown,{className:C.default.controlElement,options:w,onClick:this.handleDownloadClick,disabled:!this.props.data})))}}]),SamplesHeatmapHeader}(u.default.Component);t.default=E,E.propTypes={sampleIds:f.default.arrayOf(f.default.number),data:f.default.objectOf(f.default.arrayOf(f.default.arrayOf(f.default.number))),onDownloadSvg:f.default.func.isRequired,onDownloadPng:f.default.func.isRequired,onDownloadCsv:f.default.func.isRequired,onShareClick:f.default.func.isRequired,onSaveClick:f.default.func.isRequired},E.contextType=y.UserContext},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(32)),r=l(a(26)),o=l(a(27)),s=l(a(7)),i=l(a(8)),d=l(a(10)),c=l(a(9)),u=l(a(3)),f=l(a(11)),p=l(a(2)),m=l(a(0)),h=l(a(1)),g=l(a(72)),v=l(a(210)),y=a(17),b=l(a(912)),C=l(a(385)),w=l(a(146)),E=a(62),S=a(82),_=a(302),k=a(42),N=a(89),x=a(20),M=l(a(930)),T=l(a(323)),P=a(57),D=l(a(510)),I=l(a(927)),j=l(a(928));function ownKeys(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(a,!0).forEach(function(t){(0,p.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var L=[["Log","symlog"],["Lin","linear"]],O=[{text:"Alphabetical",value:"alpha"},{text:"Cluster",value:"cluster"}],R=[{text:"Genus",value:"genus"},{text:"Cluster",value:"cluster"}],A={min:1,max:100},F=[{text:"All",value:0},{text:"Specific Only",value:1}],V=["NT.zscore","NT.rpm","NT.r","NR.zscore","NR.rpm","NR.r"],U=!0,z=function parseAndCheckInt(e,t){var a=parseInt(e);return isNaN(a)?t:a},B=function(e){function SamplesHeatmapView(e){var t;return(0,s.default)(this,SamplesHeatmapView),t=(0,d.default)(this,(0,c.default)(SamplesHeatmapView).call(this,e)),(0,p.default)((0,u.default)(t),"parseUrlParams",function(){var e=v.default.parse(location.search,{arrayFormat:"bracket"});return"string"==typeof e.sampleIds&&(e.sampleIds=e.sampleIds.split(",")),"string"==typeof e.removedTaxonIds&&(e.removedTaxonIds=new Set(e.removedTaxonIds.split(",").map(parseInt))),"string"==typeof e.categories&&(e.categories=e.categories.split(",")),"string"==typeof e.subcategories&&(e.subcategories=JSON.parse(e.subcategories)),"string"==typeof e.thresholdFilters&&(e.thresholdFilters=(0,y.map)(function(e){return _objectSpread({metricDisplay:(0,y.get)("text",(0,y.find)(["value",e.metric],t.props.thresholdFilters.targets))},e)},JSON.parse(e.thresholdFilters))),"string"==typeof e.selectedMetadata&&(e.selectedMetadata=e.selectedMetadata.split(",")),"string"==typeof e.metadataSortAsc&&(e.metadataSortAsc="true"===e.metadataSortAsc),e}),(0,p.default)((0,u.default)(t),"parseSavedParams",function(){var e=t.props.savedParamValues;if(e&&e.thresholdFilters)return e.thresholdFilters=(0,y.map)(function(e){return _objectSpread({metricDisplay:(0,y.get)("text",(0,y.find)(["value",e.metric],t.props.thresholdFilters.targets))},e)},e.thresholdFilters),e}),(0,p.default)((0,u.default)(t),"getUrlParams",function(){return Object.assign({selectedMetadata:t.state.selectedMetadata,metadataSortField:t.metadataSortField,metadataSortAsc:t.metadataSortAsc,removedTaxonIds:Array.from(t.removedTaxonIds),sampleIds:t.state.sampleIds},t.state.selectedOptions)}),(0,p.default)((0,u.default)(t),"prepareParams",function(){var e=t.getUrlParams();return e.thresholdFilters=JSON.stringify(e.thresholdFilters),e.subcategories=JSON.stringify(e.subcategories),v.default.stringify(e,{arrayFormat:"bracket"})}),(0,p.default)((0,u.default)(t),"getUrlForCurrentParams",function(){var e=new URL(location.pathname,window.origin);return"".concat(e.toString(),"?").concat(t.prepareParams())}),(0,p.default)((0,u.default)(t),"handleDownloadCsv",function(){var e=new URL("/visualizations/download_heatmap",window.origin),a="".concat(e.toString(),"?").concat(t.prepareParams());window.open(a,"_blank")}),(0,p.default)((0,u.default)(t),"handleShareClick",(0,o.default)(r.default.mark(function _callee(){return r.default.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,S.copyShortUrlToClipboard)(t.getUrlForCurrentParams());case 2:case"end":return e.stop()}},_callee)}))),(0,p.default)((0,u.default)(t),"handleSaveClick",(0,o.default)(r.default.mark(function _callee2(){var e,a;return r.default.wrap(function _callee2$(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,k.saveVisualization)("heatmap",t.getUrlParams());case 2:e=l.sent,t.lastSavedParamValues=Object.assign({},t.getUrlParams()),a=location.protocol+"//"+location.host+"/visualizations/heatmap/"+e.id,history.replaceState(window.history.state,document.title,a);case 6:case"end":return l.stop()}},_callee2)}))),(0,p.default)((0,u.default)(t),"handleDownloadSvg",function(){t.heatmapVis.download()}),(0,p.default)((0,u.default)(t),"handleDownloadPng",function(){t.heatmapVis.downloadAsPng()}),(0,p.default)((0,u.default)(t),"handleMetadataUpdate",function(e,a){t.setState({sampleDetails:(0,y.set)([t.state.selectedSampleId,"metadata",e],a,t.state.sampleDetails)})}),(0,p.default)((0,u.default)(t),"updateHistoryState",function(){window.history.replaceState("","",t.getUrlForCurrentParams())}),(0,p.default)((0,u.default)(t),"handleRemoveTaxon",function(e){var a=t.state.taxonDetails[e].id;t.removedTaxonIds.add(a),(0,x.logAnalyticsEvent)("SamplesHeatmapView_taxon_removed",{taxonId:a,taxonName:e})}),(0,p.default)((0,u.default)(t),"handleMetadataChange",function(e){t.setState({selectedMetadata:Array.from(e)}),(0,x.logAnalyticsEvent)("SamplesHeatmapView_metadata_changed",{selected:e}),t.updateHistoryState()}),(0,p.default)((0,u.default)(t),"handleMetadataSortChange",function(e,a){t.metadataSortField=e,t.metadataSortAsc=a,t.updateHistoryState(),(0,x.logAnalyticsEvent)("Heatmap_column-metadata-label_clicked",{columnMetadataSortField:e,sortDirection:a?"asc":"desc"})}),(0,p.default)((0,u.default)(t),"handleSampleLabelClick",function(e){e?t.state.sidebarVisible&&"sampleDetails"===t.state.sidebarMode&&t.state.selectedSampleId===e?(t.setState({sidebarVisible:!1}),(0,x.logAnalyticsEvent)("SamplesHeatmapView_sample-details-sidebar_closed",{sampleId:e,sidebarMode:"sampleDetails"})):(t.setState({selectedSampleId:e,sidebarMode:"sampleDetails",sidebarVisible:!0}),(0,x.logAnalyticsEvent)("SamplesHeatmapView_sample-details-sidebar_opened",{sampleId:e,sidebarMode:"sampleDetails"})):t.setState({sidebarVisible:!1})}),(0,p.default)((0,u.default)(t),"handleTaxonLabelClick",function(e){var a=(0,y.get)(e,t.state.taxonDetails);a?"taxonDetails"===t.state.sidebarMode&&t.state.sidebarVisible&&e===(0,y.get)("taxonName",t.state.sidebarTaxonModeConfig)?(t.setState({sidebarVisible:!1}),(0,x.logAnalyticsEvent)("SamplesHeatmapView_taxon-details-sidebar_closed",{parentTaxonId:a.parentId,taxonId:a.id,taxonName:e,sidebarMode:"taxonDetails"})):(t.setState({sidebarMode:"taxonDetails",sidebarTaxonModeConfig:{parentTaxonId:a.parentId,taxonId:a.id,taxonName:e},sidebarVisible:!0}),(0,x.logAnalyticsEvent)("SamplesHeatmapView_taxon-details-sidebar_opened",{parentTaxonId:a.parentId,taxonId:a.id,taxonName:e,sidebarMode:"taxonDetails"})):t.setState({sidebarVisible:!1})}),(0,p.default)((0,u.default)(t),"closeSidebar",function(){t.setState({sidebarVisible:!1})}),(0,p.default)((0,u.default)(t),"getSidebarParams",function(){return"taxonDetails"===t.state.sidebarMode?t.state.sidebarTaxonModeConfig:"sampleDetails"===t.state.sidebarMode?{sampleId:t.state.selectedSampleId,onMetadataUpdate:t.handleMetadataUpdate,showReportLink:!0}:{}}),(0,p.default)((0,u.default)(t),"getControlOptions",function(){return{metrics:t.props.metrics.filter(function(e){return V.includes(e.value)}),categories:t.props.categories||[],subcategories:t.props.subcategories||{},backgrounds:t.props.backgrounds,taxonLevels:t.props.taxonLevels.map(function(e,t){return{text:e,value:t}}),thresholdFilters:t.props.thresholdFilters,scales:L,sampleSortTypeOptions:O,taxaSortTypeOptions:R,taxonsPerSample:A,specificityOptions:F}}),(0,p.default)((0,u.default)(t),"handleSelectedOptionsChange",function(e){if((t.context||{}).allowedFeatures.includes("heatmap_filter_fe")){var a=(0,y.intersection)((0,y.keys)(e),["background"]).length>0,l=(0,y.intersection)((0,y.keys)(e),["species","categories","subcategories","thresholdFilters","readSpecificity","metric","taxonsPerSample"]).length>0;t.setState({selectedOptions:(0,y.assign)(t.state.selectedOptions,e),loading:l},a?t.updateHeatmap:l?t.updateFilters:null)}else{var n=(0,y.difference)((0,y.keys)(e),["dataScaleIdx","sampleSortType","taxaSortType"]).length;t.setState({selectedOptions:(0,y.assign)(t.state.selectedOptions,e)},n?t.updateHeatmap:null)}}),(0,p.default)((0,u.default)(t),"toggleDisplayFilters",function(){t.setState(function(e){return{hideFilters:!e.hideFilters}})}),t.urlParams=t.parseUrlParams(),t.urlParams=_objectSpread({},t.parseSavedParams(),{},t.urlParams),U||t.initOnBeforeUnload(e.savedParamValues),t.state={selectedOptions:{metric:t.getSelectedMetric(),categories:t.urlParams.categories||[],subcategories:t.urlParams.subcategories||{},background:z(t.urlParams.background,t.props.backgrounds[0].value),species:z(t.urlParams.species,1),sampleSortType:t.urlParams.sampleSortType||"cluster",taxaSortType:t.urlParams.taxaSortType||"cluster",thresholdFilters:t.urlParams.thresholdFilters||[],dataScaleIdx:z(t.urlParams.dataScaleIdx,0),taxonsPerSample:z(t.urlParams.taxonsPerSample,10),readSpecificity:z(t.urlParams.readSpecificity,1)},loading:!1,selectedMetadata:t.urlParams.selectedMetadata||["collection_location_v2"],sampleIds:(0,y.compact)((0,y.map)(z,t.urlParams.sampleIds||t.props.sampleIds)),sampleDetails:{},allTaxonIds:[],taxonIds:[],allTaxonDetails:{},taxonDetails:{},allData:{},data:{},hideFilters:!1,selectedSampleId:null,sidebarMode:null,sidebarVisible:!1,sidebarTaxonModeConfig:null,taxonFilterState:[]},t.removedTaxonIds=new Set(t.urlParams.removedTaxonIds||t.props.removedTaxonIds||[]),t.metadataSortField=t.urlParams.metadataSortField,t.metadataSortAsc=t.urlParams.metadataSortAsc,t.lastRequestToken=null,t}return(0,f.default)(SamplesHeatmapView,e),(0,i.default)(SamplesHeatmapView,[{key:"getSelectedMetric",value:function getSelectedMetric(){return this.props.metrics.map(function(e){return e.value}).includes(this.urlParams.metric)?this.urlParams.metric:(this.props.metrics[0]||{}).value}},{key:"initOnBeforeUnload",value:function initOnBeforeUnload(e){var t=this;this.lastSavedParamValues=Object.assign({},e),window.onbeforeunload=function(){var e=t.getUrlParams();if(!(0,y.isEmpty)(e)&&!(0,b.default)(e,t.lastSavedParamValues))return"You have unsaved changes. Are you sure you want to leave this page?"}}},{key:"componentDidMount",value:function componentDidMount(){this.fetchViewData()}},{key:"metricToSortField",value:function metricToSortField(e){var t=e.split(".");return"highest_"+t[0].toLowerCase()+"_"+t[1].toLowerCase()}},{key:"fetchHeatmapData",value:function fetchHeatmapData(){return this.lastRequestToken&&this.lastRequestToken.cancel("Parameters changed"),this.lastRequestToken=g.default.CancelToken.source(),(0,k.getSampleTaxons)({sampleIds:this.state.sampleIds,removedTaxonIds:Array.from(this.removedTaxonIds),species:this.state.selectedOptions.species,categories:this.state.selectedOptions.categories,subcategories:this.state.selectedOptions.subcategories,sortBy:this.metricToSortField(this.state.selectedOptions.metric),thresholdFilters:this.state.selectedOptions.thresholdFilters,taxonsPerSample:this.state.selectedOptions.taxonsPerSample,readSpecificity:this.state.selectedOptions.readSpecificity,background:this.state.selectedOptions.background,heatmapTs:this.props.heatmapTs},this.lastRequestToken.token)}},{key:"fetchMetadataFieldsBySampleIds",value:function fetchMetadataFieldsBySampleIds(){return this.state.metadataTypes?null:(0,N.getSampleMetadataFields)(this.state.sampleIds)}},{key:"fetchViewData",value:function(){var e=(0,o.default)(r.default.mark(function _callee3(){var e,t,a,l,o;return r.default.wrap(function _callee3$(r){for(;;)switch(r.prev=r.next){case 0:return this.setState({loading:!0}),r.next=3,Promise.all([this.fetchHeatmapData(),this.fetchMetadataFieldsBySampleIds()]);case 3:e=r.sent,t=(0,n.default)(e,2),a=t[0],l=t[1],o=this.extractData(a),null!==l&&(o.metadataTypes=l),this.updateHistoryState(),this.setState(o,this.updateFilters);case 11:case"end":return r.stop()}},_callee3,this)}));return function fetchViewData(){return e.apply(this,arguments)}}()},{key:"extractData",value:function extractData(e){for(var t=this,a=[],l={},r=[],o={},s={},i=function _loop(i){var d=e[i];if(a.push(d.sample_id),l[d.sample_id]={id:d.sample_id,name:d.name,index:i,host_genome_name:d.host_genome_name,metadata:(0,_.processMetadata)(d.metadata,!0),taxa:[]},d.taxons)for(var c=function _loop2(e){var a=d.taxons[e],c=void 0;a.tax_id in o?c=o[a.tax_id].index:(c=r.length,r.push(a.tax_id),o[a.tax_id]={id:a.tax_id,index:c,name:a.name,category:a.category_name,parentId:a.tax_id===a.species_taxid&&a.genus_taxid,phage:!!a.is_phage,genusName:a.genus_name,taxLevel:a.tax_level},o[a.name]=o[a.tax_id]),l[d.sample_id].taxa.push(a.tax_id),t.props.metrics.forEach(function(e){var t=e.value.split("."),l=(0,n.default)(t,2),r=l[0],o=l[1];s[e.value]=s[e.value]||[],s[e.value][c]=s[e.value][c]||[],s[e.value][c][i]=a[r][o]})},u=0;u<d.taxons.length;u++)c(u)},d=0;d<e.length;d++)i(d);return{sampleIds:a,sampleDetails:l,allTaxonIds:r,allTaxonDetails:o,allData:s,taxonFilterState:{}}}},{key:"filterTaxa",value:function filterTaxa(){var e=this,t=(this.context||{}).allowedFeatures,a=this.getTaxonThresholdFilterState(),l=a.taxonFilterState,r=a.taxonPassesThresholdFilters,o=this.state,s=o.allTaxonIds,i=o.allTaxonDetails,d=o.allData,c={},u=new Set,f={};if(t.includes("heatmap_filter_fe")){s.forEach(function(t){var a=i[t];!u.has(t)&&e.taxonPassesSelectedFilters(a)&&r[a.index]&&u.add(a.id)});var p=this.getTopTaxaPerSample(u),m=(0,n.default)(p,3);u=m[0],c=m[1],f=m[2],u=Array.from(u)}else c=i,u=s,f=d;this.updateHistoryState(),this.setState({taxonFilterState:l,taxonDetails:c,taxonIds:u,loading:!1,data:f})}},{key:"getTaxonThresholdFilterState",value:function getTaxonThresholdFilterState(){var e=this,t=this.state,a=t.sampleDetails,l=t.allTaxonDetails,n=t.allData,r=t.taxonFilterState,o={};return Object.values(a).forEach(function(t){Object.values(l).forEach(function(a){r[a.index]=r[a.index]||{},r[a.index][t.index]=e.taxonThresholdFiltersCheck(t.index,a,n),o[a.index]=o[a.index]||r[a.index][t.index]})}),{taxonFilterState:r,taxonPassesThresholdFilters:o}}},{key:"taxonThresholdFiltersCheck",value:function taxonThresholdFiltersCheck(e,t,a){var l=this.state.selectedOptions.thresholdFilters,n=!0,r=!1,o=void 0;try{for(var s,i=l[Symbol.iterator]();!(n=(s=i.next()).done);n=!0){var d=s.value,c=d.metric.split("_").join(".");if(Object.keys(a).includes(c)){var u=a[c][t.index][e];if(!u)return!1;if(">="===d.operator){if(u<parseInt(d.value))return!1}else if("<="===d.operator&&u>parseInt(d.value))return!1}}}catch(e){r=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}return!0}},{key:"taxonPassesSelectedFilters",value:function taxonPassesSelectedFilters(e){var t=this.state.selectedOptions,a=t.readSpecificity,l=t.categories,n=t.subcategories,r=t.species,o=n.Viruses&&n.Viruses.includes("Phage");if(r&&1!==e.taxLevel)return!1;if(!r&&2!==e.taxLevel)return!1;if(a&&e.id<0)return!1;if(l.length){if(!o&&e.phage)return!1;if(!(l.includes(e.category)||o&&e.phage))return!1}else if(o&&!e.phage)return!1;return!0}},{key:"getTopTaxaPerSample",value:function getTopTaxaPerSample(e){var t=this.state,a=t.sampleDetails,l=t.allData,n=t.allTaxonDetails,r=t.selectedOptions,o=r.metric,s=r.taxonsPerSample,i=this.props.metrics,d=new Set,c={},u={};return Object.values(a).forEach(function(t){var a=t.taxa.filter(function(t){return e.has(t)});a.sort(function(e,a){return l[o][n[a].index][t.index]-l[o][n[e].index][t.index]});var r=0,f=!0,p=!1,m=void 0;try{for(var h,g=a[Symbol.iterator]();!(f=(h=g.next()).done);f=!0){var v=h.value;if(r>=s)break;d.has(v)||function(){var e=n[v];d.add(v),c[v]=n[v],c[e.name]=n[v],i.forEach(function(t){u[t.value]=u[t.value]||[],u[t.value].push(l[t.value][e.index])}),r++}()}}catch(e){p=!0,m=e}finally{try{f||null==g.return||g.return()}finally{if(p)throw m}}}),[d,c,u]}},{key:"updateHeatmap",value:function updateHeatmap(){this.fetchViewData()}},{key:"updateFilters",value:function updateFilters(){this.filterTaxa()}},{key:"renderVisualization",value:function renderVisualization(){return m.default.createElement("div",{className:"visualization-content"},this.state.loading?this.renderLoading():this.renderHeatmap())}},{key:"renderLoading",value:function renderLoading(){var e=this.state.sampleIds.length,t=Math.round(e/2);return m.default.createElement("p",{className:D.default.loadingIndicator},m.default.createElement("i",{className:"fa fa-spinner fa-pulse fa-fw"}),"Loading for ",e," samples. Please wait up to ",t," second",t>1?"s":"","...")}},{key:"renderHeatmap",value:function renderHeatmap(){var e=this;if(this.state.loading||!this.state.data||!(this.state.data[this.state.selectedOptions.metric]||[]).length||!this.state.metadataTypes||!this.state.taxonIds.length)return m.default.createElement("div",{className:D.default.noDataMsg},"No data to render");var t=this.state.selectedOptions.dataScaleIdx;return m.default.createElement(C.default,null,m.default.createElement(M.default,{data:this.state.data,defaultMetadata:this.state.selectedMetadata,metadataTypes:this.state.metadataTypes,metadataSortField:this.metadataSortField,metadataSortAsc:this.metadataSortAsc,metric:this.state.selectedOptions.metric,onMetadataSortChange:this.handleMetadataSortChange,onMetadataChange:this.handleMetadataChange,onRemoveTaxon:this.handleRemoveTaxon,onSampleLabelClick:this.handleSampleLabelClick,onTaxonLabelClick:this.handleTaxonLabelClick,ref:function ref(t){e.heatmapVis=t},sampleIds:this.state.sampleIds,sampleDetails:this.state.sampleDetails,scale:L[t][1],taxonIds:this.state.taxonIds,taxonCategories:this.state.selectedOptions.categories,taxonDetails:this.state.taxonDetails,taxonFilterState:this.state.taxonFilterState,thresholdFilters:this.state.selectedOptions.thresholdFilters,sampleSortType:this.state.selectedOptions.sampleSortType,fullScreen:this.state.hideFilters,taxaSortType:this.state.selectedOptions.taxaSortType}))}},{key:"render",value:function render(){return m.default.createElement("div",{className:D.default.heatmap},!this.state.hideFilters&&m.default.createElement("div",null,m.default.createElement(E.NarrowContainer,null,m.default.createElement(j.default,{sampleIds:this.state.sampleIds,data:this.state.data,onDownloadSvg:this.handleDownloadSvg,onDownloadPng:this.handleDownloadPng,onDownloadCsv:this.handleDownloadCsv,onShareClick:this.handleShareClick,onSaveClick:this.handleSaveClick})),m.default.createElement(E.NarrowContainer,null,m.default.createElement(I.default,{options:this.getControlOptions(),selectedOptions:this.state.selectedOptions,onSelectedOptionsChange:this.handleSelectedOptionsChange,loading:this.state.loading,data:this.state.data}))),m.default.createElement("div",{className:D.default.filterToggleContainer},this.state.hideFilters&&m.default.createElement("div",{className:D.default.filterLine}),m.default.createElement("div",{className:D.default.arrowIcon,onClick:(0,x.withAnalytics)(this.toggleDisplayFilters,"SamplesHeatmapFilters_toggle_clicked")},m.default.createElement(T.default,{sortDirection:this.state.hideFilters?"descending":"ascending"}))),this.renderVisualization(),m.default.createElement(w.default,{visible:this.state.sidebarVisible,mode:this.state.sidebarMode,onClose:(0,x.withAnalytics)(this.closeSidebar,"SamplesHeatmapView_details-sidebar_closed",{sampleId:this.state.selectedSampleId,sidebarMode:this.state.sidebarMode}),params:this.getSidebarParams()}))}}]),SamplesHeatmapView}(m.default.Component);B.propTypes={backgrounds:h.default.array,categories:h.default.array,metrics:h.default.array,sampleIds:h.default.array,savedParamValues:h.default.object,subcategories:h.default.object,removedTaxonIds:h.default.array,taxonLevels:h.default.array,thresholdFilters:h.default.object,heatmapTs:h.default.number},B.contextType=P.UserContext;var H=B;t.default=H},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(35)),r=l(a(7)),o=l(a(8)),s=l(a(10)),i=l(a(9)),d=l(a(3)),c=l(a(11)),u=l(a(2)),f=l(a(0)),p=l(a(1)),m=l(a(4)),h=a(17),g=a(20),v=a(178),y=a(61),b=l(a(328)),C=a(179),w=l(a(440)),E=l(a(810)),S=l(a(441)),_=a(128),k=l(a(95)),N=l(a(469)),x=l(a(110)),M=l(a(1886)),T=180,P=function(e){function SamplesHeatmapVis(e){var t;return(0,r.default)(this,SamplesHeatmapVis),t=(0,s.default)(this,(0,i.default)(SamplesHeatmapVis).call(this,e)),(0,u.default)((0,d.default)(t),"colorScale",function(e,a,l,n,r){var o=t.props,s=o.taxonFilterState,i=o.sampleIds,d=o.taxonIds,c=i[a.columnIndex],u=d[a.rowIndex],f=t.props.sampleDetails[c],p=s[t.props.taxonDetails[u].index][f.index];return e>0&&p?l:r}),(0,u.default)((0,d.default)(t),"generateHeatmapCaptions",function(){var e=t.props.thresholdFilters,a=(0,h.size)(e);if(0==a)return[];var l=(0,h.map)(function(e){return"".concat(e.metricDisplay," ").concat(e.operator," ").concat(e.value)},e),n="".concat(a," filter").concat(a>1?"s were":" was"," applied to the above heatmap: ").concat(l.join(", "),".\n      Non-conforming cells have been hidden or grayed out.");return(0,_.splitIntoMultipleLines)(n,T)}),(0,u.default)((0,d.default)(t),"handleMouseHoverMove",function(e,a){a&&t.setState({tooltipLocation:{left:a.pageX,top:a.pageY}}),t.state.spacePressed&&t.setState({tooltipLocation:null,nodeHoverInfo:null})}),(0,u.default)((0,d.default)(t),"handleNodeHover",function(e){t.setState({nodeHoverInfo:t.getTooltipData(e)}),(0,g.logAnalyticsEvent)("SamplesHeatmapVis_node_hovered",{nodeValue:e.value,nodeId:e.id})}),(0,u.default)((0,d.default)(t),"handleMetadataNodeHover",function(e,a){var l=t.heatmap.getColumnMetadataLegend(a.value),n=e.metadata[a.value]||"Unknown",r=(0,u.default)({},n,l[n]);t.setState({columnMetadataLegend:r}),(0,g.logAnalyticsEvent)("SamplesHeatmapVis_metadata-node_hovered",a)}),(0,u.default)((0,d.default)(t),"handleRowGroupEnter",function(e,a,l){t.setState({rowGroupLegend:{label:"Genus: ".concat(e.genusName||"Unknown"),tooltipLocation:{left:a.left+a.width/2,top:Math.max(l,a.top)}}}),(0,g.logAnalyticsEvent)("SamplesHeatmapVis_row-group_hovered",{genusName:e.genusName,genusId:e.sortKey})}),(0,u.default)((0,d.default)(t),"handleNodeHoverOut",function(){t.setState({nodeHoverInfo:null})}),(0,u.default)((0,d.default)(t),"handleColumnMetadataLabelHover",function(e){var a=t.heatmap.getColumnMetadataLegend(e.value);t.setState({columnMetadataLegend:a}),(0,g.logAnalyticsEvent)("SamplesHeatmapVis_column-metadata_hovered",{nodeValue:e.value,columnMetadataLegend:a})}),(0,u.default)((0,d.default)(t),"handleColumnMetadataLabelOut",function(){t.setState({columnMetadataLegend:null})}),(0,u.default)((0,d.default)(t),"handleRowGroupLeave",function(){t.setState({rowGroupLegend:null})}),(0,u.default)((0,d.default)(t),"handleKeyDown",function(e){"Space"===e.code&&t.setState({spacePressed:!0})}),(0,u.default)((0,d.default)(t),"handleKeyUp",function(e){"Space"===e.code&&(t.setState({spacePressed:!1}),e.preventDefault())}),(0,u.default)((0,d.default)(t),"handleCellClick",function(e,a){if(!t.state.spacePressed){var l=t.props.sampleIds[e.columnIndex];(0,y.openUrlInNewTab)("/samples/".concat(l),a),(0,g.logAnalyticsEvent)("SamplesHeatmapVis_cell_clicked",{sampleId:l})}}),(0,u.default)((0,d.default)(t),"handleAddColumnMetadataClick",function(e){t.setState({addMetadataTrigger:e}),(0,g.logAnalyticsEvent)("SamplesHeatmapVis_column-metadata_clicked",{addMetadataTrigger:e})}),(0,u.default)((0,d.default)(t),"handleSelectedMetadataChange",function(e){var a=t.props.onMetadataChange,l=new Set((0,n.default)(t.state.selectedMetadata).filter(function(t){return e.has(t)})),r=new Set([].concat((0,n.default)(l),(0,n.default)(e)));t.setState({selectedMetadata:r},function(){t.heatmap.updateColumnMetadata(t.getSelectedMetadata()),a&&a(e),(0,g.logAnalyticsEvent)("SamplesHeatmapVis_selected-metadata_changed",{selectedMetadata:r.length})})}),(0,u.default)((0,d.default)(t),"hideControlsBanner",function(){t.setState({displayControlsBanner:!1})}),t.state={addMetadataTrigger:null,nodeHoverInfo:null,columnMetadataLegend:null,rowGroupLegend:null,selectedMetadata:new Set(t.props.defaultMetadata),tooltipLocation:null,displayControlsBanner:!0},t.heatmap=null,t.scale=t.props.scale,t.metrics=[{key:"NT.zscore",label:"NT Z Score"},{key:"NT.rpm",label:"NT rPM"},{key:"NT.r",label:"NT r (total reads)"},{key:"NR.zscore",label:"NR Z Score"},{key:"NR.rpm",label:"NR rPM"},{key:"NR.r",label:"NR r (total reads)"}],t.metadataTypes=(0,h.keyBy)("key",t.props.metadataTypes),t}return(0,c.default)(SamplesHeatmapVis,e),(0,o.default)(SamplesHeatmapVis,[{key:"componentDidMount",value:function componentDidMount(){var e=this.props,t=e.onMetadataSortChange,a=e.metadataSortField,l=e.metadataSortAsc;this.heatmap=new b.default(this.heatmapContainer,{rowLabels:this.extractTaxonLabels(),columnLabels:this.extractSampleLabels(),values:this.props.data[this.props.metric]},{customColorCallback:this.colorScale,columnMetadata:this.getSelectedMetadata(),initialColumnMetadataSortField:a,initialColumnMetadataSortAsc:l,onNodeHover:this.handleNodeHover,onMetadataNodeHover:this.handleMetadataNodeHover,onNodeHoverMove:this.handleMouseHoverMove,onNodeHoverOut:this.handleNodeHoverOut,onColumnMetadataSortChange:t,onColumnMetadataLabelHover:this.handleColumnMetadataLabelHover,onColumnMetadataLabelMove:this.handleMouseHoverMove,onColumnMetadataLabelOut:this.handleColumnMetadataLabelOut,onRowGroupEnter:this.handleRowGroupEnter,onRowGroupLeave:this.handleRowGroupLeave,onRemoveRow:this.props.onRemoveTaxon,onCellClick:this.handleCellClick,onColumnLabelClick:this.props.onSampleLabelClick,onRowLabelClick:this.props.onTaxonLabelClick,onAddColumnMetadataClick:this.handleAddColumnMetadataClick,scale:this.props.scale,scaleMin:0,printCaption:this.generateHeatmapCaptions(),shouldSortColumns:"alpha"===this.props.sampleSortType,shouldSortRows:"genus"===this.props.taxaSortType,maxWidth:this.heatmapContainer.offsetWidth}),this.heatmap.start(),document.addEventListener("keydown",this.handleKeyDown,!1),document.addEventListener("keyup",this.handleKeyUp,!1)}},{key:"componentWillUnmount",value:function componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown,!1),document.removeEventListener("keyup",this.handleKeyUp,!1)}},{key:"componentDidUpdate",value:function componentDidUpdate(e){this.props.scale!==this.scale&&(this.scale=this.props.scale,this.heatmap.updateScale(this.props.scale)),this.props.sampleDetails!==e.sampleDetails&&this.heatmap.updateData({columnLabels:this.extractSampleLabels()}),this.props.thresholdFilters!==e.thresholdFilters&&this.heatmap.updatePrintCaption(this.generateHeatmapCaptions()),this.props.sampleSortType!==e.sampleSortType&&this.heatmap.updateSortColumns("alpha"===this.props.sampleSortType),this.props.taxaSortType!==e.taxaSortType&&this.heatmap.updateSortRows("genus"===this.props.taxaSortType)}},{key:"extractSampleLabels",value:function extractSampleLabels(){var e=this;return this.props.sampleIds.map(function(t){return{label:e.props.sampleDetails[t].name,metadata:e.props.sampleDetails[t].metadata,id:t}})}},{key:"extractTaxonLabels",value:function extractTaxonLabels(){var e=this;return this.props.taxonIds.map(function(t){var a=e.props.taxonDetails[t],l=-200==a.parentId?Number.MAX_SAFE_INTEGER:a.parentId;return{label:a.name,sortKey:l,genusName:a.genusName}})}},{key:"download",value:function download(){this.heatmap.download()}},{key:"downloadAsPng",value:function downloadAsPng(){this.heatmap.downloadAsPng()}},{key:"getTooltipData",value:function getTooltipData(e){var t=this,a=this.props,l=a.data,n=a.taxonFilterState,r=a.sampleIds,o=a.taxonIds,s=r[e.columnIndex],i=o[e.rowIndex],d=this.props.sampleDetails[s],c=this.props.taxonDetails[i],u=this.metrics.some(function(t){return!!l[t.key][e.rowIndex][e.columnIndex]}),p=n[c.index][d.index],m=null;u&&(m=this.metrics.map(function(a){var l=t.props.data[a.key],n=parseFloat((l[e.rowIndex][e.columnIndex]||0).toFixed(4));return[a.label,a.key===t.props.metric?f.default.createElement("b",null,n):n]}));var h=null;u?p||(h="This taxon does not satisfy the threshold filters."):h="This taxon was not found in the sample.",h&&(h=f.default.createElement("div",{className:M.default.warning},f.default.createElement(k.default,{className:M.default.warningIcon}),f.default.createElement("div",{className:M.default.warningText},h)));var g=[{name:"Info",data:[["Sample",d.name],["Taxon",c.name],["Category",c.category]],disabled:!p}];return u&&g.push({name:"Values",data:m,disabled:!p}),{subtitle:h,data:g,nodeHasData:u}}},{key:"getSelectedMetadata",value:function getSelectedMetadata(){var e=this;return Array.from(this.state.selectedMetadata).filter(function(t){return!!e.metadataTypes[t]}).map(function(t){return{value:t,label:e.metadataTypes[t].name}}).sort(function sortByLabel(e,t){return e.label>t.label?1:-1})}},{key:"getAvailableMetadataOptions",value:function getAvailableMetadataOptions(){return this.props.metadataTypes.map(function(e){return{value:e.key,label:e.name}})}},{key:"handleZoom",value:function handleZoom(e){var t=Math.min(3,Math.max(.2,this.heatmap.options.zoom+e));this.heatmap.updateZoom(t)}},{key:"render",value:function render(){var e=this,t=this.state,a=t.tooltipLocation,l=t.nodeHoverInfo,n=t.columnMetadataLegend,r=t.rowGroupLegend,o=t.addMetadataTrigger,s=t.selectedMetadata;return f.default.createElement("div",{className:M.default.samplesHeatmapVis},f.default.createElement(N.default,{onPlusClick:(0,g.withAnalytics)(function(){return e.handleZoom(.25)},"SamplesHeatmapVis_zoom-in-control_clicked"),onMinusClick:(0,g.withAnalytics)(function(){return e.handleZoom(-.25)},"SamplesHeatmapVis_zoom-out-control_clicked"),className:M.default.plusMinusControl}),f.default.createElement("div",{className:(0,m.default)(M.default.heatmapContainer,(!(0,h.isEmpty)(this.props.thresholdFilters)||!(0,h.isEmpty)(this.props.taxonCategories))&&M.default.filtersApplied,this.props.fullScreen&&M.default.fullScreen),ref:function ref(t){e.heatmapContainer=t}}),l&&a&&f.default.createElement("div",{className:(0,m.default)(M.default.tooltip,l&&M.default.visible),style:(0,C.getTooltipStyle)(a,{buffer:20,below:!0,height:l.nodeHasData?300:180})},f.default.createElement(v.DataTooltip,l)),n&&a&&f.default.createElement(w.default,{metadataColors:n,tooltipLocation:a}),r&&f.default.createElement(E.default,r),o&&f.default.createElement(S.default,{addMetadataTrigger:o,selectedMetadata:s,metadataTypes:this.getAvailableMetadataOptions(),onMetadataSelectionChange:this.handleSelectedMetadataChange,onMetadataSelectionClose:function onMetadataSelectionClose(){e.setState({addMetadataTrigger:null})}}),f.default.createElement("div",{className:(0,m.default)(M.default.bannerContainer,this.state.displayControlsBanner?M.default.show:M.default.hide)},f.default.createElement("div",{className:M.default.bannerText},"Hold SHIFT to scroll horizontally and SPACE BAR to pan.",f.default.createElement(x.default,{className:M.default.removeIcon,onClick:this.hideControlsBanner}))))}}]),SamplesHeatmapVis}(f.default.Component);P.defaultProps={defaultMetadata:[]},P.propTypes={data:p.default.object,taxonFilterState:p.default.objectOf(p.default.objectOf(p.default.bool)),defaultMetadata:p.default.array,metadataTypes:p.default.array,metric:p.default.string,metadataSortField:p.default.string,metadataSortAsc:p.default.bool,onMetadataSortChange:p.default.func,onMetadataChange:p.default.func,onRemoveTaxon:p.default.func,onSampleLabelClick:p.default.func,onTaxonLabelClick:p.default.func,sampleDetails:p.default.object,sampleIds:p.default.array,scale:p.default.string,taxonCategories:p.default.array,taxonDetails:p.default.object,taxonIds:p.default.array,thresholdFilters:p.default.any,sampleSortType:p.default.string,fullScreen:p.default.bool,taxaSortType:p.default.string};var D=P;t.default=D},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(3)),d=l(a(11)),c=l(a(2)),u=l(a(0)),f=l(a(1)),p=l(a(4)),m=a(17),h=a(20),g=a(443),v=l(a(142)),y=l(a(1895)),b=function(e){function DiscoveryFilters(e){var t;return(0,n.default)(this,DiscoveryFilters),t=(0,o.default)(this,(0,s.default)(DiscoveryFilters).call(this,e)),(0,c.default)((0,i.default)(t),"notifyFilterChangeHandler",function(){var e=t.props.onFilterChange,a=(0,m.pick)(["hostSelected","locationSelected","locationV2Selected","taxonSelected","timeSelected","tissueSelected","visibilitySelected"],t.state);e&&e(a)}),t.state={taxonSelected:t.props.taxonSelected,locationSelected:t.props.locationSelected,timeSelected:t.props.timeSelected,visibilitySelected:t.props.visibilitySelected,hostSelected:t.props.hostSelected,tissueSelected:t.props.tissueSelected},t}return(0,d.default)(DiscoveryFilters,e),(0,r.default)(DiscoveryFilters,[{key:"handleChange",value:function handleChange(e,t){var a=[];a[e]=t,this.setState(a,this.notifyFilterChangeHandler),(0,h.logAnalyticsEvent)("DiscoveryFilters_".concat(e.toLowerCase(),"_changed"),{selectedKey:t})}},{key:"handleRemoveTag",value:function handleRemoveTag(e,t){var a=null;Array.isArray(this.state[e])&&(a=this.state[e].filter(function(e){return(e.value||e)!==t}));var l={};l[e]=a,this.setState(l,this.notifyFilterChangeHandler)}},{key:"renderTags",value:function renderTags(e){var t=this,a="".concat(e,"Selected"),l=this.state[a],n=this.props[e];if(l){Array.isArray(l)||(l=[l]);var r=l.map(function(e){return e.text?e:(0,m.find)({value:e},n)||{text:e,value:e}}).map(function(e){return u.default.createElement(v.default,{className:y.default.filterTag,key:e.value,text:e.text,onClose:(0,h.withAnalytics)(t.handleRemoveTag.bind(t,a,e.value),"DiscoveryFilters_tag_removed",{value:e.value,text:e.text})})});return u.default.createElement("div",{className:y.default.tags},r)}}},{key:"render",value:function render(){var e=this.state,t=e.hostSelected,a=e.locationV2Selected,l=e.taxonSelected,n=e.timeSelected,r=e.tissueSelected,o=e.visibilitySelected,s=this.props,i=s.className,d=s.domain,c=s.host,f=s.locationV2,m=s.time,h=s.tissue,v=s.visibility;return u.default.createElement("div",{className:(0,p.default)(y.default.filtersContainer,i)},u.default.createElement("div",{className:y.default.filterContainer},u.default.createElement(g.TaxonFilter,{domain:d,onChange:this.handleChange.bind(this,"taxonSelected"),selected:l}),this.renderTags("taxon")),u.default.createElement("div",{className:y.default.filterContainer},u.default.createElement(g.LocationFilter,{onChange:this.handleChange.bind(this,"locationV2Selected"),selected:f&&f.length?a:null,options:f,label:"Location"}),this.renderTags("locationV2")),u.default.createElement("div",{className:y.default.filterContainer},u.default.createElement(g.BaseSingleFilter,{label:"Timeframe",options:m,onChange:this.handleChange.bind(this,"timeSelected"),value:m&&m.length?n:null}),this.renderTags("time")),u.default.createElement("div",{className:y.default.filterContainer},u.default.createElement(g.BaseSingleFilter,{label:"Visibility",options:v,onChange:this.handleChange.bind(this,"visibilitySelected"),value:v&&v.length?o:null}),this.renderTags("visibility")),u.default.createElement("div",{className:y.default.filterContainer},u.default.createElement(g.BaseMultipleFilter,{onChange:this.handleChange.bind(this,"hostSelected"),selected:c&&c.length?t:null,options:c,label:"Host"}),this.renderTags("host")),u.default.createElement("div",{className:y.default.filterContainer},u.default.createElement(g.BaseMultipleFilter,{onChange:this.handleChange.bind(this,"tissueSelected"),selected:h&&h.length?r:null,options:h,label:"Sample Type"}),this.renderTags("tissue")))}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(e,t){var a=t;return(0,m.forEach)(function(l){t.prev&&e[l]===t.prev[l]||(a.prev=a.prev||{},a[l]=e[l],a.prev[l]=e[l])},["hostSelected","locationSelected","locationV2Selected","taxonSelected","timeSelected","tissueSelected","visibilitySelected"]),a}}]),DiscoveryFilters}(u.default.Component);b.defaultProps={host:[],location:[],locationV2:[],time:[],tissue:[],visibility:[]},b.propTypes={allowedFeatures:f.default.arrayOf(f.default.string),className:f.default.string,domain:f.default.string,host:f.default.array,location:f.default.array,locationV2:f.default.array,time:f.default.array,tissue:f.default.array,visibility:f.default.array,hostSelected:f.default.array,locationSelected:f.default.array,locationV2Selected:f.default.array,taxonSelected:f.default.array,timeSelected:f.default.string,tissueSelected:f.default.array,visibilitySelected:f.default.string,onFilterChange:f.default.func};var C=b;t.default=C},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(3)),d=l(a(11)),c=l(a(2)),u=l(a(0)),f=l(a(1)),p=l(a(4)),m=l(a(491)),h=l(a(493)),g=l(a(111)),v=l(a(97)),y=l(a(851)),b=l(a(46)),C=l(a(1898)),w=function(e){function DiscoveryHeader(){var e,t;(0,n.default)(this,DiscoveryHeader);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return t=(0,o.default)(this,(e=(0,s.default)(DiscoveryHeader)).call.apply(e,[this].concat(l))),(0,c.default)((0,i.default)(t),"handleSearchResultSelected",function(e){var a=e.currentEvent,l=e.result,n=t.props.onSearchResultSelected,r=l.category;"locationV2"!==r&&(r=r.toLowerCase());var o=l.id;switch(r){case"taxon":o=l.taxid;break;case"sample":o=l.sample_ids[0];break;default:o=l.id}var s={key:r,value:o,text:l.title};n&&n(s,a)}),(0,c.default)((0,i.default)(t),"handleSearchEnterPressed",function(e){var a=e.value,l=t.props.onSearchEnterPressed;l&&l(a)}),t}return(0,d.default)(DiscoveryHeader,e),(0,r.default)(DiscoveryHeader,[{key:"render",value:function render(){var e=this.props,t=e.currentTab,a=e.filterCount,l=e.searchValue,n=e.onFilterToggle,r=e.onSearchTriggered,o=e.onStatsToggle,s=e.onTabChange,i=e.showFilters,d=e.showStats,c=e.tabs;return u.default.createElement("div",{className:C.default.header},u.default.createElement("div",{className:C.default.filtersTrigger,onClick:n},u.default.createElement(b.default,{trigger:u.default.createElement("div",null,u.default.createElement(m.default,{className:(0,p.default)(C.default.filtersIcon,C.default.icon,!i&&C.default.closed)}),u.default.createElement(g.default,{className:C.default.filtersCounter,circular:!0,text:a})),content:"Filters",mouseEnterDelay:600,mouseLeaveDelay:200,position:"bottom center"})),u.default.createElement("div",{className:C.default.searchContainer},u.default.createElement(y.default,{onSearchTriggered:r,onResultSelect:this.handleSearchResultSelected,onEnter:this.handleSearchEnterPressed,value:l})),u.default.createElement(v.default,{className:C.default.tabs,tabs:c,value:t,onChange:s,hideBorder:!0}),u.default.createElement("div",{className:C.default.blankFill}),u.default.createElement("div",{className:C.default.statsTrigger,onClick:o},u.default.createElement(b.default,{trigger:u.default.createElement("div",null,u.default.createElement(h.default,{className:(0,p.default)(C.default.statsIcon,C.default.icon,!d&&C.default.closed)})),content:"Info",mouseEnterDelay:600,mouseLeaveDelay:200,position:"bottom center"})))}}]),DiscoveryHeader}(u.default.Component);w.defaultProps={filterCount:0,searchValue:""},w.propTypes={currentTab:f.default.string,filterCount:f.default.number,onFilterToggle:f.default.func,onStatsToggle:f.default.func,onSearchEnterPressed:f.default.func,onSearchResultSelected:f.default.func,onSearchTriggered:f.default.func,onTabChange:f.default.func,searchValue:f.default.string,showFilters:f.default.bool,showStats:f.default.bool,tabs:f.default.arrayOf(f.default.oneOfType([f.default.string.isRequired,f.default.shape({value:f.default.string.isRequired,label:f.default.node.isRequired})])).isRequired};var E=w;t.default=E},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(0)),c=l(a(4)),u=a(17),f=l(a(14)),p=a(20),m=l(a(24)),h=a(62),g=l(a(46)),v=l(a(1900)),y=l(a(934)),b=function(e){function DiscoverySidebar(e){var t;return(0,n.default)(this,DiscoverySidebar),(t=(0,o.default)(this,(0,s.default)(DiscoverySidebar).call(this,e))).state={stats:{numSamples:"",numProjects:"",avgTotalReads:"",avgAdjustedRemainingReads:""},metadata:{host:[],tissue:[],time:[],location:[]},expandedMetadataGroups:new Set},t}return(0,i.default)(DiscoverySidebar,e),(0,r.default)(DiscoverySidebar,[{key:"buildDateHistogram",value:function buildDateHistogram(e){var t=this.props.currentTab,a=this.state.metadata[e],l=((0,u.maxBy)("count",a)||{}).count,n=!!a.length&&a[0].interval,r=a.length?n?a[0].interval.start:a[0].value:null,o=a.length?n?a[a.length-1].interval.end:a[0].value:null,s=DiscoverySidebar.formatDate(r),i=DiscoverySidebar.formatDate(o),f=a.filter(function(e){return e.count>0});return f.length<3&&(a=f),d.default.createElement("div",{className:v.default.histogramContainer},d.default.createElement("div",{className:v.default.dateHistogram},a.map(function(e){var n=Math.round(100*e.count/l,0),r=d.default.createElement("div",{className:v.default.bar,key:e.value,style:{height:n+"px"},onClick:function onClick(){(0,p.logAnalyticsEvent)("DiscoverySidebar_date-filter_clicked",{dateValue:e.value,dates:a.length,count:e.count,percent:n})}},""),o=e.interval?"".concat(DiscoverySidebar.formatDate(e.interval.start)," - ").concat(DiscoverySidebar.formatDate(e.interval.end)):"".concat(DiscoverySidebar.formatDate(e.value)),s=d.default.createElement("span",null,d.default.createElement("span",{className:v.default.boldText},"Date:")," ",o,d.default.createElement("br",null),d.default.createElement("span",{className:v.default.boldText},"".concat("samples"===t?"Sample":"Project").concat(e.count>1?"s":"",": ")),e.count);return d.default.createElement(g.default,{key:e.value,trigger:r,content:s})})),d.default.createElement("div",{className:(0,c.default)(v.default.histogramLabels,a.length<3&&v.default.evenly)},d.default.createElement("div",{className:v.default.label},s),r!==o&&d.default.createElement("div",{className:v.default.label},i)))}},{key:"buildMetadataRows",value:function buildMetadataRows(e){var t=this,a=this.state,l=a.metadata,n=a.expandedMetadataGroups,r=l[e],o=(0,u.orderBy)(["count","text"],["desc","asc"],r),s=this.props.defaultNumberOfMetadataRows,i=o.slice(0,s),c=o.slice(s),f=(0,u.sumBy)("count",r),m=n.has(e)?"Show Less":"Show More";return d.default.createElement("dl",{className:v.default.dataList},this.renderMetadataRowBlock(i,f,e),n.has(e)&&this.renderMetadataRowBlock(c,f,e),c.length>0&&d.default.createElement("div",{className:v.default.showHide,onClick:function onClick(){t.toggleExpandedMetadataGroup(e),(0,p.logAnalyticsEvent)("DiscoverySidebar_show-more-toggle_clicked",{field:e,extraRows:c.length,linkText:m})}},m))}},{key:"toggleExpandedMetadataGroup",value:function toggleExpandedMetadataGroup(e){var t=new Set(this.state.expandedMetadataGroups);t.has(e)?t.delete(e):t.add(e),this.setState({expandedMetadataGroups:t})}},{key:"renderMetadataRowBlock",value:function renderMetadataRowBlock(e,t,a){var l=this.props.onFilterClick;return e.map(function(n,r){var o=n.count,s=n.text,i=n.value,c=Math.round(100*o/t,0),u=function onClick(){return l&&l(a,i)};return d.default.createElement("div",{className:v.default.barChartRow,key:"".concat(i,"_row_").concat(r)},d.default.createElement("dt",{className:v.default.barLabel,key:"".concat(i,"_label_").concat(r)},d.default.createElement("a",{onClick:(0,p.withAnalytics)(u,"DiscoverySidebar_metadata-label_clicked",{value:i,count:o,percent:c,rows:e.length})},"not_set"===i?d.default.createElement("i",null,s):s)),d.default.createElement("dd",{key:"".concat(i,"_value_").concat(r)},d.default.createElement("span",{className:v.default.bar,onClick:(0,p.withAnalytics)(u,"DiscoverySidebar_metadata-bar_clicked",{value:i,count:o,percent:c,rows:e.length}),style:{width:1.4*c+"px"}}),d.default.createElement("span",{className:v.default.count},o)))})}},{key:"hasData",value:function hasData(){return!(!this.state.stats.numSamples&&!this.state.stats.numProjects)}},{key:"render",value:function render(){var e=this.props,t=e.className,a=e.currentTab,l=e.loading,n=e.project;if(!l&&!this.hasData())return d.default.createElement("div",{className:(0,c.default)(t,v.default.sidebar)},d.default.createElement("div",{className:v.default.noData},"Try another search to see summary info."));var r=this.state.stats.avgTotalReads;return d.default.createElement("div",{className:(0,c.default)(t,v.default.sidebar)},n&&d.default.createElement("div",{className:v.default.descriptionContainer},d.default.createElement(y.default,{project:n})),d.default.createElement("div",{className:v.default.metadataContainer},d.default.createElement(h.Accordion,{className:v.default.metadataSection,bottomContentPadding:!0,key:r,open:this.hasData(),header:d.default.createElement("div",{className:v.default.title},"Overall")},d.default.createElement("div",{className:(0,c.default)(v.default.hasBackground,v.default.statsRow)},d.default.createElement("dl",{className:v.default.dataList},d.default.createElement("dt",{className:v.default.statsDt},d.default.createElement("span",{className:v.default.rowLabel},"Samples")),d.default.createElement("dd",{className:v.default.statsDd},this.state.stats.numSamples))),d.default.createElement("div",{className:(0,c.default)(v.default.hasBackground,v.default.statsRow)},d.default.createElement("dl",{className:v.default.dataList},d.default.createElement("dt",{className:v.default.statsDt},d.default.createElement("span",{className:v.default.rowLabel},"Projects")),d.default.createElement("dd",{className:v.default.statsDd},this.state.stats.numProjects))),"samples"===a&&d.default.createElement("div",null,d.default.createElement("div",{className:(0,c.default)(v.default.hasBackground,v.default.statsRow)},d.default.createElement("dl",{className:v.default.dataList},d.default.createElement("dt",{className:v.default.statsDt},d.default.createElement("span",{className:v.default.rowLabel},"Avg. reads per sample")),d.default.createElement("dd",{className:v.default.statsDd},this.state.stats.avgTotalReads))),d.default.createElement("div",{className:(0,c.default)(v.default.hasBackground,v.default.statsRow)},d.default.createElement("dl",{className:v.default.dataList},d.default.createElement("dt",{className:v.default.statsDt},d.default.createElement("span",{className:v.default.rowLabel},"Avg. reads passing filters per sample")),d.default.createElement("dd",{className:v.default.statsDd},this.state.stats.avgAdjustedRemainingReads)))))),d.default.createElement("div",{className:v.default.metadataContainer},d.default.createElement(h.Accordion,{key:r,className:v.default.metadataSection,bottomContentPadding:!0,open:this.hasData(),header:d.default.createElement("div",{className:v.default.title},"Date created")},d.default.createElement("div",null,this.buildDateHistogram("time")))),d.default.createElement("div",{className:v.default.metadataContainer},d.default.createElement(h.Accordion,{key:r,className:v.default.metadataSection,bottomContentPadding:!0,open:this.hasData(),header:d.default.createElement("div",{className:v.default.title},"Metadata")},d.default.createElement("div",{className:v.default.hasBackground},d.default.createElement("span",{className:v.default.rowLabel},"Host"),this.buildMetadataRows("host")),d.default.createElement("div",{className:v.default.hasBackground},d.default.createElement("span",{className:v.default.rowLabel},"Sample Type"),this.buildMetadataRows("tissue")),d.default.createElement("div",{className:v.default.hasBackground},d.default.createElement("span",{className:v.default.rowLabel},"Location"),this.buildMetadataRows("locationV2")))))}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(e,t){var a=e.currentTab,l=e.loading,n=e.projectDimensions,r=e.projectStats,o=e.sampleDimensions,s=e.sampleStats;if(l)return t;var i="projects"===a?n:o;return{stats:{numSamples:DiscoverySidebar.formatNumber((s||{}).count),numProjects:DiscoverySidebar.formatNumber((r||{}).count),avgTotalReads:DiscoverySidebar.formatNumber((s||{}).avgTotalReads),avgAdjustedRemainingReads:DiscoverySidebar.formatNumber((s||{}).avgAdjustedRemainingReads)},metadata:{host:DiscoverySidebar.loadDimension(i,"host"),tissue:DiscoverySidebar.loadDimension(i,"tissue"),location:DiscoverySidebar.loadDimension(i,"location"),locationV2:DiscoverySidebar.loadDimension(i,"locationV2"),time:DiscoverySidebar.loadDimension(i,"time_bins")}}}},{key:"loadDimension",value:function loadDimension(e,t){return((0,u.find)({dimension:t},e)||{}).values||[]}},{key:"formatDate",value:function formatDate(e){return(0,f.default)(e).format("YYYY-MM-DD")}},{key:"formatNumber",value:function formatNumber(e){return(Math.round(e)||"").toLocaleString()}}]),DiscoverySidebar}(d.default.Component);t.default=b,b.defaultProps={defaultNumberOfMetadataRows:4},b.propTypes={allowedFeatures:m.default.arrayOf(m.default.string),className:m.default.string,currentTab:m.default.string.isRequired,defaultNumberOfMetadataRows:m.default.number,loading:m.default.bool,onFilterClick:m.default.func,projectDimensions:m.default.array,projectStats:m.default.object,sampleDimensions:m.default.array,sampleStats:m.default.object,project:m.default.object}},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(26)),r=l(a(27)),o=l(a(7)),s=l(a(8)),i=l(a(10)),d=l(a(9)),c=l(a(3)),u=l(a(11)),f=l(a(2)),p=l(a(0)),m=l(a(4)),h=l(a(1903)),g=l(a(1)),v=l(a(228)),y=l(a(227)),b=a(42),C=a(308),w=!0,E=function(e){function ProjectDescription(e){var t;return(0,o.default)(this,ProjectDescription),t=(0,i.default)(this,(0,d.default)(ProjectDescription).call(this,e)),(0,f.default)((0,c.default)(t),"handleDescriptionChange",function(e){t.setState({description:e,changed:!0,errors:null})}),(0,f.default)((0,c.default)(t),"handleDescriptionSave",(0,r.default)(n.default.mark(function _callee(){return n.default.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:t.state.changed&&t.setState({changed:!1},function(){t._save(t.props.project.id,t.state.description)});case 1:case"end":return e.stop()}},_callee)}))),(0,f.default)((0,c.default)(t),"_save",function(){var e=(0,r.default)(n.default.mark(function _callee2(e,a){var l,r;return n.default.wrap(function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:return t.setState({savePending:!0}),l=t.state.lastValidDescription,n.next=4,(0,b.saveProjectDescription)(e,a);case 4:"failed"===(r=n.sent).status?t.setState({description:l,errors:r.message}):t.setState({description:a,lastValidDescription:a}),t.setState({savePending:!1});case 7:case"end":return n.stop()}},_callee2)}));return function(t,a){return e.apply(this,arguments)}}()),t.toggleDisplayDescription=t.toggleDisplayDescription.bind((0,c.default)(t)),t.toggleEditing=t.toggleEditing.bind((0,c.default)(t)),t.state={description:e.project.description?e.project.description:"",lastValidDescription:e.project.description?e.project.description:"",showLess:!w,editing:!1,changed:!1,savePending:!1,errors:null},t}return(0,u.default)(ProjectDescription,e),(0,s.default)(ProjectDescription,[{key:"toggleDisplayDescription",value:function toggleDisplayDescription(){this.setState(function(e){return{showLess:!e.showLess}})}},{key:"toggleEditing",value:function toggleEditing(){this.setState(function(e){return{editing:!e.editing}})}},{key:"render",value:function render(){var e=this,t=this.state,a=t.description,l=t.showLess,n=t.errors,r=C.MAX_DESCRIPTION_LENGTH/2,o=!!a&&a.length>r;return p.default.createElement(y.default,{editable:this.props.project.editable,onEditToggle:this.toggleEditing,editing:this.state.editing,title:"Description",savePending:this.state.savePending,alwaysShowEditLink:this.props.project.editable,open:!0,toggleable:!0},this.state.editing?p.default.createElement("div",{className:h.default.descriptionContainer},p.default.createElement(v.default,{onChange:function onChange(t){return e.handleDescriptionChange(t)},onBlur:this.handleDescriptionSave,value:a,className:h.default.textarea,maxLength:C.MAX_DESCRIPTION_LENGTH}),p.default.createElement("div",{className:h.default.charCounter},C.MAX_DESCRIPTION_LENGTH-a.length,"/",C.MAX_DESCRIPTION_LENGTH," characters remaining"),n&&p.default.createElement("div",{className:h.default.error},n)):p.default.createElement("div",{className:h.default.descriptionContainer},a?p.default.createElement("div",null,p.default.createElement("div",{className:(0,m.default)(o&&l&&h.default.truncated)},a),o&&p.default.createElement("div",{className:h.default.showHide,onClick:this.toggleDisplayDescription},l?"Show More":"Show Less")):p.default.createElement("div",null,"No description.")))}}]),ProjectDescription}(p.default.Component);E.propTypes={project:g.default.object.isRequired};var S=E;t.default=S},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(26)),r=l(a(27)),o=l(a(7)),s=l(a(8)),i=l(a(10)),d=l(a(9)),c=l(a(3)),u=l(a(11)),f=l(a(2)),p=l(a(0)),m=a(17),h=l(a(329)),g=l(a(513)),v=l(a(517)),y=l(a(59)),b=l(a(182)),C=l(a(24)),w=l(a(181)),E=l(a(162)),S=a(20),_=a(308),k=a(189),N=l(a(1923)),x=function(e){function ProjectsView(e){var t;(0,o.default)(this,ProjectsView),t=(0,i.default)(this,(0,d.default)(ProjectsView).call(this,e)),(0,f.default)((0,c.default)(t),"getRowHeight",function(e){var t=e.row;return t&&t.project&&t.project.description?_.MAX_PROJECT_ROW_HEIGHT:_.DEFAULT_ROW_HEIGHT}),(0,f.default)((0,c.default)(t),"handleRowClick",function(e){var a=e.rowData,l=t.props,n=l.onProjectSelected,r=l.projects.get(a.id);n&&n({project:r}),(0,S.logAnalyticsEvent)("ProjectsView_row_clicked",{projectId:r.id,projectName:r.name})}),(0,f.default)((0,c.default)(t),"renderDisplaySwitcher",function(){var e=t.props,a=e.currentDisplay,l=e.onDisplaySwitch,n=function renderContent(){return p.default.createElement("div",{className:N.default.toggleContainer},p.default.createElement(v.default,{currentDisplay:a,onDisplaySwitch:function onDisplaySwitch(e){l(e),(0,S.logAnalyticsEvent)("ProjectsView_".concat(e,"-switch_clicked"))}}))};return"table"===a?n():p.default.createElement(y.default,null,n())}),(0,f.default)((0,c.default)(t),"handleLoadRowsAndFormat",function(){var e=(0,r.default)(n.default.mark(function _callee(e){var a,l;return n.default.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return a=t.props.onLoadRows,n.next=3,a(e);case 3:return l=n.sent,n.abrupt("return",l.map(function(e){return(0,m.merge)({project:(0,m.pick)(["name","description","owner","public_access"],e)},(0,m.pick)(["id","created_at","hosts","tissues","number_of_samples"],e))}));case 5:case"end":return n.stop()}},_callee)}));return function(t){return e.apply(this,arguments)}}()),(0,f.default)((0,c.default)(t),"reset",function(){"table"===t.props.currentDisplay&&t.discoveryView&&t.discoveryView.reset()}),t.discoveryView=null,t.columns=[{dataKey:"project",flexGrow:1,width:350,cellRenderer:function cellRenderer(e){var a=e.cellData;return E.default.renderItemDetails((0,m.merge)({cellData:a},{nameRenderer:t.nameRenderer,detailsRenderer:t.detailsRenderer,descriptionRenderer:t.descriptionRenderer,visibilityIconRenderer:t.visibilityIconRenderer}))},headerClassName:N.default.projectHeader,sortKey:function sortKey(e){return(e.name||"").toLowerCase()}},{dataKey:"created_at",label:"Created On",width:120,cellRenderer:E.default.renderDateWithElapsed},{dataKey:"hosts",width:200,disableSort:!0,cellRenderer:E.default.renderList},{dataKey:"tissues",label:"Sample Types",width:200,disableSort:!0,cellRenderer:E.default.renderList},{dataKey:"number_of_samples",width:140,label:"No. of Samples"}];var a=!0,l=!1,s=void 0;try{for(var u,h=t.columns[Symbol.iterator]();!(a=(u=h.next()).done);a=!0){var g=u.value;g.columnData=_.PROJECT_TABLE_COLUMNS[g.dataKey]}}catch(e){l=!0,s=e}finally{try{a||null==h.return||h.return()}finally{if(l)throw s}}return t}return(0,u.default)(ProjectsView,e),(0,s.default)(ProjectsView,[{key:"nameRenderer",value:function nameRenderer(e){return e?e.name:""}},{key:"visibilityIconRenderer",value:function visibilityIconRenderer(e){return e?e.public_access?p.default.createElement(w.default,null):p.default.createElement(b.default,null):p.default.createElement("div",{className:N.default.icon})}},{key:"descriptionRenderer",value:function descriptionRenderer(e){return p.default.createElement("div",{className:N.default.projectDescription},e?e.description:"")}},{key:"detailsRenderer",value:function detailsRenderer(e){return p.default.createElement("div",null,e?e.owner:"")}},{key:"render",value:function render(){var e=this,t=this.props,a=t.currentDisplay,l=t.currentTab,n=t.mapLevel,r=t.mapLocationData,o=t.mapPreviewedLocationId,s=t.mapTilerKey,i=t.onClearFilters,d=t.onMapClick,c=t.onMapLevelChange,u=t.onMapMarkerClick,f=t.onMapTooltipTitleClick;return p.default.createElement("div",{className:N.default.container},this.renderDisplaySwitcher(),"table"===a?p.default.createElement(h.default,{columns:this.columns,handleRowClick:this.handleRowClick,onLoadRows:this.handleLoadRowsAndFormat,ref:function ref(t){return e.discoveryView=t},rowHeight:this.getRowHeight}):p.default.createElement("div",{className:N.default.map},p.default.createElement(g.default,{currentTab:l,mapLevel:n,mapLocationData:r,mapTilerKey:s,onClearFilters:i,onClick:d,onMapLevelChange:c,onMarkerClick:u,onTooltipTitleClick:f,previewedLocationId:o})))}}]),ProjectsView}(p.default.Component);x.defaultProps={currentDisplay:"table"},x.propTypes={allowedFeatures:C.default.array,currentDisplay:C.default.string.isRequired,currentTab:C.default.string.isRequired,mapLevel:C.default.string,mapLocationData:C.default.objectOf(C.default.Location),mapPreviewedLocationId:C.default.number,mapTilerKey:C.default.string,onClearFilters:C.default.func,onDisplaySwitch:C.default.func,onLoadRows:C.default.func.isRequired,onMapClick:C.default.func,onMapLevelChange:C.default.func,onMapMarkerClick:C.default.func,onMapTooltipTitleClick:C.default.func,onProjectSelected:C.default.func,projects:C.default.instanceOf(k.ObjectCollectionView).isRequired};var M=x;t.default=M},,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(0)),c=l(a(1)),u=a(17),f=a(332),p=l(a(515)),m=l(a(938)),h=function(e){function ShapeMarker(){return(0,n.default)(this,ShapeMarker),(0,o.default)(this,(0,s.default)(ShapeMarker).apply(this,arguments))}return(0,i.default)(ShapeMarker,e),(0,r.default)(ShapeMarker,[{key:"render",value:function render(){var e=this.props,t=e.active,a=e.divisorConst,l=e.lat,n=e.lng,r=e.maxSize,o=e.minSize,s=e.onClick,i=e.onMouseEnter,c=e.onMouseLeave,h=e.pointCount,g=e.rectangular,v=e.size,y=e.sizeMultiple,b=e.title,C=e.zoom,w=v||(0,u.clamp)(o,r,h/(h+a)*y*C);return d.default.createElement(f.Marker,{latitude:l,longitude:n},g?d.default.createElement(m.default,{active:t,onClick:s,onMouseEnter:i,onMouseLeave:c,title:b}):d.default.createElement(p.default,{active:t,onClick:s,onMouseEnter:i,onMouseLeave:c,size:w}))}}]),ShapeMarker}(d.default.Component);h.defaultProps={divisorConst:400,maxSize:90,minSize:10,sizeMultiple:60,zoom:3},h.propTypes={active:c.default.bool,divisorConst:c.default.number,lat:c.default.number,lng:c.default.number,maxSize:c.default.number,minSize:c.default.number,onClick:c.default.func,onMouseEnter:c.default.func,onMouseLeave:c.default.func,pointCount:c.default.number,rectangular:c.default.bool,size:c.default.number,sizeMultiple:c.default.number,title:c.default.string,zoom:c.default.number};var g=h;t.default=g},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(0)),c=l(a(1)),u=l(a(4)),f=l(a(1912)),p=function(e){function RectangleMarker(){return(0,n.default)(this,RectangleMarker),(0,o.default)(this,(0,s.default)(RectangleMarker).apply(this,arguments))}return(0,i.default)(RectangleMarker,e),(0,r.default)(RectangleMarker,[{key:"render",value:function render(){var e=this.props,t=e.active,a=e.onMouseEnter,l=e.onMouseLeave,n=e.onClick,r=e.title;return d.default.createElement("div",{className:(0,u.default)(f.default.rectangle,a&&f.default.hoverable,t&&f.default.active),onMouseEnter:a,onMouseLeave:l,onClick:n},r)}}]),RectangleMarker}(d.default.Component);p.propTypes={active:c.default.bool,onMouseEnter:c.default.func,onMouseLeave:c.default.func,onClick:c.default.func,title:c.default.string};var m=p;t.default=m},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(1)),c=l(a(0)),u=a(20),f=l(a(46)),p=l(a(304)),m=l(a(1915)),h=function(e){function MapBanner(){return(0,n.default)(this,MapBanner),(0,o.default)(this,(0,s.default)(MapBanner).apply(this,arguments))}return(0,i.default)(MapBanner,e),(0,r.default)(MapBanner,[{key:"render",value:function render(){var e=this.props,t=e.item,a=e.itemCount,l=e.onClearFilters;return a?c.default.createElement("div",{className:m.default.bannerContainer},c.default.createElement("div",{className:m.default.banner},c.default.createElement("span",{className:m.default.emphasis},"".concat(a," ").concat(t.slice(0,-1)).concat(a>1?"s":""))," ","with location data.",c.default.createElement(f.default,{content:"Help out by adding more location data to your samples.",position:"bottom left",size:"mini",trigger:c.default.createElement("span",null,c.default.createElement(p.default,{className:m.default.infoIcon}))}))):c.default.createElement("div",{className:m.default.bannerContainer},c.default.createElement("div",{className:m.default.banner},"No ".concat(t," with locations found. Try adjusting search or filters. "),c.default.createElement("span",{className:m.default.clearAll,onClick:(0,u.withAnalytics)(l,"MapBanner_clear-filters-link_clicked",{currentTab:t})},"Clear all")))}}]),MapBanner}(c.default.Component);h.propTypes={item:d.default.string,itemCount:d.default.number,onClearFilters:d.default.func};var g=h;t.default=g},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(3)),d=l(a(11)),c=l(a(2)),u=l(a(4)),f=a(17),p=l(a(0)),m=l(a(58)),h=a(926),g=l(a(922)),v=l(a(941)),y=l(a(513)),b=l(a(175)),C=l(a(492)),w=l(a(330)),E=l(a(111)),S=l(a(517)),_=l(a(59)),k=l(a(215)),N=l(a(496)),x=l(a(24)),M=l(a(942)),T=l(a(499)),P=l(a(162)),D=a(84),I=a(82),j=a(20),L=a(189),O=a(57),R=l(a(396)),A=a(404),F=l(a(1928)),V=l(a(327)),U=!0,z=["Index Case","Family Member 1","Family Member 2","Family Member 3","Water Control 1","Water Control 2","Water Control 3","Water Control 4"],B=function sortPublicNcovSamples(e){return(0,f.sortBy)(function(e){return z.includes(e.sample.name)?z.indexOf(e.sample.name):100},e)},H=function(e){function SamplesView(e){var t;(0,n.default)(this,SamplesView),t=(0,o.default)(this,(0,s.default)(SamplesView).call(this,e)),(0,c.default)((0,i.default)(t),"handleSelectRow",function(e,a){var l=t.props,n=l.selectedSampleIds,r=l.onSelectedSamplesUpdate,o=new Set(n);a?o.add(e):o.delete(e),r(o),(0,j.logAnalyticsEvent)("SamplesView_row_selected",{selectedSampleIds:o.size})}),(0,c.default)((0,i.default)(t),"handleSelectAllRows",function(e){var a=t.props,l=a.selectableIds,n=a.selectedSampleIds;(0,a.onSelectedSamplesUpdate)(new Set(e?(0,f.union)(Array.from(n),l):(0,f.difference)(Array.from(n),l)))}),(0,c.default)((0,i.default)(t),"isSelectAllChecked",function(){var e=t.props,a=e.selectableIds,l=e.selectedSampleIds;return!(0,f.isEmpty)(a)&&(0,f.isEmpty)((0,f.difference)(a,Array.from(l)))}),(0,c.default)((0,i.default)(t),"reset",function(){"table"===t.props.currentDisplay&&t.infiniteTable.reset()}),(0,c.default)((0,i.default)(t),"renderHeatmapTrigger",function(){var e=t.props.selectedSampleIds,a=p.default.createElement(C.default,{className:F.default.icon});return e.size<2?p.default.createElement(R.default,{className:(0,u.default)(F.default.action,F.default.heatmap),disabled:!0,icon:a,popupText:"Heatmap",popupSubtitle:"Select at least 2 samples"}):p.default.createElement(m.default,{hideArrow:!0,className:(0,u.default)(F.default.action),items:[{text:"Taxon Heatmap",value:"/visualizations/heatmap"},{text:"AMR Heatmap",value:"/amr_heatmap"}].map(function(t){var a=(0,I.getURLParamString)({sampleIds:Array.from(e)});return p.default.createElement(m.default.Item,{key:t.text,text:p.default.createElement("a",{href:"".concat(t.value,"?").concat(a)},t.text),onClick:function log(){return(0,j.logAnalyticsEvent)("SamplesView_heatmap-option_clicked",{option:t,selectedSampleIds:e.size})}})}),trigger:p.default.createElement(R.default,{className:F.default.heatmap,icon:a,popupText:"Heatmap"})})}),(0,c.default)((0,i.default)(t),"renderPhyloTreeTrigger",function(){var e=p.default.createElement(N.default,{className:(0,u.default)(F.default.icon,F.default.phyloTree)});return p.default.createElement(R.default,{className:F.default.action,icon:e,popupText:"Phylogenetic Tree",onClick:(0,j.withAnalytics)(t.handlePhyloModalOpen,"SamplesView_phylo-tree-modal-open_clicked")})}),(0,c.default)((0,i.default)(t),"renderDownloadTrigger",function(){var e=t.props,a=e.projectId,l=e.selectedSampleIds,n=[{text:"Sample Table",value:"samples_table"}];return a&&n.push({text:"Sample Reports",value:"project_reports"}),t.props.admin&&n.push({text:"Host Gene Counts",value:"host_gene_counts"}),p.default.createElement(D.DownloadIconDropdown,{className:F.default.action,iconClassName:(0,u.default)(F.default.icon,F.default.download),options:n,onClick:function onClick(e){new M.default({projectId:a,downloadOption:e,selectedSampleIds:l}),(0,j.logAnalyticsEvent)("SamplesView_download-dropdown-option_clicked",{projectId:a,selectedSamplesCount:l.size,downloadOption:e})}})}),(0,c.default)((0,i.default)(t),"renderBulkDownloadTrigger",function(){var e=t.props.selectedSampleIds,a=t.state.bulkDownloadButtonTempTooltip,l=p.default.createElement(b.default,{className:(0,u.default)(F.default.icon,F.default.download)});return p.default.createElement(R.default,{className:F.default.action,icon:l,popperDependencies:[a],popupText:a||"Download",disabled:0===e.size,onClick:(0,j.withAnalytics)(t.handleBulkDownloadModalOpen,"SamplesView_bulk-download-modal-open_clicked")})}),(0,c.default)((0,i.default)(t),"renderCollectionTrigger",function(){var e=t.props,a=e.samples,l=e.selectedSampleIds,n=a.loaded,r=p.default.createElement(T.default,{className:F.default.icon});return l.size<2?p.default.createElement(R.default,{className:F.default.action,disabled:!0,icon:r,popupText:"Save a Collection",popupSubtitle:"Select at least 2 samples"}):p.default.createElement(v.default,{trigger:p.default.createElement(R.default,{className:F.default.action,icon:r,popupText:"Save a Collection"}),selectedSampleIds:l,fetchedSamples:n.filter(function(e){return l.has(e.id)})})}),(0,c.default)((0,i.default)(t),"renderToolbar",function(){var e=t.props,a=e.selectedSampleIds,l=e.allowedFeatures;return p.default.createElement("div",{className:F.default.samplesToolbar},t.renderDisplaySwitcher(),U&&p.default.createElement("div",{className:F.default.instructions},"Click on a sample below to see how the reads from that sample matched to various organisms."),!U&&p.default.createElement(p.default.Fragment,null,p.default.createElement("div",{className:F.default.fluidBlank}),p.default.createElement("div",{className:F.default.counterContainer},p.default.createElement(E.default,{circular:!0,className:F.default.counter,onClick:function onClick(){return(0,j.logAnalyticsEvent)("SamplesView_sample-counter_clicked")},text:"".concat(a.size)}),p.default.createElement("span",{className:F.default.label},"Selected")),p.default.createElement("div",{className:F.default.separator}),p.default.createElement("div",{className:F.default.actions},t.renderCollectionTrigger(),t.renderHeatmapTrigger(),t.renderPhyloTreeTrigger(),l.includes("bulk_downloads")?t.renderBulkDownloadTrigger():t.renderDownloadTrigger())))}),(0,c.default)((0,i.default)(t),"renderTable",function(){var e=t.props,a=e.activeColumns,l=e.onActiveColumnsChange,n=e.onLoadRows,r=e.protectedColumns,o=e.selectedSampleIds,s=t.isSelectAllChecked();return p.default.createElement("div",{className:F.default.table},p.default.createElement(w.default,{ref:function ref(e){return t.infiniteTable=e},columns:t.columns,defaultRowHeight:66,initialActiveColumns:a,loadingClassName:V.default.loading,onActiveColumnsChange:l,onLoadRows:n,onSelectAllRows:(0,j.withAnalytics)(t.handleSelectAllRows,"SamplesView_select-all-rows_clicked"),onSelectRow:t.handleSelectRow,onRowClick:t.handleRowClick,protectedColumns:r,rowClassName:F.default.tableDataRow,selectableKey:U?void 0:"id",selected:o,selectAllChecked:s,selectableCellClassName:F.default.selectableCell,customSampleSortFn:B}))}),(0,c.default)((0,i.default)(t),"renderDisplaySwitcher",function(){var e=t.props,a=e.currentDisplay,l=e.onDisplaySwitch;return p.default.createElement(S.default,{currentDisplay:a,onDisplaySwitch:function onDisplaySwitch(e){l(e),(0,j.logAnalyticsEvent)("SamplesView_".concat(e,"-switch_clicked"))}})}),(0,c.default)((0,i.default)(t),"renderMap",function(){var e=t.props,a=e.currentTab,l=e.mapLevel,n=e.mapLocationData,r=e.mapPreviewedLocationId,o=e.mapTilerKey,s=e.onClearFilters,i=e.onMapLevelChange,d=e.onMapClick,c=e.onMapMarkerClick,u=e.onMapTooltipTitleClick;return p.default.createElement("div",{className:F.default.map},p.default.createElement(y.default,{currentTab:a,mapLevel:l,mapLocationData:n,mapTilerKey:o,onClearFilters:s,onClick:d,onMapLevelChange:i,onMarkerClick:c,onTooltipTitleClick:u,previewedLocationId:r}))}),(0,c.default)((0,i.default)(t),"handlePhyloModalOpen",function(){t.setState({phyloTreeCreationModalOpen:!0})}),(0,c.default)((0,i.default)(t),"handlePhyloModalClose",function(){t.setState({phyloTreeCreationModalOpen:!1})}),(0,c.default)((0,i.default)(t),"handleBulkDownloadModalOpen",function(){var e=t.context||{},a=e.appConfig,l=e.admin;a.maxSamplesBulkDownload?t.props.selectedSampleIds.size>a.maxSamplesBulkDownload&&!l?t.setState({bulkDownloadButtonTempTooltip:"No more than ".concat(a.maxSamplesBulkDownload," samples allowed in one download.")}):t.setState({bulkDownloadModalOpen:!0}):t.setState({bulkDownloadButtonTempTooltip:"Unexpected issue. Please contact us for help."})}),(0,c.default)((0,i.default)(t),"handleBulkDownloadModalClose",function(){t.setState({bulkDownloadModalOpen:!1})}),(0,c.default)((0,i.default)(t),"handleBulkDownloadGenerate",function(){t.handleBulkDownloadModalClose(),(0,h.showBulkDownloadNotification)()}),(0,c.default)((0,i.default)(t),"handleRowClick",function(e){var a=e.event,l=e.rowData,n=t.props,r=n.onSampleSelected,o=n.samples.get(l.id);r&&r({sample:o,currentEvent:a}),(0,j.logAnalyticsEvent)("SamplesView_row_clicked",{sampleId:o.id,sampleName:o.name})}),t.state={phyloTreeCreationModalOpen:!1,bulkDownloadModalOpen:!1,bulkDownloadButtonTempTooltip:null},t.columns=[{dataKey:"sample",flexGrow:1,width:350,cellRenderer:P.default.renderSample,headerClassName:F.default.sampleHeader},{dataKey:"createdAt",label:"Uploaded On",width:120,className:F.default.basicCell,cellRenderer:P.default.renderDateWithElapsed},{dataKey:"host",flexGrow:1,className:F.default.basicCell},{dataKey:"collectionLocationV2",label:"Location",flexGrow:1,className:F.default.basicCell},{dataKey:"totalReads",label:"Total Reads",flexGrow:1,className:F.default.basicCell,cellDataGetter:function cellDataGetter(e){var t=e.dataKey,a=e.rowData;return P.default.formatNumberWithCommas(a[t])}},{dataKey:"nonHostReads",label:"Passed Filters",flexGrow:1,className:F.default.basicCell,cellRenderer:P.default.renderNumberAndPercentage},{dataKey:"qcPercent",label:"Passed QC",flexGrow:1,className:F.default.basicCell,cellDataGetter:function cellDataGetter(e){var t=e.dataKey,a=e.rowData;return P.default.formatPercentage(a[t])}},{dataKey:"duplicateCompressionRatio",label:"DCR",flexGrow:1,className:F.default.basicCell,cellDataGetter:function cellDataGetter(e){var t=e.dataKey,a=e.rowData;return P.default.formatNumber(a[t])}},{dataKey:"erccReads",label:"ERCC Reads",flexGrow:1,className:F.default.basicCell,cellDataGetter:function cellDataGetter(e){var t=e.dataKey,a=e.rowData;return P.default.formatNumberWithCommas(a[t])}},{dataKey:"notes",flexGrow:1,className:F.default.basicCell},{dataKey:"nucleotideType",label:"Nucleotide Type",flexGrow:1,className:F.default.basicCell},{dataKey:"sampleType",label:"Sample Type",flexGrow:1,className:F.default.basicCell},{dataKey:"subsampledFraction",label:"SubSampled Fraction",flexGrow:1,className:F.default.basicCell,cellDataGetter:function cellDataGetter(e){var t=e.dataKey,a=e.rowData;return P.default.formatNumber(a[t])}},{dataKey:"totalRuntime",label:"Total Runtime",flexGrow:1,className:F.default.basicCell,cellDataGetter:function cellDataGetter(e){var t=e.dataKey,a=e.rowData;return P.default.formatDuration(a[t])}},{dataKey:"waterControl",label:"Water Control",flexGrow:1,className:F.default.basicCell}];var a=!0,l=!1,r=void 0;try{for(var d,g=t.columns[Symbol.iterator]();!(a=(d=g.next()).done);a=!0){var _=d.value;_.columnData=A.SAMPLE_TABLE_COLUMNS_V2[_.dataKey]}}catch(e){l=!0,r=e}finally{try{a||null==g.return||g.return()}finally{if(l)throw r}}return t}return(0,d.default)(SamplesView,e),(0,r.default)(SamplesView,[{key:"componentDidUpdate",value:function componentDidUpdate(e){this.props.selectedSampleIds!==e.selectedSampleIds&&this.setState({bulkDownloadButtonTempTooltip:null})}},{key:"render",value:function render(){var e=this.props,t=e.currentDisplay,a=e.allowedFeatures,l=e.selectedSampleIds,n=this.state,r=n.phyloTreeCreationModalOpen,o=n.bulkDownloadModalOpen;return p.default.createElement("div",{className:F.default.container},"table"===t?this.renderToolbar():p.default.createElement(_.default,null,this.renderToolbar()),"table"===t?this.renderTable():this.renderMap(),r&&p.default.createElement(k.default,{csrf:document.getElementsByName("csrf-token")[0].content,onClose:(0,j.withAnalytics)(this.handlePhyloModalClose,"SamplesView_phylo-tree-modal_closed")}),a.includes("bulk_downloads")&&o&&p.default.createElement(g.default,{open:!0,onClose:(0,j.withAnalytics)(this.handleBulkDownloadModalClose,"SamplesView_bulk-download-modal_closed"),selectedSampleIds:l,onGenerate:this.handleBulkDownloadGenerate}))}}]),SamplesView}(p.default.Component);H.defaultProps={activeColumns:["sample","createdAt","host","collectionLocationV2","nonHostReads","qcPercent"],protectedColumns:["sample"],currentDisplay:"table"},H.propTypes={activeColumns:x.default.arrayOf(x.default.string),admin:x.default.bool,allowedFeatures:x.default.arrayOf(x.default.string),currentDisplay:x.default.string.isRequired,currentTab:x.default.string.isRequired,mapLevel:x.default.string,mapLocationData:x.default.objectOf(x.default.Location),mapPreviewedLocationId:x.default.number,mapTilerKey:x.default.string,onClearFilters:x.default.func,onActiveColumnsChange:x.default.func,onDisplaySwitch:x.default.func,onLoadRows:x.default.func.isRequired,onMapClick:x.default.func,onMapLevelChange:x.default.func,onMapMarkerClick:x.default.func,onMapTooltipTitleClick:x.default.func,onSampleSelected:x.default.func,onSelectedSamplesUpdate:x.default.func,projectId:x.default.number,protectedColumns:x.default.array,samples:x.default.instanceOf(L.ObjectCollectionView),selectableIds:x.default.array.isRequired,selectedSampleIds:x.default.instanceOf(Set)},H.contextType=O.UserContext;var q=H;t.default=q},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(26)),r=l(a(27)),o=l(a(7)),s=l(a(8)),i=l(a(10)),d=l(a(9)),c=l(a(3)),u=l(a(11)),f=l(a(2)),p=l(a(0)),m=l(a(1)),h=l(a(51)),g=l(a(88)),v=l(a(83)),y=l(a(228)),b=a(42),C=a(20),w=l(a(127)),E=l(a(73)),S=l(a(1925)),_=function(e){function CollectionModal(e){var t;return(0,o.default)(this,CollectionModal),t=(0,i.default)(this,(0,d.default)(CollectionModal).call(this,e)),(0,f.default)((0,c.default)(t),"openModal",function(){return t.setState({modalOpen:!0})}),(0,f.default)((0,c.default)(t),"closeModal",function(){return t.setState({modalOpen:!1})}),(0,f.default)((0,c.default)(t),"renderSampleList",function(){var e=t.props,a=e.fetchedSamples,l=e.selectedSampleIds,n=e.maxSamplesShown,r=a.slice(0,n),o=l.size-r.length;return p.default.createElement("div",{className:S.default.sampleList},p.default.createElement("div",{className:S.default.label},"Selected samples:"),p.default.createElement("div",{className:S.default.warning},p.default.createElement(E.default,{className:S.default.notification,type:"warn"},"A large number of samples may increase the processing time before your collection can be used as a background.")),p.default.createElement("ul",{className:S.default.selectedSamples},r.map(function(e){return p.default.createElement("li",{key:e.id},p.default.createElement("span",{className:S.default.sampleName},e.sample.name),p.default.createElement("span",{className:S.default.sampleDetails},"(Project: ".concat(e.sample.project,")")))})),o>0&&p.default.createElement("div",{className:S.default.moreSamplesCount},"and ",o," more..."))}),(0,f.default)((0,c.default)(t),"handleNameChange",function(e){t.setState({backgroundName:e})}),(0,f.default)((0,c.default)(t),"handleDescriptionChange",function(e){t.setState({backgroundDescription:e})}),(0,f.default)((0,c.default)(t),"handleCreateBackground",(0,r.default)(n.default.mark(function _callee(){var e,a,l,r,o;return n.default.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return e=t.props.selectedSampleIds,a=t.state,l=a.backgroundName,r=a.backgroundDescription,o=null,n.prev=3,n.next=6,(0,b.createBackground)({name:l,description:r,sampleIds:Array.from(e)});case 6:o=n.sent,n.next=12;break;case 9:n.prev=9,n.t0=n.catch(3),o={status:"error",message:"Something went wrong."};case 12:t.setState({backgroundCreationResponse:o});case 13:case"end":return n.stop()}},_callee,null,[[3,9]])}))),(0,f.default)((0,c.default)(t),"renderForm",function(){var e=t.props.numDescriptionRows;return p.default.createElement("div",{className:S.default.form},p.default.createElement("div",{className:S.default.label},"Name"),p.default.createElement(v.default,{fluid:!0,onChange:t.handleNameChange}),p.default.createElement("div",{className:S.default.label},"Description",p.default.createElement("span",{className:S.default.optional},"Optional")),p.default.createElement(y.default,{rows:e,onChange:t.handleDescriptionChange}),t.renderSampleList(),p.default.createElement("div",{className:S.default.buttons},p.default.createElement(h.default,{text:"Create",onClick:(0,C.withAnalytics)(t.handleCreateBackground,"CollectionModal_create-collection-button_clicked",{selectedSampleIds:t.props.selectedSampleIds.length})}),p.default.createElement(g.default,{text:"Cancel",onClick:(0,C.withAnalytics)(t.closeModal,"CollectionModal_cancel-button_clicked")})))}),(0,f.default)((0,c.default)(t),"renderStatus",function(){var e=t.state.backgroundCreationResponse;return p.default.createElement("div",null,"ok"===e.status?p.default.createElement(E.default,{type:"success"},"Collection is being created and will be visible on the report page once statistics have been computed."):p.default.createElement(E.default,{type:"error"},e.message))}),t.state={backgroundCreationResponse:null,backgroundDescription:null,backgroundName:null,modalOpen:!1},t}return(0,u.default)(CollectionModal,e),(0,s.default)(CollectionModal,[{key:"render",value:function render(){var e=this.props.trigger,t=this.state.backgroundCreationResponse;return p.default.createElement("div",null,p.default.createElement("div",{onClick:(0,C.withAnalytics)(this.openModal,"CollectionModal_open-link_clicked")},e),this.state.modalOpen&&p.default.createElement(w.default,{open:!0,narrow:!0,onClose:(0,C.withAnalytics)(this.closeModal,"CollectionModal_close-link_clicked"),className:S.default.collectionModal},p.default.createElement("div",{className:S.default.title},"Create a Collection"),p.default.createElement("div",{className:S.default.description},"A collection is a group of samples. You can use this collection as a background model to be selected on a sample report page. It will update the calculated z-score to indicate how much the the sample deviates from the norm for that collection."),this.renderForm(),t&&this.renderStatus()))}}]),CollectionModal}(p.default.Component);_.defaultProps={maxSamplesShown:10,numDescriptionRows:7},_.propTypes={maxSamplesShown:m.default.number,numDescriptionRows:m.default.number,fetchedSamples:m.default.array,selectedSampleIds:m.default.instanceOf(Set),trigger:m.default.node.isRequired};var k=_;t.default=k},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(2)),s=l(a(72)),i=a(61),d=l(a(279)),c=l(a(211)),u=function(){function ReportsDownloader(e){var t=this,a=e.projectId,l=void 0===a?"all":a,r=e.onDownloadFail,u=void 0===r?null:r,f=e.downloadOption,p=e.selectedSampleIds;(0,n.default)(this,ReportsDownloader),(0,o.default)(this,"checkReportDownload",function(e){var a=e.statusAction,l=e.retrieveAction,n="/projects/".concat(t.projectId,"/").concat(a);s.default.get(n).then(function(e){"complete"===e.data.status_display?((0,i.openUrl)("/projects/".concat(t.projectId,"/").concat(l)),t.nanobar.go(100)):t.scheduleCheckReportDownload({result:e,statusAction:a,retrieveAction:l})}).catch(function(){})}),(0,o.default)(this,"generateReport",function(e){var a=e.makeAction,l=e.statusAction,n=e.retrieveAction;t.nanobar.go(30);var r=d.default.get("background_id"),o=[];r&&o.push("background_id=".concat(r)),t.selectedSampleIds.length>0&&o.push("sampleIds=".concat(t.selectedSampleIds)),o=o.join("&");var i="/projects/".concat(t.projectId,"/").concat(a).concat(o.length>0?"?".concat(o):"");s.default.get(i).then(function(e){t.checkReportDownload({result:e,statusAction:l,retrieveAction:n})}).catch(function(){})}),(0,o.default)(this,"startReportGeneration",function(e){switch(e.downloadOption){case"samples_table":var a="/projects/".concat(t.projectId,"/csv");t.selectedSampleIds.length>0&&(a+="?sampleIds=".concat(t.selectedSampleIds)),(0,i.openUrl)(a);break;case"project_reports":t.generateReport({makeAction:"make_project_reports_csv",statusAction:"project_reports_csv_status",retrieveAction:"send_project_reports_csv"});break;case"host_gene_counts":t.generateReport({makeAction:"make_host_gene_counts",statusAction:"host_gene_counts_status",retrieveAction:"send_host_gene_counts"});break;default:console.error("ReportsDownloader - Download option not set!")}}),this.nanobar=new c.default({id:"prog-bar",class:"prog-bar"}),this.projectId=l||"all",this.selectedSampleIds=Array.from(p),this.onDownloadFail=u,this.startReportGeneration({downloadOption:f})}return(0,r.default)(ReportsDownloader,[{key:"scheduleCheckReportDownload",value:function scheduleCheckReportDownload(e){var t=this,a=e.statusAction,l=e.retrieveAction;setTimeout(function(){t.checkReportDownload({statusAction:a,retrieveAction:l})},2e3)}}]),ReportsDownloader}();t.default=u},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(26)),r=l(a(27)),o=l(a(7)),s=l(a(8)),i=l(a(10)),d=l(a(9)),c=l(a(3)),u=l(a(11)),f=l(a(2)),p=l(a(0)),m=l(a(1)),h=a(17),g=a(20),v=a(128),y=a(61),b=l(a(869)),C=l(a(868)),w=l(a(871)),E=l(a(870)),S=l(a(329)),_=l(a(162)),k=a(189),N=l(a(1931)),x=function(e){function VisualizationsView(e){var t;return(0,o.default)(this,VisualizationsView),t=(0,i.default)(this,(0,d.default)(VisualizationsView).call(this,e)),(0,f.default)((0,c.default)(t),"nameRenderer",function(e){return p.default.createElement("div",null,e?e.name||(0,v.humanize)(e.visualization_type):"")}),(0,f.default)((0,c.default)(t),"visibilityIconRenderer",function(e){if(!e)return p.default.createElement("div",{className:N.default.icon});var t=e.visualization_type,a=e.publicAccess;return"heatmap"==t?a?p.default.createElement(b.default,{className:N.default.icon}):p.default.createElement(C.default,{className:N.default.icon}):"phylo_tree"==t?a?p.default.createElement(w.default,{className:N.default.icon}):p.default.createElement(E.default,{className:N.default.icon}):void console.error("Unknown visualization type: ".concat(t))}),(0,f.default)((0,c.default)(t),"handleRowClick",function(e){var t=e.rowData,a="/visualizations/".concat(t.visualization.visualization_type,"/").concat(t.id);(0,y.openUrl)(a,event),(0,g.logAnalyticsEvent)("VisualizationsView_row_clicked",{visualizationType:t.visualization.visualization_type,visualizationId:t.id,url:a})}),(0,f.default)((0,c.default)(t),"handleLoadRowsAndFormat",function(){var e=(0,r.default)(n.default.mark(function _callee(e){var a,l;return n.default.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return a=t.props.visualizations,n.next=3,a.handleLoadObjectRows(e);case 3:return l=n.sent,n.abrupt("return",l.map(function(e){return(0,h.merge)({visualization:(0,h.pick)(["user_name","visualization_type","name","publicAccess"],e)},(0,h.pick)(["id","updated_at","project_name","samples_count"],e))}));case 5:case"end":return n.stop()}},_callee)}));return function(t){return e.apply(this,arguments)}}()),t.columns=[{dataKey:"visualization",flexGrow:1,width:350,cellRenderer:function cellRenderer(e){var a=e.cellData;return _.default.renderItemDetails((0,h.merge)({cellData:a},{nameRenderer:t.nameRenderer,detailsRenderer:t.detailsRenderer,visibilityIconRenderer:t.visibilityIconRenderer}))},headerClassName:N.default.visualizationHeader,sortKey:function sortKey(e){return e&&e.updated_at}},{dataKey:"updated_at",label:"Updated On",width:120,cellRenderer:_.default.renderDateWithElapsed},{dataKey:"project_name",width:280,label:"Project"},{dataKey:"samples_count",width:140,label:"Samples"}],t}return(0,u.default)(VisualizationsView,e),(0,s.default)(VisualizationsView,[{key:"detailsRenderer",value:function detailsRenderer(e){return p.default.createElement("div",null,e?e.user_name:"")}},{key:"render",value:function render(){return p.default.createElement(S.default,{columns:this.columns,handleRowClick:this.handleRowClick,onLoadRows:this.handleLoadRowsAndFormat})}}]),VisualizationsView}(p.default.Component);x.propTypes={visualizations:m.default.instanceOf(k.ObjectCollectionView).isRequired};var M=x;t.default=M},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;l(a(35));var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(0)),c=l(a(1)),u=l(a(14)),f=a(17),p=(l(a(212)),l(a(213)),l(a(214)),l(a(400)),l(a(391)),l(a(487))),m=a(57),h=l(a(1933)),g=(l(a(4)),function(e){function ProjectHeader(){return(0,n.default)(this,ProjectHeader),(0,o.default)(this,(0,s.default)(ProjectHeader).apply(this,arguments))}return(0,i.default)(ProjectHeader,e),(0,r.default)(ProjectHeader,[{key:"render",value:function render(){var e=this.props,t=e.project,a=(e.onProjectUpdated,e.onMetadataUpdated,e.fetchedSamples),l=(this.context||{}).appConfig,n=(0,u.default)(),r=(0,f.min)(a.map(function(e){return(0,u.default)(e.privateUntil)}).filter(function(e){return e>=n})),o=(r&&r.format("MMM Do, YYYY"),"visualizations/heatmap/".concat(l.publicNcovHeatmapId));return d.default.createElement("div",{className:h.default.projectHeader},d.default.createElement("div",{className:h.default.name},t.name),d.default.createElement("div",{className:h.default.fillIn}),d.default.createElement("a",{href:o},d.default.createElement(p.default,{label:"View Heatmap"})),!1)}}]),ProjectHeader}(d.default.Component));g.propTypes={fetchedSamples:c.default.array,onMetadataUpdated:c.default.func,onProjectUpdated:c.default.func,project:c.default.object.isRequired},g.contextType=m.UserContext;var v=g;t.default=v},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(0)),r=l(a(1)),o=l(a(4)),s=a(20),i=l(a(1936)),d=l(a(495)),c=function NoResultsBanner(e){var t=e.className,a=e.message,l=e.suggestion,r=e.type;return(0,s.logAnalyticsEvent)("DiscoveryView_no-results-banner_displayed",{type:r,message:a}),n.default.createElement("div",{className:(0,o.default)(i.default.container,t)},n.default.createElement("div",{className:i.default.text},n.default.createElement("div",{className:i.default.message},a),n.default.createElement("div",{className:i.default.suggestion},l)),n.default.createElement("div",{className:i.default.icon},n.default.createElement(d.default,{className:i.default.icon})))};c.defaultProps={message:"Sorry, no results match your search.",suggestion:"Try another search"},c.propTypes={className:r.default.string,message:r.default.string,suggestion:r.default.string,type:r.default.string};var u=c;t.default=u},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(26)),r=l(a(27)),o=l(a(7)),s=l(a(8)),i=l(a(10)),d=l(a(9)),c=l(a(3)),u=l(a(11)),f=l(a(2)),p=l(a(4)),m=a(17),h=l(a(0)),g=a(20),v=l(a(97)),y=l(a(24)),b=l(a(329)),C=l(a(511)),w=l(a(162)),E=l(a(330)),S=l(a(182)),_=l(a(181)),k=a(189),N=l(a(327)),x=l(a(1939)),M=!0,T=function(e){function MapPreviewSidebar(e){var t;return(0,o.default)(this,MapPreviewSidebar),t=(0,i.default)(this,(0,d.default)(MapPreviewSidebar).call(this,e)),(0,f.default)((0,c.default)(t),"componentDidUpdate",function(e){t.props.samples==e.samples&&t.props.projects==e.projects||t.reset()}),(0,f.default)((0,c.default)(t),"handleSelectRow",function(e,a){var l=t.props,n=l.selectedSampleIds,r=l.onSelectionUpdate,o=new Set(n);a?o.add(e):o.delete(e),r(o),(0,g.logAnalyticsEvent)("MapPreviewSidebar_row_selected",{selectedSampleIds:o.size})}),(0,f.default)((0,c.default)(t),"handleSampleRowClick",function(e){var a=e.event,l=e.rowData,n=t.props,r=n.onSampleClicked,o=n.samples.get(l.id);r&&r({sample:o,currentEvent:a}),(0,g.logAnalyticsEvent)("MapPreviewSidebar_sample-row_clicked",{sampleId:o.id,sampleName:o.name})}),(0,f.default)((0,c.default)(t),"handleProjectRowClick",function(e){var a=e.rowData,l=t.props,n=l.onProjectSelected,r=l.projects.get(a.id);n&&n({project:r}),(0,g.logAnalyticsEvent)("MapPreviewSidebar_project-row_clicked",{projectId:r.id,projectName:r.name})}),(0,f.default)((0,c.default)(t),"isSelectAllChecked",function(){var e=t.props,a=e.samples,l=e.selectedSampleIds;return!(0,m.isEmpty)(a.getIds())&&(0,m.isEmpty)((0,m.difference)(a.getIds(),Array.from(l)))}),(0,f.default)((0,c.default)(t),"handleSelectAllRows",function(e){var a=t.props,l=a.samples,n=a.selectedSampleIds;(0,a.onSelectionUpdate)(new Set(e?(0,m.union)(Array.from(n),l.getIds()):(0,m.difference)(Array.from(n),l.getIds()))),(0,g.logAnalyticsEvent)("MapPreviewSidebar_select-all-rows_clicked")}),(0,f.default)((0,c.default)(t),"handleTabChange",function(e){var a=t.props.onTabChange;a&&a(e),(0,g.logAnalyticsEvent)("MapPreviewSidebar_tab_clicked",{tab:e})}),(0,f.default)((0,c.default)(t),"computeTabs",function(){var e=t.props,a=e.discoveryCurrentTab,l=e.projectStats,n=e.sampleStats,r="samples"===a?n.count:l.count;return[{label:h.default.createElement("span",{className:x.default.tabLabel},"Summary"),value:"summary"},{label:h.default.createElement("div",null,h.default.createElement("span",{className:x.default.tabLabel},(0,m.upperFirst)(a)),r>0&&h.default.createElement("span",{className:x.default.tabCounter},r)),value:a}]}),(0,f.default)((0,c.default)(t),"reset",function(){t.samplesTable&&t.samplesTable.reset(),t.projectsTable&&t.projectsTable.reset()}),(0,f.default)((0,c.default)(t),"renderSamplesTab",function(){var e=t.props,a=e.samples,l=e.selectedSampleIds,n=t.isSelectAllChecked();return h.default.createElement("div",{className:x.default.container},h.default.createElement("div",{className:x.default.table},h.default.createElement(E.default,{columns:t.sampleColumns,defaultRowHeight:60,headerClassName:x.default.tableHeader,initialActiveColumns:["sample"],loadingClassName:N.default.loading,onLoadRows:a.handleLoadObjectRows,onRowClick:t.handleSampleRowClick,onSelectAllRows:t.handleSelectAllRows,onSelectRow:t.handleSelectRow,protectedColumns:["sample"],ref:function ref(e){t.samplesTable=e},rowClassName:x.default.sampleRow,selectableColumnClassName:x.default.selectColumn,selectableKey:M?void 0:"id",selectAllChecked:n,selected:l})))}),(0,f.default)((0,c.default)(t),"renderSummaryTab",function(){var e=t.props,a=e.allowedFeatures,l=e.discoveryCurrentTab,n=e.loading,r=e.onFilterClick,o=e.projectDimensions,s=e.projectStats,i=e.sampleDimensions,d=e.sampleStats;return h.default.createElement(C.default,{allowedFeatures:a,className:x.default.summaryInfo,currentTab:l,loading:n,onFilterClick:r,projectDimensions:o,projectStats:s,sampleDimensions:i,sampleStats:d})}),(0,f.default)((0,c.default)(t),"handleLoadRowsAndFormat",function(){var e=(0,r.default)(n.default.mark(function _callee(e){var a,l;return n.default.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return a=t.props.projects,n.next=3,a.handleLoadObjectRows(e);case 3:return l=n.sent,n.abrupt("return",l.map(function(e){return(0,m.merge)({project:(0,m.pick)(["name","description","owner","public_access"],e)},(0,m.pick)(["id","created_at","hosts","tissues","number_of_samples"],e))}));case 5:case"end":return n.stop()}},_callee)}));return function(t){return e.apply(this,arguments)}}()),(0,f.default)((0,c.default)(t),"renderProjectsTab",function(){return h.default.createElement(b.default,{columns:t.projectColumns,handleRowClick:t.handleProjectRowClick,initialActiveColumns:["project","number_of_samples"],protectedColumns:["project"],headerClassName:x.default.tableHeader,onLoadRows:t.handleLoadRowsAndFormat,ref:function ref(e){t.projectsTable=e},rowClassName:x.default.projectRow,rowHeight:50})}),(0,f.default)((0,c.default)(t),"renderTabContent",function(e){switch(e){case"samples":return t.renderSamplesTab();case"projects":return t.renderProjectsTab();default:return t.renderSummaryTab()}}),t.sampleColumns=[{dataKey:"sample",flexGrow:1,width:150,cellRenderer:function cellRenderer(e){return w.default.renderSample(e,!1)},className:x.default.sample,headerClassName:x.default.sampleHeader},{dataKey:"createdAt",label:"Uploaded On",className:x.default.basicCell,cellRenderer:w.default.renderDateWithElapsed},{dataKey:"host",flexGrow:1,className:x.default.basicCell},{dataKey:"collectionLocationV2",label:"Location",flexGrow:1,className:x.default.basicCell},{dataKey:"totalReads",label:"Total Reads",flexGrow:1,className:x.default.basicCell,cellDataGetter:function cellDataGetter(e){var t=e.dataKey,a=e.rowData;return w.default.formatNumberWithCommas(a[t])}},{dataKey:"nonHostReads",label:"Passed Filters",flexGrow:1,className:x.default.basicCell,cellRenderer:w.default.renderNumberAndPercentage},{dataKey:"qcPercent",label:"Passed QC",flexGrow:1,className:x.default.basicCell,cellDataGetter:function cellDataGetter(e){var t=e.dataKey,a=e.rowData;return w.default.formatPercentage(a[t])}},{dataKey:"duplicateCompressionRatio",label:"DCR",flexGrow:1,className:x.default.basicCell,cellDataGetter:function cellDataGetter(e){var t=e.dataKey,a=e.rowData;return w.default.formatPercentage(a[t])}},{dataKey:"erccReads",label:"ERCC Reads",flexGrow:1,className:x.default.basicCell,cellDataGetter:function cellDataGetter(e){var t=e.dataKey,a=e.rowData;return w.default.formatNumberWithCommas(a[t])}},{dataKey:"notes",flexGrow:1,className:x.default.basicCell},{dataKey:"nucleotideType",label:"Nucleotide Type",flexGrow:1,className:x.default.basicCell},{dataKey:"sampleType",label:"Sample Type",flexGrow:1,className:x.default.basicCell},{dataKey:"subsampledFraction",label:"SubSampled Fraction",flexGrow:1,className:x.default.basicCell,cellDataGetter:function cellDataGetter(e){var t=e.dataKey,a=e.rowData;return w.default.formatNumber(a[t])}},{dataKey:"totalRuntime",label:"Total Runtime",flexGrow:1,className:x.default.basicCell,cellDataGetter:function cellDataGetter(e){var t=e.dataKey,a=e.rowData;return w.default.formatDuration(a[t])}}],t.projectColumns=[{dataKey:"project",flexGrow:1,width:350,cellRenderer:function cellRenderer(e){var t=e.cellData;return w.default.renderItemDetails((0,m.merge)({cellData:t},{nameRenderer:function nameRenderer(e){return e?e.name:""},detailsRenderer:function detailsRenderer(e){return h.default.createElement("div",null,h.default.createElement("span",null,e?e.owner:""))},visibilityIconRenderer:function visibilityIconRenderer(e){return e?e.public_access?h.default.createElement(_.default,null):h.default.createElement(S.default,null):""}}))},headerClassName:x.default.projectHeader,className:x.default.project,sortKey:function sortKey(e){return(e&&e.name||"").toLowerCase()}},{dataKey:"created_at",label:"Created On",width:100,cellRenderer:w.default.renderDateWithElapsed},{dataKey:"hosts",width:100,disableSort:!0,cellRenderer:w.default.renderList},{dataKey:"tissues",width:100,disableSort:!0,cellRenderer:w.default.renderList},{dataKey:"number_of_samples",width:100,label:"No. of Samples"}],t.samplesTable=null,t.projectsTable=null,t}return(0,u.default)(MapPreviewSidebar,e),(0,s.default)(MapPreviewSidebar,[{key:"render",value:function render(){var e=this.props,t=e.className,a=e.currentTab;return h.default.createElement("div",{className:(0,p.default)(t,x.default.sidebar)},h.default.createElement(v.default,{className:x.default.tabs,hideBorder:!0,onChange:this.handleTabChange,tabs:this.computeTabs(),value:a}),this.renderTabContent(a))}}]),MapPreviewSidebar}(h.default.Component);t.default=T,T.defaultProps={currentTab:"summary"},T.propTypes={allowedFeatures:y.default.arrayOf(y.default.string),className:y.default.string,currentTab:y.default.string,discoveryCurrentTab:y.default.string,loading:y.default.bool,onFilterClick:y.default.func,onProjectSelected:y.default.func,onSampleClicked:y.default.func,onSelectionUpdate:y.default.func.isRequired,onTabChange:y.default.func,projectDimensions:y.default.array,projects:y.default.instanceOf(k.ObjectCollectionView),projectStats:y.default.object,sampleDimensions:y.default.array,samples:y.default.instanceOf(k.ObjectCollectionView),sampleStats:y.default.object,selectedSampleIds:y.default.instanceOf(Set)}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGroupIndex=t.GROUP_ORDER=void 0;var l=["Sample","Host","Infection","Sequencing"];t.GROUP_ORDER=l;t.getGroupIndex=function getGroupIndex(e){return l.includes(e)?l.indexOf(e):l.length}},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(5)),r=l(a(47)),o=l(a(7)),s=l(a(8)),i=l(a(10)),d=l(a(9)),c=l(a(3)),u=l(a(11)),f=l(a(0)),p=l(a(1)),m=l(a(506)),h=a(20),g=l(a(173)),v=function(e){function PhyloTreeDownloadButton(e){var t;return(0,o.default)(this,PhyloTreeDownloadButton),(t=(0,i.default)(this,(0,d.default)(PhyloTreeDownloadButton).call(this,e))).dataOptions=[{text:"VCF",value:"vcf"},{text:"SNP annotations",value:"snp_annotations"}],t.imageOptions=[{text:"SVG",value:"svg"},{text:"PNG",value:"png"}],t.download=t.download.bind((0,c.default)(t)),t.svgSaver=new m.default,t}return(0,u.default)(PhyloTreeDownloadButton,e),(0,s.default)(PhyloTreeDownloadButton,[{key:"download",value:function download(e){this.dataOptions.map(function(e){return e.value}).includes(e)?location.href="/phylo_trees/".concat(this.props.tree.id,"/download?output=").concat(e):"svg"==e?this.svgSaver.asSvg(this.getNode(),"phylo_tree.svg"):"png"==e?this.svgSaver.asPng(this.getNode(),"phylo_tree.png"):console.error("Bad download option: ".concat(e)),(0,h.logAnalyticsEvent)("PhyloTreeDownloadButton_option_clicked",{option:e,treeName:this.props.tree.name,treeId:this.props.tree.id})}},{key:"getNode",value:function getNode(){return document.getElementsByClassName("phylo-tree-vis")[0]}},{key:"render",value:function render(){var e=this.props,t=e.tree,a=(0,r.default)(e,["tree"]),l=this.dataOptions.filter(function(e){return!!t[e.value]});return l=l.concat(this.imageOptions),f.default.createElement(g.default,(0,n.default)({options:l,disabled:0===l.length,onClick:this.download},a))}}]),PhyloTreeDownloadButton}(f.default.Component);v.propTypes={tree:p.default.object};var y=v;t.default=y},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(35)),r=l(a(26)),o=l(a(27)),s=l(a(7)),i=l(a(8)),d=l(a(10)),c=l(a(9)),u=l(a(3)),f=l(a(11)),p=l(a(2)),m=l(a(0)),h=a(17),g=l(a(881)),v=l(a(950)),y=l(a(1)),b=l(a(423)),C=l(a(74)),w=a(89),E=a(951),S=function getAbsentName(e){return"project_name"===e?"NCBI References":"No data"},_=[{text:"Project Name",value:"project_name"},{text:"Host Genome Name",value:"host_genome_name"}],k=function(e){function PhyloTreeVis(e){var t;return(0,s.default)(this,PhyloTreeVis),t=(0,d.default)(this,(0,c.default)(PhyloTreeVis).call(this,e)),(0,p.default)((0,u.default)(t),"fetchMetadataTypes",(0,o.default)(r.default.mark(function _callee(){var e,a;return r.default.wrap(function _callee$(l){for(;;)switch(l.prev=l.next){case 0:return e=(0,h.compact)((0,h.pluck)("sample_id",(0,h.values)(t.props.nodeData))),l.next=3,(0,w.getSampleMetadataFields)(e);case 3:a=l.sent,t.setState({metadataFields:a});case 5:case"end":return l.stop()}},_callee)}))),(0,p.default)((0,u.default)(t),"handleNodeHover",function(e){t.setState({hoveredNode:e})}),(0,p.default)((0,u.default)(t),"handleNodeClick",function(e){if(e.data.accession){var a="https://www.ncbi.nlm.nih.gov/nuccore/".concat(e.data.accession);window.open(a,"_blank","noopener","noreferrer")}else e.data.sample_id&&t.props.onSampleNodeClick(e.data.sample_id,e.data.pipeline_run_id)}),(0,p.default)((0,u.default)(t),"handleSidebarClose",function(){t.setState({sidebarVisible:!1})}),(0,p.default)((0,u.default)(t),"handleMetadataTypeChange",function(e,a){t.setState({selectedMetadataType:e});var l=(0,h.find)({value:e},_)?e:"metadata.".concat(e);t.treeVis.updateOptions({colorGroupAttribute:l,colorGroupLegendTitle:a,colorGroupAbsentName:S(e)}),t.props.afterSelectedMetadataChange(e)}),(0,p.default)((0,u.default)(t),"getMetadataFieldValue",function(e){return(0,h.get)("metadata.".concat(e),t.state.hoveredNode.data)}),(0,p.default)((0,u.default)(t),"getMetadataDropdownOptions",function(){var e=t.state.metadataFields.map(function(e){return{text:e.name,value:e.key}});return(0,h.sortBy)("text",(0,h.concat)(_,e),e)}),t.state={hoveredNode:null,selectedSampleId:null,sidebarVisible:!1,metadataFields:[],selectedMetadataType:e.defaultMetadata||_[0].value},t.newick=e.newick,t.nodeData=e.nodeData,t.treeVis=null,t.ncbiFields=[{name:"country",label:"Country"},{name:"collection_date",label:"Collection Date"}],t}return(0,f.default)(PhyloTreeVis,e),(0,i.default)(PhyloTreeVis,[{key:"componentDidMount",value:function componentDidMount(){var e=g.default.fromNewickString(this.props.newick,this.props.nodeData);this.treeVis=new v.default(this.treeContainer,e,{defaultColor:"#cccccc",absentColor:"#999999",colormapName:"viridis",colorGroupAttribute:_[0].value,colorGroupLegendTitle:_[0].text,colorGroupAbsentName:S(_[0].value),tooltipContainer:this.tooltipContainer,onNodeTextClick:this.handleNodeClick,onNodeHover:this.handleNodeHover,scaleLabel:"Relative distance"}),this.treeVis.update(),this.fetchMetadataTypes(),this.handleMetadataTypeChange(this.state.selectedMetadataType,"")}},{key:"componentDidUpdate",value:function componentDidUpdate(e){this.props.newick==this.newick&&this.props.nodeData==this.nodeData||(this.newick=this.props.newick,this.nodeData=this.props.nodeData,this.treeVis.setTree(g.default.fromNewickString(this.props.newick,this.props.nodeData)),this.treeVis.update(),this.fetchMetadataTypes()),this.props.phyloTreeId!=e.phyloTreeId&&this.handleSidebarClose()}},{key:"getFieldValue",value:function getFieldValue(e){var t=this.state.hoveredNode.data[e.name];if(t&&e.parser)try{t=e.parser(t)}catch(t){console.error("Error parsing: ".concat(e.name))}return t||"-"}},{key:"getTooltipData",value:function getTooltipData(){var e=this;return this.state.hoveredNode.data.accession?[{name:"NCBI Reference",data:this.ncbiFields.map(function(t){return[t.label,e.getFieldValue(t)||"-"]})}]:[{name:"Sample",data:[].concat((0,n.default)(E.SAMPLE_FIELDS.map(function(t){return[t.label,e.getFieldValue(t)||"-"]})),(0,n.default)(E.SAMPLE_METADATA_FIELDS.map(function(t){return[(0,h.get)("name",(0,h.find)(["key",t],e.state.metadataFields))||t,e.getMetadataFieldValue(t)||"-"]})))}]}},{key:"render",value:function render(){var e=this;return m.default.createElement("div",{className:"phylo-tree-vis"},m.default.createElement("div",{className:"phylo-tree-vis__metadata-select"},m.default.createElement(C.default,{fluid:!0,rounded:!0,search:!0,options:this.getMetadataDropdownOptions(),label:"Color by",onChange:this.handleMetadataTypeChange,value:this.state.selectedMetadataType,menuLabel:"Select Metadata Field"})),m.default.createElement("div",{className:"phylo-tree-vis__tree-container",ref:function ref(t){e.treeContainer=t}}),m.default.createElement("div",{className:"phylo-tree-vis__tooltip-container",ref:function ref(t){e.tooltipContainer=t}},this.state.hoveredNode&&m.default.createElement(b.default,{data:this.getTooltipData()})))}}]),PhyloTreeVis}(m.default.Component);k.propTypes={newick:y.default.string,nodeData:y.default.object,onMetadataUpdate:y.default.func,phyloTreeId:y.default.number,onSampleNodeClick:y.default.func,defaultMetadata:y.default.string};var N=k;t.default=N},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(2)),s=a(953);a(1985);var i=a(132),d=a(17),c=a(48),u=a(298),f=l(a(1953)),p={top:120,bottom:20,left:250,right:150},m=48,h=250,g={top:20,left:16},v=function(){function Dendogram(e,t,a){var l=this;(0,n.default)(this,Dendogram),(0,o.default)(this,"getColorGroupAttrValForNode",function(e){var t=l.options.colorGroupAttribute,a=l.options.colorGroupAbsentName,n=(0,d.get)(t,e.data)||a;return(0,d.isObject)(n)?n.name:n}),(0,o.default)(this,"updateOptions",function(e){l.options=Object.assign(l.options,e),l.viz&&l.viz.selectAll("*").remove(),l.updateColors(),l.update()}),this.svg=null,this.viz=null,this.container=e,this.tree=null,this.root=null,this.legend=null,this.options=Object.assign({curvedEdges:!1,defaultColor:"#cccccc",absentColor:"#000000",colorGroupAttribute:null,colorGroupLegendTitle:null,colorGroupAbsentName:null,legendX:g.left,legendY:g.top,onNodeTextClick:null,onNodeClick:null,onNodeHover:null,tooltipContainer:null,scaleLabel:null,svgBackgroundColor:"white"},a||{}),this.minTreeSize={width:600,height:500},this.margins=p,this.nodeSize={width:1,height:25},this._highlighted=new Set,this._clickTimeout=null,this.setTree(t),this.initialize()}return(0,r.default)(Dendogram,[{key:"initialize",value:function initialize(){this.svg=(0,c.select)(this.container).append("svg").attr("width",this.minTreeSize.width+this.margins.left+this.margins.right).attr("height",this.minTreeSize.height+this.margins.top+this.margins.bottom).attr("style","background-color: ".concat(this.options.svgBackgroundColor)),this.viz=this.svg.append("g").attr("class","viz").attr("transform","translate(".concat(this.margins.left,", ").concat(this.margins.top,")")),this.tooltipContainer=(0,c.select)(this.options.tooltipContainer)}},{key:"adjustHeight",value:function adjustHeight(e){this.svg.attr("height",Math.max(e,this.minTreeSize.height)+this.margins.top+this.margins.bottom)}},{key:"setTree",value:function setTree(e){this.viz&&this.viz.selectAll("*").remove(),this._clickTimeout&&(this._clickTimeout.stop(),this._clickTimeout=null),this._highlighted.clear(),this.tree=e,this.root=e?(0,s.hierarchy)(this.tree.root):null,this.updateColors()}},{key:"computeDistanceToRoot",value:function computeDistanceToRoot(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=0;if(e.distanceToRoot=(e.data.distance||0)+t,void 0!==e.children)for(var l=0;l<e.children.length;l++)a=Math.max(this.computeDistanceToRoot(e.children[l],e.distanceToRoot),a);return Math.max(a,e.distanceToRoot)}},{key:"detachFromParent",value:function detachFromParent(e){var t=(e.parent.children||[]).indexOf(e);e.parent.children.splice(t,1),delete e.parent}},{key:"rerootOriginalTree",value:function rerootOriginalTree(e){this.tree.rerootTree(e.data.id),this.root=(0,s.hierarchy)(this.tree.root),this.update()}},{key:"markAsHighlight",value:function markAsHighlight(e){this._highlighted.has(e.data.id)?this._highlighted.delete(e.data.id):this._highlighted.add(e.data.id),this.update()}},{key:"updateHighlights",value:function updateHighlights(){var e=this;this.root.descendants().forEach(function(e){return e.data.highlight=!1}),this.root.leaves().forEach(function(t){e._highlighted.has(t.data.id)&&t.ancestors().forEach(function(e){e.data.highlight=!0})})}},{key:"updateColors",value:function updateColors(){var e=this;if(this.options.colorGroupAttribute){var t=this.options.colorGroupAbsentName,a=new Set;if(this.root.leaves().forEach(function(t){t.data&&a.add(e.getColorGroupAttrValForNode(t))}),a=Array.from(a),this.skipColoring=!1,1===a.length&&a[0]===t)return this.skipColoring=!0,this.allColorAttributeValues=["Uncolored",t],void(this.colors=[this.options.defaultColor,this.options.defaultColor]);a=["Uncolored"].concat(a),this.allColorAttributeValues=a,this.colors=(new u.CategoricalColormap).getNScale(a.length),this.colors=[this.options.defaultColor].concat(this.colors);var l=a.indexOf(t);l>-1&&this.colors.splice(l,0,this.options.absentColor);!function colorNode(t){if(!t.data)return 0;var l=0;if(t.children&&0!==t.children.length){var n=new Set,r=!0,o=!1,s=void 0;try{for(var i,d=t.children[Symbol.iterator]();!(r=(i=d.next()).done);r=!0){var c=i.value;n.add(colorNode(c))}}catch(e){o=!0,s=e}finally{try{r||null==d.return||d.return()}finally{if(o)throw s}}1===n.size&&(l=n.values().next().value)}else l=a.indexOf(e.getColorGroupAttrValForNode(t));return t.data.colorIndex=l,l}(this.root)}}},{key:"updateLegend",value:function updateLegend(){if(this.options.colorGroupAttribute){var e=this.allColorAttributeValues;this.legend=this.svg.select(".legend"),this.legend.empty()&&(this.legend=this.svg.append("g").attr("class","legend")),this.legend.selectAll("*").remove();var t=this.options.legendX,a=this.options.legendY,l=(this.options.colorGroupLegendTitle||"Legend")+":";this.legend.append("text").attr("class","legend-title").attr("x",t).attr("y",a).text(l),t+=5,a+=25;for(var n=1;n<e.length;n++,a+=30){var r=this.colors[n];this.legend.append("circle").attr("r",5).attr("transform","translate(".concat(t,", ").concat(a,")")).style("fill",r),this.legend.append("text").attr("x",t+15).attr("y",a+5).text(e[n])}var o=this.legend.node().getBBox();this.legend.append("rect").attr("class","legend-background").attr("x",o.x-10).attr("y",o.y-10).attr("width",o.width+20).attr("height",o.height+20).lower()}}},{key:"clickHandler",value:function clickHandler(e,t){var a=this,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:250;this._clickTimeout?(this._clickTimeout.stop(),this._clickTimeout=null,"function"==typeof t&&t()):this._clickTimeout=(0,i.timeout)(function(){a._clickTimeout=null,e()},l)}},{key:"formatBase10",value:function formatBase10(e,t){return-1<=t<=1?1*Number.parseFloat(e*Math.pow(10,t)).toFixed(2):"".concat(e,"E").concat(t)}},{key:"adjustXPositions",value:function adjustXPositions(){var e=this.root.x,t=this.root.x;this.root.each(function(a){a.x<e&&(e=a.x),a.x>t&&(t=a.x)});var a=t-e,l=a<this.minTreeSize.height?this.minTreeSize.height:a;this.root.each(function(t){t.x=(t.x-e)*l/a}),this.adjustHeight(l)}},{key:"adjustYPositions",value:function adjustYPositions(e){var t=this;this.root.each(function(a){a.y=t.minTreeSize.width*a.distanceToRoot/e})}},{key:"createScale",value:function createScale(e,t,a,l){var n=this;function drawScale(e,t,a){return"M".concat(t," ").concat(e," L").concat(a," ").concat(e)}var r=100*l/a,o=Math.floor(Math.log10(r)),s=100*Math.pow(10,o)/r,i=Math.round(100/s);i&&(s*=i);var d=function createTicks(e,t,a,l){for(var n=[{id:0,y:e,multiplier:0}],r=0;r<=t/a;r++)n.push({id:r+1,y:e+r*a,multiplier:r%2?void 0:r*l/2});return n}(0,a,s/2,i),c=this.svg.select(".scale");c.empty()?((c=this.svg.append("g").attr("transform","translate(".concat(t,",").concat(e,")")).attr("class","scale")).append("path").attr("class","scale-line").attr("d",function(){return drawScale(10,0,a)}),c.append("text").attr("class",f.default.scaleLabel).attr("x",-2).attr("y",-30).text(this.options.scaleLabel)):c.select("path").transition().duration(500).attr("d",function(){return drawScale(10,0,a)});var u=c.selectAll(".scale-tick").data(d,function(e){return e.id}),p=u.enter().append("g").attr("class","scale-tick").attr("transform",function(e){return"translate(".concat(e.y,",0)")});p.append("path").attr("d",function drawTick(e,t,a){return"M".concat(a," ").concat(e," L").concat(a," ").concat(t)}(0,10,0)),p.append("text").attr("dy",-3).style("text-anchor","middle").text(function(e){return void 0===e.multiplier?"":n.formatBase10(e.multiplier,o)}),u.transition().duration(500).attr("transform",function(e){return"translate(".concat(e.y,",0)")}),u.exit().transition(500).style("opacity",0).remove()}},{key:"update",value:function update(){var e=this;if(this.root){this.viz||this.initialize(),(0,s.cluster)().size([this.minTreeSize.height,this.minTreeSize.width]).nodeSize([this.nodeSize.height,this.nodeSize.width])(this.root);var t=this.computeDistanceToRoot(this.root);this.updateHighlights(),this.updateLegend(),this.adjustXPositions(),this.adjustYPositions(t),this.createScale(m,h,this.minTreeSize.width,t);var a=this.viz.selectAll(".link").data(this.root.descendants().slice(1),function linkId(e){if(e.parent){var t=[e.data.id,e.parent.data.id];return t.sort(),"".concat(t[0],"-").concat(t[1])}return null});a.exit().transition(500).style("opacity",0).remove(),a.enter().append("path").attr("class","link").attr("d",this.options.curvedEdges?curveEdge:rectEdge),a.classed("highlight",function(e){return e.data.highlight&&e.parent.data.highlight}),a.transition().duration(500).attr("d",this.options.curvedEdges?curveEdge:rectEdge),this.viz.selectAll(".link.highlight").raise();var l=this.viz.selectAll(".node").data(this.root.descendants(),function nodeId(e){return e.data.id});l.exit().transition(500).style("opacity",0).remove(),l.raise(),l.transition().duration(500).attr("transform",function(e){return"translate("+e.y+","+e.x+")"}),l.classed("highlight",function(e){return e.data.highlight}),l.select("text").transition().duration(500).attr("stroke",function(e){return this.colors[e.data.colorIndex]}).attr("x",function(e){return 0===e.depth?-(this.getBBox().width+15):e.children?-8:15});var n=l.enter().append("g").attr("class",function(e){return"node"+(e.children?" node-internal":" node-leaf")}).attr("transform",function(e){return"translate(".concat(e.y,",").concat(e.x,")")});if(this.tooltipContainer.empty()||n.on("mouseenter",function(t){t.children||(e.options.onNodeHover&&e.options.onNodeHover(t),e.tooltipContainer.classed("visible",!0))}).on("mousemove",function(t){t.children||e.tooltipContainer.style("left",c.event.pageX+20+"px").style("top",c.event.pageY+20+"px")}).on("mouseleave",function(){l.children||e.tooltipContainer.classed("visible",!1)}),n.append("circle").attr("r",function(e){return e.children?3:5}).on("click",function(t){e.clickHandler(function(){return e.markAsHighlight(t)},function(){return e.rerootOriginalTree(t)})}),n.append("text").attr("dy",function(e){return e.children?-2:5}).attr("x",function(e){return e.children?-8:15}).text(function(e){return e.children?"":e.data.name.split("__")[0]}).on("click",function(t){return e.options.onNodeTextClick&&e.options.onNodeTextClick(t)}),this.options.colorGroupAttribute&&!this.skipColoring){var r=this.colors;this.viz.selectAll(".node").style("fill",function(e){return r[e.data.colorIndex]}),this.viz.selectAll(".link").style("stroke",function(e){return r[e.data.colorIndex]})}else this.viz.selectAll(".node").style("fill",this.options.defaultColor);this.legend&&this.legend.raise()}function curveEdge(e){return"M"+e.y+","+e.x+"C"+(e.y+e.parent.y)/2+","+e.x+" "+(e.y+e.parent.y)/2+","+e.parent.x+" "+e.parent.y+","+e.parent.x}function rectEdge(e){return"M".concat(e.y," ").concat(e.x," L").concat(e.parent.y," ").concat(e.x," L").concat(e.parent.y," ").concat(e.parent.x)}}}]),Dendogram}();t.default=v},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.SAMPLE_METADATA_FIELDS=t.SAMPLE_FIELDS=void 0;var n=l(a(0)),r=l(a(738));var o=[{name:"name",label:"Name"},{name:"project_name",label:"Project"},{name:"created_at",label:"Upload Date",parser:function DateParser(e){return n.default.createElement(r.default,{fromNow:!0,date:e})}}];t.SAMPLE_FIELDS=o;t.SAMPLE_METADATA_FIELDS=["collection_location_v2","collection_date","sample_type","nucleotide_type"]},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";var l=a(6),n=l(a(100)),r=l(a(0)),o=l(a(33)),s=a(57);a(1010),a(527),a(1011),a(1013),a(1015),a(1017),a(1019),a(1022),a(1026),function f(){}.name||Object.defineProperty(Function.prototype,"name",{get:function get(){var e=(this.toString().match(/^function\s*([^\s(]+)/)||[])[1];return Object.defineProperty(this,"name",{value:e}),e}});var i=a(1028),d={};i.keys().forEach(function(e){var t=null;"function"==typeof i(e)?t=i(e):"object"===(0,n.default)(i(e))&&(t=i(e).default),t&&t.name&&(d[t.name]=t)});window.react_component=function react_component(e,t,a,l){var n=d[e];n?o.default.render(r.default.createElement(s.UserContext.Provider,{value:l||{}},r.default.createElement(n,t)),document.getElementById(a)):console.error("Couldn't find component for",e,d)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){},,,,function(e,t,a){},,function(e,t,a){var l={"./AMRView.jsx":347,"./AccessionViz.jsx":531,"./BasicPopup.jsx":46,"./BulkUploadImport.jsx":594,"./CreateUser.jsx":1237,"./ERCCScatterPlot.jsx":608,"./ErrorBoundary.jsx":385,"./Forbidden.jsx":1240,"./ForgotPassword.jsx":1241,"./Home.jsx":1242,"./Login.jsx":1355,"./PipelineSampleReport.jsx":768,"./ProjectSelection.jsx":735,"./RawResultsFolder.jsx":1371,"./ReactNouislider.jsx":1372,"./ReadViz.jsx":533,"./ResultsFolder.jsx":1374,"./SampleUpload.jsx":605,"./Samples.jsx":610,"./ScatterPlot.jsx":609,"./SortHelper.jsx":734,"./common/BlankScreenMessage.jsx":297,"./common/CoverageVizBottomSidebar/CoverageVizBottomSidebar.jsx":775,"./common/CoverageVizBottomSidebar/HitGroupViz.jsx":777,"./common/CoverageVizBottomSidebar/index.js":425,"./common/CoverageVizBottomSidebar/utils.js":424,"./common/DetailsSidebar/BulkDownloadDetailsMode/AdvancedDownloadTab.jsx":779,"./common/DetailsSidebar/BulkDownloadDetailsMode/BulkDownloadDetailsMode.jsx":780,"./common/DetailsSidebar/BulkDownloadDetailsMode/DetailsTab.jsx":781,"./common/DetailsSidebar/BulkDownloadDetailsMode/index.jsx":788,"./common/DetailsSidebar/DetailsSidebar.jsx":429,"./common/DetailsSidebar/FieldList.jsx":301,"./common/DetailsSidebar/GeneDetailsMode/GeneDetailsMode.jsx":808,"./common/DetailsSidebar/GeneDetailsMode/index.jsx":807,"./common/DetailsSidebar/PipelineStepDetailsMode/PipelineStepDetailsMode.jsx":798,"./common/DetailsSidebar/PipelineStepDetailsMode/index.jsx":797,"./common/DetailsSidebar/SampleDetailsMode/MetadataSection.jsx":227,"./common/DetailsSidebar/SampleDetailsMode/MetadataTab.jsx":791,"./common/DetailsSidebar/SampleDetailsMode/NotesTab.jsx":793,"./common/DetailsSidebar/SampleDetailsMode/PipelineTab.jsx":792,"./common/DetailsSidebar/SampleDetailsMode/SampleDetailsMode.jsx":790,"./common/DetailsSidebar/SampleDetailsMode/constants.js":430,"./common/DetailsSidebar/SampleDetailsMode/index.jsx":789,"./common/DetailsSidebar/SampleDetailsMode/utils.js":794,"./common/DetailsSidebar/TaxonDetailsMode/TaxonDetailsMode.jsx":796,"./common/DetailsSidebar/TaxonDetailsMode/index.jsx":795,"./common/DetailsSidebar/index.js":146,"./common/Header.jsx":1509,"./common/Heatmap/MetadataLegend.jsx":440,"./common/Heatmap/MetadataSelector.jsx":441,"./common/Heatmap/RowGroupLegend.jsx":810,"./common/HostOrganismSearchBox.jsx":758,"./common/LoadingMessage.jsx":229,"./common/MetadataCSVLocationsMenu.jsx":752,"./common/MetadataCSVUpload.jsx":750,"./common/MetadataInput.jsx":286,"./common/MetadataManualInput.jsx":757,"./common/MetadataUpload.jsx":394,"./common/ProjectCreationForm.jsx":811,"./common/ProjectSelect.jsx":813,"./common/SampleTypeSearchBox.jsx":756,"./common/ThresholdFilterTag.jsx":293,"./common/UserContext.jsx":57,"./common/filters/BaseMultipleFilter.jsx":814,"./common/filters/BaseSingleFilter.jsx":815,"./common/filters/LocationFilter.jsx":816,"./common/filters/TaxonFilter.jsx":817,"./common/filters/VisibilityFilter.jsx":818,"./common/filters/index.js":443,"./layout/Accordion.jsx":141,"./layout/Divider.jsx":222,"./layout/FilterRow.jsx":782,"./layout/NarrowContainer.jsx":59,"./layout/ViewHeader/Content.jsx":783,"./layout/ViewHeader/Controls.jsx":785,"./layout/ViewHeader/Pretitle.jsx":784,"./layout/ViewHeader/Title.jsx":786,"./layout/ViewHeader/ViewHeader.jsx":428,"./layout/ViewHeader/index.jsx":225,"./layout/index.js":62,"./ui/containers/ColumnHeaderTooltip.jsx":224,"./ui/containers/Container.jsx":819,"./ui/containers/ContextPlaceholder.jsx":776,"./ui/containers/DataTooltip.jsx":423,"./ui/containers/HelpIcon.jsx":416,"./ui/containers/InsightMessage.jsx":1536,"./ui/containers/Modal.jsx":127,"./ui/containers/Sidebar.jsx":420,"./ui/containers/ToastContainer.jsx":809,"./ui/containers/Wizard.jsx":390,"./ui/containers/index.js":178,"./ui/controls/BulkSampleUploadTable.jsx":604,"./ui/controls/CSVUpload.jsx":751,"./ui/controls/CategorySearchBox.jsx":759,"./ui/controls/Checkbox.jsx":126,"./ui/controls/DateInput.jsx":1537,"./ui/controls/ExternalLink.jsx":145,"./ui/controls/FilePicker.jsx":209,"./ui/controls/FilterTag.jsx":142,"./ui/controls/GeoSearchInputBox.jsx":219,"./ui/controls/Input.jsx":83,"./ui/controls/LiveSearchBox.jsx":851,"./ui/controls/LiveSearchPopBox.jsx":287,"./ui/controls/LoadingBar.jsx":468,"./ui/controls/Menu.jsx":277,"./ui/controls/PlusMinusControl.jsx":469,"./ui/controls/RadioButton.jsx":442,"./ui/controls/SearchBox.jsx":216,"./ui/controls/SearchBoxList.jsx":762,"./ui/controls/Slider.jsx":470,"./ui/controls/Tabs.jsx":97,"./ui/controls/TermsAgreement.jsx":278,"./ui/controls/Textarea.jsx":228,"./ui/controls/Toggle.jsx":398,"./ui/controls/UploadBox.jsx":606,"./ui/controls/buttons/Button.jsx":281,"./ui/controls/buttons/CompareButton.jsx":280,"./ui/controls/buttons/DownloadButton.jsx":402,"./ui/controls/buttons/NextActionButton.jsx":487,"./ui/controls/buttons/PhylogenyButton.jsx":387,"./ui/controls/buttons/PrimaryButton.jsx":51,"./ui/controls/buttons/SaveButton.jsx":764,"./ui/controls/buttons/SecondaryButton.jsx":88,"./ui/controls/buttons/ShareButton.jsx":765,"./ui/controls/buttons/TransparentButton.jsx":403,"./ui/controls/buttons/index.js":176,"./ui/controls/dropdowns/AsyncMultipleDropdown.jsx":754,"./ui/controls/dropdowns/BareDropdown.jsx":58,"./ui/controls/dropdowns/ButtonDropdown.jsx":388,"./ui/controls/dropdowns/DownloadButtonDropdown.jsx":173,"./ui/controls/dropdowns/DownloadIconDropdown.jsx":755,"./ui/controls/dropdowns/Dropdown.jsx":74,"./ui/controls/dropdowns/MultipleDropdown.jsx":140,"./ui/controls/dropdowns/MultipleNestedDropdown.jsx":288,"./ui/controls/dropdowns/PortalDropdown.jsx":736,"./ui/controls/dropdowns/ThresholdFilterDropdown.jsx":220,"./ui/controls/dropdowns/common/CheckboxItem.jsx":389,"./ui/controls/dropdowns/common/DropdownLabel.jsx":283,"./ui/controls/dropdowns/common/DropdownTrigger.jsx":174,"./ui/controls/dropdowns/index.js":84,"./ui/controls/index.js":401,"./ui/icons/AlertIcon.jsx":95,"./ui/icons/BacteriaIcon.jsx":144,"./ui/icons/BeeIcon.jsx":374,"./ui/icons/BulletListIcon.jsx":1721,"./ui/icons/CatIcon.jsx":375,"./ui/icons/CheckmarkIcon.jsx":172,"./ui/icons/CircleCheckmarkIcon.jsx":290,"./ui/icons/CompareIcon.jsx":386,"./ui/icons/CopyIcon.jsx":299,"./ui/icons/CoverageIcon.jsx":419,"./ui/icons/DecipherIcon.jsx":488,"./ui/icons/DetectIcon.jsx":489,"./ui/icons/DiscoverIcon.jsx":490,"./ui/icons/DownloadIcon.jsx":175,"./ui/icons/ERCCIcon.jsx":377,"./ui/icons/FiltersIcon.jsx":491,"./ui/icons/GlobeIcon.jsx":212,"./ui/icons/GlobeLinedIcon.jsx":1722,"./ui/icons/HeatmapIcon.jsx":492,"./ui/icons/HeatmapPrivate.jsx":868,"./ui/icons/HeatmapPublic.jsx":869,"./ui/icons/HumanIcon.jsx":378,"./ui/icons/Icon.jsx":139,"./ui/icons/InfoCircleIcon.jsx":304,"./ui/icons/InfoIcon.jsx":739,"./ui/icons/InfoPanelIcon.jsx":493,"./ui/icons/InsightIcon.jsx":408,"./ui/icons/LargeDownloadIcon.jsx":494,"./ui/icons/LoadingIcon.jsx":81,"./ui/icons/LockIcon.jsx":213,"./ui/icons/LogoIcon.jsx":223,"./ui/icons/MinusControlIcon.jsx":853,"./ui/icons/MosquitoIcon.jsx":379,"./ui/icons/MouseIcon.jsx":380,"./ui/icons/NoResultsIcon.jsx":495,"./ui/icons/PhyloTreeIcon.jsx":496,"./ui/icons/PhyloTreePrivate.jsx":870,"./ui/icons/PhyloTreePublic.jsx":871,"./ui/icons/PigIcon.jsx":376,"./ui/icons/PipelineStageArrowheadIcon.jsx":872,"./ui/icons/PlusControlIcon.jsx":852,"./ui/icons/PlusIcon.jsx":291,"./ui/icons/PrivateProjectIcon.jsx":182,"./ui/icons/PublicProjectIcon.jsx":181,"./ui/icons/RemoveIcon.jsx":110,"./ui/icons/SamplePrivateIcon.jsx":497,"./ui/icons/SamplePublicIcon.jsx":498,"./ui/icons/SaveIcon.jsx":499,"./ui/icons/SortIcon.jsx":323,"./ui/icons/TickIcon.jsx":381,"./ui/icons/UploadIcon.jsx":500,"./ui/icons/UserIcon.jsx":214,"./ui/icons/WormIcon.jsx":382,"./ui/icons/index.js":874,"./ui/labels/BetaLabel.jsx":282,"./ui/labels/Label.jsx":111,"./ui/labels/LoadingLabel.jsx":773,"./ui/labels/PathogenLabel.jsx":177,"./ui/labels/StatusLabel.jsx":243,"./ui/notifications/AccordionNotification.jsx":875,"./ui/notifications/IssueGroup.jsx":289,"./ui/notifications/ListNotification.jsx":393,"./ui/notifications/Notification.jsx":73,"./utils/ArrayUtils.js":397,"./utils/ThresholdMap.js":294,"./utils/UrlQueryParser.js":501,"./utils/colormaps/CategoricalColormap.js":298,"./utils/colormaps/SequentialColormap.js":1738,"./utils/csv.js":395,"./utils/d3/scales/compound.js":876,"./utils/d3/scales/symlog.js":877,"./utils/d3/svg.js":878,"./utils/extractChildren.js":787,"./utils/features.js":879,"./utils/format.js":143,"./utils/links.js":61,"./utils/metadata.js":302,"./utils/parsers/NewickParser.js":880,"./utils/propTypes.js":24,"./utils/sample.js":87,"./utils/structures/Tree.js":881,"./utils/toast.js":217,"./utils/tooltip.js":179,"./views/AlignmentViz.jsx":1742,"./views/BasespaceIntegration.jsx":1745,"./views/BulkUploadimportPage/BulkUploadImportPage.jsx":882,"./views/BulkUploadimportPage/index.js":1749,"./views/CliUserInstructions.jsx":1750,"./views/Landing.jsx":1754,"./views/Maintenance.jsx":1755,"./views/PipelineViz/PipelineViz.jsx":1759,"./views/PipelineViz/PipelineVizHeader.jsx":887,"./views/PipelineViz/PipelineVizStatusIcon.jsx":437,"./views/PipelineViz/utils.js":889,"./views/SampleUploadFlow/BasespaceSampleImport.jsx":890,"./views/SampleUploadFlow/HostOrganismMessage.jsx":502,"./views/SampleUploadFlow/LocalSampleFileUpload.jsx":891,"./views/SampleUploadFlow/RemoteSampleFileUpload.jsx":892,"./views/SampleUploadFlow/ReviewStep.jsx":893,"./views/SampleUploadFlow/SampleUploadFlow.jsx":895,"./views/SampleUploadFlow/SampleUploadFlowHeader.jsx":905,"./views/SampleUploadFlow/SampleUploadTable.jsx":897,"./views/SampleUploadFlow/SampleUploadTableRenderers.jsx":903,"./views/SampleUploadFlow/UploadMetadataStep.jsx":904,"./views/SampleUploadFlow/UploadProgressModal.jsx":894,"./views/SampleUploadFlow/UploadSampleStep.jsx":896,"./views/SampleUploadFlow/constants.js":244,"./views/SampleUploadFlow/index.jsx":1813,"./views/SampleUploadFlow/utils.js":221,"./views/SampleView/PipelineVersionSelect.jsx":325,"./views/SampleView/SampleView.jsx":906,"./views/SampleView/SampleViewControls.jsx":505,"./views/SampleView/index.js":1817,"./views/SampleViewV2/ReportFilters.jsx":907,"./views/SampleViewV2/ReportTable.jsx":908,"./views/SampleViewV2/ReportViewSelector.jsx":909,"./views/SampleViewV2/SampleViewHeader.jsx":910,"./views/SampleViewV2/SampleViewV2.jsx":911,"./views/SampleViewV2/TaxonTreeVis.jsx":913,"./views/SampleViewV2/constants.js":507,"./views/SampleViewV2/index.js":1832,"./views/TaxonTreeVis.jsx":772,"./views/UserSettingsView.jsx":1833,"./views/amr_heatmap/AMRHeatmapControls.jsx":914,"./views/amr_heatmap/AMRHeatmapView.jsx":1841,"./views/amr_heatmap/AMRHeatmapVis.jsx":918,"./views/auth0/Auth0Error.jsx":1854,"./views/bulk_download/BulkDownloadList.jsx":1858,"./views/bulk_download/BulkDownloadModal.jsx":922,"./views/bulk_download/BulkDownloadModalFooter.jsx":925,"./views/bulk_download/BulkDownloadModalOptions.jsx":923,"./views/bulk_download/BulkDownloadNotification.jsx":926,"./views/bulk_download/BulkDownloadSummary.jsx":1880,"./views/bulk_download/BulkDownloadTableRenderers.jsx":921,"./views/bulk_download/TaxonHitSelect.jsx":924,"./views/bulk_download/constants.js":509,"./views/compare/SamplesHeatmapView/SamplesHeatmapControls.jsx":927,"./views/compare/SamplesHeatmapView/SamplesHeatmapHeader.jsx":928,"./views/compare/SamplesHeatmapView/SamplesHeatmapView.jsx":929,"./views/compare/SamplesHeatmapView/index.js":1889,"./views/compare/SamplesHeatmapVis.jsx":930,"./views/discovery/BaseDiscoveryView.jsx":329,"./views/discovery/DiscoveryDataLayer.js":189,"./views/discovery/DiscoveryFilters.jsx":931,"./views/discovery/DiscoveryHeader.jsx":932,"./views/discovery/DiscoverySidebar/DiscoverySidebar.jsx":933,"./views/discovery/DiscoverySidebar/ProjectDescription.jsx":934,"./views/discovery/DiscoverySidebar/index.js":511,"./views/discovery/DiscoveryView.jsx":1906,"./views/discovery/NoResultsBanner.jsx":945,"./views/discovery/ProjectHeader.jsx":944,"./views/discovery/TableRenderers.jsx":162,"./views/discovery/discovery_api.js":307,"./views/discovery/mapping/BaseMap.jsx":514,"./views/discovery/mapping/CircleMarker.jsx":515,"./views/discovery/mapping/DiscoveryMap.jsx":513,"./views/discovery/mapping/MapBanner.jsx":939,"./views/discovery/mapping/MapPlayground.jsx":1945,"./views/discovery/mapping/MapPreviewSidebar.jsx":946,"./views/discovery/mapping/MapToggle.jsx":517,"./views/discovery/mapping/MapTooltip.jsx":516,"./views/discovery/mapping/RectangleMarker.jsx":938,"./views/discovery/mapping/ShapeMarker.jsx":937,"./views/discovery/mapping/constants.js":331,"./views/discovery/mapping/utils.js":512,"./views/metadata/MetadataDictionary.jsx":1949,"./views/metadata/constants.js":947,"./views/phylo_tree/PhyloTreeChecks.js":284,"./views/phylo_tree/PhyloTreeCreation.jsx":737,"./views/phylo_tree/PhyloTreeCreationModal.jsx":215,"./views/phylo_tree/PhyloTreeDownloadButton.jsx":948,"./views/phylo_tree/PhyloTreeListView.jsx":1952,"./views/phylo_tree/PhyloTreeVis.jsx":949,"./views/phylo_tree/constants.js":951,"./views/playgrounds/PlaygroundComponents.jsx":1958,"./views/playgrounds/PlaygroundControls.jsx":1961,"./views/playgrounds/PlaygroundIcons.jsx":1962,"./views/playgrounds/PlaygroundTypography.jsx":1965,"./views/playgrounds/PlaygroundViz.jsx":1969,"./views/projects/ProjectsView.jsx":935,"./views/projects/constants.js":308,"./views/report/PathogenPreview.jsx":406,"./views/report/ReportInsightIcon.jsx":407,"./views/report/ReportTable/DetailCells.jsx":771,"./views/report/ReportTable/HoverActions.jsx":418,"./views/report/ReportTable/ReportTable.jsx":770,"./views/report/ReportTable/constants.js":409,"./views/report/ReportTable/index.jsx":769,"./views/report/SampleDetailsSidebar/index.jsx":1972,"./views/report/filters/BackgroundModelFilter.jsx":410,"./views/report/filters/CategoryFilter.jsx":411,"./views/report/filters/MetricPicker.jsx":412,"./views/report/filters/MinContigReadsFilter.jsx":415,"./views/report/filters/NameTypeFilter.jsx":414,"./views/report/filters/ReportSearchBox.jsx":1973,"./views/report/filters/SpecificityFilter.jsx":413,"./views/report/utils/download.js":431,"./views/report/utils/taxon.js":295,"./views/samples/CollectionModal.jsx":941,"./views/samples/MetadataUploadModal/Instructions.jsx":399,"./views/samples/MetadataUploadModal/MetadataUploadModal.jsx":743,"./views/samples/MetadataUploadModal/ReviewPage.jsx":748,"./views/samples/MetadataUploadModal/UploadPage.jsx":749,"./views/samples/MetadataUploadModal/index.jsx":742,"./views/samples/PipelineStatusFilter.jsx":741,"./views/samples/ProjectSettingsModal/ProjectSettingsModal.jsx":760,"./views/samples/ProjectSettingsModal/PublicProjectConfirmationModal.jsx":763,"./views/samples/ProjectSettingsModal/UserManagementForm.jsx":761,"./views/samples/ProjectSettingsModal/index.jsx":400,"./views/samples/ProjectUploadMenu.jsx":391,"./views/samples/PublicSampleNotification.jsx":767,"./views/samples/ReportsDownloader.js":942,"./views/samples/SamplesView.jsx":940,"./views/samples/TableColumnHeader.jsx":740,"./views/samples/ToolbarIcon.jsx":396,"./views/samples/constants.js":404,"./views/samples/notifications.jsx":405,"./views/samples/utils.js":766,"./views/support/FAQPage.jsx":1978,"./views/support/PrivacyPolicy.jsx":1981,"./views/support/PublicNcovHomepage.jsx":1982,"./views/support/TermsChanges.jsx":1983,"./views/support/TermsOfUse.jsx":1984,"./views/visualizations/VisualizationsView.jsx":943,"./visualizations/GenomeViz.js":422,"./visualizations/Histogram.js":421,"./visualizations/NetworkGraph.js":886,"./visualizations/TidyTree.js":417,"./visualizations/dendrogram/Dendogram.js":950,"./visualizations/heatmap/Heatmap.js":328,"./visualizations/legends/SequentialLegend.js":915,"./visualizations/legends/SequentialLegendVis.jsx":508,"./visualizations/table/BaseTable.jsx":504,"./visualizations/table/DataTable.jsx":125,"./visualizations/table/InfiniteTable.jsx":330,"./visualizations/table/Table.jsx":902,"./visualizations/table/index.js":326};function webpackContext(e){var t=webpackContextResolve(e);return a(t)}function webpackContextResolve(e){if(!a.o(l,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return l[e]}webpackContext.keys=function webpackContextKeys(){return Object.keys(l)},webpackContext.resolve=webpackContextResolve,e.exports=webpackContext,webpackContext.id=1028},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){e.exports={filePicker:"filePicker-3sRVS",active:"active-3WUQI",accepted:"accepted-33Xly",inner:"inner-3Qkwz",title:"title-1Ug8y",fileBox:"fileBox-3WEOr",checkmarkIcon:"checkmarkIcon-1Xbcf",noTitle:"noTitle-ilvKH",fileName:"fileName-26kUF",instructions:"instructions-sapbj",message:"message-2LwPB",browserLink:"browserLink-kozJv"}},,function(e,t,a){e.exports={removeIcon:"removeIcon-1G3js",clickable:"clickable-hgyyj"}},,function(e,t,a){e.exports={checkmarkIcon:"checkmarkIcon-U6YiN"}},,function(e,t,a){e.exports={checkbox:"checkbox-1r4IZ",checkmark:"checkmark-11_FV",label:"label-wQ9z8"}},,function(e,t,a){e.exports={bulkSampleUploadTable:"bulkSampleUploadTable-26Aw4",detectedMsg:"detectedMsg-1nhNa",count:"count-1uefm"}},,,function(e,t,a){e.exports={termsAgreement:"termsAgreement-2D67c",loadingBackgroundAnimation:"loadingBackgroundAnimation-ZZRny"}},,,,,,,,,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(3)),d=l(a(11)),c=l(a(0)),u=l(a(72)),f=a(61),p=a(20),m=function(e){function CreateUser(e,t){var a;return(0,n.default)(this,CreateUser),(a=(0,o.default)(this,(0,s.default)(CreateUser).call(this,e,t))).csrf=e.csrf,a.user=e.selectedUser||null,a.handleCreate=a.handleCreate.bind((0,i.default)(a)),a.handleUpdate=a.handleUpdate.bind((0,i.default)(a)),a.handleEmailChange=a.handleEmailChange.bind((0,i.default)(a)),a.handleNameChange=a.handleNameChange.bind((0,i.default)(a)),a.handleInstitutionChange=a.handleInstitutionChange.bind((0,i.default)(a)),a.clearError=a.clearError.bind((0,i.default)(a)),a.toggleCheckBox=a.toggleCheckBox.bind((0,i.default)(a)),a.selectedUser={email:a.user?a.user.email:"",name:a.user?a.user.name:"",institution:a.user?a.user.institution:"",id:a.user?a.user.id:null,adminStatus:a.user?a.user.admin:null},a.state={submitting:!1,isAdmin:!!a.selectedUser.adminStatus,success:!1,showFailed:!1,errorMessage:"",successMessage:"",serverErrors:[],email:a.selectedUser.email||"",name:a.selectedUser.name||"",adminstatus:a.selectedUser.adminStatus,id:a.selectedUser.id,sendActivation:!0},a}return(0,d.default)(CreateUser,e),(0,r.default)(CreateUser,[{key:"handleCreate",value:function handleCreate(e){e.preventDefault(),this.isCreateFormInvalid()||(this.setState({submitting:!0}),this.createUser())}},{key:"handleUpdate",value:function handleUpdate(e){e.preventDefault(),this.isUpdateFormValid()||(this.setState({submitting:!0}),this.updateUser())}},{key:"clearError",value:function clearError(){this.setState({showFailed:!1})}},{key:"toggleCheckBox",value:function toggleCheckBox(e){this.setState({isAdmin:"true"!=e.target.value,adminstatus:"true"!=e.target.value})}},{key:"handleEmailChange",value:function handleEmailChange(e){this.setState({email:e.target.value})}},{key:"handleNameChange",value:function handleNameChange(e){this.setState({name:e.target.value})}},{key:"handleInstitutionChange",value:function handleInstitutionChange(e){this.setState({institution:e.target.value})}},{key:"isCreateFormInvalid",value:function isCreateFormInvalid(){if(""===this.state.email)return this.setState({showFailed:!0,errorMessage:"Please fill all fields"}),!0}},{key:"isUpdateFormValid",value:function isUpdateFormValid(){if(""===this.state.email)return this.setState({showFailed:!0,errorMessage:"Please enter valid email address"}),!0}},{key:"createUser",value:function createUser(){var e=this.state.sendActivation,t=this;u.default.post("/users.json",{user:{name:this.state.name,email:this.state.email,institution:this.state.institution,role:this.state.isAdmin?1:0,send_activation:e}},{headers:{"X-CSRF-TOKEN":this.csrf}}).then(function(e){t.setState({submitting:!1,success:!0,successMessage:"User created successfully"},function(){(0,f.openUrl)("/users")})}).catch(function(e){t.setState({submitting:!1,showFailed:!0,serverErrors:e.response.data})})}},{key:"updateUser",value:function updateUser(){var e=this;u.default.patch("/users/".concat(this.state.id,".json"),{user:{name:this.state.name,email:this.state.email,institution:this.state.institution,role:this.state.adminstatus?1:0}},{headers:{"X-CSRF-TOKEN":this.csrf}}).then(function(t){e.setState({success:!0,submitting:!1,successMessage:"User updated successfully"},function(){(0,f.openUrl)("/users")})}).catch(function(t){e.setState({showFailed:!0,submitting:!1,serverErrors:t.response.data})})}},{key:"displayError",value:function displayError(e,t,a){if(e){var l=t.length?t.map(function(e,t){return c.default.createElement("p",{className:"error center-align",key:t},e)}):c.default.createElement("span",null,a),n=this.props.selectedUser?"update":"create";return(0,p.logAnalyticsEvent)("CreateUser_".concat(n,"-errors_displayed"),{form:n,serverErrors:t,formattedError:a}),l}return null}},{key:"renderUserForm",value:function renderUserForm(e,t){var a=this,l=this.props.selectedUser,n=this.state.sendActivation;return c.default.createElement("div",{className:"user-form"},c.default.createElement("div",{className:"row"},c.default.createElement("form",{ref:"form",className:"new_user",id:"new_user",onSubmit:e},c.default.createElement("div",{className:"row title"},c.default.createElement("p",{className:"col s8 signup"}," ",t," User")),this.state.success?c.default.createElement("div",{className:"success-info"},c.default.createElement("i",{className:"fa fa-success"}),c.default.createElement("span",null,this.state.successMessage)):null,c.default.createElement("div",{className:this.state.showFailed?"error-info":""},this.displayError(this.state.showFailed,this.state.serverErrors,this.state.errorMessage)),c.default.createElement("div",{className:"row content-wrapper"},c.default.createElement("div",{className:"input-field"},c.default.createElement("i",{className:"fa fa-envelope","aria-hidden":"true"}),c.default.createElement("input",{type:"email",onChange:(0,p.withAnalytics)(this.handleEmailChange,"CreateUser_email_changed"),className:"",onFocus:this.clearError,value:this.state.email}),c.default.createElement("label",{htmlFor:"user_email"},"Email")),c.default.createElement("div",{className:"input-field"},c.default.createElement("i",{className:"fa fa-envelope","aria-hidden":"true"}),c.default.createElement("input",{type:"text",onChange:(0,p.withAnalytics)(this.handleNameChange,"CreateUser_name_changed"),className:"",onFocus:this.clearError,value:this.state.name}),c.default.createElement("label",{htmlFor:"user_name"},"Name")),c.default.createElement("div",{className:"input-field"},c.default.createElement("i",{className:"fa fa-building","aria-hidden":"true"}),c.default.createElement("input",{type:"text",onChange:(0,p.withAnalytics)(this.handleInstitutionChange,"CreateUser_institution_changed"),onFocus:this.clearError,value:this.state.institution}),c.default.createElement("label",null,"Institution")),c.default.createElement("p",null,c.default.createElement("input",{type:"checkbox",id:"admin",className:"filled-in",checked:this.state.isAdmin?"checked":"",onChange:(0,p.withAnalytics)(this.toggleCheckBox,"CreateUser_admin_changed"),value:this.state.isAdmin}),c.default.createElement("label",{htmlFor:"admin"},"Admin")),!l&&c.default.createElement("p",null,c.default.createElement("input",{type:"checkbox",id:"sendActivation",className:"filled-in",checked:n?"checked":"",onChange:(0,p.withAnalytics)(function(){a.setState({sendActivation:!n})},"CreateUser_send-activation_changed"),value:n}),c.default.createElement("label",{htmlFor:"sendActivation"},"Send activation email"))),c.default.createElement("input",{className:"hidden",type:"submit"}),this.state.submitting?c.default.createElement("div",{className:"center login-wrapper disabled"}," ",c.default.createElement("i",{className:"fa fa-spinner fa-spin fa-lg"})," "):c.default.createElement("div",{onClick:e,className:"center login-wrapper"},"Submit"))))}},{key:"render",value:function render(){var e=this;return c.default.createElement("div",null,this.props.selectedUser?this.renderUserForm((0,p.withAnalytics)(this.handleUpdate,"CreateUser_update-form_submitted",{form:"Update"})):this.renderUserForm((0,p.withAnalytics)(this.handleCreate,"CreateUser_create-form_submitted",{form:"Create"})),c.default.createElement("div",{className:"bottom"},c.default.createElement("span",{className:"back",onClick:function onClick(){return e.props.selectedUser?(0,f.openUrl)("/users"):(0,f.openUrl)("/")}},"Back"),"|",c.default.createElement("span",{className:"home",onClick:function onClick(){return(0,f.openUrl)("/")}},"Home")))}}]),CreateUser}(c.default.Component);t.default=m},function(e,t,a){e.exports={noData:"noData-2AfzS"}},,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(0)),c=function(e){function ForbiddenPage(e,t){return(0,n.default)(this,ForbiddenPage),(0,o.default)(this,(0,s.default)(ForbiddenPage).call(this,e,t))}return(0,i.default)(ForbiddenPage,e),(0,r.default)(ForbiddenPage,[{key:"render",value:function render(){return d.default.createElement("div",{className:"access"},"Access Denied")}}]),ForbiddenPage}(d.default.Component);t.default=c},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(0)),r=l(a(1)),o=function ForgotPassword(e){var t=e.endpoint,a=e.csrf,l=e.emailLabel;return n.default.createElement("div",{className:"login-form forgot-password"},n.default.createElement("div",{className:"row"},n.default.createElement("form",{action:t,method:"POST",className:"new_user"},n.default.createElement("div",{className:"mail"},n.default.createElement("br",null),n.default.createElement("div",{className:"form-title"},"Forgot your password?")),n.default.createElement("div",{className:"row content-wrapper"},n.default.createElement("div",null,"Please enter your email address. We will send you an email to reset your password.")),n.default.createElement("div",{className:"row content-wrapper"},n.default.createElement("div",{className:"input-field"},n.default.createElement("i",{className:"sample fa fa-envelope","aria-hidden":"true"}),n.default.createElement("input",{type:"hidden",name:"authenticity_token",value:a}),n.default.createElement("input",{type:"email",id:"user_password",name:l,className:"user_password",placeholder:"Enter your registered email"}),n.default.createElement("label",{htmlFor:"user_password"},"Email"))),n.default.createElement("button",{type:"submit",className:"center-align col s12 login-wrapper"},"Send Email"))))};o.propTypes={endpoint:r.default.string,csrf:r.default.string,emailLabel:r.default.string},o.defaultProps={endpoint:r.default.string,csrf:r.default.string,emailLabel:r.default.string};var s=o;t.default=s},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(0)),c=l(a(610)),u=function(e){function Home(){return(0,n.default)(this,Home),(0,o.default)(this,(0,s.default)(Home).apply(this,arguments))}return(0,i.default)(Home,e),(0,r.default)(Home,[{key:"render",value:function render(){return d.default.createElement("div",null,d.default.createElement(c.default,this.props))}}]),Home}(d.default.Component);t.default=u},function(e,t,a){var l={"./af":611,"./af.js":611,"./ar":612,"./ar-dz":613,"./ar-dz.js":613,"./ar-kw":614,"./ar-kw.js":614,"./ar-ly":615,"./ar-ly.js":615,"./ar-ma":616,"./ar-ma.js":616,"./ar-sa":617,"./ar-sa.js":617,"./ar-tn":618,"./ar-tn.js":618,"./ar.js":612,"./az":619,"./az.js":619,"./be":620,"./be.js":620,"./bg":621,"./bg.js":621,"./bm":622,"./bm.js":622,"./bn":623,"./bn.js":623,"./bo":624,"./bo.js":624,"./br":625,"./br.js":625,"./bs":626,"./bs.js":626,"./ca":627,"./ca.js":627,"./cs":628,"./cs.js":628,"./cv":629,"./cv.js":629,"./cy":630,"./cy.js":630,"./da":631,"./da.js":631,"./de":632,"./de-at":633,"./de-at.js":633,"./de-ch":634,"./de-ch.js":634,"./de.js":632,"./dv":635,"./dv.js":635,"./el":636,"./el.js":636,"./en-au":637,"./en-au.js":637,"./en-ca":638,"./en-ca.js":638,"./en-gb":639,"./en-gb.js":639,"./en-ie":640,"./en-ie.js":640,"./en-il":641,"./en-il.js":641,"./en-nz":642,"./en-nz.js":642,"./eo":643,"./eo.js":643,"./es":644,"./es-do":645,"./es-do.js":645,"./es-us":646,"./es-us.js":646,"./es.js":644,"./et":647,"./et.js":647,"./eu":648,"./eu.js":648,"./fa":649,"./fa.js":649,"./fi":650,"./fi.js":650,"./fo":651,"./fo.js":651,"./fr":652,"./fr-ca":653,"./fr-ca.js":653,"./fr-ch":654,"./fr-ch.js":654,"./fr.js":652,"./fy":655,"./fy.js":655,"./gd":656,"./gd.js":656,"./gl":657,"./gl.js":657,"./gom-latn":658,"./gom-latn.js":658,"./gu":659,"./gu.js":659,"./he":660,"./he.js":660,"./hi":661,"./hi.js":661,"./hr":662,"./hr.js":662,"./hu":663,"./hu.js":663,"./hy-am":664,"./hy-am.js":664,"./id":665,"./id.js":665,"./is":666,"./is.js":666,"./it":667,"./it.js":667,"./ja":668,"./ja.js":668,"./jv":669,"./jv.js":669,"./ka":670,"./ka.js":670,"./kk":671,"./kk.js":671,"./km":672,"./km.js":672,"./kn":673,"./kn.js":673,"./ko":674,"./ko.js":674,"./ky":675,"./ky.js":675,"./lb":676,"./lb.js":676,"./lo":677,"./lo.js":677,"./lt":678,"./lt.js":678,"./lv":679,"./lv.js":679,"./me":680,"./me.js":680,"./mi":681,"./mi.js":681,"./mk":682,"./mk.js":682,"./ml":683,"./ml.js":683,"./mn":684,"./mn.js":684,"./mr":685,"./mr.js":685,"./ms":686,"./ms-my":687,"./ms-my.js":687,"./ms.js":686,"./mt":688,"./mt.js":688,"./my":689,"./my.js":689,"./nb":690,"./nb.js":690,"./ne":691,"./ne.js":691,"./nl":692,"./nl-be":693,"./nl-be.js":693,"./nl.js":692,"./nn":694,"./nn.js":694,"./pa-in":695,"./pa-in.js":695,"./pl":696,"./pl.js":696,"./pt":697,"./pt-br":698,"./pt-br.js":698,"./pt.js":697,"./ro":699,"./ro.js":699,"./ru":700,"./ru.js":700,"./sd":701,"./sd.js":701,"./se":702,"./se.js":702,"./si":703,"./si.js":703,"./sk":704,"./sk.js":704,"./sl":705,"./sl.js":705,"./sq":706,"./sq.js":706,"./sr":707,"./sr-cyrl":708,"./sr-cyrl.js":708,"./sr.js":707,"./ss":709,"./ss.js":709,"./sv":710,"./sv.js":710,"./sw":711,"./sw.js":711,"./ta":712,"./ta.js":712,"./te":713,"./te.js":713,"./tet":714,"./tet.js":714,"./tg":715,"./tg.js":715,"./th":716,"./th.js":716,"./tl-ph":717,"./tl-ph.js":717,"./tlh":718,"./tlh.js":718,"./tr":719,"./tr.js":719,"./tzl":720,"./tzl.js":720,"./tzm":721,"./tzm-latn":722,"./tzm-latn.js":722,"./tzm.js":721,"./ug-cn":723,"./ug-cn.js":723,"./uk":724,"./uk.js":724,"./ur":725,"./ur.js":725,"./uz":726,"./uz-latn":727,"./uz-latn.js":727,"./uz.js":726,"./vi":728,"./vi.js":728,"./x-pseudo":729,"./x-pseudo.js":729,"./yo":730,"./yo.js":730,"./zh-cn":731,"./zh-cn.js":731,"./zh-hk":732,"./zh-hk.js":732,"./zh-tw":733,"./zh-tw.js":733};function webpackContext(e){var t=webpackContextResolve(e);return a(t)}function webpackContextResolve(e){if(!a.o(l,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return l[e]}webpackContext.keys=function webpackContextKeys(){return Object.keys(l)},webpackContext.resolve=webpackContextResolve,e.exports=webpackContext,webpackContext.id=1243},function(e,t,a){e.exports={label:"label-c76vR"}},,,,,function(e,t,a){e.exports={triggerContainer:"triggerContainer-eaPXb",fluid:"fluid-1Nhjs",disabled:"disabled-2xlEC",arrowOutsideTrigger:"arrowOutsideTrigger-2n0Da",arrow:"arrow-1NgNB",arrowInsideTrigger:"arrowInsideTrigger-1e28f",active:"active-21j6U",popperMenu:"popperMenu-1D184",floating:"floating-gX3kT",withinModal:"withinModal-2qXUb"}},,function(e,t,a){e.exports={bareDropdown:"bareDropdown-1H8XZ",arrowInsideTrigger:"arrowInsideTrigger-HYx_1",portalDropdown:"portalDropdown-2BDBT",arrowOutsideTrigger:"arrowOutsideTrigger-2_iIZ",hideArrow:"hideArrow-1D9mx",smallArrow:"smallArrow-zKn9U",menu:"menu-3h-2s",item:"item-3ezPX",active:"active-2DOn1",innerMenu:"innerMenu-23tKk",extraPadding:"extraPadding-2_1Ob",menuLabel:"menuLabel-2N23b",searchContainer:"searchContainer-1PFM2",dropdownMenu:"dropdownMenu-1gUyq",noResultsMessage:"noResultsMessage-2I1L_",loadingBackgroundAnimation:"loadingBackgroundAnimation-2JXXc"}},,,function(e,t,a){e.exports={buttonDropdown:"buttonDropdown-3Y125",button:"button-1ftyi"}},,function(e,t,a){e.exports={h1:"h1-3yMf1",h2:"h2-1ag-E",h3:"h3-1esYz",h4:"h4-VzsR4",h5:"h5-2Kg3V",h6:"h6-1eCTZ","display-xlarge":"display-xlarge-2MS2m","display-large":"display-large-RPNmi","display-medium":"display-medium-2Ha72","display-small":"display-small-2A6CG",heading:"heading-1TTJQ",subheading:"subheading-mX_Jw",small:"small-3vVIp",p:"p-wchja","body-text":"body-text-7KFoW",subdued:"subdued-2_spc",caption:"caption-Pcig-","text-left":"text-left-1gVwd","text-right":"text-right-3rsMU","text-center":"text-center-Ky-sv","text-justify":"text-justify-2r2FP","text-nowrap":"text-nowrap-marro","text-lowercase":"text-lowercase-1auSj","text-uppercase":"text-uppercase-1JsYi","text-capitalize":"text-capitalize-3CHkO","text-muted":"text-muted-3ZrlC",dropdownTrigger:"dropdownTrigger-39o2p",rounded:"rounded-1dLOW",active:"active-2IpCm",disabled:"disabled-32sRd",labelContainer:"labelContainer-3Rr0F",label:"label-1R-kb",placeholder:"placeholder-VO0DO",erred:"erred-3t14u"}},,,function(e,t,a){e.exports={dropdownLabel:"dropdownLabel-1MJbU",disabled:"disabled-2NScG"}},,function(e,t,a){e.exports={listElement:"listElement-3bAja",listCheckmark:"listCheckmark-ic6KV",icon:"icon-1R3xv",boxed:"boxed-2tdbV",checked:"checked-2yKmm"}},,function(e,t,a){e.exports={h1:"h1-f2skX",h2:"h2-1BAdy",h3:"h3-w0YHY",h4:"h4-rkd_4",h5:"h5-qTHE8",h6:"h6-2tKPT","display-xlarge":"display-xlarge-14pHv","display-large":"display-large-UsGlr","display-medium":"display-medium-1fNaR","display-small":"display-small-1NAbn",heading:"heading-1hLBV",subheading:"subheading-23Vka",small:"small-1Gtk7",p:"p-14Zjg","body-text":"body-text-qH6Ui",subdued:"subdued-1C3g5",caption:"caption-3EE9J","text-left":"text-left-1n3nL","text-right":"text-right-VTlc0","text-center":"text-center-3FPbR","text-justify":"text-justify-_VE_Z","text-nowrap":"text-nowrap-Ee75e","text-lowercase":"text-lowercase-33oAT","text-uppercase":"text-uppercase-xjCbs","text-capitalize":"text-capitalize-28Jmw","text-muted":"text-muted-IXn7M",multipleDropdown:"multipleDropdown-25ye7",dropdownTrigger:"dropdownTrigger-LSyzW"}},,,function(e,t,a){e.exports={modal:"modal-2BVzC",closeIcon:"closeIcon-RIOK1",narrow:"narrow-36tOq",narrowest:"narrowest-jWtJM",wide:"wide-2SD86",tall:"tall-1dC5_",fixedHeight:"fixedHeight-faPVc"}},,function(e,t,a){e.exports={searchBox:"searchBox-2qmW8",rounded:"rounded-25a1S"}},,function(e,t,a){e.exports={notification:"notification-Kz9yS",flat:"flat-h2Z1c",icon:"icon-1EZqQ",successIcon:"successIcon-3Lxb-",content:"content-3bzcy",actions:"actions-fAx7X",error:"error-3Smdh",warn:"warn-1z6H8",info:"info-36Ex1",success:"success-PqUM4",loadingBackgroundAnimation:"loadingBackgroundAnimation-3S_kO"}},,,function(e,t,a){e.exports={tableColumnHeader:"tableColumnHeader-2c1Zg"}},,function(e,t,a){e.exports={option:"option-1BSsH",complete:"complete-1dJ_2",failed:"failed-1kyaV",uploading:"uploading-37XpF"}},,,,,,,,,,,function(e,t,a){e.exports={listNotification:"listNotification-1VMRG",accordion:"accordion-1Y2MU",title:"title-XDxYX",content:"content-2eNoF",listItem:"listItem-nsF1k",accordionIcon:"accordionIcon-lq_gu"}},,function(e,t,a){e.exports={header:"header-3bZsz",toggleable:"toggleable-2vNhM",center:"center-3p2RM",baseline:"baseline-oc07p",fill:"fill-U_fbE",toggleIcon:"toggleIcon-235ie",content:"content-1w2W-",bottomPadding:"bottomPadding-3JZat"}},,,,function(e,t,a){e.exports={metadataCSVUpload:"metadataCSVUpload-2P1lN",csvUpload:"csvUpload-GoiC2",uploaded:"uploaded-3o7nz"}},,function(e,t,a){e.exports={dropdown:"dropdown-22M_o",dropdownTrigger:"dropdownTrigger-1fB9V"}},,function(e,t,a){e.exports={iconWrapper:"iconWrapper-2gOgj",disabled:"disabled-13vaU",popupText:"popupText-2w9-e",popupSubtitle:"popupSubtitle-Og8FN"}},,,function(e,t,a){e.exports={h1:"h1-16YuZ",h2:"h2-2ijEf",h3:"h3-2aeoZ",h4:"h4-jWO_g",h5:"h5-3faQ7",h6:"h6-34cJl","display-xlarge":"display-xlarge-1ouzy","display-large":"display-large-2LdSr","display-medium":"display-medium-1WlrP","display-small":"display-small-eKHf7",heading:"heading-29TFH",subheading:"subheading-vZJnK",small:"small-2XStk",p:"p-2StSv","body-text":"body-text-3Y2eg",subdued:"subdued-airNr",caption:"caption-22MPo","text-left":"text-left-1uGYi","text-right":"text-right-10tvn","text-center":"text-center-3zkR6","text-justify":"text-justify-2GwlN","text-nowrap":"text-nowrap-K1f-J","text-lowercase":"text-lowercase-2PjpY","text-uppercase":"text-uppercase-1zzL-","text-capitalize":"text-capitalize-1SzE7","text-muted":"text-muted-3Akxd",multipleNestedDropdown:"multipleNestedDropdown-csH1P",dropdownTrigger:"dropdownTrigger-whERg"}},,,function(e,t,a){e.exports={h1:"h1-36U5f",h2:"h2-EwgJ-",h3:"h3-2H7_r",h4:"h4-vkwqR",h5:"h5-1icEI",h6:"h6-25GAe","display-xlarge":"display-xlarge-3QD-X","display-large":"display-large-x9Ucg","display-medium":"display-medium-19fhz","display-small":"display-small-2Vixu",heading:"heading-1UHoJ",subheading:"subheading-1gzjT",small:"small-2UVat",p:"p-1qrT7","body-text":"body-text-2hhuX",subdued:"subdued-2kWYQ",caption:"caption-1q4aw","text-left":"text-left-3npmr","text-right":"text-right-CZjqJ","text-center":"text-center-3K-Iz","text-justify":"text-justify-2zbh0","text-nowrap":"text-nowrap-5lXY4","text-lowercase":"text-lowercase-3zpVH","text-uppercase":"text-uppercase-2UA8w","text-capitalize":"text-capitalize-1NjI1","text-muted":"text-muted-37KpW",thresholdFilterDropdown:"thresholdFilterDropdown-1AL_A",dropdownLabel:"dropdownLabel-3fjiI",dropdownTrigger:"dropdownTrigger-bORKl",container:"container-3RkF8",thresholdButtons:"thresholdButtons-WGRzA",button:"button-PwU7o",thresholdFilter:"thresholdFilter-3aqYX",removeIcon:"removeIcon-10VV1",addThresholdLink:"addThresholdLink-kvWA-"}},,,function(e,t,a){e.exports={liveSearchPopBox:"liveSearchPopBox-1dF8E",rectangular:"rectangular-3U6N5",category:"category-15KEy",entry:"entry-3fvpi",title:"title-3y_3n",description:"description-1ZWGG",loadingBackgroundAnimation:"loadingBackgroundAnimation-bAANt"}},,,function(e,t,a){e.exports={toggle:"toggle-rB5Jf"}},,,function(e,t,a){e.exports={warning:"warning-tHX7h",icon:"icon-3dsS7"}},,,function(e,t,a){e.exports={issueGroup:"issueGroup-2zA2K",warning:"warning-VBQG1",error:"error-MT45n",info:"info-edlYO",header:"header-3L710",icon:"icon-1fPbR",tableContainer:"tableContainer-1iTU_"}},,function(e,t,a){e.exports={title:"title-3I4mQ",input:"input-olOqT",applyToAll:"applyToAll-1_fWf"}},,,function(e,t,a){e.exports={h1:"h1-3qeYI",h2:"h2-3eDFS",h3:"h3-1Qp5e",h4:"h4-2IzWq",h5:"h5-1uLQD",h6:"h6-2cE8E","display-xlarge":"display-xlarge-3WqsB","display-large":"display-large-2xjya","display-medium":"display-medium-Z6aee","display-small":"display-small-1Ck6D",heading:"heading-3w_va",subheading:"subheading-2UPoK",small:"small-3oRoz",p:"p-1sSiX","body-text":"body-text-IDseF",subdued:"subdued-T4Mst",caption:"caption-17O09","text-left":"text-left-1EsKl","text-right":"text-right-2UHnp","text-center":"text-center-1vPcp","text-justify":"text-justify-3XRiZ","text-nowrap":"text-nowrap-1J3sS","text-lowercase":"text-lowercase-1D3c6","text-uppercase":"text-uppercase-3dIuF","text-capitalize":"text-capitalize-1osiG","text-muted":"text-muted-yMmMB",tabs:"tabs-3EBmQ",tab:"tab-107M5",selected:"selected-1_VCT",tabWrapper:"tabWrapper-2HAIi",indicator:"indicator-MhpKv",tabBorder:"tabBorder-xcUi2"}},,,function(e,t,a){e.exports={metadataUpload:"metadataUpload-dzB94",tabs:"tabs-sJjAy",link:"link-R3J5-",metadataCSVUpload:"metadataCSVUpload-31gQS",loadingMsg:"loadingMsg-1S86m",details:"details-1_hYZ",label:"label-W4jbP",info:"info-3BCQ5",validationMessage:"validationMessage-1m5HI",loadingIcon:"loadingIcon-2sI97",issues:"issues-3LOiK",issueGroup:"issueGroup-20qSF",errors:"errors-2tUhE",header:"header-26BF7",warnings:"warnings-3qmuW",issue:"issue-3f-aI",warning:"warning-2gJ1S",error:"error-3mjp3",icon:"icon-CDkds"}},,,function(e,t,a){e.exports={metadataInputWidth:"110",metadataInputExtraWidth:"225",metadataManualInput:"metadataManualInput-3h7vF",columnPicker:"columnPicker-3nJIJ",plusIcon:"plusIcon-322Wb",tableContainer:"tableContainer-F0Ed6",tableScrollWrapper:"tableScrollWrapper-ii9PY",requiredMessage:"requiredMessage-18_k0",inputTable:"inputTable-2wy6Z",sampleName:"sampleName-3OYIB",requiredStar:"requiredStar-200qW",input:"input-1zgYh",extraWidth:"extraWidth-3AIWo",noInput:"noInput-2l52p",applyToAll:"applyToAll-2b5WG",loadingBackgroundAnimation:"loadingBackgroundAnimation-2Vm9R"}},,,function(e,t,a){e.exports={narrowContainer:"narrowContainer-2NR9X",small:"small-oZ0mH",loadingBackgroundAnimation:"loadingBackgroundAnimation-K8xav"}},,function(e,t,a){e.exports={trigger:"trigger-2FbkM",label:"label-18CtE"}},,function(e,t,a){e.exports={categorySearchBox:"categorySearchBox-T_Z1Y"}},,function(e,t,a){e.exports={filterTag:"filterTag-355Ml"}},,,function(e,t,a){e.exports={divider:"divider-3Lxjw",thin:"thin-2BOCl",medium:"medium-2Bo-A"}},,function(e,t,a){e.exports={searchBoxList:"searchBoxList-1JCd3",searchBox:"searchBox-3q3yc",title:"title-2rPKa",listBox:"listBox-2bB2Z",listElement:"listElement-UrBeJ",listCheckmark:"listCheckmark-2iLHu",listLabel:"listLabel-35nGu",loadingBackgroundAnimation:"loadingBackgroundAnimation-1ftNz"}},,function(e,t,a){e.exports={userManagementForm:"userManagementForm-3kn2K",title:"title-19TGq",icon:"icon-2LgIb",userList:"userList-1yiyU",userEntry:"userEntry-2ynAY",addMemberForm:"addMemberForm-3IBdJ",addMemberFormField:"addMemberFormField-1zikR",fillIn:"fillIn-10RZ5",statusMessage:"statusMessage-17E0n",errorMessage:"errorMessage-38CYv",infoMessage:"infoMessage-1AoW4",successMessage:"successMessage-18iZA",loadingBackgroundAnimation:"loadingBackgroundAnimation-RGVuO"}},,,function(e,t,a){e.exports={publicProjectConfirmation:"publicProjectConfirmation-2Zj-E",title:"title-OhvQq",highlight:"highlight-tqySt",text:"text-DQF8c",link:"link-p-5_Y",actions:"actions-1AoT_",item:"item-3OrSD"}},,,function(e,t,a){e.exports={projectSettingsTrigger:"projectSettingsTrigger-2Ft_G",projectSettingsContent:"projectSettingsContent-2EXz8",title:"title-3hklP",highlight:"highlight-PI9Cw",projectVisibility:"projectVisibility-37rPA",visibility:"visibility-3KGRW",icon:"icon-1B2IF",label:"label-1H5s2",toggle:"toggle-2StrJ",note:"note-h-06t",userManagementFormContainer:"userManagementFormContainer-x4ThL"}},,,function(e,t,a){e.exports={h1:"h1-gnIYL",h2:"h2-1i6au",h3:"h3-2PQCJ",h4:"h4-3K3_h",h5:"h5-b6AvJ",h6:"h6-3FIgA","display-xlarge":"display-xlarge-4D9ka","display-large":"display-large-3Pwdo","display-medium":"display-medium-3A4Qb","display-small":"display-small-2T8Ra",heading:"heading-2gwzk",subheading:"subheading-3vwXh",small:"small-1kG82",p:"p-1V3X_","body-text":"body-text-3zKFC",subdued:"subdued-1wtuQ",caption:"caption-3jOPP","text-left":"text-left-3dGBg","text-right":"text-right-KqrVG","text-center":"text-center-20C6U","text-justify":"text-justify-3_qyv","text-nowrap":"text-nowrap-1zWJY","text-lowercase":"text-lowercase-2vsM5","text-uppercase":"text-uppercase-3LYd7","text-capitalize":"text-capitalize-1ncP4","text-muted":"text-muted-1RA49",sampleList:"sampleList-2q41_",selectedSamples:"selectedSamples-39RCf",moreSamplesCount:"moreSamplesCount-wgnw8",warning:"warning-1Q8k1",statusLabels:"statusLabels-2GOzh",label:"label-G-172",sampleNameHeader:"sampleNameHeader-pPXlL",checkAllContainer:"checkAllContainer-BXDqQ",nameHeader:"nameHeader-1BVfv",smallIcon:"smallIcon-Q1Ox3",smallIconUser:"smallIconUser-2ly3p",projectMenu:"projectMenu-1Bpzw",fillIn:"fillIn-3sFa3",projectMenuItem:"projectMenuItem-1hZw2"}},,,function(e,t,a){e.exports={publicSampleNotification:"publicSampleNotification-209Y3",highlight:"highlight-1LGbQ",policyLink:"policyLink-ZqLHU",emailLink:"emailLink-irsgC"}},,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(3)),d=l(a(11)),c=l(a(0)),u=l(a(72)),f=l(a(119)),p=a(61),m=a(20),h=l(a(223)),g=function(e){function Login(e,t){var a;return(0,n.default)(this,Login),(a=(0,o.default)(this,(0,s.default)(Login).call(this,e,t))).csrf=e.csrf,a.handleSubmit=a.handleSubmit.bind((0,i.default)(a)),a.toggleCheckBox=a.toggleCheckBox.bind((0,i.default)(a)),a.clearError=a.clearError.bind((0,i.default)(a)),a.state={isChecked:!1,success:!1,showFailedLogin:!1,errorMessage:"",successMessage:""},a}return(0,d.default)(Login,e),(0,r.default)(Login,[{key:"handleSubmit",value:function handleSubmit(e){e.preventDefault(),this.clearError(),this.isFormInValid()||this.login()}},{key:"clearError",value:function clearError(){this.setState({showFailedLogin:!1,success:!1})}},{key:"login",value:function login(){var e=this,t=this;u.default.post("".concat(this.props.endpoint,".json"),{user:{email:this.refs.email?this.refs.email.value:"",password:this.refs.password?this.refs.password.value:"",remember_me:this.refs.remember_me?this.refs.remember_me.value:""},authenticity_token:this.csrf}).then(function(e){t.setState({success:!0,successMessage:"User signed in"},function(){(0,p.openUrl)("/")})}).catch(function(a){t.setState({showFailedLogin:!0,errorMessage:"Invalid Email or Password"},function(){return(0,m.logAnalyticsEvent)("Login_invalid-email-or-password-error_displayed",{errorMessage:e.state.errorMessage})})})}},{key:"isFormInValid",value:function isFormInValid(){var e=this,t=function logError(){return(0,m.logAnalyticsEvent)("Login_login-form-error_displayed",{errorMessage:e.state.errorMessage})};return""===this.refs.email.value&&""===this.refs.password.value?(this.setState({showFailedLogin:!0,errorMessage:"Please enter email and password"},t),!0):""===this.refs.email.value?(this.setState({showFailedLogin:!0,errorMessage:"Please enter email"},t),!0):""===this.refs.password.value&&(this.setState({showFailedLogin:!0,errorMessage:"Please enter password"},t),!0)}},{key:"toggleCheckBox",value:function toggleCheckBox(){var e=(0,f.default)("#remember_me").prop("checked");this.setState({isChecked:e}),this.state.isChecked=!this.state.isChecked}},{key:"renderLogin",value:function renderLogin(){var e=c.default.createElement("div",{className:"header-row row"},c.default.createElement("div",{className:"site-header col s12"},c.default.createElement("div",{className:"left brand-details"},c.default.createElement("a",{href:"/"},c.default.createElement("span",{className:"logo-icon"},c.default.createElement(h.default,null))))));return c.default.createElement("div",null,e,c.default.createElement("div",{className:"login-form"},c.default.createElement("div",{className:"row"},c.default.createElement("form",{ref:"form",className:"new_user",id:"new_user",onSubmit:(0,m.withAnalytics)(this.handleSubmit,"Login_login-form_submitted",{email:this.refs.email?this.refs.email.value:"",remember_me:this.refs.remember_me?this.refs.remember_me.value:""})},c.default.createElement("div",{className:"row title"},c.default.createElement("p",{className:"col s6 signup"},"Login")),c.default.createElement("div",{className:"mail"},c.default.createElement("p",null,"To request access to the IDseq platform, sign up",c.default.createElement("span",{onClick:function onClick(){(0,p.openUrl)("/"),(0,m.logAnalyticsEvent)("Login_sign-up-link_clicked")}}," ","here."))),this.state.success?c.default.createElement("div",{className:"success-info"},c.default.createElement("i",{className:"fa fa-success"}),c.default.createElement("span",null,this.state.successMessage)):null,this.state.showFailedLogin?c.default.createElement("div",{className:"error-info"},c.default.createElement("i",{className:"fa fa-error"}),c.default.createElement("span",null,this.state.errorMessage)):null,c.default.createElement("div",{className:"row content-wrapper"},c.default.createElement("div",{className:"input-field"},c.default.createElement("i",{className:"sample fa fa-envelope","aria-hidden":"true"}),c.default.createElement("input",{ref:"email",type:"email",className:"",onFocus:this.clearError}),c.default.createElement("label",{htmlFor:"user_email"},"Email")),c.default.createElement("div",{className:"input-field"},c.default.createElement("i",{className:"sample fa fa-key","aria-hidden":"true"}),c.default.createElement("input",{ref:"password",type:"password",className:"",onFocus:this.clearError}),c.default.createElement("label",{htmlFor:"user_password"},"Password")),c.default.createElement("div",{className:""},c.default.createElement("input",{ref:"remember_me",type:"checkbox",name:"switch",className:"filled-in",id:"remember_me",onChange:this.toggleCheckBox,value:this.state.isChecked?1:0}),c.default.createElement("label",{htmlFor:"remember_me"},"Remember me")),c.default.createElement("div",null,c.default.createElement("br",null),c.default.createElement("a",{href:"/users/password/new"},"Forgot password?"))),c.default.createElement("input",{className:"hidden",type:"submit"}),c.default.createElement("div",{onClick:this.handleSubmit,className:"center-align login-wrapper"},"Login")))))}},{key:"render",value:function render(){return c.default.createElement("div",null,this.renderLogin())}}]),Login}(c.default.Component);t.default=g},function(e,t,a){e.exports={tooltip:"tooltip-1Y1xx",title:"title-3KfOx",link:"link-2Pmy9",loadingBackgroundAnimation:"loadingBackgroundAnimation-3lHC3"}},,,function(e,t,a){e.exports={pathogenLabel:"pathogenLabel-10iFi"}},,function(e,t,a){e.exports={helpIcon:"helpIcon-FT4L5"}},,function(e,t,a){e.exports={minContigReadsFilter:"minContigReadsFilter-113gA",dropdownTrigger:"dropdownTrigger-3CerG",contents:"contents-15Xtm",labelContainer:"labelContainer-3gbLl",label:"label-3ZKFe",error:"error-1h79z"}},,,function(e,t,a){e.exports={h1:"h1-3K3a9",h2:"h2-3d3l9",h3:"h3-1ye1S",h4:"h4-2GwUI",h5:"h5-V6GWO",h6:"h6-YiaWI","display-xlarge":"display-xlarge-kRpPe","display-large":"display-large-3Zvtb","display-medium":"display-medium-3c6wt","display-small":"display-small-1L0Hf",heading:"heading-3VXAY",subheading:"subheading-22n1_",small:"small-3X1Tu",p:"p-2a03T","body-text":"body-text-3ZF4m",subdued:"subdued-W9cd0",caption:"caption-30LX9","text-left":"text-left-1WYtR","text-right":"text-right-HDtKJ","text-center":"text-center-2LJIF","text-justify":"text-justify-vFOKw","text-nowrap":"text-nowrap-3gMBr","text-lowercase":"text-lowercase-3IeL3","text-uppercase":"text-uppercase-25clf","text-capitalize":"text-capitalize-1bWCd","text-muted":"text-muted-2HZQm",hoverActions:"hoverActions-Nw3sX",actionDot:"actionDot-3Tite",disabled:"disabled-QOBie",icon:"icon-3j9ey"}},,,,,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(0)),c=l(a(1)),u=function(e){function RawResultsFolder(e,t){var a;return(0,n.default)(this,RawResultsFolder),(a=(0,o.default)(this,(0,s.default)(RawResultsFolder).call(this,e,t))).fileUrl=e.filePath,a.filePath=a.fileUrl.split("/"),a.fileList=e.fileList,a.sampleName=e.sampleName,a.projectName=e.projectName,a}return(0,i.default)(RawResultsFolder,e),(0,r.default)(RawResultsFolder,[{key:"gotoPath",value:function gotoPath(e){location.href="".concat(e)}},{key:"download",value:function download(e){location.href="".concat(e)}},{key:"render",value:function render(){var e=this;return d.default.createElement("div",{className:"results-folder"},d.default.createElement("div",{className:"header"},d.default.createElement("span",{className:"title"},d.default.createElement("span",{className:"back",onClick:this.gotoPath.bind(this,"/")},this.filePath[0]),d.default.createElement("span",{className:"path"},">"),d.default.createElement("span",{className:"back",onClick:this.gotoPath.bind(this,"/home?project_id=".concat(this.filePath[1]))},this.projectName),d.default.createElement("span",{className:"path"},"/"),d.default.createElement("span",{className:"back",onClick:this.gotoPath.bind(this,this.props.samplePath)},this.sampleName),d.default.createElement("span",{className:"path"},"/"),this.filePath[3])),d.default.createElement("div",{className:"header"},this.fileList.length?d.default.createElement("table",null,d.default.createElement("thead",null,d.default.createElement("tr",null,d.default.createElement("th",null,"results"===this.filePath[3]?"Results folder":"Fastqs folder"))),d.default.createElement("tbody",null,this.fileList.map(function(t,a){return d.default.createElement("tr",{className:"file-link",onClick:e.download.bind(e,t.url),key:a},d.default.createElement("td",null,d.default.createElement("i",{className:"fa fa-file"}),t.display_name,d.default.createElement("span",{className:"size-tag"}," -- ",t.size)))}))):"No files to show"))}}]),RawResultsFolder}(d.default.Component);u.propTypes={samplePath:c.default.string};var f=u;t.default=f},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(1)),c=l(a(0)),u=l(a(1373)),f=function(e){function ReactNouislider(){return(0,n.default)(this,ReactNouislider),(0,o.default)(this,(0,s.default)(ReactNouislider).apply(this,arguments))}return(0,i.default)(ReactNouislider,e),(0,r.default)(ReactNouislider,[{key:"componentDidMount",value:function componentDidMount(){this.props.disabled?this.sliderContainer.setAttribute("disabled",!0):this.sliderContainer.removeAttribute("disabled"),this.createSlider()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.props.disabled?this.sliderContainer.setAttribute("disabled",!0):this.sliderContainer.removeAttribute("disabled"),this.slider.destroy(),this.createSlider()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.slider.destroy()}},{key:"createSlider",value:function createSlider(){var e=this.slider=u.default.create(this.sliderContainer,this.props);this.props.onUpdate&&e.on("update",this.props.onUpdate),this.props.onChange&&e.on("change",this.props.onChange),this.props.onSlide&&e.on("slide",this.props.onSlide),this.props.onStart&&e.on("start",this.props.onStart),this.props.onEnd&&e.on("end",this.props.onEnd),this.props.onSet&&e.on("set",this.props.onSet)}},{key:"render",value:function render(){var e=this;return c.default.createElement("div",{ref:function ref(t){e.sliderContainer=t}})}}]),ReactNouislider}(c.default.Component);f.propTypes={animate:d.default.bool,behaviour:d.default.string,connect:d.default.oneOfType([d.default.arrayOf(d.default.bool),d.default.bool]),cssPrefix:d.default.string,direction:d.default.oneOf(["ltr","rtl"]),disabled:d.default.bool,limit:d.default.number,margin:d.default.number,onChange:d.default.func,onEnd:d.default.func,onSet:d.default.func,onSlide:d.default.func,onStart:d.default.func,onUpdate:d.default.func,orientation:d.default.oneOf(["horizontal","vertical"]),pips:d.default.object,range:d.default.object.isRequired,start:d.default.arrayOf(d.default.number).isRequired,step:d.default.number,tooltips:d.default.oneOfType([d.default.bool,d.default.arrayOf(d.default.shape({to:d.default.func}))])};var p=f;t.default=p},,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(3)),d=l(a(11)),c=l(a(2)),u=l(a(0)),f=l(a(1)),p=l(a(222)),m=a(61),h=function(e){function OutputFile(e,t){var a;return(0,n.default)(this,OutputFile),a=(0,o.default)(this,(0,s.default)(OutputFile).call(this,e,t)),(0,c.default)((0,i.default)(a),"conditionalOpenUrl",function(e){e&&(0,m.openUrl)(a.file.url)}),a.file=e.file,a}return(0,d.default)(OutputFile,e),(0,r.default)(OutputFile,[{key:"render",value:function render(){return u.default.createElement("tr",{className:"".concat(this.file.url?"":"disabled-","file-link"),onClick:this.conditionalOpenUrl.bind(this,this.file.url)},u.default.createElement("td",null,u.default.createElement("i",{className:"fa fa-file"}),this.file.display_name,u.default.createElement("span",{className:"size-tag"}," -- ",this.file.size)))}}]),OutputFile}(u.default.Component),g=function(e){function ConfigFile(e,t){var a;return(0,n.default)(this,ConfigFile),(a=(0,o.default)(this,(0,s.default)(ConfigFile).call(this,e,t))).stageDagJson=e.stageDagJson,a}return(0,d.default)(ConfigFile,e),(0,r.default)(ConfigFile,[{key:"render",value:function render(){return u.default.createElement("tr",{className:"file-link",onClick:m.downloadStringToFile.bind(this,this.stageDagJson)},u.default.createElement("td",null,u.default.createElement("i",{className:"fa fa-file"}),"config.json"))}}]),ConfigFile}(u.default.Component),v=function ResultsFolderStepDivider(){return u.default.createElement("tr",{key:"last"},u.default.createElement("td",null,u.default.createElement(p.default,null)))},y=function(e){function ResultsFolderStep(e,t){var a;return(0,n.default)(this,ResultsFolderStep),(a=(0,o.default)(this,(0,s.default)(ResultsFolderStep).call(this,e,t))).stepName=e.stepName,a.step=e.step,a}return(0,d.default)(ResultsFolderStep,e),(0,r.default)(ResultsFolderStep,[{key:"render",value:function render(){var e=this.step.step_description,t=this.step.reads_after,a=this.step.file_list;return u.default.createElement("tbody",null,u.default.createElement("tr",{key:"first"},u.default.createElement("td",null,"Step ",u.default.createElement("b",null,this.stepName),": ",e," ",t?u.default.createElement("span",null,"(",u.default.createElement("b",null,t)," reads remained.)"):null)),a.map(function(e,t){return u.default.createElement(h,{file:e,key:t})}),u.default.createElement(v,null))}}]),ResultsFolderStep}(u.default.Component),b=function(e){function ResultsFolderStepList(e,t){var a;return(0,n.default)(this,ResultsFolderStepList),(a=(0,o.default)(this,(0,s.default)(ResultsFolderStepList).call(this,e,t))).stepDict=e.stepDict,a}return(0,d.default)(ResultsFolderStepList,e),(0,r.default)(ResultsFolderStepList,[{key:"render",value:function render(){var e=this;return Object.keys(this.stepDict).map(function(t,a){var l=e.stepDict[t];return u.default.createElement(y,{stepName:t,step:l,key:a})})}}]),ResultsFolderStepList}(u.default.Component),C=function(e){function ResultsFolder(e,t){var a;return(0,n.default)(this,ResultsFolder),(a=(0,o.default)(this,(0,s.default)(ResultsFolder).call(this,e,t))).fileUrl=e.filePath,a.filePath=a.fileUrl.split("/"),a.stageDict=e.fileList,a.sampleName=e.sampleName,a.projectName=e.projectName,a.rawResultsUrl=e.rawResultsUrl,a}return(0,d.default)(ResultsFolder,e),(0,r.default)(ResultsFolder,[{key:"gotoPath",value:function gotoPath(e){location.href="".concat(e)}},{key:"render",value:function render(){var e=this;return u.default.createElement("div",{className:"results-folder"},u.default.createElement("div",{className:"header"},u.default.createElement("span",{className:"title"},u.default.createElement("span",{className:"back",onClick:this.gotoPath.bind(this,"/")},this.filePath[0]),u.default.createElement("span",{className:"path"},">"),u.default.createElement("span",{className:"back",onClick:this.gotoPath.bind(this,"/home?project_id=".concat(this.filePath[1]))},this.projectName),u.default.createElement("span",{className:"path"},"/"),u.default.createElement("span",{className:"back",onClick:this.gotoPath.bind(this,this.props.samplePath)},this.sampleName),u.default.createElement("span",{className:"path"},"/"),this.filePath[3])),u.default.createElement("div",{className:"header"},Object.keys(this.stageDict).length?Object.keys(this.stageDict).map(function(t,a){var l=e.stageDict[t],n=l.stage_description,r=l.stage_dag_json,o=l.steps;return u.default.createElement("table",{key:a},u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",null,t,": ",n))),u.default.createElement("tbody",null,u.default.createElement(g,{stageDagJson:r}),u.default.createElement(v,null)),u.default.createElement(b,{stepDict:o}))}):"No files to show",this.rawResultsUrl?u.default.createElement("table",{key:"rawResults"},u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",null,"Need an output that's not listed here?"))),u.default.createElement("tbody",null,u.default.createElement("tr",{className:"file-link",onClick:m.openUrl.bind(this,this.rawResultsUrl)},u.default.createElement("td",null,"Go to raw results folder")))):null))}}]),ResultsFolder}(u.default.Component);C.propTypes={samplePath:f.default.string};var w=C;t.default=w},function(e,t,a){e.exports={blankScreenMessage:"blankScreenMessage-9K2sT",content:"content-15o70",text:"text-24PXD",message:"message-3wpaD",tagline:"tagline-QXRA1",loadingBackgroundAnimation:"loadingBackgroundAnimation-12vr0"}},,,function(e,t,a){e.exports={sidebar:"sidebar-dp9dg",left:"left-3MUmZ",right:"right-2HHOq",bottom:"bottom-74BjX",closeIcon:"closeIcon-2u7Md"}},,function(e,t,a){e.exports={xAxis:"xAxis-2_PSJ",xAxisTickText:"xAxisTickText-32jFr",yAxisTickText:"yAxisTickText-39Fk8",yAxisTickLine:"yAxisTickLine-XM1pr",xAxisTickLine:"xAxisTickLine-35V2N",labelX:"labelX-2kScf",labelY:"labelY-3L1IY",large:"large-3FGu3",hoverRect:"hoverRect-1UXLY"}},,,function(e,t,a){e.exports={dataTooltip:"dataTooltip-1aWqf",dataTooltipTitle:"dataTooltipTitle-2sVTa",dataTooltipSubtitle:"dataTooltipSubtitle-2QR0y",dataTooltipSectionName:"dataTooltipSectionName-1gnhH",dataTooltipSection:"dataTooltipSection-2tFav",disabled:"disabled-1Nkpd",dataTooltipValuePair:"dataTooltipValuePair-2xdm5",dataTooltipLabel:"dataTooltipLabel-1gmf6",dataTooltipValue:"dataTooltipValue-2Uyxg"}},,,,,,,,,function(e,t,a){e.exports={field:"field-2_Ouc",label:"label-9CR8O",loadingBackgroundAnimation:"loadingBackgroundAnimation-3S59C"}},,,function(e,t,a){e.exports={h1:"h1-1ogB0",h2:"h2-23rph",h3:"h3-3APFe",h4:"h4-3suIL",h5:"h5-1Ieif",h6:"h6-3hzsd","display-xlarge":"display-xlarge-etNUl","display-large":"display-large-3ByJ8","display-medium":"display-medium-2Y3HI","display-small":"display-small-3lKGE",heading:"heading-3MfBu",subheading:"subheading-1ojEX",small:"small-pJAJS",p:"p-2EsIY","body-text":"body-text-3DGhc",subdued:"subdued-1-w6L",caption:"caption-1Go9P","text-left":"text-left-Gq6ar","text-right":"text-right-1y001","text-center":"text-center-33pgr","text-justify":"text-justify-3QK9Z","text-nowrap":"text-nowrap-18cnc","text-lowercase":"text-lowercase-2TnZk","text-uppercase":"text-uppercase-1lfBl","text-capitalize":"text-capitalize-2OD-U","text-muted":"text-muted-13XxG",metadataSection:"metadataSection-1dqgX",title:"title-3Oy38",editLink:"editLink-Nhfe2",show:"show-2CHIb",status:"status-1rSYy",controls:"controls-1tR3b"}},,,,,function(e,t,a){e.exports={h1:"h1-59KPn",h2:"h2-24CMl",h3:"h3-2N-W4",h4:"h4-naWAw",h5:"h5-22QNU",h6:"h6-1W_4Q","display-xlarge":"display-xlarge-3HfHS","display-large":"display-large-bytbu","display-medium":"display-medium-3e_CP","display-small":"display-small-3G68C",heading:"heading-32-Yx",subheading:"subheading-2PG7q",small:"small-2kNi3",p:"p-3ujvd","body-text":"body-text-zRlNw",subdued:"subdued-2noVc",caption:"caption-3tq_V","text-left":"text-left-1ng_i","text-right":"text-right-fR1pm","text-center":"text-center-6Vg8L","text-justify":"text-justify-2cy0J","text-nowrap":"text-nowrap-gFoF3","text-lowercase":"text-lowercase-2uppb","text-uppercase":"text-uppercase-OGDFf","text-capitalize":"text-capitalize-18iNQ","text-muted":"text-muted-3kiAi",textarea:"textarea-3GDxH"}},,,function(e,t,a){e.exports={h1:"h1-1dQMf",h2:"h2-1pLK_",h3:"h3-zHcaR",h4:"h4-2YZFb",h5:"h5-NuyAY",h6:"h6-3ujoX","display-xlarge":"display-xlarge-2Xm5I","display-large":"display-large-ydPvN","display-medium":"display-medium-3guBP","display-small":"display-small-1vli7",heading:"heading-3Qkc1",subheading:"subheading-tp3-8",small:"small-FfDAZ",p:"p-1jRlt","body-text":"body-text-3khZz",subdued:"subdued-2bgo3",caption:"caption-3w-qN","text-left":"text-left-2fYAd","text-right":"text-right-3vDLw","text-center":"text-center-oxGht","text-justify":"text-justify-1OBh5","text-nowrap":"text-nowrap-1BxiY","text-lowercase":"text-lowercase-2bLrv","text-uppercase":"text-uppercase-2oGIb","text-capitalize":"text-capitalize-2ufbE","text-muted":"text-muted-1B9qy",content:"content-2Tnc1",title:"title-2PeRj",loadingMsg:"loadingMsg-2VQ6J",taxonContents:"taxonContents-1XjcP",subtitle:"subtitle-1QC3d",infoIcon:"infoIcon-23FMo",histogram:"histogram-_M_Le",text:"text-mnQWs",collapsed:"collapsed-1LHTZ",linksSection:"linksSection-3miVV",linksList:"linksList-3dddS",link:"link-i3QTH",expandLink:"expandLink-ltwBv",wikiLicense:"wikiLicense-3PTmj",wikiLink:"wikiLink-1e0kl"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){e.exports={h1:"h1-24dtr",h2:"h2-b9Ulc",h3:"h3-2qZmR",h4:"h4-3o2Kv",h5:"h5-nPBDH",h6:"h6-3pIcY","display-xlarge":"display-xlarge-2KeOG","display-large":"display-large-3ZXEw","display-medium":"display-medium-eYBGb","display-small":"display-small-3a5bn",heading:"heading-mKpi-",subheading:"subheading-3CG-F",small:"small-1CAtB",p:"p-2GelB","body-text":"body-text-v6v7z",subdued:"subdued-2PLMy",caption:"caption-1OdHO","text-left":"text-left-2KpfB","text-right":"text-right-v6VZ0","text-center":"text-center-3v9j8","text-justify":"text-justify-2Q5J6","text-nowrap":"text-nowrap-1OJdE","text-lowercase":"text-lowercase-3IQLh","text-uppercase":"text-uppercase-3LufS","text-capitalize":"text-capitalize-kVRRo","text-muted":"text-muted-19CL4",content:"content-e0v4t",accordion:"accordion-1hroK",accordionContent:"accordionContent-Dvtbl",stepName:"stepName-2wcSF",statusBox:"statusBox-31-QM",statusIcon:"statusIcon-3KkV-",statusText:"statusText-14yU5",statusTitle:"statusTitle-SHxTT",statusDescription:"statusDescription-1G1Og",inProgress:"inProgress-OaG23",pipelineErrored:"pipelineErrored-2mxNG",userErrored:"userErrored-A7acY",finished:"finished-2xSTD",title:"title-39IcE",description:"description-CDwOj",fileLink:"fileLink-1-mXE",disabledFileLink:"disabledFileLink-1mcss",fileGroup:"fileGroup-1DRWY",fileGroupHeader:"fileGroupHeader-18LcF",resourcesContainer:"resourcesContainer-2wiIF",loadingBackgroundAnimation:"loadingBackgroundAnimation-1cldP"}},,,function(e,t,a){e.exports={content:"content-2Gl4r",title:"title-1Mpn7",loadingMsg:"loadingMsg-1VKip",geneContents:"geneContents-17vVn",subtitle:"subtitle-2y5aa",text:"text-7ERVh",textSynonym:"textSynonym-3GTKt",linksSection:"linksSection-1K6lt",linksList:"linksList-9rFm_",link:"link-2ILVA",expandLink:"expandLink-1SKvG",cardLicense:"cardLicense-1tMPL",cardLink:"cardLink-2z0PS"}},,,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(5)),r=l(a(47)),o=l(a(7)),s=l(a(8)),i=l(a(10)),d=l(a(9)),c=l(a(3)),u=l(a(11)),f=l(a(2)),p=l(a(0)),m=l(a(1)),h=l(a(14)),g=a(66),v=(l(a(4)),l(a(46))),y=a(57),b=a(217),C=l(a(73)),w=l(a(809)),E=l(a(58)),S=l(a(95)),_=l(a(223)),k=l(a(110)),N=(a(307),a(61),a(20)),x=l(a(145)),M=l(a(1514)),T=(0,h.default)("2019-06-24","YYYY-MM-DD"),P=function setPrivacyUpdateNotificationViewed(){localStorage.setItem("dismissedPrivacyUpdateNotification","true")},D=function showPrivacyUpdateNotification(){var e=Math.ceil(h.default.duration(T.diff((0,h.default)())).asDays());e>0&&(0,b.showToast)(function(t){var a=t.closeToast;return p.default.createElement(C.default,{type:"warn",onClose:function onClose(){P(),a()}},"Our Terms of Use and Privacy Policy will be updating in ",e," ",1===e?"day":"days","."," ",p.default.createElement("a",{href:"/terms_changes",onClick:P,className:M.default.notificationLink},"Read a summary of the changes here."))})},I=function(e){function Header(e){var t;return(0,o.default)(this,Header),t=(0,i.default)(this,(0,d.default)(Header).call(this,e)),(0,f.default)((0,c.default)(t),"displayPrivacyUpdateNotification",function(){"true"!==localStorage.getItem("dismissedPrivacyUpdateNotification")&&D()}),(0,f.default)((0,c.default)(t),"handleAnnouncementBannerClose",function(){t.setState({showAnnouncementBanner:!1}),localStorage.setItem("dismissedAnnouncementBanner","true")}),t.state={showAnnouncementBanner:!1},t}return(0,u.default)(Header,e),(0,s.default)(Header,[{key:"componentDidMount",value:function componentDidMount(){var e=this.props,t=e.userSignedIn,a=e.announcementBannerEnabled;(t&&this.displayPrivacyUpdateNotification(),a)&&("true"!==localStorage.getItem("dismissedAnnouncementBanner")&&this.setState({showAnnouncementBanner:!0}))}},{key:"render",value:function render(){var e=this.props,t=e.adminUser,a=(e.announcementBannerEnabled,e.disableNavigation),l=e.showBlank,o=e.userSignedIn,s=(0,r.default)(e,["adminUser","announcementBannerEnabled","disableNavigation","showBlank","userSignedIn"]),i=this.state.showAnnouncementBanner,d=(this.context||{}).allowedFeatures;return l?p.default.createElement("div",{className:M.default.header},p.default.createElement("div",{className:M.default.logo},p.default.createElement(_.default,{className:M.default.icon}))):o&&p.default.createElement("div",null,i&&p.default.createElement(j,{onClose:(0,N.withAnalytics)(this.handleAnnouncementBannerClose,"AnnouncementBanner_close_clicked")}),p.default.createElement("div",{className:M.default.header},p.default.createElement("div",{className:M.default.logo},p.default.createElement("a",{href:"/"},p.default.createElement(_.default,{className:M.default.icon}))),p.default.createElement("a",{href:"/"},p.default.createElement("div",{className:M.default.publicNcovHomeLink},"COVID-19 Public Dataset")),p.default.createElement("div",{className:M.default.fill}),!a&&p.default.createElement(O,{adminUser:t}),!a&&p.default.createElement(L,(0,n.default)({adminUser:t,allowedFeatures:d},s))),p.default.createElement(w.default,null))}}]),Header}(p.default.Component);I.propTypes={adminUser:m.default.bool,announcementBannerEnabled:m.default.bool,disableNavigation:m.default.bool,showBlank:m.default.bool,userSignedIn:m.default.bool},I.contextType=y.UserContext;var j=function AnnouncementBanner(e){var t=e.onClose;return p.default.createElement("div",{className:M.default.announcementBanner},p.default.createElement(v.default,{content:"Low-Support Mode: We will only be responding to highly urgent issues from 12/2112/29. For now, check out our Help Center. Happy Holidays!",position:"bottom center",wide:"very",trigger:p.default.createElement("span",{className:M.default.content},p.default.createElement(S.default,{className:M.default.icon}),p.default.createElement("span",{className:M.default.title},"Low-Support Mode:"),"We will only be responding to highly urgent issues from 12/2112/29. For now, check out our",p.default.createElement(x.default,{className:M.default.link,href:"https://help.idseq.net",onClick:function onClick(){return(0,N.logAnalyticsEvent)("AnnouncementBanner_link_clicked")}},"Help Center"),". Happy Holidays!")}),p.default.createElement(k.default,{className:M.default.close,onClick:function onClick(){return t&&t()}}))};j.propTypes={onClose:m.default.func};var L=function UserMenuDropDown(e){var t=e.adminUser,a=(e.email,e.signInEndpoint,e.signOutEndpoint,e.userName,e.allowedFeatures);return p.default.createElement("div",null,p.default.createElement(E.default,{trigger:p.default.createElement("div",{className:M.default.userName},"Terms"),className:M.default.userDropdown,items:function renderItems(e){var t=[];return a.includes("bulk_downloads")&&t.push(p.default.createElement(E.default.Item,{key:"downloads",text:p.default.createElement("a",{className:M.default.option,href:"/bulk_downloads",onClick:function onClick(){return(0,N.logAnalyticsEvent)("Header_dropdown-downloads-option_clicked")}},"Downloads")})),e&&t.push(p.default.createElement(E.default.Item,{key:"user_settings",text:p.default.createElement("a",{className:M.default.option,href:"/user_settings",onClick:function onClick(){return(0,N.logAnalyticsEvent)("Header_dropdown-user-settings-option_clicked")}},"Settings")})),e&&t.push(p.default.createElement(E.default.Item,{key:"create_user",text:p.default.createElement("a",{className:M.default.option,href:"/users/new"},"Create User")})),t.push(p.default.createElement(E.default.Item,{key:"terms_of_service",text:p.default.createElement("a",{className:M.default.option,target:"_blank",rel:"noopener noreferrer",href:"https://idseq.net/terms",onClick:function onClick(){return(0,N.logAnalyticsEvent)("Header_dropdown-terms-option_clicked")}},"Terms of Use")}),p.default.createElement(E.default.Item,{key:"privacy_policy",text:p.default.createElement("a",{className:M.default.option,target:"_blank",rel:"noopener noreferrer",href:"https://idseq.net/privacy",onClick:function onClick(){return(0,N.logAnalyticsEvent)("Header_dropdown-privacy-policy-option_clicked")}},"Privacy Policy")})),t}(t),direction:"left"}))};L.propTypes=(0,g.forbidExtraProps)({adminUser:m.default.bool,email:m.default.string.isRequired,signInEndpoint:m.default.string.isRequired,signOutEndpoint:m.default.string.isRequired,userName:m.default.string.isRequired,allowedFeatures:m.default.arrayOf(m.default.string)});var O=function MainMenu(e){e.adminUser;return p.default.createElement("div",{className:M.default.mainMenu},p.default.createElement("a",{className:M.default.item,href:"/",onClick:function onClick(){return(0,N.logAnalyticsEvent)("MainMenu_about_clicked")}},"About"),p.default.createElement(x.default,{className:M.default.item,href:"https://idseq.net",onClick:function onClick(){return(0,N.logAnalyticsEvent)("MainMenu_request-access_clicked")}},"Request Full Access"),p.default.createElement(x.default,{className:M.default.item,href:"https://help.idseq.net",onClick:function onClick(){return(0,N.logAnalyticsEvent)("MainMenu_help_clicked")}},"Help Center"))};O.propTypes={adminUser:m.default.bool};var R=I;t.default=R},function(e,t,a){e.exports={toastContainer:"toastContainer-1Jbqc"}},,,,function(e,t,a){e.exports={header:"header-3_pcc",logo:"logo-1CI9P",icon:"icon-39LpW",fill:"fill-crfbb",userDropdown:"userDropdown-2Z3ag",userName:"userName-1Ye6A",option:"option-2r381",mainMenu:"mainMenu-1Iiq9",item:"item-1iKGB",selected:"selected-3F-j6",notificationLink:"notificationLink-1B3TJ",backgroundRefreshFrame:"backgroundRefreshFrame-1mmYt",announcementBanner:"announcementBanner-1-XVJ",content:"content-mRtEk",title:"title-2IgRj",link:"link-3SakG",close:"close-1XiK5",publicNcovHomeLink:"publicNcovHomeLink-2c2Bx",loadingBackgroundAnimation:"loadingBackgroundAnimation-2Og5J"}},,,function(e,t,a){e.exports={tooltip:"tooltip-IrFXg",visible:"visible-2cPmc",legend:"legend-I-IUX",legendRow:"legendRow-1lA6T",legendEntryColor:"legendEntryColor-TVoDW",loadingBackgroundAnimation:"loadingBackgroundAnimation-3vtef"}},,function(e,t,a){e.exports={metadataContainer:"metadataContainer-1kBOD",hasBackground:"hasBackground-zi2j3",statsRow:"statsRow-14rxn",title:"title-2Cuoy",rowLabel:"rowLabel-3Oz2N"}},,,function(e,t,a){e.exports={tooltip:"tooltip-3lDnc",legend:"legend-4ozgq",arrow:"arrow-1952a",loadingBackgroundAnimation:"loadingBackgroundAnimation-3_zno"}},,,function(e,t,a){e.exports={loadingMessage:"loadingMessage-3pylE",loadingIcon:"loadingIcon-2TEoK",text:"text-11-ZE",loadingBackgroundAnimation:"loadingBackgroundAnimation-1z5Tj"}},,,function(e,t,a){e.exports={radioButton:"radioButton-3h24j",selected:"selected-9UNth",disabled:"disabled-2vJAf"}},,,function(e,t,a){e.exports={projectCreationForm:"projectCreationForm-2SDoV",label:"label-1pnFc",infoLink:"infoLink-3oimF",optionalLabel:"optionalLabel-3Vshd",descriptionTextArea:"descriptionTextArea-HLzxL",charCounter:"charCounter-2z2yr",field:"field-2szrE",info:"info-1arG3",title:"title-2lRzn",sharingOption:"sharingOption-1O-IW",radioButton:"radioButton-GDSUp",projectIcon:"projectIcon-2H1FJ",optionText:"optionText-2bca1",description:"description-3Ai4l",controls:"controls-2hZ1g",error:"error-1_31c",createButton:"createButton-1SPgh",disabled:"disabled-2G-f-",cancelButton:"cancelButton-1bovo",loadingBackgroundAnimation:"loadingBackgroundAnimation-tJ4vG"}},,,,,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(0)),r=function InsightMessage(e){var t=e.content;return n.default.createElement("div",{className:"ui message white idseq-ui insight-message"},t)};t.default=r},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(3)),d=l(a(11)),c=l(a(2)),u=l(a(0)),f=l(a(1)),p=a(1538),m=l(a(1671)),h=l(a(4)),g=a(66),v=function(e){function DateInput(){var e,t;(0,n.default)(this,DateInput);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return t=(0,o.default)(this,(e=(0,s.default)(DateInput)).call.apply(e,[this].concat(l))),(0,c.default)((0,i.default)(t),"handleChange",function(e,a){var l=a.value;t.props.onChange(l)}),t}return(0,d.default)(DateInput,e),(0,r.default)(DateInput,[{key:"render",value:function render(){var e=this.props.className;return u.default.createElement(p.DateInput,{fluid:!0,closable:!0,className:(0,h.default)("idseq-ui","input",m.default.dateInput,e),onChange:this.handleChange,value:this.props.value||"",dateFormat:"YYYY-MM-DD",popupPosition:"bottom right"})}}]),DateInput}(u.default.Component);v.propTypes=(0,g.forbidExtraProps)({className:f.default.string,onChange:f.default.func,value:f.default.oneOfType([f.default.string,f.default.number])});var y=v;t.default=y},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){e.exports={dateInput:"dateInput-2owv5"}},,function(e,t,a){e.exports={liveSearchBox:"liveSearchBox-3FTzX",rectangular:"rectangular-HHF7G"}},,,function(e,t,a){e.exports={loadingBarBackground:"loadingBarBackground-1CjWk",loadingBar:"loadingBar-1sIr7",showHint:"showHint-2c6Xg",tiny:"tiny-1U2-5"}},,function(e,t,a){e.exports={plusMinusContainer:"plusMinusContainer-3USp6",icon:"icon-2fnix"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(0)),r=l(a(1)),o=a(37),s=function BulletListIcon(e){var t=e.className;return n.default.createElement(o.Icon,{name:"list ul",className:t})};s.propTypes={className:r.default.string};var i=s;t.default=i},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(0)),r=l(a(1)),o=a(37),s=function GlobeLinedIcon(e){var t=e.className;return n.default.createElement(o.Icon,{name:"globe",className:t})};s.propTypes={className:r.default.string};var i=s;t.default=i},function(e,t,a){e.exports={st0:"st0-26Md3",st1:"st1-3SKVN",st2:"st2-1-BlK",st3:"st3-3VAWM",st4:"st4-25oNk",st5:"st5-2bmnO",st6:"st6-2LgoZ",st7:"st7-1B7lX",st8:"st8-3sNMa",st9:"st9-2Cbhq",st10:"st10-24sNa",st11:"st11-1VGZX",st12:"st12-2HjhG",st13:"st13-qVwAH",st14:"st14-1rPUN",st15:"st15-2mA7q"}},,function(e,t,a){e.exports={st0:"st0-2F2sw",st1:"st1-1fJ_E",st2:"st2-2Ap7I",st3:"st3-3Jgyf",st4:"st4-3Wg2N",st5:"st5-3AIOG",st6:"st6-2XE8p",st7:"st7-2VVrZ",st8:"st8-3fdwH",st9:"st9-1bWny",st10:"st10-3Dc4j",st11:"st11-2jRPv",st12:"st12-2gDIC",st13:"st13-1NnPJ",st14:"st14-3wRdB",st15:"st15-hwkwB"}},,function(e,t,a){e.exports={st0:"st0-2gBGP",st1:"st1-199IW",st2:"st2-1YlAc",st3:"st3-38WLk",st4:"st4-1T-ai",st5:"st5-2CKkq",st6:"st6-2Nr9f",st7:"st7-1Saj1",st8:"st8-2BKuk",st9:"st9-3zkmX",st10:"st10-3KOlr",st11:"st11-sQRCq",st12:"st12-kEFBC",st13:"st13-1g3wI",st14:"st14-1dwC6",st15:"st15-2TwBt"}},,function(e,t,a){e.exports={st0:"st0-3D307",st1:"st1-1Pe4S",st2:"st2-1-cgI",st3:"st3-RcO8u",st4:"st4-1WF0w",st5:"st5-1MAYO",st6:"st6-eyVsJ",st7:"st7-3-CoJ",st8:"st8-2hRD6",st9:"st9-2B04w",st10:"st10-3TaEc",st11:"st11-3DRdd",st12:"st12-287Bi",st13:"st13-1L-kX",st14:"st14-wdza9",st15:"st15-3tMAl"}},,,function(e,t,a){e.exports={statusLabel:"statusLabel-_7YwL",default:"default-1dqFu",success:"success-37B09",error:"error-2cvV9",info:"info-1uki2",warning:"warning-Nr2RU",inline:"inline-3XAo1",loadingBackgroundAnimation:"loadingBackgroundAnimation-2dTOe"}},,,function(e,t,a){e.exports={listContainer:"listContainer-3UMZq",error:"error-3hrj_",warn:"warn-sAaCK",info:"info-2Q3gL",success:"success-1gBcm",notificationContainer:"notificationContainer-2dR0k",messageContainer:"messageContainer-Tc3OA",loadingBackgroundAnimation:"loadingBackgroundAnimation-2QCIk"}},,,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.SequentialColormap=void 0;var n=l(a(7)),r=l(a(8)),o=function(){function SequentialColormap(){(0,n.default)(this,SequentialColormap)}return(0,r.default)(SequentialColormap,null,[{key:"loadLocalScale",value:function loadLocalScale(e){return a(1739)("./".concat(e,".json"))}},{key:"getNScale",value:function getNScale(e,t){var a=this.loadLocalScale(e);t=Math.min(t,a.length);for(var l=a.length/t,n=[],r=0;r<t-1;r++)n.push(a[Math.round(r*l)]);return n.push(a[a.length-1]),n}}]),SequentialColormap}();t.SequentialColormap=o},function(e,t,a){var l={"./viridis.json":1740};function webpackContext(e){var t=webpackContextResolve(e);return a(t)}function webpackContextResolve(e){if(!a.o(l,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return l[e]}webpackContext.keys=function webpackContextKeys(){return Object.keys(l)},webpackContext.resolve=webpackContextResolve,e.exports=webpackContext,webpackContext.id=1739},function(e){e.exports=JSON.parse('["#440154","#440256","#450457","#450559","#46075a","#46085c","#460a5d","#460b5e","#470d60","#470e61","#471063","#471164","#471365","#481467","#481668","#481769","#48186a","#481a6c","#481b6d","#481c6e","#481d6f","#481f70","#482071","#482173","#482374","#482475","#482576","#482677","#482878","#482979","#472a7a","#472c7a","#472d7b","#472e7c","#472f7d","#46307e","#46327e","#46337f","#463480","#453581","#453781","#453882","#443983","#443a83","#443b84","#433d84","#433e85","#423f85","#424086","#424186","#414287","#414487","#404588","#404688","#3f4788","#3f4889","#3e4989","#3e4a89","#3e4c8a","#3d4d8a","#3d4e8a","#3c4f8a","#3c508b","#3b518b","#3b528b","#3a538b","#3a548c","#39558c","#39568c","#38588c","#38598c","#375a8c","#375b8d","#365c8d","#365d8d","#355e8d","#355f8d","#34608d","#34618d","#33628d","#33638d","#32648e","#32658e","#31668e","#31678e","#31688e","#30698e","#306a8e","#2f6b8e","#2f6c8e","#2e6d8e","#2e6e8e","#2e6f8e","#2d708e","#2d718e","#2c718e","#2c728e","#2c738e","#2b748e","#2b758e","#2a768e","#2a778e","#2a788e","#29798e","#297a8e","#297b8e","#287c8e","#287d8e","#277e8e","#277f8e","#27808e","#26818e","#26828e","#26828e","#25838e","#25848e","#25858e","#24868e","#24878e","#23888e","#23898e","#238a8d","#228b8d","#228c8d","#228d8d","#218e8d","#218f8d","#21908d","#21918c","#20928c","#20928c","#20938c","#1f948c","#1f958b","#1f968b","#1f978b","#1f988b","#1f998a","#1f9a8a","#1e9b8a","#1e9c89","#1e9d89","#1f9e89","#1f9f88","#1fa088","#1fa188","#1fa187","#1fa287","#20a386","#20a486","#21a585","#21a685","#22a785","#22a884","#23a983","#24aa83","#25ab82","#25ac82","#26ad81","#27ad81","#28ae80","#29af7f","#2ab07f","#2cb17e","#2db27d","#2eb37c","#2fb47c","#31b57b","#32b67a","#34b679","#35b779","#37b878","#38b977","#3aba76","#3bbb75","#3dbc74","#3fbc73","#40bd72","#42be71","#44bf70","#46c06f","#48c16e","#4ac16d","#4cc26c","#4ec36b","#50c46a","#52c569","#54c568","#56c667","#58c765","#5ac864","#5cc863","#5ec962","#60ca60","#63cb5f","#65cb5e","#67cc5c","#69cd5b","#6ccd5a","#6ece58","#70cf57","#73d056","#75d054","#77d153","#7ad151","#7cd250","#7fd34e","#81d34d","#84d44b","#86d549","#89d548","#8bd646","#8ed645","#90d743","#93d741","#95d840","#98d83e","#9bd93c","#9dd93b","#a0da39","#a2da37","#a5db36","#a8db34","#aadc32","#addc30","#b0dd2f","#b2dd2d","#b5de2b","#b8de29","#bade28","#bddf26","#c0df25","#c2df23","#c5e021","#c8e020","#cae11f","#cde11d","#d0e11c","#d2e21b","#d5e21a","#d8e219","#dae319","#dde318","#dfe318","#e2e418","#e5e419","#e7e419","#eae51a","#ece51b","#efe51c","#f1e51d","#f4e61e","#f6e620","#f8e621","#fbe723","#fde725"]')},,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(5)),r=l(a(26)),o=l(a(32)),s=l(a(27)),i=l(a(7)),d=l(a(8)),c=l(a(10)),u=l(a(9)),f=l(a(11)),p=l(a(0)),m=l(a(4)),h=a(37),g=a(42),v=a(89),y=l(a(531)),b=a(87),C=l(a(1743)),w=function(e){function AlignmentViz(e){var t;return(0,i.default)(this,AlignmentViz),(t=(0,c.default)(this,(0,u.default)(AlignmentViz).call(this))).sampleId=e.sampleId,t.alignmentQuery=e.alignmentQuery,t.taxId=e.taxId,t.taxLevel=e.taxLevel,t.taxName=e.taxName,t.pipelineVersion=e.pipelineVersion,t.readsPerPage=e.readsPerPage||20,t.state={alignmentData:[],pipelineRun:null,loading:!0},t}return(0,f.default)(AlignmentViz,e),(0,d.default)(AlignmentViz,[{key:"componentDidMount",value:function(){var e=(0,s.default)(r.default.mark(function _callee(){var e,t,a,l,n;return r.default.wrap(function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return e=this.props.sampleId,r.next=3,Promise.all([(0,g.getAlignmentData)(e,this.alignmentQuery,this.pipelineVersion),(0,v.getSampleMetadata)(e,this.pipelineVersion)]);case 3:t=r.sent,a=(0,o.default)(t,2),l=a[0],n=a[1],this.setState({loading:!1,alignmentData:l,pipelineRun:n.additional_info.pipeline_run});case 8:case"end":return r.stop()}},_callee,this)}));return function componentDidMount(){return e.apply(this,arguments)}}()},{key:"render",value:function render(){var e=this.state,t=e.loading,a=e.alignmentData,l=e.pipelineRun;return t?p.default.createElement("div",null,p.default.createElement("h2",{className:C.default.heading},"Loading alignment data for ",this.taxName," (",this.taxLevel,") ...")):Array.isArray(a)?p.default.createElement("div",null,p.default.createElement("h2",{className:C.default.heading},this.taxName?this.taxName+" ("+this.taxLevel+")":"","Alignment (",a.length," unique accessions)",l&&(0,b.pipelineVersionHasAssembly)(l.pipeline_version)&&p.default.createElement(h.Popup,{trigger:p.default.createElement("i",{className:(0,m.default)("fa fa-exclamation-circle",C.default.warningIcon)}),position:"bottom left",content:"\n                Only alignments of individual reads are listed. Contig assembly is not currently included.\n              ",inverted:!0,wide:"very",horizontalOffset:4,className:C.default.popup})),p.default.createElement("div",{className:C.default.accessionViz},a.map(function(e,t){return p.default.createElement(y.default,(0,n.default)({key:"accession_".concat(t),readsPerPage:this.readsPerPage},e))},this))):p.default.createElement("div",null,a.error)}}]),AlignmentViz}(p.default.Component);t.default=w},function(e,t,a){e.exports={heading:"heading-3gKby",accessionViz:"accessionViz-p6fPG",warningIcon:"warningIcon-17EJQ",popup:"popup-yv7RH"}},,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(3)),d=l(a(11)),c=l(a(2)),u=l(a(0)),f=l(a(24)),p=l(a(51)),m=a(20),h=l(a(1746)),g=function(e){function BasespaceIntegration(){var e,t;(0,n.default)(this,BasespaceIntegration);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return t=(0,o.default)(this,(e=(0,s.default)(BasespaceIntegration)).call.apply(e,[this].concat(l))),(0,c.default)((0,i.default)(t),"closeWindow",function(){window.close()}),t}return(0,d.default)(BasespaceIntegration,e),(0,r.default)(BasespaceIntegration,[{key:"componentDidMount",value:function componentDidMount(){var e=this.props.accessToken;window.opener&&e&&window.opener.postMessage({basespaceAccessToken:this.props.accessToken},window.location.origin),e?(0,m.logAnalyticsEvent)("BasespaceIntegration_authorization_succeeded"):(0,m.logAnalyticsEvent)("BasespaceIntegration_authorization_failed")}},{key:"render",value:function render(){var e=this.props.accessToken;return u.default.createElement("div",{className:h.default.basespaceIntegration},u.default.createElement("div",{className:h.default.content},e?u.default.createElement("div",null,u.default.createElement("div",{className:h.default.message},"You've successfully authorized IDseq to connect to Basespace!"),u.default.createElement("div",{className:h.default.smallMessage},"You can now return to the IDseq Upload page.")):u.default.createElement("div",{className:h.default.error},"Something went wrong when trying to connect to Basespace. Please",u.default.createElement("a",{className:h.default.helpLink,href:"mailto:help@idseq.net"},"contact us")," ","for help."),u.default.createElement(p.default,{text:"Close Window",rounded:!1,onClick:this.closeWindow})))}}]),BasespaceIntegration}(u.default.Component);t.default=g,g.propTypes={accessToken:f.default.string}},function(e,t,a){e.exports={basespaceIntegration:"basespaceIntegration-27VPs",content:"content-3Bgo6",message:"message-3w-2S",smallMessage:"smallMessage-222ev",error:"error-2-ZiJ",helpLink:"helpLink-16tJA"}},,,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(882)).default;t.default=n},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(0)),c=a(37),u=l(a(1)),f=l(a(4)),p=l(a(1751)),m=a(61),h=function(e){function CliUserInstructions(){return(0,n.default)(this,CliUserInstructions),(0,o.default)(this,(0,s.default)(CliUserInstructions).apply(this,arguments))}return(0,i.default)(CliUserInstructions,e),(0,r.default)(CliUserInstructions,[{key:"render",value:function render(){var e="idseq -e='".concat(this.props.email,"' -t='").concat(this.props.authToken,"' -p='Your Project Name' -s='Your Sample Name' --r1=your_sample_R1.fastq.gz --r2=your_sample_R2.fastq.gz"),t="idseq -e='".concat(this.props.email,"' -t='").concat(this.props.authToken,"' -p='Your Project Name' --bulk=."),a="'".concat(this.props.hostGenomes.join("', '"),"'");return d.default.createElement("div",{className:p.default.instructionContainer},d.default.createElement("div",{className:p.default.title},"Command Line Interface Instructions"),d.default.createElement("p",{className:p.default.instructionHeading},"(1) Install and configure the Amazon Web Services Command Line Interface (AWS CLI): "),d.default.createElement("div",null,"For macOS users: We recommend trying the Homebrew package manager to install ",d.default.createElement("span",{className:p.default.code},"awscli"),". You can install by running these commands:",d.default.createElement("div",{className:p.default.codeBullet},'/usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"'),d.default.createElement("div",{className:p.default.codeBullet},"brew install awscli")),d.default.createElement("p",null,"- Otherwise follow the AWS installation instructions ",d.default.createElement("a",{href:"https://docs.aws.amazon.com/cli/latest/userguide/installing.html",target:"_blank",rel:"noopener noreferrer",className:"terms-link"},"here"),". "),d.default.createElement("p",null,"- Verify it works by running ",d.default.createElement("span",{className:p.default.code},"aws help"),", which should display usage instructions. You do not need to set up AWS credentials unless you're using the bulk upload mode."),d.default.createElement("p",{className:p.default.instructionHeading},"(2) Install the IDseq CLI:"),d.default.createElement("div",null,d.default.createElement("span",{className:p.default.code},"pip install git+https://github.com/chanzuckerberg/idseq-cli.git --upgrade"),d.default.createElement("p",{className:p.default.instructionMediumMarginTop},"- Tips: Make sure you have Python 3 installed already. Try running"," ",d.default.createElement("span",{className:p.default.code},"pip --version")," or"," ",d.default.createElement("span",{className:p.default.code},"python --version"),"."),d.default.createElement("p",null,"- Try running with ",d.default.createElement("span",{className:p.default.code},"pip")," or"," ",d.default.createElement("span",{className:p.default.code},"pip3")," depending on your configuration. Try ",d.default.createElement("span",{className:p.default.code},"sudo pip")," if you run into permissions errors (anything like OSError: [Errno 13] Permission denied). You can use this same command in the future to update the CLI if needed.")),d.default.createElement("p",null),d.default.createElement("p",{className:p.default.instructionHeading},"(3) Upload a single sample:"),d.default.createElement("div",{className:(0,f.default)(p.default.code,p.default.center)},d.default.createElement("p",null,"idseq -e='",d.default.createElement("span",{className:p.default.codePersonal},this.props.email),"' -t='",d.default.createElement("span",{className:p.default.codePersonal},this.props.authToken),"' -p='",d.default.createElement("span",{className:p.default.codeToEdit},"Your Project Name"),"' -s='",d.default.createElement("span",{className:p.default.codeToEdit},"Your Sample Name"),"' \\",d.default.createElement("br",null)," --r1=",d.default.createElement("span",{className:p.default.codeToEdit},"your_sample_R1"),".fastq.gz --r2=",d.default.createElement("span",{className:p.default.codeToEdit},"your_sample_R2"),".fastq.gz")),d.default.createElement("div",{className:p.default.instructionMediumMarginTop},"Edit the command in this text box and copy-and-paste:",d.default.createElement(c.Form,{className:p.default.instructionMediumMarginTop},d.default.createElement(c.TextArea,{className:p.default.codePersonal,defaultValue:e,autoHeight:!0}))),d.default.createElement("p",{className:p.default.instructionMediumMarginTop},"- Supported file types: .fastq/.fq/.fasta/.fa or .fastq.gz/.fq.gz/.fasta.gz/.fa.gz"),d.default.createElement("p",null,"- You will be prompted to upload metadata in a CSV file with your samples."),d.default.createElement("p",null,d.default.createElement("div",{className:p.default.firstIndent},"- ",d.default.createElement("span",{onClick:function onClick(){return(0,m.openUrlInNewTab)("https://idseq.net/metadata/instructions")},className:p.default.link},"Metadata Instructions")),d.default.createElement("div",{className:p.default.firstIndent},"- ",d.default.createElement("span",{onClick:function onClick(){return(0,m.openUrlInNewTab)("https://idseq.net/metadata/dictionary")},className:p.default.link},"Metadata Dictionary")),d.default.createElement("div",{className:p.default.firstIndent},"- ",d.default.createElement("span",{onClick:function onClick(){return(0,m.openUrlInNewTab)("https://idseq.net/metadata/metadata_template_csv")},className:p.default.link},"Metadata CSV Template")),d.default.createElement("p",null,"- ","The CSV is also where you will specify the Host Organism. Please enter an accurate value here, but note that if your entered Host Organism does not match a supported host genome, we will only subtract out ERCCs and the Human genome. You can read more about how to request a new genome to be added to IDseq"," ",d.default.createElement("span",{onClick:function onClick(){return(0,m.openUrlInNewTab)("https://chanzuckerberg.zendesk.com/hc/en-us/articles/360034790814-How-do-I-request-a-new-host-genome-be-added-to-IDseq-")},className:p.default.link},"here"),".")),d.default.createElement("p",null,"- Supported host genome values: ".concat(a)),d.default.createElement("p",null,"- Your authentication token for uploading is: ",d.default.createElement("span",{className:p.default.codePersonal},this.props.authToken),"  Keep this private like a password!"),d.default.createElement("p",null,'- Tips: Avoid copying commands into programs like TextEdit because it may change "straight quotes" into smart quotes (   ) which will not be parsed correctly in your terminal.'),d.default.createElement("p",null,"- The '\\' symbol means to continue on the next line in the terminal. If you use this in your command, make sure it is not followed by a space before the line break."),d.default.createElement("p",null,"- New to using a command line? You will need to use"," ",d.default.createElement("span",{className:p.default.code},"cd")," and"," ",d.default.createElement("span",{className:p.default.code},"ls")," to navigate to the folder on your computer containing the source files you want to upload."," ",d.default.createElement("a",{href:"https://courses.cs.washington.edu/courses/cse140/13wi/shell-usage.html",target:"_blank",rel:"noopener noreferrer",className:"terms-link"},"Guide here"),"."),d.default.createElement("p",{className:p.default.instructionHeading},"(Optional) Run the program in interactive mode:"),d.default.createElement("p",null,"Having trouble? Just run ",d.default.createElement("span",{className:p.default.code},"idseq")," ","without any parameters and the program will guide you through the process."),d.default.createElement("p",{className:p.default.instructionHeading},"(Optional) Upload samples in bulk mode by specifying a folder:"),d.default.createElement("div",{className:(0,f.default)(p.default.code,p.default.center)},d.default.createElement("p",null,"idseq -e='",d.default.createElement("span",{className:p.default.codePersonal},this.props.email),"' -t='",d.default.createElement("span",{className:p.default.codePersonal},this.props.authToken),"' -p='",d.default.createElement("span",{className:p.default.codeToEdit},"Your Project Name"),"' \\",d.default.createElement("br",null)," --bulk=",d.default.createElement("span",{className:p.default.codeToEdit},"/path/to/your/folder"))),d.default.createElement("div",{className:p.default.instructionMediumMarginTop},"Edit the command in this text box and copy-and-paste:",d.default.createElement(c.Form,{className:p.default.instructionMediumMarginTop},d.default.createElement(c.TextArea,{className:p.default.codePersonal,defaultValue:t,autoHeight:!0}))),d.default.createElement("p",{className:p.default.instructionMediumMarginTop},"- The '.' refers to the current folder in your terminal. The program will try to auto-detect files in the folder."),d.default.createElement("p",{className:p.default.uploadQuestion},"For more information on the IDseq CLI, have a look at its"," ",d.default.createElement("a",{href:"https://github.com/chanzuckerberg/idseq-cli",target:"_blank",rel:"noopener noreferrer",className:p.default.link},"GitHub repository"),"."))}}]),CliUserInstructions}(d.default.Component);h.propTypes={trigger:u.default.node,email:u.default.string,authToken:u.default.string,hostGenomes:u.default.array};var g=h;t.default=g},function(e,t,a){e.exports={h1:"h1-Ir6UT",h2:"h2-q4Ayw",h3:"h3-2knn1",h4:"h4-336Mv",h5:"h5-1J-Iq",h6:"h6-2e_cQ","display-xlarge":"display-xlarge-fR67s","display-large":"display-large-298TL","display-medium":"display-medium-35q_g","display-small":"display-small-rSvFa",heading:"heading-oXM-9",subheading:"subheading-1D6Sp",small:"small-3sUId",p:"p-pMUxw","body-text":"body-text-MQE5j",subdued:"subdued-2FU5X",caption:"caption-pKLXZ","text-left":"text-left-2qaA4","text-right":"text-right-3uGi_","text-center":"text-center-3CFZ7","text-justify":"text-justify-DQG4_","text-nowrap":"text-nowrap-1qaDp","text-lowercase":"text-lowercase-3YDxP","text-uppercase":"text-uppercase-2pJoG","text-capitalize":"text-capitalize-21BZP","text-muted":"text-muted-1lG5H",instructionContainer:"instructionContainer-19QYp",title:"title-3LnRj",instructionHeading:"instructionHeading-3GaAw",instructionMediumMarginTop:"instructionMediumMarginTop-350uC",firstIndent:"firstIndent-2wxN8",codeBullet:"codeBullet-3h0cT",code:"code-33eFq",center:"center-2XY8M",codeToEdit:"codeToEdit-3pow5",codePersonal:"codePersonal-3HPve",uploadQuestion:"uploadQuestion-d4JP-",link:"link-2UK6T"}},,,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(2)),r=l(a(7)),o=l(a(8)),s=l(a(10)),i=l(a(9)),d=l(a(3)),c=l(a(11)),u=l(a(0)),f=l(a(1)),p=l(a(72)),m=a(37),h=l(a(819)),g=l(a(145)),v=l(a(403)),y=l(a(51)),b=l(a(292)),C=l(a(490)),w=l(a(489)),E=l(a(488)),S=l(a(223)),_=function(e){function Landing(e){var t;return(0,r.default)(this,Landing),(t=(0,s.default)(this,(0,i.default)(Landing).call(this,e))).state={firstName:"",lastName:"",email:"",institution:"",usage:"",submitMessage:""},t.handleChange=t.handleChange.bind((0,d.default)(t)),t.handleSubmit=t.handleSubmit.bind((0,d.default)(t)),t}return(0,c.default)(Landing,e),(0,o.default)(Landing,[{key:"handleChange",value:function handleChange(e,t){var a=t.id,l=t.value;this.setState((0,n.default)({},a,l))}},{key:"handleSubmit",value:function handleSubmit(){var e=this;b.default.validateEmail(this.state.email)?p.default.post("sign_up",{signUp:{firstName:this.state.firstName,lastName:this.state.lastName,email:this.state.email,institution:this.state.institution,usage:this.state.usage}}).then(function(){e.setState({firstName:"",lastName:"",email:"",institution:"",usage:"",submitMessage:"Thanks for your interest! Our product team will be in touch about accessing IDseq. If your team is already on IDseq, ask a collaborator to add you to a project to get immediate access."})}).catch(function(){e.setState({submitMessage:"There was an error submitting the form. Please check required fields and try again."})}):this.setState({submitMessage:"Email is invalid."})}},{key:"render",value:function render(){var e,t=u.default.createElement("div",{className:"header-row row"},u.default.createElement("div",{className:"site-header col s12"},u.default.createElement("div",{className:"left brand-details"},u.default.createElement("a",{href:"/"},u.default.createElement("span",{className:"logo-icon"},u.default.createElement(S.default,null)))),u.default.createElement("div",{className:"fill"}),u.default.createElement("div",{className:"hiring-ad"},"Join our team! We're hiring ",u.default.createElement(g.default,{href:"https://boards.greenhouse.io/chanzuckerberginitiative",analyticsEventName:"Landing_engineer-job-link_clicked"},"engineers")," and ",u.default.createElement(g.default,{href:"https://boards.greenhouse.io/chanzuckerberginitiative/jobs/1919743",analyticsEventName:"Landing_scientist-job-link_clicked"},"scientists"),"!"),this.props.browserInfo.supported?u.default.createElement("div",{className:"sign-in"},u.default.createElement(v.default,{text:"Sign In",onClick:function signInLink(){location.href="/auth0/login"},disabled:!this.props.browserInfo.supported})):u.default.createElement("div",{className:"alert-browser-support"},this.props.browserInfo.browser," is not currently supported. Please sign in from a different browser."))),a=u.default.createElement("div",{className:"top-title"},"IDseq is a hypothesis-free global software platform that helps scientists identify pathogens in metagenomic sequencing data."),l=u.default.createElement(h.default,null,u.default.createElement("div",{className:"action-cards"},u.default.createElement("div",{className:"action-card"},u.default.createElement(C.default,null),u.default.createElement("div",{className:"card-text"},u.default.createElement("div",{className:"card-title"},"Discover"),u.default.createElement("div",{className:"card-description"},"Identify the pathogen landscape"))),u.default.createElement("div",{className:"action-card"},u.default.createElement(w.default,null),u.default.createElement("div",{className:"card-text"},u.default.createElement("div",{className:"card-title"},"Detect"),u.default.createElement("div",{className:"card-description"},"Monitor and review potential outbreaks"))),u.default.createElement("div",{className:"action-card"},u.default.createElement("span",{className:"icon-decipher"},u.default.createElement(E.default,null)),u.default.createElement("div",{className:"decipher-card-text"},u.default.createElement("div",{className:"card-title"},"Decipher"),u.default.createElement("div",{className:"card-description"},"Find potential infecting organisms in large datasets"))))),n=u.default.createElement("label",null,"How would you use IDseq? ",u.default.createElement("span",{className:"optional"},"Optional"));this.state.submitMessage&&(e=u.default.createElement(m.Message,{content:this.state.submitMessage}));var r,o=u.default.createElement("div",{className:"account-form"},u.default.createElement("div",{className:"form-header"},u.default.createElement("div",{className:"form-title"},"Learn more about IDseq"),this.props.browserInfo.supported&&u.default.createElement("div",{className:"form-description"},"Already have an account? ",u.default.createElement("a",{href:"/auth0/login"},"Sign in."))),u.default.createElement(m.Form,{onSubmit:this.handleSubmit},u.default.createElement(m.Form.Group,{widths:2},u.default.createElement(m.Form.Field,{control:m.Input,label:"First Name",id:"firstName",value:this.state.firstName,onChange:this.handleChange}),u.default.createElement(m.Form.Field,{control:m.Input,label:"Last Name",id:"lastName",value:this.state.lastName,onChange:this.handleChange})),u.default.createElement(m.Form.Field,{control:m.Input,label:"Email",id:"email",value:this.state.email,onChange:this.handleChange}),u.default.createElement(m.Form.Field,{control:m.Input,label:"Affiliated Institution or Company",id:"institution",value:this.state.institution,onChange:this.handleChange}),u.default.createElement(m.Form.Field,{control:m.TextArea,label:n,value:this.state.usage,onChange:this.handleChange,id:"usage"}),e,u.default.createElement("div",{className:"submit-button"},u.default.createElement(y.default,{text:"Submit"})))),s=u.default.createElement("div",{className:"row first-block"},u.default.createElement(m.Grid,{container:!0,stackable:!0,columns:2},u.default.createElement(m.Grid.Column,{width:9},a,l),u.default.createElement(m.Grid.Column,{width:7},o)));r=this.props.showBulletin?u.default.createElement("div",{className:"bulletin-banner"},u.default.createElement(h.default,null,u.default.createElement("div",{className:"bulletin-title"},"Experience IDseq in Action"),u.default.createElement("div",{className:"bulletin-description"},"Journey to the frontlines of global health with a 360 video tour. See how a local researcher quickly detects the source of a meningitis outbreak in Dhaka, Bangladesh by using IDseq technology."),u.default.createElement(g.default,{href:"https://discoveridseq.com/vr",analyticsEventName:"Landing_video-tour-link_clicked"},u.default.createElement(v.default,{text:"Take a Video Tour"})))):u.default.createElement(m.Divider,null);var i=u.default.createElement("div",{className:"partners-block"},u.default.createElement("div",{className:"partner-title"},"IN PARTNERSHIP WITH"),u.default.createElement(m.Grid,{columns:2,className:"partner-logos"},u.default.createElement(m.Grid.Column,null,u.default.createElement(m.Image,{className:"first-logo",src:"/assets/logo-czi.jpg",as:"a",href:"https://www.chanzuckerberg.com/",target:"_blank",rel:"noopener noreferrer"})),u.default.createElement(m.Grid.Column,null,u.default.createElement(m.Image,{className:"second-logo",src:"/assets/logo-biohub.jpg",as:"a",href:"https://www.czbiohub.org/",target:"_blank",rel:"noopener noreferrer"})))),d="mailto:"+this.props.contactEmail,c=u.default.createElement("div",{className:"footer"},u.default.createElement("div",{className:"footer-links"},u.default.createElement("a",{href:d},"Contact"),u.default.createElement("a",{href:"https://idseq.net/terms",target:"_blank",rel:"noopener noreferrer"},"Terms"),u.default.createElement("a",{href:"https://idseq.net/privacy",target:"_blank",rel:"noopener noreferrer"},"Privacy")));return u.default.createElement("div",null,t,s,r,i,c)}}]),Landing}(u.default.Component);_.propTypes={contactEmail:f.default.string.isRequired,showBulletin:f.default.bool,browserInfo:f.default.object};var k=_;t.default=k},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(0)),c=l(a(144)),u=l(a(297)),f=l(a(1756)),p=function(e){function Maintenance(){return(0,n.default)(this,Maintenance),(0,o.default)(this,(0,s.default)(Maintenance).apply(this,arguments))}return(0,i.default)(Maintenance,e),(0,r.default)(Maintenance,[{key:"render",value:function render(){return d.default.createElement("div",{className:f.default.maintenance},d.default.createElement(u.default,{message:"IDseq is currently undergoing some scheduled maintenance. Sorry\n          for the inconvenience!",textWidth:300,tagline:"We'll be back online soon.",icon:d.default.createElement(c.default,{className:f.default.bacteriaIcon})}))}}]),Maintenance}(d.default.Component);t.default=p},function(e,t,a){e.exports={maintenance:"maintenance-3DiD3",bacteriaIcon:"bacteriaIcon-tbfRs",loadingBackgroundAnimation:"loadingBackgroundAnimation-pXOiC"}},,,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(26)),r=l(a(47)),o=l(a(32)),s=l(a(27)),i=l(a(35)),d=l(a(7)),c=l(a(8)),u=l(a(10)),f=l(a(9)),p=l(a(3)),m=l(a(11)),h=l(a(2)),g=l(a(0)),v=l(a(4)),y=a(1760),b=a(17),C=a(1763),w=l(a(429)),E=a(1766),S=a(82),_=l(a(886)),k=l(a(872)),N=l(a(469)),x=l(a(24)),M=l(a(110)),T=a(20),P=l(a(438)),D=l(a(887)),I=l(a(437)),j=a(889);function ownKeys(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(a,!0).forEach(function(t){(0,h.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var L=function(e){function PipelineViz(e){var t;return(0,d.default)(this,PipelineViz),t=(0,u.default)(this,(0,f.default)(PipelineViz).call(this,e)),(0,h.default)((0,p.default)(t),"handleNodeBlur",function(){var e=t.lastMouseMoveInfo,a=e.graphIndex,l=e.nodeId,n=e.alteredGraphs;if(null!=l){var r=t.getNodeStatusOptions(t.getStepDataAtIndices({stageIndex:a,stepIndex:l}).status);t.graphs[a].updateNodes([l],r),n.forEach(function(e){var a=t.graphs[e],l=a.getEdges(function(e){return e.id.match(/-colored$/g)});a.updateEdges(l,{hidden:!0})}),n.clear(),t.setState({hovered:!1,interStageArrows:["","",""]})}}),(0,h.default)((0,p.default)(t),"closeSidebar",function(){t.graphs.forEach(function(e){return e.unselectAll()}),t.setState({sidebarVisible:!1})}),(0,h.default)((0,p.default)(t),"handleWindowResize",function(){t.graphs.forEach(function(e,a){t.state.stagesOpened[a]&&e.minimizeSizeGivenScale(1)})}),(0,h.default)((0,p.default)(t),"handleZoom",function(e){var a=t.props.zoomSpeed;return function(){t.panZoomContainer&&t.panZoomContainer.current&&(e?t.panZoomContainer.current.zoomIn(a):t.panZoomContainer.current.zoomOut(a))}}),t.stageNames=["Host Filtering","Alignment","Post Processing"].concat((0,i.default)(e.showExperimental?["Experimental"]:[])),t.graphs=[],t.graphContainers=[],t.lastMouseMoveInfo={graphIndex:null,nodeId:null,x:0,y:0,alteredGraphs:new Set},t.panZoomContainer=g.default.createRef(),t.state={stagesOpened:t.stageNames.map(function(e,a){return a<t.props.graphData.stages.length}),interStageArrows:["","",""],sidebarVisible:!1,sidebarParams:{},hovered:!1,graphData:e.graphData},t}return(0,m.default)(PipelineViz,e),(0,c.default)(PipelineViz,[{key:"componentDidMount",value:function componentDidMount(){var e=this,t=this.props.updateInterval;this.drawGraphs(),window.addEventListener("resize",this.handleWindowResize),this.pipelineIsFinished()||(this.updateLoop=setInterval(function(){return e.updateGraphs()},t))}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),clearInterval(this.updateLoop)}},{key:"updateGraphs",value:function(){var e=(0,s.default)(n.default.mark(function _callee(){var e,t,a,l,s,i,d,c=this;return n.default.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return e=this.props,t=e.sample,a=e.pipelineRun,l=this.state.graphData,s=l,n.next=5,(0,E.getGraph)(t.id,a.version.pipeline);case 5:i=n.sent,this.setState({graphData:i},function(){return c.pipelineIsFinished()&&clearInterval(c.updateLoop)}),(d=(0,y.diff)(s,i)).stages&&Object.entries(d.stages).forEach(function(e){var t=(0,o.default)(e,2),a=t[0],l=t[1],n=parseInt(a);if(n<c.graphs.length){var s=c.graphs[n],i=l.steps;Object.entries(i).forEach(function(e){var t=(0,o.default)(e,2),a=t[0],l=t[1],n=parseInt(a),r=l.status;s.updateNodes([n],_objectSpread({group:r},c.getNodeStatusOptions(r)))})}else{for(var d=function _loop(e){var t=c.graphs[e];c.generateEdgeData(e).forEach(function(e){var a=e.id,l=(0,r.default)(e,["id"]);t.updateEdges([a],l)})},u=0;u<n;u++)d(u);c.drawStageGraph(n)}});case 9:case"end":return n.stop()}},_callee,this)}));return function updateGraphs(){return e.apply(this,arguments)}}()},{key:"pipelineIsFinished",value:function pipelineIsFinished(){var e=this.state.graphData.status;return["finished","userErrored","pipelineErrored"].includes(e)}},{key:"getStepDataAtIndices",value:function getStepDataAtIndices(e){var t=e.stageIndex,a=e.stepIndex;return this.state.graphData.stages[t].steps[a]}},{key:"getEdgeInfoFor",value:function getEdgeInfoFor(e,t,a){var l=this.state.graphData.edges,n=this.getStepDataAtIndices({stageIndex:e,stepIndex:t});switch(a){case"input":return n.inputEdges.map(function(e){return l[e]});case"output":return n.outputEdges.map(function(e){return l[e]});default:return n.inputEdges.concat(n.outputEdges).map(function(e){return l[e]})}}},{key:"getNodeIdAtCoords",value:function getNodeIdAtCoords(e,t,a){var l=(0,j.inverseTransformDOMCoordinates)(this.panZoomContainer.current.dragContainer.current,t,a),n=l.x,r=l.y;return e.getNodeAt(n,r)}},{key:"handleStageClick",value:function handleStageClick(e,t){var a=this,l=this.props,n=l.sample,r=l.pipelineRun,o=this.graphs[e],s=this.getNodeIdAtCoords(o,t.pointer.DOM.x,t.pointer.DOM.y);if(null!=s){(0,T.logAnalyticsEvent)("PipelineViz_step-node_clicked",{stageName:this.stageNames[e],stepName:this.getStepDataAtIndices({stageIndex:e,stepIndex:s}).name}),this.graphs.forEach(function(t,a){return a!=e&&t.unselectAll()}),o.selectNodes([s]);var i=this.getEdgeInfoFor(e,s,"input").map(function(e){return{fromStepName:e.from?a.getStepDataAtIndices(e.from).name:"",files:e.files.map(function(e){return{fileName:e.displayName,url:e.url}})}}),d=new Set,c=this.getEdgeInfoFor(e,s,"output").map(function(e){return e.files.reduce(function(e,t){var a=JSON.stringify(t);return d.has(a)||(d.add(a),e.push({fileName:t.displayName,url:t.url})),e},[])}).flat(),u=this.getStepDataAtIndices({stageIndex:e,stepIndex:s});this.setState({sidebarVisible:!0,sidebarParams:{stepName:u.name,description:u.description,inputFiles:i,outputFiles:c,status:u.status,startTime:u.startTime,endTime:u.endTime,resources:u.resources,sample:n,pipelineRun:r}})}}},{key:"shouldUpdateMoveMouse",value:function shouldUpdateMoveMouse(e,t){var a=this.props.minMouseMoveUpdateDistance;return Math.sqrt(Math.pow(e-this.lastMouseMoveInfo.x,2)+Math.pow(t-this.lastMouseMoveInfo.y,2))>=a}},{key:"handleMouseMove",value:function handleMouseMove(e,t){var a=this.graphs[e];if(this.shouldUpdateMoveMouse(t.clientX,t.clientY)){var l=t.target.getBoundingClientRect(),n=this.getNodeIdAtCoords(a,t.clientX-l.left,t.clientY-l.top);e==this.lastMouseMoveInfo.graphIndex&&n==this.lastMouseMoveInfo.nodeId||this.handleNodeBlur(),Object.assign(this.lastMouseMoveInfo,{graphIndex:e,nodeId:n,x:t.clientX,y:t.clientY}),null!=n&&this.handleNodeHover(e,n)}}},{key:"handleNodeHover",value:function handleNodeHover(e,t){var a=this;(0,T.logAnalyticsEvent)("PipelineViz_step-node_mouseovered",{stageName:this.stageNames[e],stepName:this.getStepDataAtIndices({stageIndex:e,stepIndex:t}).name});var l=this.props,n=l.inputEdgeColor,r=l.outputEdgeColor,o=this.graphs[e],s=(0,i.default)(this.state.interStageArrows),d=this.getNodeStatusOptions(this.getStepDataAtIndices({stageIndex:e,stepIndex:t}).status,!0);o.updateNodes([t],d),this.lastMouseMoveInfo.alteredGraphs.add(e);var c={color:{color:n,hover:n,inherit:!1},width:2,hidden:!1},u=this.getEdgeInfoFor(e,t,"input").reduce(function(l,n){if(n.isIntraStage)l.push("".concat(n.from.stepIndex,"-").concat(t,"-colored"));else{if(n.from){var r=a.graphs[n.from.stageIndex],o="".concat(n.from.stepIndex,"-").concat(-2,"-colored");r.updateEdges([o],c);for(var i=n.from.stageIndex;i<e;i++)s[i]="from";a.lastMouseMoveInfo.alteredGraphs.add(n.from.stageIndex)}l.push("".concat(-1,"-").concat(t,"-colored"))}return l},[]);o.updateEdges(u,c);var f={color:{color:r,hover:r,inherit:!1},width:2,hidden:!1},p=this.getEdgeInfoFor(e,t,"output").reduce(function(l,n){if(n.to)if(n.isIntraStage)l.push("".concat(t,"-").concat(n.to.stepIndex,"-colored"));else{var r=a.graphs[n.to.stageIndex],o="".concat(-1,"-").concat(n.to.stepIndex,"-colored");r.updateEdges([o],f);for(var i=e;i<n.to.stageIndex;i++)s[i]="to";a.lastMouseMoveInfo.alteredGraphs.add(n.to.stageIndex),l.push("".concat(t,"-").concat(-2,"-colored"))}return l},[]);o.updateEdges(p,f),this.setState({hovered:!0,interStageArrows:s})}},{key:"toggleStage",value:function toggleStage(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=(0,i.default)(this.state.stagesOpened);a[e]=!a[e],this.setState({stagesOpened:a}),t&&history.replaceState(a,null,this.urlWithStagesOpenedState(a))}},{key:"getStatusGroupFor",value:function getStatusGroupFor(e,t){return this.getStepDataAtIndices({stageIndex:e,stepIndex:t}).status}},{key:"generateNodeData",value:function generateNodeData(e,t){var a=this.state.graphData.stages[e].steps.map(function(e,t){return{id:t,label:e.name,group:e.status}});return a.push({id:-1,group:"startEndNodes"}),a.push({id:-2,group:"startEndNodes"}),this.addPositionToNodes(a,t),a}},{key:"getNodeStatusOptions",value:function getNodeStatusOptions(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.props["".concat(e,"NodeColor")];if(!a)return{};var l=t&&a.hovered?a.hovered:a.default,n=a.textColor,r=a.shadowColor;return _objectSpread({color:{background:l,border:l,highlight:{background:l,border:l}}},n?{font:{color:n}}:{font:{color:P.default.defaultNodeText}},{},r?{shadow:{color:r,x:0,y:2,size:8}}:{})}},{key:"addPositionToNodes",value:function addPositionToNodes(e,t){var a=(0,b.groupBy)("from",t),l=(0,b.groupBy)("to",t);this.addXCoordinatesToNodes(e,a),this.addYCoordinatesToNodes(e,a,l)}},{key:"addXCoordinatesToNodes",value:function addXCoordinatesToNodes(e,t){var a=this.props.xLayoutInterval,l={};e.forEach(function(e){l[e.id]=0});for(var n=[-1];n.length;){var r=n.shift();r>-2&&function(){var e=l[r]+1;t[r].forEach(function(t){var a=t.to;e>l[a]&&(l[a]=e,-2!=a&&(l[-2]=Math.max(l[-2],e+1))),n.push(a)})}()}var o=Math.max.apply(Math,(0,i.default)(Object.values(l)));e.forEach(function(e){e.x=(l[e.id]-o/2)*a,e.level=l[e.id]})}},{key:"addYCoordinatesToNodes",value:function addYCoordinatesToNodes(e,t,a){var l=this.props,n=l.yLayoutInterval,r=l.staggerLayoutMultiplier,o=(0,b.groupBy)("level",e),s=Object.keys(o).length,i=s>4;Object.values(o).forEach(function(e){e.sort(function(e,l){var n=t[e.id].length+a[e.id].length;return t[l.id].length+a[l.id].length-n});var l=e.length%2?-1:1,o=e.length%2?0:n/2;e.forEach(function(e){e.y=o*l*(i?r:1),-1==l&&(o+=n),l*=-1}),i=s>4&&!i})}},{key:"generateEdgeData",value:function generateEdgeData(e){var t=this,a=this.props.edgeColor,l=this.state.graphData.stages[e].steps.map(function(l,n){var r=!1,o=t.getEdgeInfoFor(e,n,"output").reduce(function(e,t){return t.isIntraStage?e.push({from:n,to:t.to.stepIndex,id:"".concat(n,"-").concat(t.to.stepIndex),color:a}):!r&&t.to&&(r=!0,e.push({from:n,to:-2,id:"".concat(n,"-").concat(-2),color:a})),e},[]),s=!1,i=t.getEdgeInfoFor(e,n,"input").reduce(function(e,t){return t.isIntraStage||s||(s=!0,e.push({from:-1,to:n,id:"".concat(-1,"-").concat(n),color:a})),e},[]);return o.concat(i)}).flat(),n=l.map(function(e){return Object.assign(_objectSpread({},e),{id:"".concat(e.from,"-").concat(e.to,"-colored"),hidden:!0,color:null})});return l.concat(n,this.generateHiddenEdges(e))}},{key:"generateHiddenEdges",value:function generateHiddenEdges(e){var t={color:{opacity:0,inherit:!1}};return this.state.graphData.stages[e].steps.map(function(e,a){return[_objectSpread({from:a,to:-2,id:"".concat(a,"-").concat(-2,"-hidden")},t),_objectSpread({from:-1,to:a,id:"".concat(-1,"-").concat(a,"-hidden")},t)]}).flat()}},{key:"setInitialOpenedStages",value:function setInitialOpenedStages(){var e=this,t=this.state.graphData.stages,a=history.state||(0,S.parseUrlParams)();t.forEach(function(t,l){var n=e.graphs[l];!(a&&a[l])&&"inProgress"!=t.jobStatus&&n&&n.afterDrawingOnce(function(){return e.toggleStage(l,!1)})}),history.replaceState(this.state.stagesOpened,null,this.urlWithStagesOpenedState(this.state.stagesOpened))}},{key:"urlWithStagesOpenedState",value:function urlWithStagesOpenedState(e){var t=this.props,a=t.sample,l=t.pipelineRun,n=l&&l.version&&l.version.pipeline;return"".concat(location.protocol,"//").concat(location.host,"/samples/").concat(a.id,"/pipeline_viz").concat(n?"/".concat(n):"","?").concat((0,S.getURLParamString)(e))}},{key:"drawGraphs",value:function drawGraphs(){var e=this;this.state.graphData.stages.forEach(function(t,a){e.drawStageGraph(a)}),this.setInitialOpenedStages()}},{key:"drawStageGraph",value:function drawStageGraph(e){var t=this,a=this.props,l=a.backgroundColor,n=a.edgeColor,r=this.state.stagesOpened,o=this.graphContainers[e],s=this.generateEdgeData(e),i=this.generateNodeData(e,s),d={nodes:{borderWidth:1,borderWidthSelected:1,shadow:{color:P.default.nodeShadowColor,x:0,y:2,size:8},shape:"box",shapeProperties:{borderRadius:4},margin:{top:6,bottom:6,left:12,right:12},widthConstraint:75,heightConstraint:{minimum:20},font:{face:"Open Sans",size:11},labelHighlightBold:!1},groups:{startEndNodes:{shape:"dot",size:1,color:{background:l,border:l,inherit:!1},fixed:{x:!0,y:!0}},notStarted:this.getNodeStatusOptions("notStarted"),inProgress:this.getNodeStatusOptions("inProgress"),finished:this.getNodeStatusOptions("finished"),userErrored:this.getNodeStatusOptions("userErrored"),pipelineErrored:this.getNodeStatusOptions("pipelineErrored")},edges:{chosen:!1,arrows:{to:{enabled:!0,type:"arrow",scaleFactor:.5}},smooth:{type:"cubicBezier",roundness:.8},color:{color:n,inherit:!1},selectionWidth:0,hoverWidth:0},physics:{enabled:!1},interaction:{zoomView:!1,dragView:!1,dragNodes:!1,hover:!1,selectConnectedEdges:!1},onClick:function onClick(a){return t.handleStageClick(e,a)}};r[e]||this.toggleStage(e);var c=new _.default(o,i,s,d);this.graphs.push(c),c.minimizeSizeGivenScale(1)}},{key:"renderStageContainer",value:function renderStageContainer(e,t){var a=this,l=this.state.graphData.stages,n=this.state,r=n.stagesOpened,o=n.hovered,s=t<l.length,i=s&&r[t],d=s?l[t].jobStatus:"notStarted",c=g.default.createElement("span",{className:P.default.stageNameAndIcon},g.default.createElement(I.default,{type:d}),g.default.createElement("span",{className:P.default.stageName},e)),u=g.default.createElement("div",{className:i?P.default.openedStage:P.default.hidden},g.default.createElement("div",{className:P.default.graphLabel},c,g.default.createElement(M.default,{onClick:(0,T.withAnalytics)(function(){return a.toggleStage(t)},"PipelineViz_stage-collapse-button_clicked",{stage:this.stageNames[t]}),className:P.default.closeIcon})),g.default.createElement("div",{className:(0,v.default)(P.default.graph,o&&P.default.hovered),onMouseMove:function onMouseMove(e){return a.handleMouseMove(t,e)},ref:function ref(e){a.graphContainers[t]=e}}));return g.default.createElement("div",{className:P.default.stage},g.default.createElement("div",{className:(0,v.default)(i&&s?P.default.hidden:P.default.stageButton,P.default[d],!s&&P.default.disabled),onClick:(0,T.withAnalytics)(function(){return a.toggleStage(t)},"PipelineViz_stage-expand-button_clicked",{stage:this.stageNames[t]})},c),u)}},{key:"renderStageArrow",value:function renderStageArrow(e){var t;switch(e){case"from":t=P.default.fromColoring;break;case"to":t=P.default.toColoring;break;default:t=""}return g.default.createElement("div",{className:P.default.stageArrow},g.default.createElement("div",{className:(0,v.default)(P.default.stageArrowBody,t)}),g.default.createElement(k.default,{className:(0,v.default)(P.default.stageArrowHead,t)}))}},{key:"render",value:function render(){var e=this,t=this.props,a=t.zoomMin,l=t.zoomMax,n=t.zoomSpeed,r=t.pipelineRun,o=t.pipelineVersions,s=t.lastProcessedAt,i=t.sample,d=this.state,c=d.sidebarVisible,u=d.sidebarParams,f=d.interStageArrows,p=this.stageNames.map(function(t,a){return g.default.createElement("div",{key:t,className:P.default.stageAndArrow},a>0&&e.renderStageArrow(f[a-1]),e.renderStageContainer(t,a))});return g.default.createElement("div",{className:P.default.pipelineVizPage},g.default.createElement(D.default,{pipelineRun:r,pipelineVersions:o,lastProcessedAt:s,sample:i}),g.default.createElement("div",{className:P.default.pipelineVizContainer},g.default.createElement(C.PanZoom,{className:P.default.panZoomContainer,minZoom:a,maxZoom:l,zoomSpeed:n,disableScrollZoom:!0,ref:this.panZoomContainer},g.default.createElement("div",{className:P.default.pipelineViz},p)),g.default.createElement(N.default,{onPlusClick:(0,T.withAnalytics)(this.handleZoom(!0),"PipelineViz_zoom-in-control_clicked"),onMinusClick:(0,T.withAnalytics)(this.handleZoom(!1),"PipelineViz_zoom-out-control_clicked"),className:P.default.plusMinusControl})),g.default.createElement(w.default,{visible:c,mode:"pipelineStepDetails",params:u,onClose:(0,T.withAnalytics)(this.closeSidebar,"PipelineViz_sidebar-close-button_clicked")}))}}]),PipelineViz}(g.default.Component),O=x.default.shape({default:x.default.string.isRequired,hovered:x.default.string,textColor:x.default.string,shadowColor:x.default.string});L.propTypes={showExperimental:x.default.bool,graphData:x.default.object,pipelineRun:x.default.PipelineRun,sample:x.default.Sample,pipelineVersions:x.default.arrayOf(x.default.string),lastProcessedAt:x.default.string,backgroundColor:x.default.string,notStartedNodeColor:O,inProgressNodeColor:O,finishedNodeColor:O,erroredNodeColor:O,edgeColor:x.default.string,outputEdgeColor:x.default.string,inputEdgeColor:x.default.string,zoomMin:x.default.number,zoomMax:x.default.number,zoomSpeed:x.default.number,minMouseMoveUpdateDistance:x.default.number,xLayoutInterval:x.default.number,yLayoutInterval:x.default.number,staggerLayoutMultiplier:x.default.number,updateInterval:x.default.number},L.defaultProps={showExperimental:!1,backgroundColor:P.default.offWhite,notStartedNodeColor:{default:P.default.notStartedBg,textColor:P.default.notStartedText,shadowColor:P.default.notStartedShadow},inProgressNodeColor:{default:P.default.inProgressBg,hovered:P.default.inProgressHoverBg},finishedNodeColor:{default:P.default.finishedBg,hovered:P.default.finishedHoverBg},pipelineErroredNodeColor:{default:P.default.pipelineErroredBg,hovered:P.default.pipelineErroredHoverBg},userErroredNodeColor:{default:P.default.userErroredBg,hovered:P.default.userErroredHoverBg},edgeColor:P.default.defaultEdgeColor,inputEdgeColor:P.default.inputEdgeColor,outputEdgeColor:P.default.outputEdgeColor,zoomMin:.5,zoomMax:3,zoomSpeed:3,minMouseMoveUpdateDistance:20,xLayoutInterval:130,yLayoutInterval:84,staggerLayoutMultiplier:1.5,updateInterval:6e4};var R=L;t.default=R},,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGraph=void 0;var l=a(102);t.getGraph=function getGraph(e,t){return(0,l.get)("/samples/".concat(e,"/pipeline_viz").concat(t?"/".concat(t):"",".json"))}},,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSamplesForBasespaceProject=t.getBasespaceProjects=void 0;var l=a(102);t.getBasespaceProjects=function getBasespaceProjects(e){return(0,l.get)("/basespace/projects",{params:{access_token:e}})};t.getSamplesForBasespaceProject=function getSamplesForBasespaceProject(e,t){return(0,l.get)("/basespace/samples_for_project",{params:{access_token:e,basespace_project_id:t}})}},function(e,t,a){e.exports={basespaceSampleImport:"basespaceSampleImport-1dDHE",projectSelectContainer:"projectSelectContainer-12VwR",helpText:"helpText-3bb_4",connectProjectButton:"connectProjectButton-1lGvT",label:"label-3gLLD",loadingMessage:"loadingMessage-eFY-x",notification:"notification-3zij1"}},,,function(e,t,a){e.exports={listContainer:"listContainer-11p1g",warn:"warn-kLe1N",messageContainer:"messageContainer-1lLP0",messageLine:"messageLine-2xNXU",link:"link-3qfxs",loadingBackgroundAnimation:"loadingBackgroundAnimation-3ZjZQ"}},,,,,function(e,t,a){e.exports={uploadProgressModal:"uploadProgressModal-1ejzT",header:"header-9dDY3",uploadIcon:"uploadIcon-1pxi_",title:"title-1K6zp",titleWithIcon:"titleWithIcon-2hcOe",alertIcon:"alertIcon-IaNci",checkmarkIcon:"checkmarkIcon-1E7bM",subtitle:"subtitle-1nWmR",helpLink:"helpLink-2lwUq",instructions:"instructions-39W6P",sampleList:"sampleList-Q8Rof",sample:"sample-1g4PG",sampleHeader:"sampleHeader-iRVGZ",sampleName:"sampleName-123_U",fill:"fill-iK3VD",sampleStatus:"sampleStatus-2mObc",loadingBarBackground:"loadingBarBackground-33bsZ",loadingBar:"loadingBar-qjzlm",failedSamples:"failedSamples-2mn3q",footer:"footer-3eTKS",completeMessage:"completeMessage-ZKV6H"}},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){e.exports={tableContainer:"tableContainer-2OEgw",columnSelector:"columnSelector-1mQFh",plusIcon:"plusIcon-1OBta",header:"header-1CKMJ",sortableHeader:"sortableHeader-FqgUk",label:"label-33v00",sortIcon:"sortIcon-3oTuJ",active:"active-SKOm4",actionsHeader:"actionsHeader-jcQjP",cell:"cell-3_vnr",row:"row-uglDr",clickable:"clickable-1zzEu",grid:"grid-2O1Oa"}},,,function(e,t,a){e.exports={fileName:"fileName-2AqnW"}},,,function(e,t,a){e.exports={sampleUploadTable:"sampleUploadTable-1rjk5",detectedMsg:"detectedMsg-sai1_",count:"count-3SA_V",removeIcon:"removeIcon-M3bfV",removeLink:"removeLink-2FD_J",cell:"cell-35ukI",header:"header-2OjuP"}},,,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(895)).default;t.default=n},,,,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(906)).default;t.default=n},function(e,t,a){e.exports={filterList:"filterList-2kcZJ",filterListElement:"filterListElement-RVIsB",tagList:"tagList-2sxpx",filterTag:"filterTag-2bmSu",loadingBackgroundAnimation:"loadingBackgroundAnimation-31E0b"}},,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCsrfToken=void 0;t.getCsrfToken=function getCsrfToken(){return document.getElementsByName("csrf-token")[0].content}},,,function(e,t,a){e.exports={header:"header-d5LWI",sortedHeader:"sortedHeader-1AhAa",taxonHeader:"taxonHeader-1Fwt_",expandHeader:"expandHeader-3Svk6",expandCell:"expandCell-LMlPE",expandIcon:"expandIcon-3GN3f",ntnrSelectorHeader:"ntnrSelectorHeader-3h6dO",cell:"cell-16Bl-",stack:"stack-2kOIa",stackElement:"stackElement-27CJB",lowlightValue:"lowlightValue-1JwJq",nameCell:"nameCell-3QUPq",taxonContainer:"taxonContainer-hSzQ2",taxonName:"taxonName-3axV8",missingName:"missingName-1zPGf",countInfo:"countInfo-3bc3u",speciesRow:"speciesRow-3NdJ1",genusRow:"genusRow-3_33X",row:"row-3YJbU",highlighted:"highlighted-2Ijts",hoverActions:"hoverActions-EMSpl",annotatedData:"annotatedData-Zy9w-",icon:"icon-2LLK0",data:"data-25llL",loadingBackgroundAnimation:"loadingBackgroundAnimation-3cas3"}},,,function(e,t,a){e.exports={h1:"h1-1MuQZ",h2:"h2-16suC",h3:"h3-1b1t-",h4:"h4-2R_wX",h5:"h5-m_R0e",h6:"h6-1laWb","display-xlarge":"display-xlarge-3F5m8","display-large":"display-large-ebJwf","display-medium":"display-medium-3lWmP","display-small":"display-small-1Ssa4",heading:"heading-1vs0C",subheading:"subheading-1zVlk",small:"small-3DtXC",p:"p-2ydVG","body-text":"body-text-dnCMQ",subdued:"subdued-28Hr5",caption:"caption-7JyNQ","text-left":"text-left-Elsau","text-right":"text-right-MKQET","text-center":"text-center-2jrya","text-justify":"text-justify-2Ozjv","text-nowrap":"text-nowrap-3oxru","text-lowercase":"text-lowercase-1t05O","text-uppercase":"text-uppercase-OiK3c","text-capitalize":"text-capitalize-1To2I","text-muted":"text-muted-14eRl",viewHeader:"viewHeader-2oCDk",pipelineInfo:"pipelineInfo-3kITY",warning:"warning-1eZJk",linkToPipelineViz:"linkToPipelineViz-QfX5W",legacyLink:"legacyLink-VBZum",sampleDetailsLinkContainer:"sampleDetailsLinkContainer-3MGdt",sampleDetailsLink:"sampleDetailsLink-2pqLi",warningIcon:"warningIcon-ZuzwP"}},,,function(e,t,a){e.exports={sampleViewContainer:"sampleViewContainer-27reP",sampleViewHeader:"sampleViewHeader-2DUl4",tabsContainer:"tabsContainer-1not_",reportViewContainer:"reportViewContainer-1OwmA",reportFilters:"reportFilters-1pnmA",reportTable:"reportTable-18SUN",reportHeader:"reportHeader-2rjw2",statsRow:"statsRow-1XY7n",reportInfoMsg:"reportInfoMsg-nf_QP",clearAllFilters:"clearAllFilters-odpCJ",reportViewSelector:"reportViewSelector-1gGM2",tabs:"tabs-3uw8_",divider:"divider-1SxVs",dividerContainer:"dividerContainer-idGv7",sampleMessage:"sampleMessage-rFdJ-",textContainer:"textContainer-qTSgX",reportStatus:"reportStatus-Xtwj8",icon:"icon-5vX4P",text:"text-3EBPi",warning:"warning-jHd_t",error:"error-15G1N",inProgress:"inProgress-3vnje",info:"info-3J6Fl",message:"message-2lQEd",actionLink:"actionLink-2tlj1",rightArrow:"rightArrow-Y693V",bacteriaIcon:"bacteriaIcon-1vQ4b",loadingBackgroundAnimation:"loadingBackgroundAnimation-3BKzq"}},,,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(911)).default;t.default=n},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(26)),r=l(a(27)),o=l(a(7)),s=l(a(8)),i=l(a(10)),d=l(a(9)),c=l(a(3)),u=l(a(11)),f=l(a(2)),p=l(a(0)),m=a(17),h=a(62),g=a(42),v=l(a(229)),y=l(a(126)),b=a(57),C=l(a(1834));function ownKeys(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}var w=function(e){function UserSettingsView(){var e,t;(0,o.default)(this,UserSettingsView);for(var a=arguments.length,l=new Array(a),s=0;s<a;s++)l[s]=arguments[s];return t=(0,i.default)(this,(e=(0,d.default)(UserSettingsView)).call.apply(e,[this].concat(l))),(0,f.default)((0,c.default)(t),"state",{userPreferenceMetadata:null,isLoading:!0,modifiedUserSettings:{},error:""}),(0,f.default)((0,c.default)(t),"getUserPreferenceValues",function(){return function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(a,!0).forEach(function(t){(0,f.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},(t.context||{}).userSettings,{},t.state.modifiedUserSettings)}),(0,f.default)((0,c.default)(t),"handleUserPreferenceUpdate",function(){var e=(0,r.default)(n.default.mark(function _callee(e,a){return n.default.wrap(function _callee$(l){for(;;)switch(l.prev=l.next){case 0:return t.setState({modifiedUserSettings:(0,m.set)(e,a,t.state.modifiedUserSettings)}),l.prev=1,l.next=4,(0,g.updateUserSetting)(e,a);case 4:l.next=10;break;case 6:l.prev=6,l.t0=l.catch(1),console.error(l.t0.error),t.setState({error:"We were unable to save your settings"});case 10:case"end":return l.stop()}},_callee,null,[[1,6]])}));return function(t,a){return e.apply(this,arguments)}}()),(0,f.default)((0,c.default)(t),"renderUserPreferenceField",function(e){var a=t.getUserPreferenceValues()[e.key];return"boolean"===e.data_type?p.default.createElement("div",{className:C.default.field},p.default.createElement(y.default,{className:C.default.preference,label:e.description,onChange:function onChange(a,l){return t.handleUserPreferenceUpdate(e.key,l)},checked:a})):null}),(0,f.default)((0,c.default)(t),"renderCategory",function(e){return p.default.createElement("div",{className:C.default.category},p.default.createElement("div",{className:C.default.title},e.name),p.default.createElement("div",{className:C.default.fields},e.settings.map(t.renderUserPreferenceField)))}),(0,f.default)((0,c.default)(t),"renderCategories",function(){var e=t.state,a=e.error,l=e.userPreferenceMetadata;return l&&0===l.length?p.default.createElement("div",{className:C.default.noResultsMessage},"No user settings found"):p.default.createElement("div",null,a&&p.default.createElement("div",{className:C.default.error},a),l&&l.map(function(e){return t.renderCategory(e)}))}),(0,f.default)((0,c.default)(t),"renderLoading",function(){return p.default.createElement(v.default,{message:"Loading Settings..."})}),t}return(0,u.default)(UserSettingsView,e),(0,s.default)(UserSettingsView,[{key:"componentDidMount",value:function(){var e=(0,r.default)(n.default.mark(function _callee2(){var e;return n.default.wrap(function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,g.getUserSettingMetadataByCategory)();case 3:e=t.sent,this.setState({isLoading:!1,userPreferenceMetadata:e}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0.error),this.setState({isLoading:!1,error:"Could not fetch user settings. Please try again later."});case 11:case"end":return t.stop()}},_callee2,this,[[0,7]])}));return function componentDidMount(){return e.apply(this,arguments)}}()},{key:"render",value:function render(){var e=this.state.isLoading;return p.default.createElement("div",null,p.default.createElement(h.NarrowContainer,null,p.default.createElement(h.ViewHeader,{className:C.default.viewHeader},p.default.createElement(h.ViewHeader.Content,null,p.default.createElement(h.ViewHeader.Title,{label:"User Settings"}))),e?this.renderLoading():this.renderCategories()))}}]),UserSettingsView}(p.default.Component);t.default=w,w.contextType=b.UserContext},function(e,t,a){e.exports={viewHeader:"viewHeader-23Es0",error:"error-3ve-W",noResultsMessage:"noResultsMessage-1h2Dh",category:"category-3fl03",title:"title-2AXMT",field:"field-36j3y",preference:"preference-EVGYe",loadingBackgroundAnimation:"loadingBackgroundAnimation-2qclO"}},,,,,,,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(26)),r=l(a(32)),o=l(a(27)),s=l(a(7)),i=l(a(8)),d=l(a(10)),c=l(a(9)),u=l(a(3)),f=l(a(11)),p=l(a(2)),m=l(a(0)),h=l(a(1)),g=a(1842),v=l(a(914)),y=l(a(918)),b=l(a(146)),C=l(a(385)),w=a(439),E=a(89),S=a(302),_=l(a(81)),k=a(20),N=a(62),x=a(84),M=a(395),T=l(a(917));function ownKeys(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(a,!0).forEach(function(t){(0,p.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var P=[{text:"Coverage",value:"coverage"},{text:"Depth",value:"depth"},{text:"RPM (reads per million)",value:"rpm"},{text:"DPM (depth per million)",value:"dpm"},{text:"Mapped Reads",value:"total_reads"}],D=[{text:"Genes",value:"gene"},{text:"Alleles",value:"allele"}],I=[{text:"Logarithmic",value:"symlog"},{text:"Linear",value:"linear"}],j="sampleDetails",L="geneDetails",O=function(e){function AMRHeatmapView(e){var t;return(0,s.default)(this,AMRHeatmapView),t=(0,d.default)(this,(0,c.default)(AMRHeatmapView).call(this,e)),(0,p.default)((0,u.default)(t),"updateOptions",function(e){var a=t.state.selectedOptions,l=Object.assign({},a,e);t.setState({selectedOptions:l}),(0,k.logAnalyticsEvent)("AMRHeatmapView_options_changed",{control:Object.keys(e)[0],option:Object.values(e)[0]})}),(0,p.default)((0,u.default)(t),"onSampleLabelClick",function(e){var a=t.state,l=a.sidebarVisible,n=a.sidebarMode,r=a.selectedSampleId;e?l&&n===j&&r===e?t.closeSidebar():(t.setState({selectedSampleId:e,sidebarMode:j,sidebarVisible:!0}),(0,k.logAnalyticsEvent)("AMRHeatmapView_sample-details-sidebar_opened",{sampleId:e,sidebarMode:"sampleDetails"})):t.closeSidebar()}),(0,p.default)((0,u.default)(t),"onGeneLabelClick",function(e){var a=t.state,l=a.sidebarVisible,n=a.sidebarMode,r=a.selectedGene;!e||l&&n===L&&r===e?t.closeSidebar():(t.setState({selectedGene:e,sidebarMode:L,sidebarVisible:!0}),(0,k.logAnalyticsEvent)("AMRHeatmapView_gene-details-sidebar_opened",{selectedGene:e,sidebarMode:"geneDetails"}))}),(0,p.default)((0,u.default)(t),"closeSidebar",function(){t.setState({sidebarVisible:!1})}),(0,p.default)((0,u.default)(t),"onMetadataUpdate",function(e,a){var l=t.state,n=l.selectedSampleId,r=l.samplesWithAMRCounts.map(function(t){return t.sampleId!==n?t:(t.metadata[e]=a,t)}),o=t.extractSampleLabels(r);t.setState({samplesWithAMRCounts:r,sampleLabels:o})}),t.state={loading:!0,maxValues:null,rawSampleData:null,samplesWithAMRCounts:null,samplesMetadataTypes:null,selectedOptions:{metric:"coverage",viewLevel:"gene",scale:"symlog"},selectedSampleId:null,selectedGene:null,sidebarVisible:!1,sidebarMode:null},t}return(0,f.default)(AMRHeatmapView,e),(0,i.default)(AMRHeatmapView,[{key:"componentDidMount",value:function componentDidMount(){var e=this.props.sampleIds;this.requestSampleData(e)}},{key:"requestSampleData",value:function(){var e=(0,o.default)(n.default.mark(function _callee(e){var t,a,l,o,s,i,d,c,u,f,p,m,h,g,v;return n.default.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all([(0,w.getAMRCounts)(e),(0,E.getSampleMetadataFields)(e)]);case 2:t=n.sent,a=(0,r.default)(t,2),l=a[0],o=a[1],s=l.filter(function(e){return""===e.error}),i=s.map(function(e){return _objectSpread({},e,{metadata:(0,S.processMetadata)(e.metadata,!0)})}),d=this.correctGeneNames(i),c=this.findMaxValues(d),u=(0,S.processMetadataTypes)(o),f=this.extractSampleLabels(d),p=this.extractGeneAndAlleleLabels(d),m=(0,r.default)(p,2),h=m[0],g=m[1],v=this.mapAllelesToGenes(d),this.setState({rawSampleData:l,samplesWithAMRCounts:d,maxValues:c,samplesMetadataTypes:u,sampleLabels:f,geneLabels:h,alleleLabels:g,alleleToGeneMap:v,loading:!1});case 15:case"end":return n.stop()}},_callee,this)}));return function requestSampleData(t){return e.apply(this,arguments)}}()},{key:"correctGeneNames",value:function correctGeneNames(e){return e.forEach(function(e){e.amrCounts.forEach(function(e){var t=/[^_]+/.exec(e.gene)[0];e.gene=t})}),e}},{key:"assembleControlOptions",value:function assembleControlOptions(){return[{key:"viewLevel",options:D,label:"View Level"},{key:"metric",options:P,label:"Metric"},{key:"scale",options:I,label:"Scale"}]}},{key:"findMaxValues",value:function findMaxValues(e){return e.reduce(function(e,t){return t.amrCounts.forEach(function(t){e.depth=Math.max(e.depth,t.depth),e.coverage=Math.max(e.coverage,t.coverage),e.rpm=Math.max(e.rpm,t.rpm||0),e.dpm=Math.max(e.dpm,t.dpm||0),e.total_reads=Math.max(e.total_reads,t.total_reads||0)}),e},{depth:0,coverage:0,rpm:0,dpm:0,total_reads:0})}},{key:"hasDataToDisplay",value:function hasDataToDisplay(e){return e.some(function(e){return e.amrCounts.length>0})}},{key:"mapAllelesToGenes",value:function mapAllelesToGenes(e){var t={};return e.forEach(function(e){e.amrCounts.forEach(function(e){t[e.allele]=e.annotation_gene||e.gene})}),t}},{key:"extractSampleLabels",value:function extractSampleLabels(e){return e.map(function(e){return{label:e.sampleName,id:e.sampleId,metadata:e.metadata}})}},{key:"extractGeneAndAlleleLabels",value:function extractGeneAndAlleleLabels(e){var t={},a={};return e.forEach(function(e){e.amrCounts.forEach(function(e){null==e.annotation_gene||void 0==e.annotation_gene?t[e.gene]=!0:t[e.annotation_gene]=!0,a[e.allele]=!0})}),[Object.keys(t).map(function(e){return{label:e}}),Object.keys(a).map(function(e){return{label:e}})]}},{key:"computeHeatmapValuesForCSV",value:function computeHeatmapValuesForCSV(){var e=[];this.state.samplesWithAMRCounts.forEach(function(t){t.amrCounts.forEach(function(a){var l=["".concat(t.sampleName,",").concat(a.gene,",").concat(a.allele,",").concat(a.coverage,",").concat(a.depth,",").concat(a.rpm||"N/A",",").concat(a.dpm||"N/A",",").concat(a.total_reads||"N/A")];e.push(l)})});return[["sample_name,gene_name,allele_name,coverage,depth,rpm,dpm,mapped_reads"],e]}},{key:"getSidebarParams",value:function getSidebarParams(){var e=this.state,t=e.sidebarMode,a=e.selectedSampleId,l=e.selectedGene;switch(t){case j:return{sampleId:a,showReportLink:!0,onMetadataUpdate:this.onMetadataUpdate};case L:return{geneName:l};default:return}}},{key:"getDownloadCSVLink",value:function getDownloadCSVLink(){var e=this.computeHeatmapValuesForCSV(),t=(0,r.default)(e,2),a=t[0],l=t[1];return m.default.createElement("a",{href:(0,M.createCSVObjectURL)(a,l),download:"idseq_amr_heatmap_values.csv",target:"_blank",rel:"noopener noreferrer",key:"Download_CSV_link",onClick:function onClick(){return(0,k.logAnalyticsEvent)("AMRHeatmapView_download-csv-table_clicked")}},"Download CSV")}},{key:"getDownloadOptions",value:function getDownloadOptions(){return[{text:this.getDownloadCSVLink(),value:"csv"}]}},{key:"renderHeader",value:function renderHeader(){var e=this.state.loading;return m.default.createElement(N.ViewHeader,{className:T.default.viewHeader},m.default.createElement(N.ViewHeader.Content,null,m.default.createElement(N.ViewHeader.Pretitle,{breadcrumbLink:"/home"},"Discovery View"),m.default.createElement(N.ViewHeader.Title,{label:"Antimicrobial Resistance Heatmap"})),!e&&m.default.createElement(N.ViewHeader.Controls,{className:T.default.controls},m.default.createElement(x.DownloadButtonDropdown,{className:T.default.controlElement,options:this.getDownloadOptions(),onClick:function onClick(){return(0,k.logAnalyticsEvent)("AMRHeatmapView_download-button-dropdown_clicked")},disabled:e})))}},{key:"renderControls",value:function renderControls(){var e=this.state,t=e.selectedOptions,a=e.loading,l=e.maxValues,n=l?l[t.metric]:0;return m.default.createElement(v.default,{controls:this.assembleControlOptions(),selectedOptions:t,onSelectedOptionsChange:this.updateOptions,isDataReady:!a,maxValueForLegend:n})}},{key:"renderVisualization",value:function renderVisualization(){var e=this.state,t=e.loading,a=e.samplesWithAMRCounts,l=e.selectedOptions,n=e.samplesMetadataTypes,r=e.sampleLabels,o=e.geneLabels,s=e.alleleLabels,i=e.alleleToGeneMap;return t?m.default.createElement("p",{className:T.default.loadingIndicator},m.default.createElement(_.default,{className:T.default.loadingIndicator}),"Loading..."):this.hasDataToDisplay(a)?m.default.createElement("div",{className:"row visualization-content"},m.default.createElement(C.default,null,m.default.createElement(y.default,{samplesWithAMRCounts:a,selectedOptions:l,onSampleLabelClick:this.onSampleLabelClick,onGeneLabelClick:this.onGeneLabelClick,samplesMetadataTypes:n,sampleLabels:r,geneLabels:o,alleleLabels:s,alleleToGeneMap:i,metrics:P}))):m.default.createElement("p",{className:T.default.noDataMsg},"No Antimicrobial Resistance data for selected samples.")}},{key:"renderSidebar",value:function renderSidebar(){var e=this.state,t=e.sidebarMode,a=e.sidebarVisible;return m.default.createElement(b.default,{visible:a,mode:t,onClose:this.closeSidebar,params:this.getSidebarParams()})}},{key:"render",value:function render(){var e=this;return m.default.createElement("div",{className:T.default.AMRHeatmapView},m.default.createElement(N.NarrowContainer,null,this.renderHeader()),m.default.createElement(g.StickyContainer,null,m.default.createElement(g.Sticky,null,function(t){var a=t.style;return m.default.createElement("div",{style:a},m.default.createElement(N.NarrowContainer,null,e.renderControls()))}),this.renderVisualization()),this.renderSidebar())}}]),AMRHeatmapView}(m.default.Component);t.default=O,y.default.propTypes={sampleIds:h.default.array}},,,,,,,,function(e,t,a){e.exports={primaryLight:"#3867fa",heatmap:"heatmap-26m55",cells:"cells-3h9A2",cell:"cell-pfs_W",panning:"panning-zJKP3",shaded:"shaded-3u5Sh",rowLabels:"rowLabels-3m3-F",rowLabel:"rowLabel-1RnMc",columnLabel:"columnLabel-gqnUM",columnLabels:"columnLabels-2InMk",removeIcon:"removeIcon-1F41u",highlighted:"highlighted-3n1gL",genusBorder:"genusBorder-6vajI",hideGenusBorder:"hideGenusBorder-s504M",rowLabelHover:"rowLabelHover-3L9N1",rowClustering:"rowClustering-1VDCH",hoverTarget:"hoverTarget-1sZ8o",dendogram:"dendogram-3ShmP",link:"link-2oKXy",linkPath:"linkPath-1ncpl",columnMetadata:"columnMetadata-2gjGZ",columnMetadataLabel:"columnMetadataLabel-3zrkD",columnMetadataAdd:"columnMetadataAdd-1vtU4",metadataAddTrigger:"metadataAddTrigger-1mRVT",metadataAddLine:"metadataAddLine-K5dWy",metadataAddIcon:"metadataAddIcon-3iVrw",metadataAddLabel:"metadataAddLabel-2NfWC",captionContainer:"captionContainer-2FYqq",caption:"caption-2atuj",printMode:"printMode-2Hvn2"}},,,function(e,t,a){e.exports={AMRHeatmapVis:"AMRHeatmapVis-1T6HN",AMRHeatmapContainer:"AMRHeatmapContainer-2Ba5C",tooltip:"tooltip-2FgpF",visible:"visible-2CPtE"}},,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(0)),c=a(17),u=l(a(144)),f=l(a(297)),p=l(a(24)),m=l(a(1855)),h=function(e){function Auth0Error(){return(0,n.default)(this,Auth0Error),(0,o.default)(this,(0,s.default)(Auth0Error).apply(this,arguments))}return(0,i.default)(Auth0Error,e),(0,r.default)(Auth0Error,[{key:"render",value:function render(){var e=this.props.message;return d.default.createElement("div",{className:m.default.auth0Error},d.default.createElement(f.default,{message:(0,c.upperFirst)(e),textWidth:300,tagline:d.default.createElement("a",{className:m.default.helpLink,href:"mailto:help@idseq.net"},"Contact us for help"),icon:d.default.createElement(u.default,{className:m.default.bacteriaIcon})}))}}]),Auth0Error}(d.default.Component);h.propTypes={message:p.default.string};var g=h;t.default=g},function(e,t,a){e.exports={auth0Error:"auth0Error-2JrK7",bacteriaIcon:"bacteriaIcon-2RxbF",helpLink:"helpLink-f5zHO",loadingBackgroundAnimation:"loadingBackgroundAnimation-3M_4o"}},,,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(26)),r=l(a(27)),o=l(a(7)),s=l(a(8)),i=l(a(10)),d=l(a(9)),c=l(a(3)),u=l(a(11)),f=l(a(2)),p=l(a(0)),m=l(a(4)),h=a(190),g=a(17),v=a(20),y=l(a(494)),b=l(a(229)),C=a(427),w=a(62),E=l(a(162)),S=l(a(297)),_=a(326),k=a(61),N=a(57),x=l(a(73)),M=l(a(146)),T=l(a(921)),P=l(a(1862));function ownKeys(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}var D=15,I=2e4,j={waiting:"default",running:"default",success:"success",error:"error"},L={waiting:"in progress",running:"in progress",success:"complete",error:"failed"},O=function getStatusType(e){return"success"===e.status&&e.error_message?"warning":j[e.status]},R=function getStatusDisplay(e){return"success"===e.status&&e.error_message?"complete with issue":L[e.status]},A=function getTooltipText(e){return"success"===e.status&&e.error_message?e.error_message:null},F=function(e){function BulkDownloadList(){var e,t;(0,o.default)(this,BulkDownloadList);for(var a=arguments.length,l=new Array(a),s=0;s<a;s++)l[s]=arguments[s];return t=(0,i.default)(this,(e=(0,d.default)(BulkDownloadList)).call.apply(e,[this].concat(l))),(0,f.default)((0,c.default)(t),"state",{bulkDownloads:null,modalOpen:!1,selectedBulkDownload:null,autoUpdateCount:0}),(0,f.default)((0,c.default)(t),"initiateAutoUpdate",function(){t.setState({autoUpdateCount:0}),t.autoUpdateBulkDownloads()}),(0,f.default)((0,c.default)(t),"autoUpdateBulkDownloads",(0,r.default)(n.default.mark(function _callee(){var e,a;return n.default.wrap(function _callee$(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,C.getBulkDownloads)();case 2:e=l.sent,a=t.state.autoUpdateCount+1,t.setState({bulkDownloads:t.processBulkDownloads(e),autoUpdateCount:a}),a<D&&t.hasInProgressBulkDownloads()&&setTimeout(t.autoUpdateBulkDownloads,I);case 6:case"end":return l.stop()}},_callee)}))),(0,f.default)((0,c.default)(t),"getTableColumns",function(){var e=(t.context||{}).admin;return[{dataKey:"download_name",label:"Download",width:500,flexGrow:1,headerClassName:P.default.downloadNameHeader,cellRenderer:function cellRenderer(t){return T.default.renderDownload(t,e)}},{dataKey:"created_at",label:"Date",width:200,cellRenderer:E.default.renderDateWithElapsed},{dataKey:"num_samples",label:"Samples",width:100,cellRenderer:T.default.renderNumberOfSamples},{dataKey:"file_size",label:"File Size",width:200,className:P.default.lightCell},{dataKey:"status",label:"",width:120,cellRenderer:T.default.renderStatus,disableSort:!0}]}),(0,f.default)((0,c.default)(t),"hasInProgressBulkDownloads",function(){return(0,g.some)(["status","running"],t.state.bulkDownloads)}),(0,f.default)((0,c.default)(t),"processBulkDownloads",function(e){return e.map(function(e){return function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(a,!0).forEach(function(t){(0,f.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e,{onStatusClick:function onStatusClick(){(0,v.logAnalyticsEvent)("BulkDownloadList_details-link_clicked",{bulkDownloadId:e.id}),t.handleStatusClick(e)},onDownloadFileClick:function onDownloadFileClick(){(0,v.logAnalyticsEvent)("BulkDownloadList_direct-download-link_clicked",{bulkDownloadId:e.id}),t.handleDownloadFileClick(e)},statusType:O(e),statusDisplay:R(e),tooltipText:A(e)})})}),(0,f.default)((0,c.default)(t),"isLoading",function(){return null===t.state.bulkDownloads}),(0,f.default)((0,c.default)(t),"isEmpty",function(){return t.state.bulkDownloads&&0===t.state.bulkDownloads.length}),(0,f.default)((0,c.default)(t),"handleStatusClick",function(e){t.setState({selectedBulkDownload:e,sidebarOpen:!0})}),(0,f.default)((0,c.default)(t),"handleDownloadFileClick",function(){var e=(0,r.default)(n.default.mark(function _callee2(e){var t;return n.default.wrap(function _callee2$(a){for(;;)switch(a.prev=a.next){case 0:if("success"!==e.status){a.next=5;break}return a.next=3,(0,C.getPresignedOutputUrl)(e.id);case 3:t=a.sent,(0,k.openUrl)(t);case 5:case"end":return a.stop()}},_callee2)}));return function(t){return e.apply(this,arguments)}}()),(0,f.default)((0,c.default)(t),"handleSidebarClose",function(){t.setState({sidebarOpen:!1})}),(0,f.default)((0,c.default)(t),"getSidebarParams",function(){return{bulkDownload:t.state.selectedBulkDownload}}),t}return(0,u.default)(BulkDownloadList,e),(0,s.default)(BulkDownloadList,[{key:"componentDidMount",value:function componentDidMount(){this.autoUpdateBulkDownloads()}},{key:"renderBody",value:function renderBody(){var e=this.state.autoUpdateCount;return this.isLoading()?p.default.createElement(b.default,{className:P.default.loadingMessage,message:"Loading Downloads"}):this.isEmpty()?p.default.createElement("div",{className:P.default.blankScreenContainer},p.default.createElement(S.default,{message:"You don't have any bulk downloads yet",tagline:"You can select samples from your data and request a download.",icon:p.default.createElement(y.default,{className:P.default.largeDownloadIcon}),textWidth:260})):p.default.createElement(w.NarrowContainer,{className:P.default.tableContainer},e>=D&&this.hasInProgressBulkDownloads()&&p.default.createElement(x.default,{type:"warn",displayStyle:"flat",className:P.default.autoUpdateWarning},"This page is no longer auto-updating."," ",p.default.createElement("span",{onClick:this.initiateAutoUpdate,className:P.default.link},"Click here to see additional updates.")),p.default.createElement(_.Table,{rowClassName:P.default.tableRow,headerClassName:P.default.tableHeader,className:P.default.table,columns:this.getTableColumns(),data:this.state.bulkDownloads,defaultRowHeight:70,sortable:!0,defaultSortBy:"created_at",defaultSortDirection:h.SortDirection.DESC}))}},{key:"render",value:function render(){var e=this.state,t=e.selectedBulkDownload,a=e.sidebarOpen;return p.default.createElement("div",{className:(0,m.default)(P.default.bulkDownloadList,this.isEmpty()&&P.default.empty,this.isLoading()&&P.default.loading)},p.default.createElement(w.NarrowContainer,null,p.default.createElement(w.ViewHeader,{className:P.default.viewHeader},p.default.createElement(w.ViewHeader.Content,null,p.default.createElement(w.ViewHeader.Pretitle,{breadcrumbLink:"/home"},"Back"),p.default.createElement(w.ViewHeader.Title,{label:"Downloads"})))),p.default.createElement(w.Divider,null),this.renderBody(),p.default.createElement(M.default,{visible:a,mode:"bulkDownloadDetails",onClose:(0,v.withAnalytics)(this.handleSidebarClose,"BulkDownloadList_details-sidebar_closed",{bulkDownloadId:t&&t.id}),params:this.getSidebarParams()}))}}]),BulkDownloadList}(p.default.Component);F.contextType=N.UserContext;var V=F;t.default=V},function(e,t,a){e.exports={downloadCell:"downloadCell-PpkBK",downloadIcon:"downloadIcon-PuUku",downloadRightPane:"downloadRightPane-3Xjqg",downloadNameContainer:"downloadNameContainer-KBMv9",downloadName:"downloadName-1chcH",downloadStatus:"downloadStatus-3CB4R",metadata:"metadata-_KNCS",detailsLink:"detailsLink-1sBDP",userName:"userName-20xiG",samplesCell:"samplesCell-GuQ2E",statusCell:"statusCell-3mIZH",messageContainer:"messageContainer-vxsLd",links:"links-3yNma",icon:"icon-3ULkG",warning:"warning-1YtUx",error:"error-1PPrs",loading:"loading-yIE6p",separator:"separator-3U9sf",link:"link-19vJx",loadingBackgroundAnimation:"loadingBackgroundAnimation-2dJ2J"}},,,function(e,t,a){e.exports={bulkDownloadList:"bulkDownloadList-250eY",blankScreenContainer:"blankScreenContainer-37MVf",tableContainer:"tableContainer-3QUV9",largeDownloadIcon:"largeDownloadIcon-2Woz5",loadingMessage:"loadingMessage-2CViI",lightCell:"lightCell-MZdk9",autoUpdateWarning:"autoUpdateWarning-ZvH_4",link:"link-2FHa6",viewHeader:"viewHeader-3-xUo",downloadNameHeader:"downloadNameHeader-1VAec",tableRow:"tableRow-skCsA",loadingBackgroundAnimation:"loadingBackgroundAnimation-2pjvR"}},,,function(e,t,a){e.exports={taxaWithHitsDropdown:"taxaWithHitsDropdown-3i0tt",optionsHeader:"optionsHeader-1FRFt",header:"header-3WODn",fill:"fill-tclH9",option:"option-s2H1m",taxonName:"taxonName-S-7Hl",sampleCount:"sampleCount-23Qt5",loadingBackgroundAnimation:"loadingBackgroundAnimation-3nwky"}},,,function(e,t,a){e.exports={downloadTypeContainer:"downloadTypeContainer-3S0Hv",category:"category-1AQ4U",title:"title-Z15GY",taxaWithReadsDropdown:"taxaWithReadsDropdown-6jZ7O",taxaWithReadsOptionsHeader:"taxaWithReadsOptionsHeader-1YPoe",header:"header-1LAvU",fill:"fill-2VKQG",taxaWithReadsOption:"taxaWithReadsOption-3dYwQ",taxonName:"taxonName-3SNIU",sampleCount:"sampleCount-3YHT8",downloadType:"downloadType-VJPD4",selected:"selected-3wTo1",disabled:"disabled-1WSsA",name:"name-3MhBQ",description:"description-3pEUO",fileType:"fileType-2NePp",radioButton:"radioButton-3gbFk",content:"content-3LUcF",fields:"fields-2aEyO",field:"field-3GWPI",label:"label-UUOcT",forcedOption:"forcedOption-3ZEht",info:"info-1r0oI",loadingBackgroundAnimation:"loadingBackgroundAnimation-326Ws"}},,,function(e,t,a){e.exports={footer:"footer-2uMzW",downloadDisclaimer:"downloadDisclaimer-2mRgB",highlight:"highlight-13stm",listContainer:"listContainer-1XOlL",notificationContainer:"notificationContainer-2mEYj",errorMessage:"errorMessage-1kqER",messageLine:"messageLine-1wX9r",notifications:"notifications-FQYYy",loadingBackgroundAnimation:"loadingBackgroundAnimation-2YdVp"}},,,function(e,t,a){e.exports={modal:"modal-1XQyh",header:"header-rrgXn",title:"title-2SanK",tagline:"tagline-BoMEn",options:"options-3ZgtR",footer:"footer-2lVij",loadingBackgroundAnimation:"loadingBackgroundAnimation-3Uv_T"}},,,function(e,t,a){e.exports={label:"label-2N764",message:"message-3U5YW",loadingBackgroundAnimation:"loadingBackgroundAnimation-I-ehF"}},,,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(32)),r=l(a(7)),o=l(a(8)),s=l(a(10)),i=l(a(9)),d=l(a(3)),c=l(a(11)),u=l(a(2)),f=l(a(0)),p=l(a(24)),m=a(17),h=l(a(4)),g=l(a(1881)),v=function(e){function BulkDownloadSummary(){var e,t;(0,r.default)(this,BulkDownloadSummary);for(var a=arguments.length,l=new Array(a),n=0;n<a;n++)l[n]=arguments[n];return t=(0,s.default)(this,(e=(0,i.default)(BulkDownloadSummary)).call.apply(e,[this].concat(l))),(0,u.default)((0,d.default)(t),"renderDownloadParam",function(e,a){var l=t.props.downloadType,n=(0,m.get)("display_name",(0,m.find)(["type",e],l.fields))||"";return f.default.createElement("div",{className:g.default.param,key:e},f.default.createElement("div",{className:g.default.name},n),f.default.createElement("div",{className:g.default.value},a.displayName))}),t}return(0,c.default)(BulkDownloadSummary,e),(0,o.default)(BulkDownloadSummary,[{key:"render",value:function render(){var e=this,t=this.props,a=t.className,l=t.downloadSummary,r=t.downloadType;return f.default.createElement("div",{className:(0,h.default)(g.default.bulkDownloadSummary,a)},f.default.createElement("div",{className:g.default.title},f.default.createElement("div",{className:g.default.name},r.display_name),f.default.createElement("div",{className:g.default.numSamples},"for ",l.numSamples," sample",1===l.numSamples?"":"s")),l.params&&f.default.createElement("div",{className:g.default.params},Object.entries(l.params).map(function(t){var a=(0,n.default)(t,2),l=a[0],r=a[1];return e.renderDownloadParam(l,r)})))}}]),BulkDownloadSummary}(f.default.Component);v.propTypes={className:p.default.string,downloadSummary:p.default.shape({params:p.default.objectOf(p.default.DownloadTypeParam),numSamples:p.default.number}).isRequired,downloadType:p.default.DownloadType.isRequired};var y=v;t.default=y},function(e,t,a){e.exports={bulkDownloadSummary:"bulkDownloadSummary-2neoD",title:"title-1upYU",name:"name-x9D5r",numSamples:"numSamples-ScrPR",params:"params-3id_m",param:"param-2oSND",value:"value-17ypC",loadingBackgroundAnimation:"loadingBackgroundAnimation-2ata-"}},,,,,function(e,t,a){e.exports={samplesHeatmapVis:"samplesHeatmapVis-26FYv",plusMinusControl:"plusMinusControl-1ixmI",heatmapContainer:"heatmapContainer-2c5Jn",filtersApplied:"filtersApplied-1fsBW",fullScreen:"fullScreen-3Tcic",tooltip:"tooltip-5vtrz",visible:"visible-1k7pl","data-tooltip__label":"data-tooltip__label-2rziN",warning:"warning-1g2hU",warningIcon:"warningIcon-x50hG",warningText:"warningText-2N-vD",bannerContainer:"bannerContainer-Hn3BQ",show:"show-34WHf",hide:"hide-2zR0N",bannerText:"bannerText-2L3RA",removeIcon:"removeIcon-1lTd8",loadingBackgroundAnimation:"loadingBackgroundAnimation-14CL6"}},,,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(929)).default;t.default=n},function(e,t,a){e.exports={loading:"loading-O5mGA",cellContent:"cellContent-2jBHF",loadingBackgroundAnimation:"loadingBackgroundAnimation-3RPCu"}},,function(e,t,a){e.exports={tableDataRow:"tableDataRow-SuyME"}},,,function(e,t,a){e.exports={filtersContainer:"filtersContainer-siHqr",filterContainer:"filterContainer-2FiQX",tags:"tags-18Ff3",filterTag:"filterTag-3V0w3"}},,,function(e,t,a){e.exports={header:"header-3Umll",icon:"icon-OfGlN",closed:"closed-2pZcR",filtersTrigger:"filtersTrigger-2ZKJD",filtersCounter:"filtersCounter-3h5MY",blankFill:"blankFill-OMl1f",statsTrigger:"statsTrigger-3JRfy",tabs:"tabs-1nypl",searchContainer:"searchContainer-18JHI"}},,function(e,t,a){e.exports={sidebar:"sidebar-2q7Qz",noData:"noData-204ma",metadataSection:"metadataSection-qdJQB",metadataContainer:"metadataContainer-1bbSR",hasBackground:"hasBackground-2DTXv",statsRow:"statsRow-3xc9v",title:"title-JNudy",rowLabel:"rowLabel-3_lq2",histogramContainer:"histogramContainer-1TF-g",dateHistogram:"dateHistogram-2Eix-",bar:"bar-3UrET",histogramLabels:"histogramLabels-2oVo2",label:"label-zMCsY",evenly:"evenly-1FSKI",descriptionContainer:"descriptionContainer-RsDSF",dataList:"dataList-2HQZZ",barChartRow:"barChartRow-vOAiT",statsDt:"statsDt-1b-F6",statsDd:"statsDd-24NuT",barLabel:"barLabel-1JhFz",showHide:"showHide-113OL",count:"count-Liula",boldText:"boldText-32btR"}},,,function(e,t,a){e.exports={descriptionContainer:"descriptionContainer-1zGjx",truncated:"truncated-1KP4U",textarea:"textarea-ucSIb",showHide:"showHide-UoUHG",charCounter:"charCounter-2lKOw",error:"error-xq7G3",loadingBackgroundAnimation:"loadingBackgroundAnimation-1vs-l"}},,,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(5)),r=l(a(32)),o=l(a(26)),s=l(a(27)),i=l(a(7)),d=l(a(8)),c=l(a(10)),u=l(a(9)),f=l(a(3)),p=l(a(11)),m=l(a(2)),h=l(a(0)),g=l(a(1)),v=l(a(501)),y=l(a(14)),b=a(17),C=a(42),w=a(20),E=a(102),S=a(61),_=l(a(59)),k=a(62),N=a(331),x=a(512),M=a(405),T=l(a(932)),P=l(a(935)),D=l(a(940)),I=l(a(943)),j=l(a(511)),L=l(a(931)),O=a(189),R=l(a(944)),A=a(307),F=l(a(945)),V=l(a(946)),U=l(a(1942));function ownKeys(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(a,!0).forEach(function(t){(0,m.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var z=function(e){function DiscoveryView(e){var t;(0,i.default)(this,DiscoveryView),t=(0,c.default)(this,(0,u.default)(DiscoveryView).call(this,e)),(0,m.default)((0,f.default)(t),"loadState",function(e,t){try{return JSON.parse(e.getItem(t))||{}}catch(e){console.warn("Bad state: ".concat(e))}return{}}),(0,m.default)((0,f.default)(t),"updateBrowsingHistory",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"push",a=t.props.domain,l=["sampleActiveColumns","showFilters","showStats"],n=(0,b.concat)(l,["currentDisplay","mapSidebarTab"]),r=(0,b.concat)(n,["currentTab","filters","projectId","search"]),o=(0,b.concat)(r,["project"]),s=(0,b.pick)(l,t.state),i=(0,b.pick)(n,t.state),d=(0,b.pick)(r,t.state),c=(0,b.pick)(o,t.state),u=t.urlParser.stringify(d);u&&(u="?".concat(u)),"push"===e?history.pushState(c,"DiscoveryView:".concat(a),"/".concat(a).concat(u)):history.replaceState(c,"DiscoveryView:".concat(a),"/".concat(a).concat(u)),sessionStorage.setItem("DiscoveryViewOptions",JSON.stringify(i)),localStorage.setItem("DiscoveryViewOptions",JSON.stringify(s))}),(0,m.default)((0,f.default)(t),"preparedFilters",function(){var e=t.state.filters,a=(0,b.mapKeys)((0,b.replace)("Selected",""),e);if(a.time){var l={"1_week":function _week(){return(0,y.default)().subtract(7,"days")},"1_month":function _month(){return(0,y.default)().subtract(1,"months")},"3_month":function _month(){return(0,y.default)().subtract(3,"months")},"6_month":function _month(){return(0,y.default)().subtract(6,"months")},"1_year":function _year(){return(0,y.default)().subtract(1,"years")}};a.time=[l[a.time]().format("YYYYMMDD"),(0,y.default)().add(1,"days").format("YYYYMMDD")]}return a.taxon&&a.taxon.length&&(a.taxon=(0,b.map)("value",a.taxon)),a}),(0,m.default)((0,f.default)(t),"resetData",function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).callback,a=t.getConditions();t.samples.reset({conditions:a}),t.projects.reset({conditions:a}),t.visualizations.reset({conditions:a}),t.mapPreviewSamples.reset({conditions:a}),t.mapPreviewProjects.reset({conditions:a}),t.setState({filteredProjectDimensions:[],filteredSampleDimensions:[],filteredSampleStats:{},loadingDimensions:!0},function(){t.samplesView&&t.samplesView.reset(),t.projectsView&&t.projectsView.reset(),e&&e()})}),(0,m.default)((0,f.default)(t),"initialLoad",function(){var e=t.state.project;t.refreshDimensions(),t.refreshFilteredStats(),t.refreshFilteredLocations(),(t.getFilterCount()||e)&&t.refreshFilteredDimensions()}),(0,m.default)((0,f.default)(t),"resetDataFromFilterChange",function(){t.resetData({callback:function callback(){t.refreshFilteredDimensions(),t.refreshFilteredStats(),t.refreshFilteredLocations()}})}),(0,m.default)((0,f.default)(t),"refreshDataFromProjectChange",function(){t.resetData({callback:function callback(){t.refreshDimensions(),t.refreshFilteredDimensions(),t.refreshFilteredStats(),t.refreshFilteredLocations()}})}),(0,m.default)((0,f.default)(t),"refreshDimensions",(0,s.default)(o.default.mark(function _callee(){var e,a,l,n,r;return o.default.wrap(function _callee$(o){for(;;)switch(o.prev=o.next){case 0:return e=t.props.domain,a=t.state.projectId,t.setState({loadingDimensions:!0}),o.next=5,(0,A.getDiscoveryDimensions)({domain:e,projectId:a});case 5:l=o.sent,n=l.projectDimensions,r=l.sampleDimensions,t.setState({projectDimensions:n,sampleDimensions:r,loadingDimensions:!1});case 9:case"end":return o.stop()}},_callee)}))),(0,m.default)((0,f.default)(t),"refreshFilteredStats",(0,s.default)(o.default.mark(function _callee2(){var e,a,l,n,r,s;return o.default.wrap(function _callee2$(o){for(;;)switch(o.prev=o.next){case 0:return e=t.props.domain,a=t.state,l=a.projectId,n=a.search,t.setState({loadingStats:!0}),o.next=5,(0,A.getDiscoveryStats)({domain:e,projectId:l,filters:t.preparedFilters(),search:n});case 5:r=o.sent,s=r.sampleStats,t.setState({filteredSampleStats:s,loadingStats:!1});case 8:case"end":return o.stop()}},_callee2)}))),(0,m.default)((0,f.default)(t),"refreshProjectStats",function(){t.setState({filteredProjectStats:{count:t.projects.length}})}),(0,m.default)((0,f.default)(t),"refreshProject",function(){var e=t.state.projectId;t.setState({project:t.projects.get(e)})}),(0,m.default)((0,f.default)(t),"refreshProjectData",function(){t.refreshProject(),t.refreshProjectStats()}),(0,m.default)((0,f.default)(t),"refreshSampleData",function(){t.setState({selectableSampleIds:t.samples.getIds()})}),(0,m.default)((0,f.default)(t),"refreshFilteredDimensions",(0,s.default)(o.default.mark(function _callee3(){var e,a,l,n,r,s,i;return o.default.wrap(function _callee3$(o){for(;;)switch(o.prev=o.next){case 0:return e=t.props.domain,a=t.state,l=a.projectId,n=a.search,t.setState({loadingDimensions:!0}),o.next=5,(0,A.getDiscoveryDimensions)({domain:e,projectId:l,filters:t.preparedFilters(),search:n});case 5:r=o.sent,s=r.projectDimensions,i=r.sampleDimensions,t.setState({filteredProjectDimensions:s,filteredSampleDimensions:i,loadingDimensions:!1});case 9:case"end":return o.stop()}},_callee3)}))),(0,m.default)((0,f.default)(t),"refreshFilteredLocations",(0,s.default)(o.default.mark(function _callee4(){var e,a,l,n,r,s;return o.default.wrap(function _callee4$(o){for(;;)switch(o.prev=o.next){case 0:return e=t.props.domain,a=t.state,l=a.mapLevel,n=a.projectId,r=a.search,t.setState({loadingLocations:!0}),o.next=5,(0,A.getDiscoveryLocations)({domain:e,projectId:n,filters:t.preparedFilters(),search:r});case 5:s=o.sent,t.setState({mapLocationData:s,rawMapLocationData:s,loadingLocations:!1},function(){t.refreshMapPreviewedData(),t.handleMapLevelChange(l)});case 7:case"end":return o.stop()}},_callee4)}))),(0,m.default)((0,f.default)(t),"computeTabs",function(){var e=t.props.domain,a=t.state,l=a.projectId,n=a.filteredProjectStats,r=a.filteredSampleStats,o=function renderTab(e,t){return h.default.createElement("div",null,h.default.createElement("span",{className:U.default.tabLabel},e),h.default.createElement("span",{className:U.default.tabCounter},t))};return(0,b.compact)([!l&&{label:o("Projects",n.count||"-"),value:"projects"},{label:o("Samples",r.count||"-"),value:"samples"},e!==A.DISCOVERY_DOMAIN_PUBLIC&&!l&&{label:o("Visualizations",t.visualizations.length||"-"),value:"visualizations"}])}),(0,m.default)((0,f.default)(t),"handleTabChange",function(e){var a=t.state.mapSidebarTab;t.setState({currentTab:e},function(){t.updateBrowsingHistory("replace");var a=e.replace(/\W+/g,"-").toLowerCase();(0,w.logAnalyticsEvent)("DiscoveryView_tab-".concat(a,"_clicked"),{currentTab:e})}),"summary"!==a&&t.setState({mapSidebarTab:e})}),(0,m.default)((0,f.default)(t),"handleFilterChange",function(e){t.setState({filters:e},function(){t.updateBrowsingHistory("replace"),t.resetDataFromFilterChange(),(0,w.logAnalyticsEvent)("DiscoveryView_filters_changed",{filters:t.getFilterCount()})})}),(0,m.default)((0,f.default)(t),"handleSampleActiveColumnsChange",function(e){t.setState({sampleActiveColumns:e},function(){t.updateBrowsingHistory("replace")})}),(0,m.default)((0,f.default)(t),"handleMetadataFilterClick",function(e,a){var l=t.state.filters,n="".concat(e,"Selected");if(l[n]){if(l[n].includes(a))return;l[n].push(a)}else l[n]=[a];t.handleFilterChange(l)}),(0,m.default)((0,f.default)(t),"handleSearchSelected",function(e,a){var l=e.key,n=e.value,r=e.text,o=t.state,s=o.filters,i=o.search,d=t.getCurrentDimensions(),c=(0,b.clone)(s),u="".concat(l,"Selected"),f=!1;switch(l){case"taxon":c[u]=(0,b.xorBy)("value",[{value:n,text:r}],c[u]),f=!0;break;case"sample":t.handleSampleSelected({sample:{id:n},currentEvent:a});break;case"project":t.handleProjectSelected({project:t.projects.get(n)||{id:n}});break;default:var p=(0,b.find)({dimension:l},d);p&&(0,b.find)({value:n},p.values)&&(c[u]=(0,b.xor)([n],c[u]),f=!0)}(f||null!=i)&&t.setState({filters:c,search:null},function(){t.updateBrowsingHistory("replace"),t.resetDataFromFilterChange()}),(0,w.logAnalyticsEvent)("DiscoveryView_search_selected",{key:l,value:n,text:r,filtersChanged:f})}),(0,m.default)((0,f.default)(t),"handleStringSearch",function(e){var a=t.state.search,l=e.trim()||null;a!==l&&t.setState({search:l},function(){t.updateBrowsingHistory("replace"),t.resetDataFromFilterChange(),(0,w.logAnalyticsEvent)("DiscoveryView_string-search_entered",{search:l})})}),(0,m.default)((0,f.default)(t),"handleFilterToggle",function(){t.setState({showFilters:!t.state.showFilters},function(){t.updateBrowsingHistory("replace"),(0,w.logAnalyticsEvent)("DiscoveryView_show-filters_toggled",{showFilters:t.state.showFilters})})}),(0,m.default)((0,f.default)(t),"handleStatsToggle",function(){t.setState({showStats:!t.state.showStats},function(){t.updateBrowsingHistory("replace"),(0,w.logAnalyticsEvent)("DiscoveryView_show-stats_toggled",{showFilters:t.state.showStats})})}),(0,m.default)((0,f.default)(t),"getConditions",function(){var e=t.state;return{projectId:e.projectId,search:e.search,filters:t.preparedFilters()}}),(0,m.default)((0,f.default)(t),"handleProjectSelected",function(e){var a=e.project,l=t.state.mapSidebarTab;t.setState({currentDisplay:"table",currentTab:"samples",mapSidebarTab:"summary"===l?l:"samples",projectId:a.id,search:null},function(){t.projects.reset({conditions:t.getConditions()}),t.projects.loadPage(0),t.clearMapPreview(),t.updateBrowsingHistory(),t.refreshDataFromProjectChange()})}),(0,m.default)((0,f.default)(t),"handleSampleSelected",function(e){var t=e.sample,a=e.currentEvent;(0,S.openUrl)("/samples/".concat(t.id),a)}),(0,m.default)((0,f.default)(t),"handleProjectUpdated",function(e){var a=e.project;t.dataLayer.projects.update(a),t.setState({project:a})}),(0,m.default)((0,f.default)(t),"getCurrentDimensions",function(){var e=t.state,a=e.currentTab;return{projects:e.projectDimensions,samples:e.sampleDimensions}[a]}),(0,m.default)((0,f.default)(t),"getClientSideSuggestions",function(){var e=(0,s.default)(o.default.mark(function _callee5(e){var a,l,n;return o.default.wrap(function _callee5$(r){for(;;)switch(r.prev=r.next){case 0:return a=t.getCurrentDimensions(),l={},n=new RegExp((0,b.escapeRegExp)(e),"i"),["host","tissue","locationV2"].forEach(function(e){var r=(0,b.find)({dimension:e},a);if(r){var o=r.values.filter(function(e){return n.test(e.text)}).map(function(t){return{category:e,id:t.value,title:t.text}});o.length&&(l[e]={name:t.getName(e),results:o})}}),r.abrupt("return",l);case 5:case"end":return r.stop()}},_callee5)}));return function(t){return e.apply(this,arguments)}}()),(0,m.default)((0,f.default)(t),"getName",function(e){return"locationV2"===e?"location":"tissue"===e?"Sample Type":(0,b.capitalize)(e)}),(0,m.default)((0,f.default)(t),"getServerSideSuggestions",function(){var e=(0,s.default)(o.default.mark(function _callee6(e){var a,l;return o.default.wrap(function _callee6$(n){for(;;)switch(n.prev=n.next){case 0:return a=t.props.domain,n.next=3,(0,C.getSearchSuggestions)({categories:["sample","project","taxon"],query:e,domain:a});case 3:return l=n.sent,n.abrupt("return",l);case 5:case"end":return n.stop()}},_callee6)}));return function(t){return e.apply(this,arguments)}}()),(0,m.default)((0,f.default)(t),"handleSearchTriggered",function(){var e=(0,s.default)(o.default.mark(function _callee7(e){var a,l,n,s;return o.default.wrap(function _callee7$(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Promise.all([t.getClientSideSuggestions(e),t.getServerSideSuggestions(e)]);case 2:return a=o.sent,l=(0,r.default)(a,2),n=l[0],s=l[1],o.abrupt("return",(0,b.merge)(n,s));case 7:case"end":return o.stop()}},_callee7)}));return function(t){return e.apply(this,arguments)}}()),(0,m.default)((0,f.default)(t),"getFilterCount",function(){var e=t.state.filters;return(0,b.sumBy)(function(e){return Array.isArray(e)?e.length:e?1:0},(0,b.values)(e))}),(0,m.default)((0,f.default)(t),"handleDisplaySwitch",function(e){t.setState({currentDisplay:e},function(){t.updateBrowsingHistory("replace")})}),(0,m.default)((0,f.default)(t),"handleMapTooltipTitleClick",function(e){var a=t.state.currentTab;t.setState({mapPreviewedLocationId:e,mapSidebarTab:a,showStats:!0},function(){t.refreshMapPreviewedData()})}),(0,m.default)((0,f.default)(t),"handleMapMarkerClick",function(e){t.setState({mapPreviewedLocationId:e,showStats:!0},function(){t.refreshMapPreviewedData()})}),(0,m.default)((0,f.default)(t),"clearMapPreview",function(){t.state.mapPreviewedLocationId&&(t.mapPreviewProjects=t.projects,t.mapPreviewSamples=t.samples,t.setState({mapPreviewedLocationId:null,mapSidebarProjectDimensions:[],mapSidebarSampleDimensions:[],mapSidebarSampleStats:{}}))}),(0,m.default)((0,f.default)(t),"refreshMapPreviewedSamples",(0,s.default)(o.default.mark(function _callee8(){var e,a,l,n;return o.default.wrap(function _callee8$(r){for(;;)switch(r.prev=r.next){case 0:if(e=t.state,a=e.mapLocationData,(l=e.mapPreviewedLocationId)&&a[l]){r.next=6;break}return t.mapPreviewSamples=t.samples,r.abrupt("return");case 6:(n=t.getConditions()).filters.locationV2=[a[l].name],t.mapPreviewSamples=t.dataLayer.samples.createView({conditions:n});case 9:case"end":return r.stop()}},_callee8)}))),(0,m.default)((0,f.default)(t),"refreshMapPreviewedProjects",(0,s.default)(o.default.mark(function _callee9(){var e,a,l,n;return o.default.wrap(function _callee9$(r){for(;;)switch(r.prev=r.next){case 0:if(e=t.state,a=e.mapLocationData,(l=e.mapPreviewedLocationId)&&a[l]){r.next=6;break}return t.mapPreviewProjects=t.projects,r.abrupt("return");case 6:(n=t.getConditions()).filters.locationV2=[a[l].name],t.mapPreviewProjects=t.dataLayer.projects.createView({conditions:n});case 9:case"end":return r.stop()}},_callee9)}))),(0,m.default)((0,f.default)(t),"refreshMapPreviewedDimensions",(0,s.default)(o.default.mark(function _callee10(){var e,a,l,n,s,i,d,c,u,f,p;return o.default.wrap(function _callee10$(o){for(;;)switch(o.prev=o.next){case 0:if(e=t.state,a=e.mapLocationData,l=e.mapPreviewedLocationId,n=t.props.domain,l&&a[l]){o.next=4;break}return o.abrupt("return");case 4:return(s=t.getConditions()).filters.locationV2=a[l].name,o.next=8,Promise.all([(0,A.getDiscoveryStats)(_objectSpread({domain:n},s)),(0,A.getDiscoveryDimensions)(_objectSpread({domain:n},s))]);case 8:i=o.sent,d=(0,r.default)(i,2),c=d[0].sampleStats,u=d[1],f=u.projectDimensions,p=u.sampleDimensions,t.setState({mapSidebarProjectDimensions:f,mapSidebarSampleDimensions:p,mapSidebarSampleStats:c});case 15:case"end":return o.stop()}},_callee10)}))),(0,m.default)((0,f.default)(t),"refreshMapPreviewedData",(0,s.default)(o.default.mark(function _callee11(){return o.default.wrap(function _callee11$(e){for(;;)switch(e.prev=e.next){case 0:t.refreshMapPreviewedSamples(),t.refreshMapPreviewedProjects(),t.refreshMapPreviewedDimensions(),t.mapPreviewSidebar&&t.mapPreviewSidebar.reset();case 4:case"end":return e.stop()}},_callee11)}))),(0,m.default)((0,f.default)(t),"handleSelectedSamplesUpdate",function(e){t.setState({selectedSampleIds:e})}),(0,m.default)((0,f.default)(t),"handleMapSidebarTabChange",function(e){t.setState({mapSidebarTab:e})}),(0,m.default)((0,f.default)(t),"handleClearFilters",function(){t.setState({filters:{},search:null},function(){t.updateBrowsingHistory("replace"),t.resetDataFromFilterChange()})}),(0,m.default)((0,f.default)(t),"handleMapLevelChange",function(e){for(var a=t.state,l=a.rawMapLocationData,n="samples"===a.currentTab?"sample_ids":"project_ids",o={},s=function copyLocation(e){var t;return _objectSpread({},e,(t={},(0,m.default)(t,n,Object.assign([],e[n])),(0,m.default)(t,"hasOwnEntries",!(0,b.isEmpty)(e[n])),t))},i=(0,x.indexOfMapLevel)(e),d=function _loop(){var e=(0,r.default)(u[c],2),t=e[0],a=e[1];(0,x.indexOfMapLevel)(a.geo_level)<=i&&!o[a.id]&&(o[t]=s(a)),N.MAP_CLUSTER_ENABLED_LEVELS.forEach(function(e){(0,x.indexOfMapLevel)(e)<=i&&function addToAncestor(e,t){var a=e["".concat(t,"_id")];if(a&&l[a]){o[a]||(o[a]=s(l[a]));var r=o[a];r[n]=(0,b.union)(r[n],e[n])}}(a,e)})},c=0,u=Object.entries(l);c<u.length;c++)d();for(var f=0,p=Object.entries(o);f<p.length;f++){var h=(0,r.default)(p[f],2),g=h[0],v=h[1];(0,x.indexOfMapLevel)(v.geo_level)<i&&!v.hasOwnEntries&&delete o[g]}t.setState({mapLocationData:o,mapLevel:e})}),(0,m.default)((0,f.default)(t),"checkPublicSamples",function(){(0,E.get)("/samples/samples_going_public.json").then(function(e){(e||[]).length&&t.displayPublicSampleNotifications(e)})}),(0,m.default)((0,f.default)(t),"displayPublicSampleNotifications",function(e){var t=new Set;try{t=new Set(JSON.parse(localStorage.getItem("dismissedPublicSamples")))}catch(e){}var a=(0,b.partition)(function(e){return t.has(e.id)},e),l=(0,r.default)(a,2),n=l[0],o=l[1];o.length>0&&(localStorage.setItem("dismissedPublicSamples",JSON.stringify((0,b.map)("id",n))),(0,M.publicSampleNotificationsByProject)(o))}),(0,m.default)((0,f.default)(t),"renderCenterPaneContent",function(){var e=t.state,a=e.currentDisplay,l=e.currentTab,n=e.mapLevel,r=e.mapLocationData,o=e.mapPreviewedLocationId,s=e.sampleActiveColumns,i=e.selectableSampleIds,d=e.selectedSampleIds,c=e.projectId,u=t.props,p=u.admin,m=u.allowedFeatures,g=u.mapTilerKey,v=(0,f.default)(t),y=v.projects,b=v.samples,C=v.visualizations;return h.default.createElement(h.default.Fragment,null,"projects"===l&&h.default.createElement("div",{className:U.default.tableContainer},h.default.createElement("div",{className:U.default.dataContainer},h.default.createElement(P.default,{allowedFeatures:m,currentDisplay:a,currentTab:l,mapLevel:n,mapLocationData:r,mapPreviewedLocationId:o,mapTilerKey:g,onClearFilters:t.handleClearFilters,onDisplaySwitch:t.handleDisplaySwitch,onLoadRows:y.handleLoadObjectRows,onMapClick:t.clearMapPreview,onMapLevelChange:t.handleMapLevelChange,onMapMarkerClick:t.handleMapMarkerClick,onProjectSelected:t.handleProjectSelected,onMapTooltipTitleClick:t.handleMapTooltipTitleClick,projects:y,ref:function ref(e){return t.projectsView=e}})),!y.length&&!y.isLoading()&&"table"===a&&h.default.createElement(F.default,{className:U.default.noResultsContainer,type:"projects"})),"samples"===l&&h.default.createElement("div",{className:U.default.tableContainer},h.default.createElement("div",{className:U.default.dataContainer},h.default.createElement(D.default,{activeColumns:s,admin:p,allowedFeatures:m,currentDisplay:a,currentTab:l,mapLevel:n,mapLocationData:r,mapPreviewedLocationId:o,mapTilerKey:g,onActiveColumnsChange:t.handleSampleActiveColumnsChange,onClearFilters:t.handleClearFilters,onDisplaySwitch:t.handleDisplaySwitch,onLoadRows:b.handleLoadObjectRows,onMapClick:t.clearMapPreview,onMapLevelChange:t.handleMapLevelChange,onMapMarkerClick:t.handleMapMarkerClick,onMapTooltipTitleClick:t.handleMapTooltipTitleClick,onSampleSelected:t.handleSampleSelected,onSelectedSamplesUpdate:t.handleSelectedSamplesUpdate,projectId:c,ref:function ref(e){return t.samplesView=e},samples:b,selectableIds:i,selectedSampleIds:d})),!b.length&&!b.isLoading()&&"table"===a&&h.default.createElement(F.default,{className:U.default.noResultsContainer,type:"samples"})),"visualizations"===l&&h.default.createElement("div",{className:U.default.tableContainer},h.default.createElement("div",{className:U.default.dataContainer},h.default.createElement(I.default,{visualizations:C})),!C.length&&!C.isLoading()&&"table"===a&&h.default.createElement(F.default,{className:U.default.noResultsContainer,type:"visualizations"})))}),(0,m.default)((0,f.default)(t),"renderRightPane",function(){var e=t.props.allowedFeatures,a=t.state,l=a.currentDisplay,n=a.currentTab,r=a.filteredProjectDimensions,o=a.filteredSampleDimensions,s=a.filteredSampleStats,i=a.filteredProjectStats,d=a.loadingDimensions,c=a.loadingStats,u=a.mapSidebarProjectDimensions,f=a.mapSidebarSampleDimensions,p=a.mapSidebarSampleStats,m=a.selectedSampleIds,g=a.mapSidebarTab,v=a.projectDimensions,y=a.project,C=a.sampleDimensions,w=a.search,E=a.showStats,S=t.getFilterCount(),_=S||w?r:v,k=S||w?o:C,N=d||c;return h.default.createElement("div",{className:U.default.rightPane},E&&"visualizations"!==n&&("map"===l?h.default.createElement(V.default,{allowedFeatures:e,currentTab:g,discoveryCurrentTab:n,loading:N,onFilterClick:t.handleMetadataFilterClick,onProjectSelected:t.handleProjectSelected,onSampleClicked:t.handleSampleSelected,onSelectionUpdate:t.handleSelectedSamplesUpdate,onTabChange:t.handleMapSidebarTabChange,projectDimensions:(0,b.isEmpty)(u)?_:u,projects:t.mapPreviewProjects,projectStats:(0,b.isEmpty)(p)?i:{count:p.projectCount},ref:function ref(e){return t.mapPreviewSidebar=e},sampleDimensions:(0,b.isEmpty)(f)?k:f,samples:t.mapPreviewSamples,sampleStats:(0,b.isEmpty)(p)?s:p,selectedSampleIds:m}):h.default.createElement(j.default,{allowedFeatures:e,currentTab:n,loading:N,onFilterClick:t.handleMetadataFilterClick,projectDimensions:_,projectStats:i,sampleDimensions:k,sampleStats:s,project:y})))});var a=t.props.projectId;t.urlParser=new v.default({sampleActiveColumns:"object",filters:"object",projectId:"number",showFilters:"boolean",showStats:"boolean"});var l=t.urlParser.parse(location.search),n=t.loadState(sessionStorage,"DiscoveryViewOptions"),d=t.loadState(localStorage,"DiscoveryViewOptions");t.state=Object.assign({currentDisplay:"table",currentTab:a||"all_data"===t.props.domain?"samples":"projects",filteredProjectDimensions:[],filteredSampleDimensions:[],filteredProjectStats:{},filteredSampleStats:{},filters:{},loadingDimensions:!0,loadingLocations:!0,loadingStats:!0,mapLevel:"country",mapLocationData:{},mapPreviewedLocationId:null,mapSidebarProjectDimensions:[],mapSidebarSampleDimensions:[],mapSidebarSampleStats:{},mapSidebarTab:"summary",project:null,projectDimensions:[],projectId:a,rawMapLocationData:{},sampleActiveColumns:void 0,sampleDimensions:[],search:null,selectableSampleIds:[],selectedSampleIds:new Set,showFilters:!0,showStats:!0},d,n,l),t.dataLayer=new O.DiscoveryDataLayer(t.props.domain);var p=t.getConditions();return t.samples=t.dataLayer.samples.createView({conditions:p,onViewChange:t.refreshSampleData}),t.projects=t.dataLayer.projects.createView({conditions:p,onViewChange:t.refreshProjectData}),t.visualizations=t.dataLayer.visualizations.createView({conditions:p}),t.mapPreviewProjects=t.projects,t.mapPreviewSamples=t.samples,t.projectsView=null,t.samplesView=null,t.mapPreviewSidebar=null,t.projects.loadPage(0),t.samples.loadPage(0),t.visualizations.loadPage(0),t.updateBrowsingHistory("replace"),t}return(0,p.default)(DiscoveryView,e),(0,d.default)(DiscoveryView,[{key:"componentDidMount",value:function(){var e=(0,s.default)(o.default.mark(function _callee12(){var e=this;return o.default.wrap(function _callee12$(t){for(;;)switch(t.prev=t.next){case 0:this.initialLoad(),this.checkPublicSamples(),window.onpopstate=function(){e.setState(history.state,function(){e.resetData({callback:e.initialLoad})})};case 3:case"end":return t.stop()}},_callee12,this)}));return function componentDidMount(){return e.apply(this,arguments)}}()},{key:"render",value:function render(){var e=this.state,t=e.currentDisplay,a=e.currentTab,l=e.filters,r=e.project,o=e.projectId,s=e.search,i=e.showFilters,d=e.showStats,c=this.props,u=c.domain,f=c.allowedFeatures,p=this.computeTabs(),m=this.getCurrentDimensions(),g=this.getFilterCount();return h.default.createElement("div",{className:U.default.layout},h.default.createElement("div",{className:U.default.headerContainer},o&&h.default.createElement(R.default,{project:r||{},fetchedSamples:this.samples.loaded,onProjectUpdated:this.handleProjectUpdated,onMetadataUpdated:this.refreshDataFromProjectChange}),h.default.createElement(T.default,{currentTab:a,filterCount:g,onFilterToggle:this.handleFilterToggle,onStatsToggle:this.handleStatsToggle,onSearchTriggered:this.handleSearchTriggered,onSearchSuggestionsReceived:this.handleSearchSuggestionsReceived,onSearchResultSelected:this.handleSearchSelected,onSearchEnterPressed:this.handleStringSearch,onTabChange:this.handleTabChange,searchValue:s||"",showStats:d&&!!m,showFilters:i&&!!m,tabs:p})),h.default.createElement(k.Divider,{style:"medium"}),h.default.createElement("div",{className:U.default.mainContainer},h.default.createElement("div",{className:U.default.leftPane},i&&m&&h.default.createElement(L.default,(0,n.default)({},(0,b.mapValues)(function(e){return e.values},(0,b.keyBy)("dimension",m)),l,{domain:u,onFilterChange:this.handleFilterChange,allowedFeatures:f}))),h.default.createElement("div",{className:U.default.centerPane},"map"===t&&["samples","projects"].includes(a)?h.default.createElement("div",{className:U.default.viewContainer},this.renderCenterPaneContent()):h.default.createElement(_.default,{className:U.default.viewContainer},this.renderCenterPaneContent())),this.renderRightPane()))}}]),DiscoveryView}(h.default.Component);z.propTypes={domain:g.default.oneOf([A.DISCOVERY_DOMAIN_ALL_DATA,A.DISCOVERY_DOMAIN_MY_DATA,A.DISCOVERY_DOMAIN_PUBLIC]).isRequired,projectId:g.default.number,allowedFeatures:g.default.arrayOf(g.default.string),mapTilerKey:g.default.string,admin:g.default.bool};var B=z;t.default=B},function(e,t,a){e.exports={mapContainer:"mapContainer-B5Yr3",zoomControl:"zoomControl-1QUBW",loadingBackgroundAnimation:"loadingBackgroundAnimation-2H3jH"}},,,function(e,t,a){e.exports={circle:"circle-LjtIQ",hoverable:"hoverable-romEu",active:"active-1L6a2"}},,function(e,t,a){e.exports={rectangle:"rectangle-1C_gV",hoverable:"hoverable-1V64_",active:"active-1iqw1",loadingBackgroundAnimation:"loadingBackgroundAnimation-1lurN"}},,,function(e,t,a){e.exports={bannerContainer:"bannerContainer-2KBf3",banner:"banner-3HdYg",clearAll:"clearAll-ru3uG",emphasis:"emphasis-8Ns5W",infoIcon:"infoIcon-3BQyQ"}},,,function(e,t,a){e.exports={mapTooltip:"mapTooltip-F0CJ3",content:"content-qZZXJ",title:"title-1gHGd",hoverable:"hoverable-FGn5i",body:"body-3AVHq"}},,,function(e,t,a){e.exports={displaySwitcher:"displaySwitcher-qmIm1",switcherMenu:"switcherMenu-WJiTQ",menuItem:"menuItem-zw6Wc",icon:"icon-HkJtD"}},,function(e,t,a){e.exports={projectHeader:"projectHeader-3fbdB",container:"container-2KkCd",toggleContainer:"toggleContainer-tETSg",table:"table-3LcJK",map:"map-1k6tK",projectDescription:"projectDescription-oj5kP",loadingBackgroundAnimation:"loadingBackgroundAnimation-1efem"}},,function(e,t,a){e.exports={collectionModal:"collectionModal-1WYii",form:"form-2y3Jj",label:"label-1nDyq",optional:"optional-YfWx0",buttons:"buttons-2T7Kh",sampleList:"sampleList-NGStn",selectedSamples:"selectedSamples-3mGd1",sampleName:"sampleName-YCX-2",sampleDetails:"sampleDetails-2T94f",moreSamplesCount:"moreSamplesCount-1edB2",title:"title-gCAha",notification:"notification-2ogQw"}},,,function(e,t,a){e.exports={container:"container-24Wzv",table:"table-1NBz6",map:"map-34Nug",note:"note-3RgBp",tableDataRow:"tableDataRow-3h8t_",basicCell:"basicCell-1oEZX",samplesToolbar:"samplesToolbar-bgBgY",instructions:"instructions-nNyDP",fluidBlank:"fluidBlank-3skBx",counterContainer:"counterContainer-3gwyf",counter:"counter-281tR",label:"label-34TlY",separator:"separator-3wOL0",actions:"actions-VJWC4",action:"action-FQt1l",icon:"icon-393z5",download:"download-4zatE",phyloTree:"phyloTree-39sHl",sampleHeader:"sampleHeader-3owzs",selectableCell:"selectableCell-13MfI",loadingBackgroundAnimation:"loadingBackgroundAnimation-2k9Nb"}},,,function(e,t,a){e.exports={visualizationHeader:"visualizationHeader-ZnBMQ"}},,function(e,t,a){e.exports={projectHeader:"projectHeader-2Mm-i",name:"name-2XtnE",fillIn:"fillIn-1LlZy",item:"item-8ph70",smallIcon:"smallIcon-1LE70",userIcon:"userIcon-3fkSQ",description:"description-1HQCH"}},,,function(e,t,a){e.exports={container:"container-2264q",text:"text-2skwv",message:"message-2Nset",suggestion:"suggestion-CE_jT",icon:"icon-2Ir1b"}},,,function(e,t,a){e.exports={sidebar:"sidebar-HoBkY",container:"container-1q9WA",table:"table-bEMEb",noData:"noData-3nNaZ",tabs:"tabs-ebgke",tabLabel:"tabLabel-VhGh0",tabCounter:"tabCounter-LfG85",summaryInfo:"summaryInfo-3d7Gq",tableHeader:"tableHeader-3tfAD",sampleRow:"sampleRow-3LyJ3",sample:"sample-15Y2H",selectColumn:"selectColumn-3kSvs",basicCell:"basicCell-1Lt0-",sampleHeader:"sampleHeader-3d2rc",projectHeader:"projectHeader-3IOQX",projectRow:"projectRow-3RhUh",project:"project-25X7Z"}},,,function(e,t,a){e.exports={layout:"layout-3AOSq",headerContainer:"headerContainer-3wZdo",mainContainer:"mainContainer-3jHbN",leftPane:"leftPane-KXbyf",centerPane:"centerPane-2rn69",viewContainer:"viewContainer-Og4Zi",rightPane:"rightPane-2z-Y-",tabLabel:"tabLabel-3vqpD",tabCounter:"tabCounter-13Gqy",tableContainer:"tableContainer-1pl7n",dataContainer:"dataContainer-2Tn73",noResultsContainer:"noResultsContainer-l0lDB"}},,,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.TOOLTIP_TIMEOUT_MS=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(3)),d=l(a(11)),c=l(a(2)),u=l(a(0)),f=l(a(1)),p=a(332),m=a(17),h=l(a(514)),g=l(a(515)),v=l(a(516)),y=l(a(219)),b=l(a(1946)),C=1e3;t.TOOLTIP_TIMEOUT_MS=C;var w=function(e){function MapPlayground(e){var t;(0,n.default)(this,MapPlayground),t=(0,o.default)(this,(0,s.default)(MapPlayground).call(this,e)),(0,c.default)((0,i.default)(t),"updateViewport",function(e){t.setState({viewport:e})}),(0,c.default)((0,i.default)(t),"renderMarker",function(e,a){var l=t.state.viewport,n=e[1],r=n.name,o=n.lat,s=n.lng,i=n.items.length,d=Math.max(Math.log(i)/Math.log(1.5)*((0,m.get)("zoom",l)||3),12);return u.default.createElement(p.Marker,{key:"marker-".concat(a),latitude:o,longitude:s},u.default.createElement(g.default,{size:d,onMouseEnter:function onMouseEnter(){return t.handleMarkerMouseEnter({lat:o,lng:s,name:r,pointCount:i})},onMouseLeave:t.handleMarkerMouseLeave}))}),(0,c.default)((0,i.default)(t),"handleMarkerMouseEnter",function(e){var a="".concat(e.pointCount," Sample").concat(e.pointCount>1?"s":""),l=u.default.createElement(v.default,{lat:e.lat,lng:e.lng,title:a,body:e.name,onMouseEnter:t.handleTooltipMouseEnter,onMouseLeave:t.handleMarkerMouseLeave});t.setState({tooltip:l,tooltipShouldClose:!1})}),(0,c.default)((0,i.default)(t),"handleMarkerMouseLeave",function(){t.setState({tooltipShouldClose:!0}),setTimeout(function(){t.state.tooltipShouldClose&&t.setState({tooltip:null})},C)}),(0,c.default)((0,i.default)(t),"handleTooltipMouseEnter",function(){t.setState({tooltipShouldClose:!1})}),(0,c.default)((0,i.default)(t),"handleSearchResultSelected",function(e){var a=e.result;t.setState({searchResult:a})});var a={};return t.props.results.forEach(function(e){var t=e.location_validated_value,l=t.id,n={sampleName:e.name,sampleId:e.id};a.hasOwnProperty(l)?a[l].items.push(n):a[l]={lat:parseFloat(t.lat),lng:parseFloat(t.lng),name:t.name,items:[n]}}),t.state={locationsToItems:a,viewport:{},tooltip:null,tooltipShouldClose:!1,searchResult:null},t}return(0,d.default)(MapPlayground,e),(0,r.default)(MapPlayground,[{key:"render",value:function render(){var e=this.props.mapTilerKey,t=this.state,a=t.locationsToItems,l=t.tooltip,n=t.searchResult;return u.default.createElement("div",null,u.default.createElement("div",{className:b.default.container},u.default.createElement("div",{className:b.default.title},"Location entry demo:"),u.default.createElement(y.default,{onResultSelect:this.handleSearchResultSelected}),n&&"Selected: ".concat(JSON.stringify(n))),u.default.createElement("div",{className:b.default.container},u.default.createElement("div",{className:b.default.title},"Map display demo:"),u.default.createElement(h.default,{mapTilerKey:e,updateViewport:this.updateViewport,tooltip:l,markers:Object.entries(a).map(this.renderMarker),width:1250,height:1e3})))}}]),MapPlayground}(u.default.Component);w.propTypes={results:f.default.array,mapTilerKey:f.default.string};var E=w;t.default=E},function(e,t,a){e.exports={container:"container-3Uwp_",title:"title-3gInI"}},,,function(e,t,a){"use strict";var l=a(96),n=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(26)),o=n(a(27)),s=n(a(35)),i=n(a(32)),d=n(a(7)),c=n(a(8)),u=n(a(10)),f=n(a(9)),p=n(a(3)),m=n(a(11)),h=n(a(2)),g=n(a(0)),v=l(a(17)),y=n(a(59)),b=n(a(125)),C=a(89),w=a(947),E=a(84),S=n(a(1950)),_=a(42),k=v.default.map.convert({cap:!1}),N={name:"Name",description:"Description",examples:"Examples"},x=function getExamplesForHostGenome(e,t){return(0,v.compact)((0,v.get)(t,e.examples)||(0,v.get)("all",e.examples)).join(", ")||"--"},M=function(e){function MetadataDictionary(){var e,t;(0,d.default)(this,MetadataDictionary);for(var a=arguments.length,l=new Array(a),n=0;n<a;n++)l[n]=arguments[n];return t=(0,u.default)(this,(e=(0,f.default)(MetadataDictionary)).call.apply(e,[this].concat(l))),(0,h.default)((0,p.default)(t),"state",{officialFields:null,hostGenomes:null,currentHostGenome:null}),(0,h.default)((0,p.default)(t),"processFields",function(e){var a=k(function(e){return(0,v.set)("examples",x(e,t.state.currentHostGenome),e)},e),l=(0,v.partition)("is_required",a),n=(0,i.default)(l,2),r=n[0],o=n[1];return[].concat((0,s.default)(k(function(e){return(0,v.set)("name",g.default.createElement("div",{className:S.default.required},e.name,"*"),e)},(0,v.sortBy)("name",r))),(0,s.default)((0,v.sortBy)("name",o)))}),(0,h.default)((0,p.default)(t),"getFieldGroups",function(){if(!t.state.officialFields)return null;var e=(0,v.filter)(function(e){return e.host_genome_ids.includes(t.state.currentHostGenome)},t.state.officialFields),a=k(function(e,a){return{name:a,fields:t.processFields(e)}},(0,v.groupBy)("group",e));return(0,v.sortBy)(function(e){return(0,w.getGroupIndex)(e.name)},a)}),(0,h.default)((0,p.default)(t),"handleHostGenomeChange",function(e){t.setState({currentHostGenome:e})}),(0,h.default)((0,p.default)(t),"getHostGenomeOptions",function(){return(0,v.sortBy)("text",t.state.hostGenomes.map(function(e){return{text:e.name,value:e.id}}))}),(0,h.default)((0,p.default)(t),"getColumnWidth",function(e){return"name"===e?250:""}),t}return(0,m.default)(MetadataDictionary,e),(0,c.default)(MetadataDictionary,[{key:"componentDidMount",value:function(){var e=(0,o.default)(r.default.mark(function _callee(){var e,t,a,l;return r.default.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all([(0,C.getOfficialMetadataFields)(),(0,_.getAllHostGenomes)()]);case 2:e=n.sent,t=(0,i.default)(e,2),a=t[0],l=t[1],a=k(function(e){return(0,v.set)("options",e.options?e.options.join(", "):"",e)},a),this.setState({officialFields:a,hostGenomes:l,currentHostGenome:(0,v.get)("id",(0,v.first)(l))});case 8:case"end":return n.stop()}},_callee,this)}));return function componentDidMount(){return e.apply(this,arguments)}}()},{key:"render",value:function render(){var e=this,t=this.getFieldGroups();return g.default.createElement(y.default,{className:S.default.metadataDictionary},g.default.createElement("div",{className:S.default.title},"Metadata Dictionary"),!t&&g.default.createElement("div",null,"Loading..."),t&&g.default.createElement("div",null,g.default.createElement("div",null,"* = Required"),g.default.createElement(E.Dropdown,{className:S.default.hostGenome,label:"Host Organism",options:this.getHostGenomeOptions(),value:this.state.currentHostGenome,onChange:this.handleHostGenomeChange,rounded:!0})),t&&k(function(t){return g.default.createElement("div",{className:S.default.metadataGroup,key:t.name},g.default.createElement("div",{className:S.default.groupName},t.name," Fields"),g.default.createElement(b.default,{data:t.fields,headers:N,columns:["name","description","examples"],getColumnWidth:e.getColumnWidth}))},t))}}]),MetadataDictionary}(g.default.Component);t.default=M},function(e,t,a){e.exports={title:"title-JH8Rx",groupName:"groupName-1ZHE6",metadataDictionary:"metadataDictionary-20Fx8",required:"required-Dr8pN",hostGenome:"hostGenome-1d1jC"}},,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(26)),r=l(a(27)),o=l(a(7)),s=l(a(8)),i=l(a(10)),d=l(a(9)),c=l(a(3)),u=l(a(11)),f=l(a(2)),p=l(a(0)),m=a(17),h=l(a(1)),g=a(176),v=l(a(46)),y=a(42),b=a(20),C=l(a(59)),w=l(a(146)),E=a(82),S=l(a(222)),_=l(a(428)),k=l(a(948)),N=l(a(949)),x=l(a(1955)),M=function(e){function PhyloTreeListView(e){var t;(0,o.default)(this,PhyloTreeListView),t=(0,i.default)(this,(0,d.default)(PhyloTreeListView).call(this,e)),(0,f.default)((0,c.default)(t),"handleTreeChange",function(){var e=(0,r.default)(n.default.mark(function _callee(e){var a;return n.default.wrap(function _callee$(l){for(;;)switch(l.prev=l.next){case 0:return window.sessionStorage.setItem("treeId",e),t.persistInUrl("treeId",e),l.next=4,(0,y.getPhyloTree)(e);case 4:a=l.sent,t.setState({selectedPhyloTreeId:e,currentTree:a,sidebarVisible:!1}),(0,b.logAnalyticsEvent)("PhyloTreeListView_phylo-tree_changed",{selectedPhyloTreeId:e});case 7:case"end":return l.stop()}},_callee)}));return function(t){return e.apply(this,arguments)}}()),(0,f.default)((0,c.default)(t),"afterSelectedMetadataChange",function(e){t.persistInUrl("selectedMetadata",e)}),(0,f.default)((0,c.default)(t),"persistInUrl",function(e,t){try{var a=new URL(window.location.href);a.searchParams.set(e,t),history.replaceState(window.history.state,document.title,a)}catch(e){console.error(e)}}),(0,f.default)((0,c.default)(t),"handleMetadataUpdate",function(e,a){t.setState({currentTree:(0,m.set)(["sampleDetailsByNodeName",t.state.selectedPipelineRunId,"metadata",e],a,t.state.currentTree)})}),(0,f.default)((0,c.default)(t),"handleShareClick",(0,r.default)(n.default.mark(function _callee2(){return n.default.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,E.copyShortUrlToClipboard)();case 2:case"end":return e.stop()}},_callee2)}))),(0,f.default)((0,c.default)(t),"handleSaveClick",(0,r.default)(n.default.mark(function _callee3(){var e,a;return n.default.wrap(function _callee3$(l){for(;;)switch(l.prev=l.next){case 0:return e=(0,E.parseUrlParams)(),a=Object.values(t.state.currentTree.sampleDetailsByNodeName).map(function(e){return e.sample_id}).filter(function(e){return!!e}),e.sampleIds=new Set(a),l.next=5,(0,y.saveVisualization)("phylo_tree",e);case 5:case"end":return l.stop()}},_callee3)}))),(0,f.default)((0,c.default)(t),"handleTaxonModeOpen",function(){var e=t.state.currentTree;"taxonDetails"===t.state.sidebarMode&&t.state.sidebarVisible&&e.taxid===t.state.sidebarConfig.taxonId?(t.setState({sidebarVisible:!1}),(0,b.logAnalyticsEvent)("PhyloTreeListView_taxon-details-sidebar_closed",{sidebarMode:"taxonDetails",treeName:e.name,treeId:e.id})):(t.setState({sidebarVisible:!0,sidebarConfig:{parentTaxonId:e.parent_taxid,taxonId:e.taxid,taxonName:e.tax_name},sidebarMode:"taxonDetails"}),(0,b.logAnalyticsEvent)("PhyloTreeListView_taxon-details-sidebar_opened",{sidebarMode:"taxonDetails",treeName:e.name,treeId:e.id,parentTaxonId:e.parent_taxid,taxonId:e.taxid,taxonName:e.tax_name}))}),(0,f.default)((0,c.default)(t),"handleSampleNodeClick",function(e,a){e?t.state.sidebarVisible&&"sampleDetails"===t.state.sidebarMode&&t.state.selectedSampleId===e?(t.setState({sidebarVisible:!1}),(0,b.logAnalyticsEvent)("PhyloTreeListView_sample-details-sidebar_closed",{sidebarMode:"sampleDetails",selectedSampleId:e})):(t.setState({selectedSampleId:e,selectedPipelineRunId:a,sidebarConfig:{sampleId:e,onMetadataUpdate:t.handleMetadataUpdate,showReportLink:!0},sidebarMode:"sampleDetails",sidebarVisible:!0}),(0,b.logAnalyticsEvent)("PhyloTreeListView_sample-details-sidebar_opened",{sidebarMode:"sampleDetails",selectedSampleId:e})):t.setState({sidebarVisible:!1})}),(0,f.default)((0,c.default)(t),"closeSidebar",function(){t.setState({sidebarVisible:!1})});var a=(0,E.parseUrlParams)();return t.state={selectedPhyloTreeId:t.getDefaultSelectedTreeId(a,e.phyloTrees),currentTree:null,phyloTreeMap:(0,m.fromPairs)(e.phyloTrees.map(function(e){return[e.id,e]})),sidebarMode:null,sidebarVisible:!1,sidebarConfig:null,selectedSampleId:null,selectedPipelineRunId:null},t.selectedMetadata=a.selectedMetadata,t}return(0,u.default)(PhyloTreeListView,e),(0,s.default)(PhyloTreeListView,[{key:"getDefaultSelectedTreeId",value:function getDefaultSelectedTreeId(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=e.treeId||parseInt(window.sessionStorage.getItem("treeId"));return a&&(0,m.find)({id:a},t)?a:(t[0]||{}).id}},{key:"componentDidMount",value:function(){var e=(0,r.default)(n.default.mark(function _callee4(){var e;return n.default.wrap(function _callee4$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,y.getPhyloTree)(this.state.selectedPhyloTreeId);case 2:e=t.sent,this.setState({currentTree:e});case 4:case"end":return t.stop()}},_callee4,this)}));return function componentDidMount(){return e.apply(this,arguments)}}()},{key:"getTreeStatus",value:function getTreeStatus(e){var t="";switch(e){case 0:case 3:t="Computation in progress. Please check back later!";break;case 2:t="Tree creation failed!";break;default:t="Tree unavailable!"}return t}},{key:"render",value:function render(){var e=this;if(!this.state.selectedPhyloTreeId)return p.default.createElement("div",{className:x.default.noTreeBanner},"No phylogenetic trees were found. You can create trees from the report page.");if(!this.state.currentTree)return null;var t=this.state.currentTree;return p.default.createElement("div",{className:x.default.phyloTreeListView},p.default.createElement(C.default,null,p.default.createElement(_.default,{title:"Phylogenetic Trees",className:x.default.viewHeader},p.default.createElement(_.default.Content,null,p.default.createElement(_.default.Pretitle,null,"Phylogenetic Tree"," ",t.tax_name&&p.default.createElement("span",null,"-",p.default.createElement("span",{className:x.default.taxonName,onClick:this.handleTaxonModeOpen},t.tax_name))),p.default.createElement(_.default.Title,{label:t.name,id:this.state.selectedPhyloTreeId,options:this.props.phyloTrees.map(function(t){return{label:t.name,id:t.id,onClick:function onClick(){return e.handleTreeChange(t.id)}}})})),p.default.createElement(_.default.Controls,{className:x.default.controls},p.default.createElement(v.default,{trigger:p.default.createElement(g.ShareButton,{onClick:(0,b.withAnalytics)(this.handleShareClick,"PhyloTreeListView_share-button_clicked",{treeName:t.name,treeId:t.id}),className:x.default.controlElement}),content:"A shareable URL was copied to your clipboard!",on:"click",hideOnScroll:!0}),p.default.createElement(g.SaveButton,{onClick:(0,b.withAnalytics)(this.handleSaveClick,"PhyloTreeListView_save-button_clicked",{treeName:t.name,treeId:t.id}),className:x.default.controlElement}),p.default.createElement(k.default,{tree:t,className:x.default.controlElement})))),p.default.createElement(S.default,null),p.default.createElement(w.default,{visible:this.state.sidebarVisible,mode:this.state.sidebarMode,onClose:(0,b.withAnalytics)(this.closeSidebar,"PhyloTreeListView_details-sidebar_closed",{treeName:t.name,treeId:t.id}),params:this.state.sidebarConfig}),p.default.createElement(C.default,null,t.newick?p.default.createElement(N.default,{newick:t.newick,nodeData:t.sampleDetailsByNodeName,phyloTreeId:this.state.selectedPhyloTreeId,onMetadataUpdate:this.handleMetadataUpdate,onSampleNodeClick:this.handleSampleNodeClick,afterSelectedMetadataChange:this.afterSelectedMetadataChange,defaultMetadata:this.selectedMetadata}):p.default.createElement("p",{className:x.default.noTreeBanner},this.getTreeStatus(t.status))))}}]),PhyloTreeListView}(p.default.Component);M.propTypes={phyloTrees:h.default.array,allowedFeatures:h.default.array};var T=M;t.default=T},function(e,t,a){e.exports={scaleLabel:"scaleLabel-3xPuL"}},,function(e,t,a){e.exports={h1:"h1-zstj7",h2:"h2-2R2RD",h3:"h3-27_8S",h4:"h4-1pHVG",h5:"h5-391Uv",h6:"h6-1I_Ix","display-xlarge":"display-xlarge-3lCSb","display-large":"display-large-2K_XB","display-medium":"display-medium-3lA3f","display-small":"display-small-3qTaz",heading:"heading-2VxNx",subheading:"subheading-HC6f4",small:"small-20kt4",p:"p-3u_-w","body-text":"body-text-3NksS",subdued:"subdued-3yrjl",caption:"caption-2zUeD","text-left":"text-left-KYq2G","text-right":"text-right-1aVbH","text-center":"text-center-3oS8Q","text-justify":"text-justify-3zSO0","text-nowrap":"text-nowrap-1w30R","text-lowercase":"text-lowercase-TMoKu","text-uppercase":"text-uppercase-3IyFB","text-capitalize":"text-capitalize-32hK7","text-muted":"text-muted-q27aG",phyloTreeListView:"phyloTreeListView-3hupN",viewHeader:"viewHeader-1I8gy",controls:"controls-pX6rS",controlElement:"controlElement-AvN60",noTreeBanner:"noTreeBanner-3_QRD",taxonName:"taxonName-1G-TP"}},,,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(3)),d=l(a(11)),c=l(a(2)),u=l(a(0)),f=l(a(59)),p=l(a(97)),m=l(a(219)),h=l(a(502)),g=l(a(1959)),v=["Host Organism Message","Geo Search Box"],y=function(e){function PlaygroundComponents(){var e,t;(0,n.default)(this,PlaygroundComponents);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return t=(0,o.default)(this,(e=(0,s.default)(PlaygroundComponents)).call.apply(e,[this].concat(l))),(0,c.default)((0,i.default)(t),"state",{currentTab:v[0]}),(0,c.default)((0,i.default)(t),"onTabChange",function(e){t.setState({currentTab:e})}),(0,c.default)((0,i.default)(t),"handleResultSelected",function(e){var t=e.result;console.log("PlaygroundComponents:handleResultSelected",t)}),(0,c.default)((0,i.default)(t),"renderComponent",function(){var e=t.state.currentTab;return e===v[0]?[u.default.createElement(h.default,{key:"1",hostGenomes:[{name:"Human",id:1}],samples:[{host_genome_id:1,host_genome_name:"human"}]}),u.default.createElement(h.default,{key:"6",hostGenomes:[{name:"Human",id:1}],samples:[{host_genome_id:1,host_genome_name:"Human"},{host_genome_id:1,host_genome_name:"Human"}]}),u.default.createElement(h.default,{key:"5",hostGenomes:[{name:"Bat",id:4}],samples:[{host_genome_id:4,host_genome_name:"Bat"}]}),u.default.createElement(h.default,{key:"2",hostGenomes:[{name:"Human",id:1}],samples:[{host_genome_id:2,host_genome_name:"none"}]}),u.default.createElement(h.default,{key:"7",hostGenomes:[{name:"Ferret",id:1,ercc_only:!0}],samples:[{host_genome_id:1,host_genome_name:"Ferret"}]}),u.default.createElement(h.default,{key:"3",hostGenomes:[{name:"ERCC Only",id:7,ercc_only:!0}],samples:[{host_genome_id:7,host_genome_name:"ERCC Only"}]}),u.default.createElement(h.default,{key:"4",hostGenomes:[{name:"Human",id:1},{name:"Mosquito",id:2}],samples:[{host_genome_id:1,host_genome_name:"Human"},{host_genome_id:2,host_genome_name:"none"},{host_genome_id:3,host_genome_name:"none"}]})]:e===v[1]?u.default.createElement("div",{className:g.default.componentFrame},u.default.createElement(m.default,{className:g.default.geoSearchBox,onResultSelect:t.handleResultSelected})):void 0}),t}return(0,d.default)(PlaygroundComponents,e),(0,r.default)(PlaygroundComponents,[{key:"render",value:function render(){return u.default.createElement(f.default,null,u.default.createElement(p.default,{className:g.default.tabs,tabs:v,value:this.state.currentTab,onChange:this.onTabChange}),u.default.createElement("div",{className:g.default.componentContainer},this.renderComponent()))}}]),PlaygroundComponents}(u.default.Component);t.default=y},function(e,t,a){e.exports={componentContainer:"componentContainer-12l60",tabs:"tabs-1euMo",componentFrame:"componentFrame-3cMPk"}},,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(1)),c=l(a(0)),u=l(a(280)),f=l(a(402)),p=l(a(74)),m=l(a(388)),h=l(a(282)),g=l(a(173)),v=l(a(140)),y=l(a(220)),b=l(a(51)),C=l(a(88)),w=l(a(470)),E=l(a(126)),S=l(a(288)),_=l(a(398)),k=function(e){function PlaygroundControls(e){var t;return(0,n.default)(this,PlaygroundControls),(t=(0,o.default)(this,(0,s.default)(PlaygroundControls).call(this,e))).thresholdOptions=t.props.thresholdFilters,t.dropdownOptions=[{text:"Option 1",value:0},{text:"Option 2",value:1,suboptions:[{text:"suboption a",value:"a"},{text:"suboption b",value:"b"}]},{text:"Option 3",value:2}],t.state={event:""},t}return(0,i.default)(PlaygroundControls,e),(0,r.default)(PlaygroundControls,[{key:"render",value:function render(){var e=this;return c.default.createElement("div",{className:"playground"},c.default.createElement("div",{className:"playground-grid"},c.default.createElement(N,{title:"Primary Button",width:3},c.default.createElement(b.default,{key:0,text:"Submit",onClick:function onClick(){return e.setState({event:"PrimaryButton:Click"})}}),c.default.createElement(b.default,{key:1,text:"Submit",disabled:!0,onClick:function onClick(){return e.setState({event:"PrimaryButton:Click"})}}),c.default.createElement(b.default,{key:1,label:c.default.createElement(h.default,null),text:"Submit",onClick:function onClick(){return e.setState({event:"PrimaryButton:Click"})}})),c.default.createElement(N,{title:"Secondary Button",width:3},c.default.createElement(C.default,{key:0,text:"Submit",onClick:function onClick(){return e.setState({event:"SecondaryButton:Click"})}}),c.default.createElement(C.default,{key:1,text:"Submit",disabled:!0,onClick:function onClick(){return e.setState({event:"SecondaryButton:Click"})}})),c.default.createElement(N,{title:"Icon Button",width:3},c.default.createElement(u.default,{key:0,onClick:function onClick(){return e.setState({event:"CompareButton:Click"})}}),c.default.createElement(u.default,{key:1,disabled:!0,onClick:function onClick(){return e.setState({event:"CompareButton:Click: should not show up!"})}})),c.default.createElement(N,{title:"Button Dropdown",width:3},c.default.createElement(m.default,{primary:!0,key:0,fluid:!0,options:this.dropdownOptions,text:"Download",onClick:function onClick(t){return e.setState({event:"DropdownButton:Clicked",option:t})}}),c.default.createElement(m.default,{primary:!0,key:1,fluid:!0,disabled:!0,options:this.dropdownOptions,text:"Download",onClick:function onClick(t){return e.setState({event:"DropdownButton:Change",option:t})}})),c.default.createElement(N,{title:"Secondary Button Dropdown",width:3},c.default.createElement(m.default,{secondary:!0,key:0,fluid:!0,options:this.dropdownOptions,text:"Download",onClick:function onClick(t){return e.setState({event:"DropdownButton:Clicked",option:t})}}),c.default.createElement(m.default,{secondary:!0,key:1,fluid:!0,disabled:!0,options:this.dropdownOptions,text:"Download",onClick:function onClick(t){return e.setState({event:"DropdownButton:Change",option:t})}})),c.default.createElement(N,{title:"Download Button",width:3},c.default.createElement(f.default,{key:0,text:"Download",onClick:function onClick(t){return e.setState({event:"DropdownButton:Clicked",option:t})}}),c.default.createElement(f.default,{key:1,disabled:!0,text:"Download",onClick:function onClick(t){return e.setState({event:"DropdownButton:Clicked",option:t})}})),c.default.createElement(N,{title:"Download Dropdown Button",width:4},c.default.createElement(g.default,{key:0,options:this.dropdownOptions,onClick:function onClick(t){return e.setState({event:"DropdownButton:Clicked",option:t})}}),c.default.createElement(g.default,{key:1,disabled:!0,options:this.dropdownOptions,onClick:function onClick(t){return e.setState({event:"DropdownButton:Clicked",option:t})}})),c.default.createElement(N,{title:"Threshold Filter Dropdown",width:5},c.default.createElement(y.default,{key:0,options:this.thresholdOptions,onApply:function onApply(t){e.setState({event:"ThresholdFilterDropdown:Apply",vars:t})}}),c.default.createElement(y.default,{key:1,options:this.thresholdOptions,disabled:!0,onApply:function onApply(t){e.setState({event:"ThresholdFilterDropdown:Apply",vars:t})}})),c.default.createElement(N,{title:"Dropdown",width:4},c.default.createElement(p.default,{key:0,fluid:!0,rounded:!0,options:this.dropdownOptions,label:"Option",onChange:function onChange(){return e.setState({event:"Dropdown:Change"})}}),c.default.createElement(p.default,{key:1,fluid:!0,disabled:!0,rounded:!0,options:this.dropdownOptions,label:"Option",onChange:function onChange(){return e.setState({event:"Dropdown:Change"})}})),c.default.createElement(N,{title:"Multiple Option Dropdown",width:4},c.default.createElement(v.default,{key:0,fluid:!0,rounded:!0,search:!0,options:this.dropdownOptions,label:"Options",onChange:function onChange(){return e.setState({event:"MultipleDropdown:Change"})}}),c.default.createElement(v.default,{key:1,fluid:!0,rounded:!0,disabled:!0,options:this.dropdownOptions,label:"Options",onChange:function onChange(){return e.setState({event:"MultipleDropdown:Change"})}})),c.default.createElement(N,{title:"Multiple Nested Dropdown",width:4},c.default.createElement(S.default,{key:0,fluid:!0,rounded:!0,options:this.dropdownOptions,label:"Options",onChange:function onChange(t,a){e.setState({event:"MultipleDropdown:Change"})}})),c.default.createElement(N,{title:"Slider",width:4},c.default.createElement(w.default,{key:0,options:this.dropdownOptions,label:"Slider: ",onChange:function onChange(){return e.setState({event:"Slider:Change"})},onAfterChange:function onAfterChange(){return e.setState({event:"Slider:onAfterChange"})},min:0,max:100,value:20}),c.default.createElement(w.default,{key:1,disabled:!0,options:this.dropdownOptions,label:"Slider: ",onChange:function onChange(){return e.setState({event:"Slider:Change"})},onAfterChange:function onAfterChange(){return e.setState({event:"Slider:onAfterChange"})},min:0,max:100,value:20})),c.default.createElement(N,{title:"Checkbox",width:4},c.default.createElement(E.default,{key:0,label:"Checkbox",onChange:function onChange(){return e.setState({event:"Checkbox:Change"})},value:0,checked:!0}),c.default.createElement(E.default,{key:1,label:"Checkbox",onChange:function onChange(){return e.setState({event:"Checkbox:Change"})},value:1})),c.default.createElement(N,{title:"Toggle",width:3},c.default.createElement(_.default,{key:1,onLabel:"Yes",offLabel:"No",initialChecked:!0}),c.default.createElement(_.default,{key:2,onLabel:"Yes",offLabel:"No",initialChecked:!1}))),c.default.createElement("div",{className:"playground-console"},c.default.createElement("span",{className:"playground-console-label"},"Last Event:"),this.state.event||"N/A"))}}]),PlaygroundControls}(c.default.Component);k.propTypes={thresholdFilters:d.default.object};var N=function ComponentCard(e){var t=e.title,a=e.width,l=e.children;return c.default.createElement("div",{className:"component-card",style:{gridColumn:"auto / span ".concat(a)}},c.default.createElement("div",{className:"title"},t),c.default.Children.map(l,function(e,t){return c.default.createElement("div",{key:t,className:"component"},e)}))};N.propTypes={children:d.default.node,title:d.default.string,width:d.default.number};var x=k;t.default=x},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(0)),c=l(a(4)),u=a(17),f=l(a(874)),p=l(a(59)),m=l(a(1963)),h=function(e){function PlaygroundIcons(){return(0,n.default)(this,PlaygroundIcons),(0,o.default)(this,(0,s.default)(PlaygroundIcons).apply(this,arguments))}return(0,i.default)(PlaygroundIcons,e),(0,r.default)(PlaygroundIcons,[{key:"render",value:function render(){var e=(0,u.values)(f.default.CUSTOM).map(function(e){return d.default.createElement(e,{className:m.default.icon})}),t=(0,u.values)(f.default.FONT_AWESOME).map(function(e){return d.default.createElement(e,{className:m.default.icon})}),a=(0,u.values)(f.default.LOGO).map(function(e){return d.default.createElement(e,{className:(0,c.default)(m.default.icon,m.default.loadingIcon)})});return d.default.createElement(p.default,null,d.default.createElement("div",{className:m.default.title},"Custom SVG Icons"),d.default.createElement("div",{className:m.default.playgroundIcons},e.map(function(e){return d.default.createElement("div",{className:m.default.iconContainer,key:e.type.name},e,d.default.createElement("span",{className:m.default.iconLabel},e.type.name))})),d.default.createElement("div",{className:m.default.title},"Font-Awesome Icons"),d.default.createElement("div",{className:m.default.playgroundIcons},t.map(function(e){return d.default.createElement("div",{className:(0,c.default)(m.default.iconContainer,m.default.faIconContainer),key:e.type.name},d.default.createElement("div",{className:m.default.faIconContainer},e),d.default.createElement("span",{className:m.default.iconLabel},e.type.name))})),d.default.createElement("div",{className:m.default.title},"Logo"),d.default.createElement("div",{className:m.default.playgroundIcons},a.map(function(e){return d.default.createElement("div",{className:m.default.iconContainer,key:e.type.name},e,d.default.createElement("span",{className:m.default.iconLabel},e.type.name))})))}}]),PlaygroundIcons}(d.default.Component);t.default=h},function(e,t,a){e.exports={playgroundIcons:"playgroundIcons-rq2Vu",title:"title-3LR_X",iconContainer:"iconContainer-3zkxi",icon:"icon-1YHnv",loadingIcon:"loadingIcon-RbM-k",faIconContainer:"faIconContainer-2nx1b",iconLabel:"iconLabel-26Rh7"}},,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(3)),d=l(a(11)),c=l(a(2)),u=l(a(0)),f=a(17),p=l(a(4)),m=l(a(126)),h=l(a(59)),g=l(a(1966)),v=function(e){function PlaygroundTypography(){var e,t;(0,n.default)(this,PlaygroundTypography);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return t=(0,o.default)(this,(e=(0,s.default)(PlaygroundTypography)).call.apply(e,[this].concat(l))),(0,c.default)((0,i.default)(t),"state",{upperCase:!1}),(0,c.default)((0,i.default)(t),"toggleUpperCase",function(){t.setState({upperCase:!t.state.upperCase})}),t}return(0,d.default)(PlaygroundTypography,e),(0,r.default)(PlaygroundTypography,[{key:"render",value:function render(){var e=this.state.upperCase,t=(0,f.filter)(function(e){return e.startsWith("font")},(0,f.keys)(g.default)),a=(0,f.filter)(function(e){return e.startsWith("font-header")},t),l=(0,f.filter)(function(e){return e.startsWith("font-body")},t),n=(0,f.filter)(function(e){return!(e.startsWith("font-header")||e.startsWith("font-body"))},t);return u.default.createElement(h.default,null,u.default.createElement("div",{className:g.default.header},u.default.createElement("div",{className:g.default.title},"Typography"),u.default.createElement("div",{className:g.default.controls},u.default.createElement(m.default,{className:g.default.checkbox,checked:e,label:"Upper case",onChange:this.toggleUpperCase}))),u.default.createElement("div",{className:g.default.playgroundTypography},[a,l,n].map(function(t,a){return u.default.createElement("div",{className:g.default.column,key:a},t.map(function(t){return u.default.createElement("div",{className:(0,p.default)(g.default.borderContainer),key:t},u.default.createElement("div",{className:(0,p.default)(g.default.container,g.default[t],e&&g.default.upperCase)},t))}))})))}}]),PlaygroundTypography}(u.default.Component);t.default=v},function(e,t,a){e.exports={header:"header-2DXN7",title:"title-KosML",controls:"controls-Cv4lX",checkbox:"checkbox-2gyFb",playgroundTypography:"playgroundTypography-19xTd",column:"column-36-WA",borderContainer:"borderContainer-ZHfY4",container:"container-26MHl",upperCase:"upperCase-1YQJX","font-header-xxl":"font-header-xxl-2NEKQ","font-header-xl":"font-header-xl-19Q-h","font-header-l":"font-header-l-1rC7Q","font-header-m":"font-header-m-2xTAF","font-header-s":"font-header-s-3EEia","font-header-xs":"font-header-xs-27vpj","font-header-xxs":"font-header-xxs-2gFw8","font-header-xxxs":"font-header-xxxs-3ifkI","font-header-accordion":"font-header-accordion-3Www2","font-header-node-l":"font-header-node-l-clfY4","font-header-node-s":"font-header-node-s-2O48H","font-body-xl":"font-body-xl-3VevH","font-body-l":"font-body-l-3E7df","font-body-m":"font-body-m-3_HMi","font-body-s":"font-body-s-2vMcQ","font-body-xs":"font-body-xs-2X6LS","font-body-xxs":"font-body-xxs-2rFEY","font-body-xxxs":"font-body-xxxs-3cq8u","font-label-s":"font-label-s-X6wTs","font-label-xs":"font-label-xs-3HRNq","font-label-xxs":"font-label-xxs-NZbAD","font-tag-s":"font-tag-s-NRTAW","font-viz-label":"font-viz-label-SrD5e","font-search-result-title":"font-search-result-title-3MoZ7","font-search-result-description":"font-search-result-description-1o6Kq","font-code":"font-code-3K7wb"}},,,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(3)),d=l(a(11)),c=l(a(2)),u=l(a(0)),f=l(a(59)),p=l(a(97)),m=l(a(328)),h=l(a(1970)),g=["Heatmap"],v=function(e){function PlaygroundViz(){var e,t;(0,n.default)(this,PlaygroundViz);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return t=(0,o.default)(this,(e=(0,s.default)(PlaygroundViz)).call.apply(e,[this].concat(l))),(0,c.default)((0,i.default)(t),"state",{currentTab:g[0]}),(0,c.default)((0,i.default)(t),"onTabChange",function(e){t.setState({currentTab:e})}),(0,c.default)((0,i.default)(t),"renderViz",function(){"Heatmap"===t.state.currentTab&&(t.viz=new m.default(t.vizContainer,{rowLabels:[{label:"Row 1"},{label:"Row 2"},{label:"Row 3"}],columnLabels:[{label:"Column 1"},{label:"Column 2"},{label:"Column 3"},{label:"Column 4"},{label:"Column 5"}],values:[[0,1,2,3,4],[1,2,3,4,5],[2,3,4,5,6]]},{marginLeft:0,marginRight:0}),t.viz.start())}),t}return(0,d.default)(PlaygroundViz,e),(0,r.default)(PlaygroundViz,[{key:"componentDidMount",value:function componentDidMount(){this.renderViz()}},{key:"componentDidUpdate",value:function componentDidUpdate(e,t){t.currentTab!==this.state.currentTab&&this.renderViz()}},{key:"render",value:function render(){var e=this;return u.default.createElement(f.default,null,u.default.createElement(p.default,{className:h.default.tabs,tabs:g,value:this.state.currentTab,onChange:this.onTabChange}),u.default.createElement("div",{className:h.default.vizContainer,ref:function ref(t){e.vizContainer=t}}))}}]),PlaygroundViz}(u.default.Component);t.default=v},function(e,t,a){e.exports={vizContainer:"vizContainer-1mzGr",tabs:"tabs-1oNrh"}},,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(0)),c=function(e){function SampleDetailsSidebar(){return(0,n.default)(this,SampleDetailsSidebar),(0,o.default)(this,(0,s.default)(SampleDetailsSidebar).apply(this,arguments))}return(0,i.default)(SampleDetailsSidebar,e),(0,r.default)(SampleDetailsSidebar,[{key:"render",value:function render(){return d.default.createElement("div",null)}}]),SampleDetailsSidebar}(d.default.Component);t.default=c},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(0)),r=l(a(1974)),o=l(a(24)),s=function ReportSearchBox(e){var t=e.searchKeysInSample,a=e.searchKey,l=e.onSelect,o=e.onChange;return n.default.createElement("li",{className:"search-box genus-autocomplete-container"},n.default.createElement(r.default,{inputProps:{placeholder:"Search"},items:t,shouldItemRender:function shouldItemRender(e,t){return"Show All"===e[0]||t.length>2&&e[0].toLowerCase().indexOf(t.toLowerCase())>-1},getItemValue:function getItemValue(e){return e[0]},renderItem:function renderItem(e,t){return n.default.createElement("div",{key:e[1],style:{backgroundColor:t?"#eee":"transparent",fontFamily:"'Helvetica Neue', Arial, Helvetica, sans-serif",fontSize:"1rem",overflow:"hidden"}},e[0])},value:a,onChange:o,onSelect:l}),n.default.createElement("i",{className:"fa fa-search"}))};s.propTypes={searchKeysInSample:o.default.arrayOf(o.default.array).isRequired,searchKey:o.default.string.isRequired,onSelect:o.default.func.isRequired,onChange:o.default.func.isRequired};var i=s;t.default=i},,,,,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(0)),c=a(62),u=l(a(245)),f=function(e){function FAQPage(){return(0,n.default)(this,FAQPage),(0,o.default)(this,(0,s.default)(FAQPage).apply(this,arguments))}return(0,i.default)(FAQPage,e),(0,r.default)(FAQPage,[{key:"render",value:function render(){return d.default.createElement(c.NarrowContainer,{className:u.default.faqPage,size:"small"},d.default.createElement("div",{className:u.default.title},d.default.createElement("h1",null,"Frequently Asked Questions")),d.default.createElement(c.Accordion,{className:u.default.question,header:d.default.createElement("h3",null,"Does IDseq own any of the data I upload to the tool?")},d.default.createElement("p",null,"No. The data you upload into IDseq is yours and so is any research you create with it. We dont own it and will never sell it. You do, however, give us limited rights to use it for the IDseq service.")),d.default.createElement(c.Accordion,{className:u.default.question,header:d.default.createElement("h3",null,"Does IDseq sell the data I upload?")},d.default.createElement("p",null,"No.")),d.default.createElement(c.Accordion,{className:u.default.question,header:d.default.createElement("h3",null,"How does IDseq share the data I upload with other users?")},d.default.createElement("p",null,d.default.createElement("ul",null,d.default.createElement("li",null,"When you upload data to IDseq, you control who the data is shared with. IDseq relies on three key categories of data, and we want you to understand how each is treated."," ",d.default.createElement("b",null,"Upload Data")," refers to the original fastq sequence files you upload into IDseq-- this data will only be available to you, the uploader, no matter who you add to the project."," ",d.default.createElement("b",null,"Sample Metadata")," includes details about the sample that researchers manually enter, such as when and where a sample was collected and its type (e.g. synovial fluid or cerebrospinal fluid). ",d.default.createElement("b",null,"Report Data")," includes the pathogen report IDseq generates from the Upload Data, Sample Metadata, and other data derived from the Upload, such as phylogenetic trees."),d.default.createElement("li",null,d.default.createElement("b",null,"Report Data")," and ",d.default.createElement("b",null,"Sample Metadata")," will be shared with anyone you share your project with."),d.default.createElement("li",null,"Unless you choose to remove it ",d.default.createElement("b",null,"one year")," after you uploaded your sample, Report Data and the Sample Metadata uploaded alongside it will be shared with ",d.default.createElement("b",null,"all IDseq users"),". We will notify and remind you of this sharing of the Report Data and Sample Metadata before the one year anniversary of your upload by sending you a message to the contact information you provided to us at registration.")))),d.default.createElement(c.Accordion,{className:u.default.question,header:d.default.createElement("h3",null,"Will IDseq use my Upload Data to write research papers?")},d.default.createElement("p",null,"No, we will not.")),d.default.createElement(c.Accordion,{className:u.default.question,header:d.default.createElement("h3",null,"How is human genomic data handled and protected?")},d.default.createElement("p",null,d.default.createElement("ul",null,d.default.createElement("li",null,"You should not be able to find any human sequence data in IDseq other than the original fastq files you yourself have uploaded. This is because we have a multi-step process in place to filter out and remove host sequence data in order to generate Reports. If you are able to find human sequence data elsewhere in IDseq, please let us know at"," ",d.default.createElement("a",{href:"mailto:privacy@idseq.net"},"privacy@idseq.net"),", and we will remove it. The fastq files you uploaded are only available to you, the uploader."),d.default.createElement("li",null,"For the fastq files you yourself have uploaded, we understand this data is sensitive and we implement security measures designed to safeguard it. We seek to implement security best practices like encrypting data, hosting it on leading cloud providers with robust physical security, regular security assessments, data loss prevention systems, and working to ensure that only authorized staff have access to the data. If you need more information about our security practices please contact us at ",d.default.createElement("a",{href:"mailto:security@idseq.net"},"security@idseq.net"),".")))),d.default.createElement(c.Accordion,{className:u.default.question,header:d.default.createElement("h3",null,"Can I use IDseq for clinical diagnostic purposes?")},d.default.createElement("p",null,"No. IDseq is for research use only. It is not for diagnostic, clinical or commercial use.")),d.default.createElement(c.Accordion,{className:u.default.question,header:d.default.createElement("h3",null,"What should I think about before uploading data to IDseq?")},d.default.createElement("p",null,"You should make sure you have any permissions or consents necessary in order to upload the samples to IDseq. Please check with your institution or organization if you have questions about meeting this responsibility.")),d.default.createElement(c.Accordion,{className:u.default.question,header:d.default.createElement("h3",{className:u.default.multiLine},"What Metadata about the uploaded samples do you collect, and how do you make sure the metadata is non-identifiable?")},d.default.createElement("p",null,d.default.createElement("ul",null,d.default.createElement("li",null,"We require 4 metadata fields for uploaded samples. We believe these data are necessary to fully analyze the data. The 4 fields we require are:",d.default.createElement("li",{className:u.default.innerListItem},"1. Sample type (CSF, Stool, Serum, etc)"),d.default.createElement("li",{className:u.default.innerListItem},"2. Nucleotide type (RNA or DNA)"),d.default.createElement("li",{className:u.default.innerListItem},"3. Location (limited to state or country)"),d.default.createElement("li",{className:u.default.innerListItem},"4. Collection Date (limited to month and year)")),d.default.createElement("li",null,"We limit the granularity of location and collection date to help maintain the anonymity of the uploaded data."),d.default.createElement("li",null,"Other metadata can be uploaded to IDseq but is not required and may be deleted at any point. We have put together a metadata ontology that you can find"," ",d.default.createElement("a",{href:"/metadata/dictionary"},"here")," that does not include any fields where Protected Health Information (PHI) can be derived.")))),d.default.createElement(c.Accordion,{className:u.default.question,header:d.default.createElement("h3",{className:u.default.multiLine},"Under what circumstances would IDseq transfer rights to the data? Why, and what choices would I have?")},d.default.createElement("p",null,"If we can no longer keep operating IDseq (which we hope wont happen) or believe the community is better served by someone else operating it, we will transfer the project and all existing data in the tool so that the community can continue to be served. We will always let you know before something like this happens, and you will have the option to delete your account and any data youve uploaded.")),d.default.createElement(c.Accordion,{className:u.default.question,header:d.default.createElement("h3",null,"Where do I go for more questions?")},d.default.createElement("p",null,"Please contact"," ",d.default.createElement("a",{href:"mailto:security@idseq.net"},"security@idseq.net")," if you have any security-related questions or concerns, and"," ",d.default.createElement("a",{href:"mailto:privacy@idseq.net"},"privacy@idseq.net")," if you have any other questions about our practices or legal documents.")),d.default.createElement(c.Accordion,{className:u.default.question,header:d.default.createElement("h3",null,"What is your address?")},d.default.createElement("p",null,d.default.createElement("ul",null,d.default.createElement("li",null,"Chan Zuckerberg Biohub, 499 Illinois Street, Fourth Floor San Francisco, CA 94158"),d.default.createElement("li",null,"Chan Zuckerberg Initiative, LLC, 601 Marshall St., Redwood City, CA 94063")))),d.default.createElement(c.Accordion,{className:u.default.question,header:d.default.createElement("h3",null,"Do you use Cookies in IDseq?")},d.default.createElement("p",null,"Yes, we use cookies and similar technologies to provide and improve the IDseq service. We do not use cookies for advertising purposes."),d.default.createElement("p",null,"Cookies are small text files sent by your computer or device each time you visit our website. They are stored in your browsers cache or mobile device and allow a website or a third party to recognize your browser. Some of the cookies we use are associated with your IDseq account (including information about you, such as the email address you gave us) and other cookies are not. We use three different types of cookies:"),d.default.createElement("ul",null,d.default.createElement("li",null,d.default.createElement("span",{className:u.default.listItemLabel},"Session cookies")," are specific to a particular visit you make to IDseq and hold certain information as you browse different pages so you dont have to re-enter information every time you change pages. Session cookies expire and delete themselves automatically in a short period of time like after you leave IDseq or when you close your web browser.")),d.default.createElement("ul",null,d.default.createElement("li",null,d.default.createElement("span",{className:u.default.listItemLabel},"Persistent cookies")," ","remember certain information about your preferences for viewing IDseq and allow us to recognize you each time you return. Persistent cookies are stored on your browser cache or mobile device until you choose to delete them, and otherwise delete themselves in a standard period of time.")),d.default.createElement("ul",null,d.default.createElement("li",null,d.default.createElement("span",{className:u.default.listItemLabel},"Third party cookies")," are a type of persistent cookie and are placed by someone other than us. These cookies may gather browsing activity across multiple websites and across multiple sessions. They are stored until you delete them or expire based on the time period set in each third party cookie.")),d.default.createElement("p",null,"We partner with third-party analytics providers (such as Google and Segment), which set cookies when you visit our websites. These cookies collect information, such as how often users visit our websites, what pages they visit, and what other sites they used prior to coming to our websites. We use this information to improve our Services. Please see how you can control or limit how we and our partners use cookies below, under Do I have choices with respect to cookies?")),d.default.createElement(c.Accordion,{className:u.default.question,header:d.default.createElement("h3",null,"Why do you use cookies?")},d.default.createElement("p",null,"We use cookies to help operate and make our Services function securely:"),d.default.createElement("ul",null,d.default.createElement("li",null,d.default.createElement("span",{className:u.default.listItemLabel},"Authentication and security.")," ","Cookies and similar technologies help us verify your account and device to maintain the security, safety, and integrity of our Services. For example, we use cookies to help prevent the fraudulent use of your login credentials."),d.default.createElement("li",null,d.default.createElement("span",{className:u.default.listItemLabel},"Account and user preferences.")," ","We use some technologies to remember your account and preferences over time so that we can make it easier for you to access the Services and provide you with the experiences and features you desire. For example, we use cookies to persist some report filtering settings."),d.default.createElement("li",null,d.default.createElement("span",{className:u.default.listItemLabel},"Performance and analytics.")," ","Cookies and similar technologies help us analyze how the Services are being accessed and used, and enable us to track the performance of the Services. This gives us the information we need to improve your experience on our Services."))),d.default.createElement(c.Accordion,{className:u.default.question,header:d.default.createElement("h3",null,"Do I have choices with respect to cookies?")},d.default.createElement("p",null,"You have options to control or limit how we and our partners use cookies and similar technologies."),d.default.createElement("ul",null,d.default.createElement("li",null,"Although most browsers and devices accept cookies by default, their settings usually allow you to clear or decline cookies. Note that if you disable cookies, however, some of the features of our Services may not function properly."),d.default.createElement("li",null,"To learn more about how to opt out of Googles use of cookies either as part of AdWords or Analytics services, you may visit"," ",d.default.createElement("a",{href:"https://adssettings.google.com/"},"Googles Ads Settings")," ","and ",d.default.createElement("a",{href:"https://policies.google.com/privacy/partners"},"How Google Uses Information From Sites or Apps That Use Our Services"),". You will be able to prevent your data from being used by Google Analytics by installing Googles opt-out browser add-on from the"," ",d.default.createElement("a",{href:"https://tools.google.com/dlpage/gaoptout"},"Google Analytics Opt-out Page"),"."),d.default.createElement("li",null,"To learn more about how to opt out of the use of cookies and similar technologies, generally, visit the Network Advertising Initiative and the Digital Advertising Alliance."))),d.default.createElement(c.Accordion,{className:u.default.question,header:d.default.createElement("h3",null,"Which Third Party Vendors will get access to my data?")},d.default.createElement("p",null,"We rely on service providers to help us provide and improve the service, including Chan Zuckerberg Initiative our technology partner. In our terms with third party service providers, we work with service providers to secure data from unauthorized access and use and limit their use of data to providing and improving relevant services that we use. If you have more questions about our service providers, please contact us at"," ",d.default.createElement("a",{href:"mailto:privacy@idseq.net"},"privacy@idseq.net"),".")),d.default.createElement(c.Accordion,{className:u.default.question,header:d.default.createElement("h3",null,"Im a California resident - can you tell me more about the CCPA?")},d.default.createElement("p",null,"The California Consumer Privacy Act (CCPA) gives consumers who are residents of California the right to request information about the personal information that a business has collected in the past 12 months, such as:",d.default.createElement("ul",null,d.default.createElement("li",null,d.default.createElement("b",null,"Information about Data Collection."),d.default.createElement("li",{className:u.default.innerListItem},"(1) The categories of personal information that have been collected."),d.default.createElement("li",{className:u.default.innerListItem},"(2) The specific pieces of personal information that have been collected about you."),d.default.createElement("li",{className:u.default.innerListItem},"(3) The categories of sources that have collected it."),d.default.createElement("li",{className:u.default.innerListItem},"(4) The business purpose for collecting personal information.")),d.default.createElement("li",null,d.default.createElement("b",null,"Information about Data Disclosure."),d.default.createElement("li",{className:u.default.innerListItem},"(1) The categories of third parties with whom personal information has been shared."),d.default.createElement("li",{className:u.default.innerListItem},"(2) The categories of personal information that we have disclosed for a business purpose.")))),d.default.createElement("p",null,"We have described in fuller detail in our"," ",d.default.createElement("a",{href:"/privacy"},"Privacy Policy")," our collection and use of personal information in connection with IDseq, including: (a)"," ",d.default.createElement("b",null,"Information we collect")," (e.g. uploaded data, user profile information, etc.); (b) ",d.default.createElement("b",null,"Sources of information")," (e.g. data you upload to IDseq and your use of IDseq), and (c)"," ",d.default.createElement("b",null,"Purposes of disclosure of this information")," (e.g. with service providers to help operate and improve the service as described in detail in the IDseq Privacy Policy). To request any of your information described above, email"," ",d.default.createElement("a",{href:"mailto:privacy@idseq.net"},"privacy@idseq.net"),". Please include in your request sufficient information that allows us to reasonably verify that you are the person about whom we collected personal information."),d.default.createElement("p",null,d.default.createElement("b",null,"Please note"),": (1) CZI does not sell your personal data, and CZI will not discriminate against you in any way based on your exercise of the rights described above, and (2) this"," ",d.default.createElement("b",null,"notice relates only to the IDseq services")," and not other services or programs offered, or supported, by CZI. Contact"," ",d.default.createElement("a",{href:"mailto:privacy@chanzuckerberg.com"},"privacy@chanzuckerberg.com")," ","if you have questions about the use of personal information in any other services or programs offered, or supported, by CZI.")))}}]),FAQPage}(d.default.Component);t.default=f},,,function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(0)),c=a(62),u=l(a(245)),f=function(e){function PrivacyPolicy(){return(0,n.default)(this,PrivacyPolicy),(0,o.default)(this,(0,s.default)(PrivacyPolicy).apply(this,arguments))}return(0,i.default)(PrivacyPolicy,e),(0,r.default)(PrivacyPolicy,[{key:"render",value:function render(){return d.default.createElement(c.NarrowContainer,{className:u.default.privacyPolicy,size:"small"},d.default.createElement("div",{className:u.default.title},d.default.createElement("h1",null,"IDseq Data Privacy Notice"),d.default.createElement("h4",{className:u.default.subtitle},"Last Updated: May 13, 2019."," ",d.default.createElement("a",{href:"/terms_changes"},"See Recent Changes"))),d.default.createElement("p",{className:u.default.large},"The Chan Zuckerberg Biohub Inc. (",d.default.createElement("b",null,"CZ Biohub"),", ",d.default.createElement("b",null,"we"),", ",d.default.createElement("b",null,"us"),", or ",d.default.createElement("b",null,"our"),") provides the IDseq platform (",d.default.createElement("b",null,"Services")," or ",d.default.createElement("b",null,"IDseq"),") in partnership with the Chan Zuckerberg Initiative, LLC (CZI). This Data Privacy Notice (",d.default.createElement("b",null,"Privacy Notice"),") describes the types of information we collect or that is uploaded by website visitors (",d.default.createElement("b",null,"Visitors"),") and registered users (",d.default.createElement("b",null,"Users"),"), and how we use, share, and protect that information. See our"," ",d.default.createElement("a",{href:"/faqs"},"FAQ"),", which has useful information about IDseq, and for more information about our data practices, the IDseq service and the ",d.default.createElement("a",{href:"/terms"},"Terms of Use")," (",d.default.createElement("b",null,"Terms"),") that applies to your access and use of IDseq."),d.default.createElement("h3",null,"About IDseq"),d.default.createElement("p",{className:u.default.large},"IDseq is an online platform designed to enable the research community to research pathogens in metagenomic sequencing and to help further the study of infectious diseases. To do this, IDseq processes genetic data in order to identify pathogens contained within."),d.default.createElement("p",{className:u.default.large},d.default.createElement("b",null,"Heres how IDseq works"),": Users submit Upload Data (as described below). This data may contain human and non-human genetic sequences (",d.default.createElement("b",null,"Sample Data"),"; as further defined below), as well as information about those sequences, such as the date the sample was collected and the species it was collected from (",d.default.createElement("b",null,"Sample Metadata")," as further defined below). For example, a researcher might upload genetic information from mosquitoes, which are often a source of infectious disease, or from humans, who can be infected by such diseases. IDseq then processes this Upload Data in order to identify pathogens found within the genetic sequence (e.g., the mosquito may be carrying the chikungunya virus)."),d.default.createElement("p",{className:u.default.large},"We hope that this sharing of pathogen data will help to create a global dashboard that helps researchers better understand pathogens."),d.default.createElement("p",{className:u.default.large},"IDseq also collects information about Users in order to offer the Service. Other than basic information required to create an account (e.g. email address, name), the User determines what information they want to upload onto IDseq. Please note: IDseq is not designed for or directed toward children under the age of sixteen."),d.default.createElement("h2",null,d.default.createElement("span",{className:u.default.number},"1."),"Upload Data."),d.default.createElement("p",{className:u.default.large},"",d.default.createElement("b",null,"Upload Data")," is data that Users upload to IDseq (other than the information Users provide during registration to create an account). As explained below, Upload Data consists of genetic sequence information (human or non-human) and metadata about those genetic sequences (such as time and location of sample collection)."),d.default.createElement("p",{className:u.default.large},"As described in our Terms, Users are required to obtain and maintain all necessary consents, permissions, and authorizations required by applicable laws prior to uploading, sharing, and exporting Upload Data with the Services."),d.default.createElement("p",{className:u.default.large},d.default.createElement("div",{className:u.default.underlineHeader},"What Is Upload Data?")),d.default.createElement("p",{className:u.default.large},"Upload Data includes Sample Data and Sample Metadata."),d.default.createElement("ul",null,d.default.createElement("li",null,d.default.createElement("span",{className:u.default.listItemLabel},"Sample Data:"),"",d.default.createElement("b",null,"Sample Data")," is full genetic sequence data uploaded by Users. Genetic sequence data contains genetic information about pathogens in the sample and of the host from which the sample was taken. The host could be a human or non-human (e.g., mosquito). You should not be able to find any human sequence data in IDseq other than those embedded in samples you yourself have uploaded. This is because we filter out and discard host sequence data in order to generate Reports. If you are able to find human sequence data elsewhere in IDseq, please let us know at"," ",d.default.createElement("a",{href:"mailto:privacy@idseq.net"},"privacy@idseq.net")," and we will address it."),d.default.createElement("li",null,d.default.createElement("span",{className:u.default.listItemLabel},"Sample Metadata:"),"",d.default.createElement("b",null,"Sample Metadata")," includes information related to the Sample Data, such as the host type (e.g., human or mosquito), upload date, and tissue type and free-text research notes entered by Users. This data ",d.default.createElement("u",null,"should not")," include personally-identifying information regarding the individual to whom the Sample Data relates.")),d.default.createElement("p",{className:u.default.large},d.default.createElement("div",{className:u.default.underlineHeader},"How We Use Upload Data")),d.default.createElement("p",{className:u.default.large},"Upload Data is used for the following purposes:",d.default.createElement("ul",null,d.default.createElement("li",null,"To create Report Data (described below), including new reports for Users when we update our Data Pipeline."),d.default.createElement("li",null,"To improve the way IDseq creates Report Data, including improving our Data Pipeline.")),d.default.createElement("b",null,"We never sell your data, including your personally identifiable information (personal data).")),d.default.createElement("p",{className:u.default.large},d.default.createElement("div",{className:u.default.underlineHeader},"How We Share Upload Data")),d.default.createElement("p",{className:u.default.large},"Sample Data and Sample Metadata are shared back to the Users that uploaded the data, as well as other IDseq users with whom they expressly choose to share that information. Users can share the Sample Data and Metadata they submit by creating Projects (groups of Samples and Reports) and sharing those Projects with other IDseq users, who will then be able to see and download the Sample Data that was shared with them."),d.default.createElement("p",{className:u.default.large},"Please note that in order to advance IDseqs goal of creating a global pathogen dashboard for researchers, Sample Metadata and Report Data (described below) will be made available to Users outside of a Project."," ",d.default.createElement("b",null,"That is, any User of IDseq will be able to see your Sample Metadata and Report Data unless you take action to delete your Upload Data before the one year anniversary of upload.")," ","Even after Metadata and Report Data are made available to all Users, your Sample Data will continue to remain available only to you and anyone you have decided to share it with."),d.default.createElement("p",{className:u.default.large},"Sample Data and Metadata is also shared as described in the section on Partners, Vendors, and Other Third Parties below."),d.default.createElement("p",{className:u.default.large},d.default.createElement("div",{className:u.default.underlineHeader},"Whats our legal basis to use and share Upload Data?")),d.default.createElement("p",{className:u.default.large},"To the extent that the European Unions General Data Protection Regulation (GDPR) applies, we rely on the following legal bases to use and share personal data within Upload Data:"),d.default.createElement("ul",null,d.default.createElement("li",null,"The explicit consent of the individual whose data is being analyzed, where such consent has been obtained by the User in accordance with the GDPR; and"),d.default.createElement("li",null,"The public interest and our and our Users legitimate interest in investigating and stopping the spread of infectious diseases and promoting global health. The use and sharing of personal data within Upload Data furthers the public interest in the area of public health, particularly by helping to protect against serious cross-border threats to health. The processing of personal data within Upload Data is also necessary for scientific research purposes.")),d.default.createElement("h2",null,d.default.createElement("span",{className:u.default.number},"2."),"Report Data."),d.default.createElement("p",{className:u.default.large},"Report Data is information IDseq produced from Upload Data. We generate Report Data by processing Upload Data through our Data Pipeline. The ",d.default.createElement("b",null,"Data Pipeline")," cleans (e.g., by removing duplicate nucleotides) and analyzes (e.g., by matching Sample Data nucleotide sequences with known pathogen sequences) the Upload Data. Report Data may include, for example, data about the pathogen sequences identified in the Sample Data and the frequency of such identification (",d.default.createElement("b",null,"Pathogen Data"),") or raw numeric counts of non-personally identifying gene expression profiles that were found in the Sample Data (",d.default.createElement("b",null,"Gene Counts"),")."),d.default.createElement("p",{className:u.default.large},"Once Sample Data has been put through the Data Pipeline, the Report Data that is produced no longer includes any human genetic sequence data, and is not personal data, and does not, on its own, permit association with any specific individual. You should not be able to find any human sequence data in IDseq other than those embedded in samples you yourself have uploaded. This is because we filter out and remove host sequence data in order to generate Reports. If you are able to find human sequence data elsewhere in IDseq, please let us know at ",d.default.createElement("a",{href:"mailto:privacy@idseq.net"},"privacy@idseq.net")," and we will address it."),d.default.createElement("p",{className:u.default.large},d.default.createElement("div",{className:u.default.underlineHeader},"Who can see Report Data?")),d.default.createElement("p",{className:u.default.large},"After 1 year from upload of originating Sample Data, Report Data is visible to all IDseq Users, and they may share it with others beyond IDseq."),d.default.createElement("h2",null,d.default.createElement("span",{className:u.default.number},"3."),"Visitor and User Data."),d.default.createElement("p",{className:u.default.large},"Visitor and User Data is the information we collect from you and your use of IDseq."),d.default.createElement("p",{className:u.default.large},d.default.createElement("div",{className:u.default.underlineHeader},"What We Collect")),d.default.createElement("ul",null,d.default.createElement("li",null,d.default.createElement("span",{className:u.default.listItemLabel},"Visitor Data."),"This is information collected from visitors to our website, whether or not they are Users (",d.default.createElement("b",null,"Visitor Data"),")."),d.default.createElement("li",null,d.default.createElement("span",{className:u.default.listItemLabel},"User Data."),"User Data is any information we collect from a User about that User (",d.default.createElement("b",null,"User Data"),"). It may include information necessary to create or access your account such as your name, username, email address, and login credentials."),d.default.createElement("li",null,"When Visitors and Users visit or use our Service, we may automatically collect Device Data or Analytics Information. ",d.default.createElement("b",null,"Device Data")," includes information about your browser type and operating system, IP address and/or device ID, including basic analytics from your device or browser. ",d.default.createElement("b",null,"Analytics Information")," relates to any of your requests, queries, or use of the Services, such as the amount of time spent viewing particular web pages. We use"," ",d.default.createElement("a",{href:"/faqs"},"Google Analytics")," for this service. Visitor Data may also include information we collect about you when you visit our website or use the Services, including through the use of cookies, web beacons, and other technologies."),d.default.createElement("li",null,d.default.createElement("span",{className:u.default.listItemLabel},"Cookies, Web Beacons, and other Technologies."),"A cookie is a small file that may be stored on your computer or other device. Web beacons and similar technologies are small bits of code embedded in web pages, ads, and email that communicate with third parties. We use these technologies to recognize your device and browser and do things such as keep you logged in or to understand usage patterns by Users and Visitors to our Services. We do not use cookies to service third party ads. For more information about our cookies use, please see our ",d.default.createElement("a",{href:"/faqs"},"FAQ"),".")),d.default.createElement("p",{className:u.default.large},d.default.createElement("div",{className:u.default.underlineHeader},"How We Use That Data")),d.default.createElement("p",{className:u.default.large},"Visitor Data and User Data (including any Personal Data in the Visitor Data and User Data) will be used for the following purposes:"),d.default.createElement("ul",null,d.default.createElement("li",null,"To identify you, create a profile for Users, and verify Users identity so you can log in to and use IDseq."),d.default.createElement("li",null,"To provide you with notices about your account and updates about IDseq."),d.default.createElement("li",null,"To respond to your inquiries and requests."),d.default.createElement("li",null,"To analyze how Users and Visitors are using IDseq so we can optimize and improve it."),d.default.createElement("li",null,"To protect the security and integrity of IDseq.")),d.default.createElement("p",{className:u.default.large},d.default.createElement("div",{className:u.default.underlineHeader},"What is our legal basis for using Personal Data in Visitor Data and User Data?")),d.default.createElement("p",{className:u.default.large},"We (along with CZI (defined below)) have a legitimate interest in using personal data within Visitor Data and User Data in the ways described in this ",d.default.createElement("a",{href:"/privacy"},"Privacy Policy")," to provide, protect, and improve IDseq. This allows us to improve the service that we provide to Users which, in turn, supports research regarding the study of infectious disease with the potential to benefit global public health. You can contact us at"," ",d.default.createElement("a",{href:"mailto:privacy@idseq.net"},"privacy@idseq.net"),"."),d.default.createElement("h2",null,d.default.createElement("span",{className:u.default.number},"4."),"Vendors, and Other Third Parties."),d.default.createElement("p",{className:u.default.large},"The Chan Zuckerberg Initiative, LLC (",d.default.createElement("b",null,"CZI"),") is our primary technology partner in building IDseq. CZI helps design, build, and operate IDseq. As a result, all data, including any personal data, in IDseq is shared with CZI, and it is a joint data controller of all personal data in the Service. CZI processes data in accordance with this Privacy Notice and access to any data within IDseq by CZI is limited to those staff who reasonably need access to operate the service."),d.default.createElement("p",{className:u.default.large},"We also share Upload Data, Report Data, Visitor Data, and User Data with service providers, including service providers to CZI, such as database providers like Amazon Web Services. We may also share Visitor and User data with analytics vendors that assist us to improve and optimize IDseq. Learn more about our use of vendors in our"," ",d.default.createElement("a",{href:"/faqs"},"FAQ"),"."),d.default.createElement("p",{className:u.default.large},"If we can no longer keep operating IDseq or believe that its purpose is better served by having another entity operating it, we will transfer IDseq and all data existing therein (Upload Data, Report Data, Visitor Data, and User Data) so that the Users can continue to be served. We will always let you know"," ",d.default.createElement("b",null,d.default.createElement("i",null,"before"))," ","this happens, and you will have the option to delete your account and any data youve uploaded. Should this occur, the entity to which we transfer your data will be obliged to use it in a manner that is consistent with this Privacy Notice and the Terms."),d.default.createElement("p",{className:u.default.large},"We may disclose Upload Data, Report Data, Visitor Data, and/or User Data if we believe in good faith that such disclosure is necessary (a) in connection with any legal investigation; (b) to comply with relevant laws or to respond to subpoenas or warrants served on us; (c) to protect or defend our rights or property or those of Users; and/or (d) to investigate or assist in preventing any violation or potential violation of the law, this Privacy Notice, or our Terms."),d.default.createElement("h2",null,d.default.createElement("span",{className:u.default.number},"5."),"How We Protect the Information."),d.default.createElement("p",{className:u.default.large},"We use industry standard security measures to ensure the confidentiality, integrity and availability of data uploaded into IDseq. This includes practices like encrypting connections to IDseq using TLS, hosting IDseq on leading cloud providers with robust physical security, and ensuring that access to any personal data within IDseq by CZI and CZ Biohub staff is limited to those staff who need access to operate the Service."),d.default.createElement("p",{className:u.default.large},"Security takes ongoing work and we will continue to monitor and adjust our security measures as IDseq develops. Please notify us immediately at"," ",d.default.createElement("a",{href:"mailto:security@idseq.net"},d.default.createElement("b",null,"security@idseq.net"))," ","if you suspect your account has been compromised or are aware of any other security issues relating to IDseq."),d.default.createElement("h2",null,d.default.createElement("span",{className:u.default.number},"6."),"How Long We Retain Data and Data Deletion."),d.default.createElement("p",{className:u.default.large},"We retain your personal data only as long as is reasonably necessary:"),d.default.createElement("ul",null,d.default.createElement("li",null,"Sample Data and Sample Metadata is retained until Users delete it from IDseq. Users may submit deletion requests by emailing"," ",d.default.createElement("a",{href:"mailto:privacy@idseq.net"},"privacy@idseq.net")," and we will delete the requested Sample Data and corresponding Sample Metadata within 60 days."),d.default.createElement("li",null,"Report Data produced by IDseq will be retained on IDseq."),d.default.createElement("li",null,"User Data is retained until Users delete their IDseq account as such data is required to manage the service. Users may submit account deletion requests by emailing"," ",d.default.createElement("a",{href:"mailto:privacy@idseq.net"},"privacy@idseq.net"),". We will delete personal data within 60 days following close of your account.")),d.default.createElement("p",{className:u.default.large},"Please note that we do not control, and so cannot delete, personal data that Users have copied outside of IDseq."),d.default.createElement("h2",null,d.default.createElement("span",{className:u.default.number},"7."),"Choices About Your Data."),d.default.createElement("p",{className:u.default.large},"If you are a User, you have the following choices:"),d.default.createElement("ul",null,d.default.createElement("li",null,"Users are able to request the deletion of User Data that constitutes their personal data or Sample Data that they submitted to IDseq."),d.default.createElement("li",null,"Users are able to access and download Report Data relating to Upload Data they submitted within IDseq."),d.default.createElement("li",null,"Users may also object to the processing of User Data in certain circumstances by emailing"," ",d.default.createElement("a",{href:"mailto:privacy@idseq.net"},"privacy@idseq.net"),". In such cases, we will stop processing that data unless we have legitimate grounds to continue processing it -- for example, it is needed for legal reasons."),d.default.createElement("li",null,"Users can also contact us by emailing"," ",d.default.createElement("a",{href:"mailto:privacy@idseq.net"},"privacy@idseq.net")," should they wish to access, restrict the processing of, or rectify their User Data.")),d.default.createElement("p",{className:u.default.large},"If a User has submitted Upload Data containing your personal data, please see below:"),d.default.createElement("ul",null,d.default.createElement("li",null,"We require Users who submit Upload Data to ensure they have all necessary consents, permissions, and authorizations to do so. We are unable to relate Upload Data to identifiable individuals and so cannot directly process requests from persons whose personal sequencing data may be contained in Upload Data. As a result, IDseq is able to receive access, restriction, rectification, objection, or deletion requests only from Users."),d.default.createElement("li",null,"If you believe your information has been uploaded to IDseq, you should contact the researcher or User that uploaded this information to (i) request access to the information, (ii) object to the processing of the information, or (iii) seek deletion, restriction, or rectification of the information. Similarly, if you previously provided consent to a researcher or User, you may have the right to withdraw that consent. You should contact the researcher or User to make such a withdrawal or otherwise exercise your rights.")),d.default.createElement("p",{className:u.default.large},"Please contact us at"," ",d.default.createElement("a",{href:"mailto:privacy@idseq.net"},"privacy@idseq.net")," if you would like to exercise the privacy choices discussed above or if you have any questions. If your data is subject to the EU data protection law (e.g., GDPR) and you wish to raise a concern about our use of your information (and without prejudice to any other rights you may have), you have the right to do so with your local supervisory authority. You can always contact our Data Protection Officer by emailing us at contact us at ",d.default.createElement("a",{href:"mailto:privacy@idseq.net"},"privacy@idseq.net")," ","or contacting us as further described in our ",d.default.createElement("a",{href:"/faqs"},"FAQ"),"."),d.default.createElement("h2",null,d.default.createElement("span",{className:u.default.number},"8."),"Data Transfers."),d.default.createElement("p",{className:u.default.large},"IDseq is a global service. By using IDseq, Users authorize us to transfer and store the uploaded data outside of your home country, including to the United States, for the purposes described in this Privacy Notice."),d.default.createElement("p",{className:u.default.large},"If you want to use IDseq, you must first agree to our"," ",d.default.createElement("a",{href:"/terms"},"Terms"),", which set out the contract between IDseq and our Users. We operate in countries worldwide (including in the United States) and use technical infrastructure in the United States to deliver the Services to you. In accordance with the contract between us and our Users, we need to transfer personal data to the United States and to other jurisdictions as necessary to provide the Services. Such transfers are necessary for important reasons of public interest, namely global health and providing information which can be used by researchers to better understand the spread of infectious diseases. Please note that the privacy protections and the rights of authorities to access your information in these countries may not be the same as in your home country. See our ",d.default.createElement("a",{href:"/faqs"},"FAQ"),"."),d.default.createElement("h2",null,d.default.createElement("span",{className:u.default.number},"9."),"How to Contact Us."),d.default.createElement("p",{className:u.default.large},"If you have any questions, comments, or concerns with this Privacy Notice, you may contact our Data Protection Officer (DPO) by email at"," ",d.default.createElement("a",{href:"mailto:privacy@idseq.net"},"privacy@idseq.net")," or by physical mail at the addresses in the FAQ. You can contact CZI by email at"," ",d.default.createElement("a",{href:"mailto:privacy@chanzuckerberg.com"},"privacy@chanzuckerberg.com"),"."),d.default.createElement("h2",null,d.default.createElement("span",{className:u.default.number},"10."),"Changes to This Privacy Notice."),d.default.createElement("p",{className:u.default.large},"This Privacy Notice was last updated on the date above. We may update this Privacy Notice from time to time and will provide you with notice of material updates before they become effective."))}}]),PrivacyPolicy}(d.default.Component);t.default=f},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(0)),c=a(62),u=l(a(487)),f=a(57),p=a(20),m=l(a(145)),h=l(a(245)),g=function(e){function PublicNcovHomepage(){return(0,n.default)(this,PublicNcovHomepage),(0,o.default)(this,(0,s.default)(PublicNcovHomepage).apply(this,arguments))}return(0,i.default)(PublicNcovHomepage,e),(0,r.default)(PublicNcovHomepage,[{key:"render",value:function render(){var e=(this.context||{}).appConfig,t="public?projectId=".concat(e.publicNcovProjectId,"&currentDisplay=table&currentTab=samples&")+'sampleActiveColumns=%5B"sample"%2C"createdAt"%2C"host"%2C"collectionLocationV2"%2C"sampleType"%2C"totalReads"%2C"nonHostReads"%2C"qcPercent"%5D&showFilters=true&showStats=true',a=d.default.createElement(m.default,{className:h.default.link,href:e.publicIndexCaseUrl,onClick:function onClick(){return(0,p.logAnalyticsEvent)("PublicNCovHomePage_index-case-link-one_clicked")}},"Index Case sample (Patient 1)"),l=d.default.createElement(m.default,{className:h.default.link,href:e.publicIndexCaseUrl,onClick:function onClick(){return(0,p.logAnalyticsEvent)("PublicNCovHomePage_index-case-link-two_clicked")}},"sample"),n=d.default.createElement(m.default,{className:h.default.link,href:e.publicFamily1Url,onClick:function onClick(){return(0,p.logAnalyticsEvent)("PublicNCovHomePage_family-one-link_clicked")}},"Family Member 1"),r=d.default.createElement(m.default,{className:h.default.link,href:e.publicFamily2Url,onClick:function onClick(){return(0,p.logAnalyticsEvent)("PublicNCovHomePage_family-two-link_clicked")}},"Family Member 2"),o=d.default.createElement(m.default,{className:h.default.link,href:e.publicFamily3Url,onClick:function onClick(){return(0,p.logAnalyticsEvent)("PublicNCovHomePage_family-three-link_clicked")}},"Family Member 3"),s=d.default.createElement(m.default,{className:h.default.link,href:"visualizations/heatmap/".concat(e.publicNcovHeatmapId),onClick:function onClick(){return(0,p.logAnalyticsEvent)("PublicNCovHomePage_heatmap-link_clicked")}},"identified several genera commonly associated with nasopharyngeal flora"),i=d.default.createElement(m.default,{className:h.default.link,href:e.publicIndexCaseUrlWithOldPipeline,onClick:function onClick(){return(0,p.logAnalyticsEvent)("PublicNCovHomePage_index-case-old-pipeline-link_clicked")}},"In the first case");return d.default.createElement(c.NarrowContainer,{className:h.default.publicNcovHomepage,size:"small"},d.default.createElement("div",{className:h.default.title},d.default.createElement("h1",null,"Wuhan Family Cluster"),d.default.createElement("div",{className:h.default.fill}),d.default.createElement("a",{href:t},d.default.createElement(u.default,{label:"View Samples",onClick:function onClick(){return(0,p.logAnalyticsEvent)("PublicNcovHomepage_view-samples-link_clicked")}}))),d.default.createElement("img",{className:h.default.image,src:"assets/wuhan_map.png"}),d.default.createElement("h2",null,"Background"),d.default.createElement("p",{className:h.default.large},"Incubation periods and transmissibility are questions of current worldwide concern, but difficult to answer given nonspecific symptoms that represent a variety of respiratory viruses. In this setting, genetic characterization of the virus from geographically diverse patient samples is key to infer the rate of spread. However, as the virus reaches resource-limited settings such as Cambodia, Laos, and Myanmar in proximity to the outbreaks epicenter, there are basic challenges in sample collection, contact tracing, and surveillance that hinder disease containment, much less the ability to sequence new cases in-country. Implementing in-country sequencing and post-sequencing data analysis speeds up the time to answers, giving scientists in-country more ability to combat emerging infections."),d.default.createElement("h2",null,"About"),d.default.createElement("p",{className:h.default.large},"In a rapidly implemented response to the nCOV-2019 outbreak, the"," ",d.default.createElement("b",null,"CNM-NIAID")," team and Institut Pasteur used metagenomic next-generation sequencing (mNGS) and the IDseq bioinformatics platform to review the Cambodian index nCOV-2019 case and three sick family members, who had tested negative for nCOV-2019, in less than 48 hours from sample receipt."),d.default.createElement("p",{className:h.default.large},"This project had 3 goals:"),d.default.createElement("ol",null,d.default.createElement("li",null,"Characterize the novel virus in addition to other potential pathogens circulating in the family cluster."),d.default.createElement("li",null,"Investigate whether mNGS could reveal etiology for the 3 symptomatic PCR-negative family members."),d.default.createElement("li",null,"Determine the full genomic sequence for immediate public use, comparing the sequence to existing published genomes around the world to understand global transmission patterns.")),d.default.createElement("h2",null,"What hypothesis did the scientists have going in?"),d.default.createElement("ol",null,d.default.createElement("li",null,"While RT-PCR confirmed the first positive case of the novel coronavirus in Cambodia, mNGS may provide additional sensitivity and reveal etiology for symptomatic, PCR-negative, family members."),d.default.createElement("li",null,"Given the patient traveled directly from Wuhan to Cambodia on January 23, his virus should be phylogenetically similar to initial sequences published by Chinese researchers in Wuhan.")),d.default.createElement("h2",null,"How was the data generated?"),d.default.createElement("p",{className:h.default.large},"Institut Pasteur Cambodia conducted the RNA extraction from four nasopharyngeal swabs (NPS) from the index case and three symptomatic family members. On February 1st, the ",d.default.createElement("b",null,"NIH-CNM")," team made libraries from the extracted RNA, sequenced the samples on an iSeq100, demuxed the FASTQ files, and downloaded the results from Illuminas Basespace. The data was then uploaded to IDseq and processed using the latest IDseq database - updated from NCBI on 2019-09-17. While the index did not contain the reference sequences for SARS-CoV-2, which were deposited to NCBI in January 2020, conclusions could still be drawn from the data. IDseqs NCBI database index was updated on 2019-02-10 with the most recent version of NCBI that included the recently added SARS-CoV-2 sequences. The analysis was rerun using the new index to confirm the match to SARS-CoV-2 in the PCR-positive index case."),d.default.createElement("h2",null,"What conclusions were drawn from the data?"),d.default.createElement("ol",null,d.default.createElement("li",null,"SARS-CoV-2 was identified in the ",a,", confirming the PCR-positive results. Looking at the ",l," and pipeline run with the most recent index you can see that IDseq picked up 1,237 reads that aligned to the genus Betacoronavirus (1,237 by NT, 1,173 by NR) with an average percent identity of 99.9% in NT. IDseq was able to generate 30 contigs from those reads with 45.9% coverage of NCBI accession sequence MN988558.1."),d.default.createElement("li",null,"SARS-CoV-2 or similar pathogens were not found in any of the PCR-negative symptomatic family members (",n,","," ",r,", ",o,") This means that the mNGS results align with the previously given PCR test."),d.default.createElement("li",null,"In the symptomatic, but PCR-negative family members, IDseq"," ",s," at levels significantly greater than the water controls, generating hypotheses regarding the origin of the symptoms."),d.default.createElement("li",null,"IDseq was able to successfully provide information on the presence of the novel coronavirus prior to the existence of full reference genomes in the NCBI database. The Index Case sample was run through the IDseq pipeline twice - first using an NCBI index that did not contain the new Wuhan seafood market pneumonia virus and then again with an NCBI index that was generated in February 2020 that did contain the newly identified viral sequences."," ",i,", IDseq correctly picked up a divergent match with SARS-CoV (755 reads in NT and 854 reads in NR with an average percent identity of 91.5% and 88.8%, respectively). In the second case, IDseq correctly identified a match with the new SARS-CoV-2 reference (1,278 reads, at 99.9% identity to the reference sequence). These results indicate that even prior to the addition of the reference sequence to the database, IDseq demonstrated 93% read-level recall.")))}}]),PublicNcovHomepage}(d.default.Component);t.default=g,g.contextType=f.UserContext},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(0)),c=a(62),u=l(a(245)),f=function(e){function TermsChanges(){return(0,n.default)(this,TermsChanges),(0,o.default)(this,(0,s.default)(TermsChanges).apply(this,arguments))}return(0,i.default)(TermsChanges,e),(0,r.default)(TermsChanges,[{key:"render",value:function render(){return d.default.createElement(c.NarrowContainer,{className:u.default.termsOfUse,size:"small"},d.default.createElement("div",{className:u.default.title},d.default.createElement("h1",null,"IDseq Terms and Privacy Notice Update for June 2019")),d.default.createElement("p",{className:u.default.large},"Control over your data is important to the success of IDseq. We periodically update our Terms of Use and Data Privacy Notice to help ensure that our Users understand their responsibilities and rights when they use IDseq, as well as how we collect, use and protect their data."),d.default.createElement("p",{className:u.default.large},"We are planning to update our Terms of Use and Data Privacy Notice for the IDseq service to be effective on June 24, 2019. We encourage our Users to read the revised ",d.default.createElement("a",{href:"/terms"},"Terms")," and"," ",d.default.createElement("a",{href:"/privacy"},"Privacy Notice"),". We have also provided more information about our updates through a new"," ",d.default.createElement("a",{href:"/faqs"},"FAQ page"),"."),d.default.createElement("h2",null,"IDseq Terms of Use"),d.default.createElement("p",{className:u.default.large},"This summary is intended to help you better understand the most recent changes to the IDseq Terms of Use and how they may impact you. To be clear, many important matters are not changing, including your responsibility to get appropriate permissions to upload and share data through IDseq and our promise not to sell your data."," ",d.default.createElement("b",null,"You own your data - using IDseq doesnt change that.")),d.default.createElement("p",{className:u.default.large},"We also encourage you to read the full revised"," ",d.default.createElement("a",{href:"/terms"},"Terms"),"."),d.default.createElement("h3",null,"Introduction Section."),d.default.createElement("ul",null,d.default.createElement("li",null,"We clarified that the purpose of IDseq is for research purposes only and"," ",d.default.createElement("u",null,"is not intended to be used to make decisions regarding health care of persons.")),d.default.createElement("li",null,"We provided more information about how IDseq works, including how and when your data will be shared with other Users of IDseq. As before, we seek to filter out human data from the data that is uploaded by our Users."),d.default.createElement("li",null,"We added more clarity by providing new and more nuanced definitions of the types of data that IDseq processes. We have retired the broad definition of Research Data and replaced it with several more specific terms, such as Upload Data (data you upload), Sample Data, (part of Upload Data that includes full genetic sequence data), Sample Metadata (part of Upload Data that provides context for the Sample Data) and Report Data (the report about the pathogen produced by the IDseq service).")),d.default.createElement("h3",null,d.default.createElement("span",{className:u.default.number},"1.")," Upload and Report Data."),d.default.createElement("ul",null,d.default.createElement("li",null,"We added more details about how you can have your data removed and/or deleted from IDseq."),d.default.createElement("li",null,"We added more clarity about when Report Data becomes visible to other Users of IDseq. Report Data and Sample Metadata will be available to all other IDseq Users for their use"," ",d.default.createElement("b",null,"after 1 year of it being uploaded unless you take action to remove it"),". Making this Report Data available to others is important IDseqs success as a research tool to advance the study of infectious diseases."),d.default.createElement("li",null,"We added that the representations and warranties you make about the data you upload, extend not just to us, but also the service providers that we use."),d.default.createElement("li",null,"We emphasized that your obligation to get appropriate permissions to upload data to IDseq should include a review of the ethical standards that apply to you."),d.default.createElement("li",null,"We clarified our requirement that Users do not attempt to identify the person to whom any particular set of data may apply."),d.default.createElement("li",null,"We made it clearer that we do not want you to upload any regulated health information into IDseq.")),d.default.createElement("h3",null,d.default.createElement("span",{className:u.default.number},"2.")," Authorization To Use IDseq."),d.default.createElement("ul",null,d.default.createElement("li",null,"We made it clearer that Users should not share their accounts with others and that everyone who wishes to access and use IDseq should have their own account, including your research associates.")),d.default.createElement("h3",null,d.default.createElement("span",{className:u.default.number},"3.")," Restrictions On Use."),d.default.createElement("ul",null,d.default.createElement("li",null,"In the unlikely event we need to terminate your access to IDseq, we added that we will try to provide you notice through the contact information that you have provided to us.")),d.default.createElement("h3",null,d.default.createElement("span",{className:u.default.number},"4.")," Registration And Contact Information."),d.default.createElement("ul",null,d.default.createElement("li",null,"We added that we can notify you regarding updates to our Terms of Use and Privacy Notice through the contact information that we have for you.")),d.default.createElement("h3",null,d.default.createElement("span",{className:u.default.number},"5.")," Changes to IDseq or the Terms."),d.default.createElement("ul",null,d.default.createElement("li",null,"We clarified that when we provide notice of changes to our Terms of Use, that we will attempt to provide notice ",d.default.createElement("b",null,"before")," the changes are effective."),d.default.createElement("li",null,"We provided clearer information about how you can close your account in the event you do not find our changed terms acceptable, or if you choose to no longer use IDseq.")),d.default.createElement("h3",null,d.default.createElement("span",{className:u.default.number},"6.")," Intellectual Property and Security."),d.default.createElement("ul",null,d.default.createElement("li",null,"We added clearer and simpler language to describe intellectual property rights ownership related to IDseq. Neither we nor any other Users get any ownership rights or the intellectual property rights you own simply because you used IDseq. At the same time, your use of IDseq does not give you ownership of any intellectual property rights you didnt already own."),d.default.createElement("li",null,"If you decide to provide feedback to us about IDseq, we clarified that we are free to use it, but are not obligated to use your feedback.")),d.default.createElement("h3",null,d.default.createElement("span",{className:u.default.number},"7.")," Disclaimers and 8. Limitation of Liability."),d.default.createElement("ul",null,d.default.createElement("li",null,"We added that the disclaimers and limitation of liability also applies to our service providers."),d.default.createElement("li",null,"We clarified that local law may give you additional rights and that our limitation of liability may not apply to you.")),d.default.createElement("h3",null,d.default.createElement("span",{className:u.default.number},"8.")," Choice of Law and Arbitration."),d.default.createElement("ul",null,d.default.createElement("li",null,"We removed the mandatory arbitration requirements. In the unlikely event of a dispute between us, its still possible for us to mutually agree that arbitration is the most effective way to settle our dispute, but under the revised terms, you will no longer be obligated to ",d.default.createElement("b",null,"only")," seek remedies in arbitration -- you can now have any dispute resolved through court.")),d.default.createElement("h3",null,d.default.createElement("span",{className:u.default.number},"9.")," Miscellaneous."),d.default.createElement("ul",null,d.default.createElement("li",null,"We removed language about export compliance because it was duplicative of the already existing obligation to comply with law."),d.default.createElement("li",null,"We added more information about how to contact us through a new FAQ.")),d.default.createElement("h2",null,"IDseq Data Privacy Notice"),d.default.createElement("p",{className:u.default.large},"This summary is intended to help you better understand the most recent changes to the ",d.default.createElement("a",{href:"/privacy"},"IDseq Data Privacy Notice")," and how they may impact you."),d.default.createElement("h3",null,"Introduction Section."),d.default.createElement("ul",null,d.default.createElement("li",null,"We clarified that the purpose of IDseq is for research purposes only and"," ",d.default.createElement("u",null,"is not intended to be used to make decisions regarding health care of persons.")),d.default.createElement("li",null,"We provided more information about how IDseq works,"," ",d.default.createElement("u",null,"including how and when data will be shared with other Users of IDseq"),". We seek to filter out human data from the data that is uploaded by our Users."),d.default.createElement("li",null,"We added more clarity by providing new and more nuanced definitions of the types of data that IDseq processes. We have retired the broad definition of Research Data and replaced it with several more specific terms, such as Upload Data (data you upload), Sample Data, (part of Upload Data that includes full genetic sequence data), Sample Metadata (part of Upload Data that provides context for the Sample Data) and Report Data (the report about the pathogen produced by the IDseq service).")),d.default.createElement("h3",null,d.default.createElement("span",{className:u.default.number},"1.")," Upload Data and 2. Report Data."),d.default.createElement("ul",null,d.default.createElement("li",null,"We added more details about how you can exercise your right to have your data removed and/or deleted from IDseq."),d.default.createElement("li",null,"We added more clarity about your choices with regard to your data, including by using the Project Feature where you can choose who to share your data with."),d.default.createElement("li",null,"We provided more clarity about when Sample Metadata and Report Data will automatically become visible to other Users of IDseq. All Users of IDseq will be able to access and use this data"," ",d.default.createElement("b",null,"after 1 year of it being uploaded unless you take action to remove it"),". Making this Report Data available to others is important IDseqs success as a research tool to advance the study of infectious diseases."),d.default.createElement("li",null,"We added that the representations and warranties you make about the data you upload, extend not just to us, but also the service providers that we use."),d.default.createElement("li",null,"We added that the representations and warranties you make about the data you upload, extend not just to us, but also the service providers that we use."),d.default.createElement("li",null,"We clarified that your obligation to get appropriate permissions to upload data to IDseq, should include review of the ethical standards that apply to you."),d.default.createElement("li",null,"We clarified our requirement that Users do not attempt to identify the person to whom any particular set of data may apply."),d.default.createElement("li",null,"We made it clearer that we do not want you to upload any regulated health information into IDseq.")),d.default.createElement("h3",null,d.default.createElement("span",{className:u.default.number},"3.")," Visitor and User Data."),d.default.createElement("ul",null,d.default.createElement("li",null,"We clarified that the term User Data means information collected from a User."),d.default.createElement("li",null,"We provided more information about our use of cookies, beacons and similar technologies through our new FAQ."),d.default.createElement("li",null,"We added that we do not use cookies and similar technologies to serve ads for third parties."),d.default.createElement("li",null,"We clarified that we analyze how Visitors use our services, and not just Users."),d.default.createElement("li",null,"We provided additional details about why we believe that we have a valid legal basis to use data provided to IDseq and that we have legitimate interest in using personal data to enable our operation of IDseq.")),d.default.createElement("h3",null,d.default.createElement("span",{className:u.default.number},"4.")," Vendors and Other Third Parties."),d.default.createElement("ul",null,d.default.createElement("li",null,"We provided more information about the Chan Zuckerberg Initiative which acts as a technology partner in developing and operating IDseq and who is a joint-controller of personal data for EU legal purposes."),d.default.createElement("li",null,"We provided more information about third party services provided access to personal data in connection with the development and operation of IDseq, including providing more information in our FAQ."),d.default.createElement("li",null,"In the unlikely event we stop providing the IDseq service, we added that we will let you know ",d.default.createElement("b",null,"before")," we allow another entity to take over its development and operation and that we will require that the third party be bound by the Data Privacy Notice and Terms of Use.")),d.default.createElement("h3",null,d.default.createElement("span",{className:u.default.number},"6.")," How Long We Retain Data and Data Retention and 7. Choices About Your Data."),d.default.createElement("ul",null,d.default.createElement("li",null,"We clarified that we retain personal data only as long as reasonably necessary."),d.default.createElement("li",null,"We provided more information about how to delete your data and how to exercise your rights about your personal data, including requests to access, delete, or restrict our use of their personal data."),d.default.createElement("li",null,"We added a notice that those in the EU have the right to contact their local data protection authority.")),d.default.createElement("h3",null,d.default.createElement("span",{className:u.default.number},"8.")," Data Transfers."),d.default.createElement("ul",null,d.default.createElement("li",null,"We provided more information about why transferring data uploaded to IDseq to the US is necessary to help researchers to better understand infectious diseases.")),d.default.createElement("h3",null,d.default.createElement("span",{className:u.default.number},"9.")," How to Contact Us."),d.default.createElement("ul",null,d.default.createElement("li",null,"We put our contact information into a separate FAQ.")),d.default.createElement("h3",null,d.default.createElement("span",{className:u.default.number},"10.")," Changes to the Privacy Notice."),d.default.createElement("ul",null,d.default.createElement("li",null,"We added that we will provide you notice of any material changes to the Privacy Notice ",d.default.createElement("b",null,"before")," they become effective.")))}}]),TermsChanges}(d.default.Component);t.default=f},function(e,t,a){"use strict";var l=a(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(7)),r=l(a(8)),o=l(a(10)),s=l(a(9)),i=l(a(11)),d=l(a(0)),c=a(62),u=l(a(245)),f=function(e){function TermsOfUse(){return(0,n.default)(this,TermsOfUse),(0,o.default)(this,(0,s.default)(TermsOfUse).apply(this,arguments))}return(0,i.default)(TermsOfUse,e),(0,r.default)(TermsOfUse,[{key:"render",value:function render(){return d.default.createElement(c.NarrowContainer,{className:u.default.termsOfUse,size:"small"},d.default.createElement("div",{className:u.default.title},d.default.createElement("h1",null,"IDseq Terms of Use"),d.default.createElement("h4",{className:u.default.subtitle},"Last Updated: May 13, 2019."," ",d.default.createElement("a",{href:"/terms_changes"},"See Recent Changes"))),d.default.createElement("p",{className:u.default.large},"Please read these Terms of Use (",d.default.createElement("b",null,"Terms"),") before using IDseq (",d.default.createElement("b",null,"Services")," or ",d.default.createElement("b",null,"IDseq"),"). These Terms are entered into between the Chan Zuckerberg Biohub, Inc. (",d.default.createElement("b",null,"CZ Biohub"),", ",d.default.createElement("b",null,"we"),", ",d.default.createElement("b",null,"us")," or ",d.default.createElement("b",null,"our"),") and you (",d.default.createElement("b",null,"User")," or ",d.default.createElement("b",null,"you"),") and govern your use of IDseq. IDseq is comprised of our research portal, any associated online services or platforms that link to or refer to these Terms, and any databases or data accessible through the portal, associated services or platforms. IDseq is designed to enable the research community to investigate pathogens using metagenomic sequencing data and to help further the study of infectious diseases."),d.default.createElement("p",{className:u.default.large},d.default.createElement("b",null,"Please carefully read these terms and indicate your acceptance by registering for IDseq. If you do not agree to these Terms, do not register for an account or use IDseq and do not use it. For more information about our privacy practices, please see the ",d.default.createElement("a",{href:"/privacy"},"Privacy Notice"),").")),d.default.createElement("h3",null,"About IDseq"),d.default.createElement("p",{className:u.default.large},"IDseq is an online platform designed to enable the research community to research pathogens in metagenomic sequencing and to help further the study of infectious diseases. To do this, IDseq processes genetic data in order to identify pathogens contained within."),d.default.createElement("p",{className:u.default.large},d.default.createElement("b",null,"Heres how IDseq works"),": Users submit Upload Data (as described below). This data may contain human and non-human genetic sequences (",d.default.createElement("b",null,"Sample Data")," as further defined below), as well as information about those sequences, such as the date the sample was collected and the species it was collected from (",d.default.createElement("b",null,"Sample Metadata")," as further defined below). For example, a researcher might upload genetic information from mosquitoes, which are often a source of infectious disease, or from humans, who can be infected by such diseases. IDseq then processes this Upload Data in order to identify pathogens found within the genetic sequence (e.g., the mosquito may be carrying the chikungunya virus)."),d.default.createElement("p",{className:u.default.large},"",d.default.createElement("b",null,"Upload Data")," is data that Users upload to IDseq (other than the information Users provide during registration to create an account). Upload Data consists of genetic sequence information (human or non-human) and metadata about those genetic sequences (such as time and location of sample collection). Upload Data includes Sample Data and Sample Metadata."),d.default.createElement("p",{className:u.default.large},"",d.default.createElement("b",null,"Sample Data")," is full genetic sequence data uploaded by Users. Genetic sequence data contains genetic information about pathogens in the sample and of the host from which the sample was taken. The host could be a human or non-human (e.g., mosquito). You should not be able to find any human sequence data in IDseq other than those embedded in samples you yourself have uploaded. This is because we filter out and discard host sequence data in order to generate Reports."),d.default.createElement("p",{className:u.default.large},"",d.default.createElement("b",null,"Sample Metadata")," includes information related to the Sample Data, such as the host type (e.g., human or mosquito), upload date, and tissue type and free-text research notes entered by Users. This data ",d.default.createElement("u",null,"should not")," include personally-identifying information regarding the individual to whom the Sample Data relates."),d.default.createElement("p",{className:u.default.large},"",d.default.createElement("b",null,"Report Data")," is information IDseq produced from Upload Data. We generate Report Data by processing Upload Data through our Data Pipeline. IDseqs ",d.default.createElement("b",null,"Data Pipeline")," cleans (e.g., by removing duplicate nucleotides) and analyzes (e.g., by matching Sample Data nucleotide sequences with known pathogen sequences) the Upload Data. Report Data may include, for example, data about the pathogen sequences identified in the Sample Data and the frequency of such identification (",d.default.createElement("b",null,"Pathogen Data"),") or raw numeric counts of non-personally identifying gene expression profiles that were found in the Sample Data (",d.default.createElement("b",null,"Gene Counts"),")."),d.default.createElement("p",{className:u.default.large},"",d.default.createElement("b",null,"Database")," refers to both the data and database(s) of IDseq."),d.default.createElement("h3",null,"Summary of Key Things to Know (see ",d.default.createElement("a",{href:"/faqs"},"FAQ")," for more)"),d.default.createElement("ul",null,d.default.createElement("li",null,d.default.createElement("span",{className:u.default.listItemLabel},"IDseq does not provide medical advice."),"The output from IDseq does not constitute and should not be relied upon to provide medical advice, diagnosis or treatment."," ",d.default.createElement("b",null,"It is intended for research, educational, or informational purposes only.")),d.default.createElement("li",null,d.default.createElement("span",{className:u.default.listItemLabel},"You must ensure that all personally-identifying information and Protected Health Information is fully removed from Sample Metadata before it is uploaded to IDseq.")),d.default.createElement("li",null,d.default.createElement("span",{className:u.default.listItemLabel},"You are responsible for obtaining the permissions necessary to collect and submit the Upload Data."),"You represent that you have obtained, and will maintain, all consents, permissions, and authorizations needed to collect, share, and export Upload Data with IDseq, and for IDseq to use and share the information as described in its"," ",d.default.createElement("a",{href:"/privacy"},"Privacy Notice"),"."),d.default.createElement("li",null,d.default.createElement("span",{className:u.default.listItemLabel},"You may not attempt to re-identify Upload Data."),"By using IDseq, you agree that you will not attempt to re-identify any Upload Data with a person, and you will not disclose any Upload Data of other Users downloaded from the Database except for the limited purposes described in these Terms.")),d.default.createElement("h2",null,d.default.createElement("span",{className:u.default.number},"1."),"Upload and Report Data."),d.default.createElement("ul",null,d.default.createElement("li",null,d.default.createElement("span",{className:u.default.listItemLabel},"1.1 Use of Your Upload Data."),"We need limited rights to your Upload Data ",d.default.createElement("u",null,"solely")," in order to offer IDseq for you and other Users. Specifically, you grant to us a worldwide, non-exclusive, royalty-free, transferable (in accordance with Section 9.2 below), perpetual and irrevocable (except as set forth herein), license (with the right to grant further licenses) to use, reproduce, distribute, display, and create derivative works (e.g. phylogenetic trees) from Upload Data in connection with providing, developing and improving IDseq. You may request deletion of your Upload Data from IDseq by emailing"," ",d.default.createElement("a",{href:"mailto:privacy@idseq.net"},"privacy@idseq.net")," and including a description of your Upload Data that you wish to have removed. We will delete the requested Upload Data within 60 days of your request. Please note, that our removal from IDseq will not impact any use of Upload Data by others you may have chosen to share it with prior to the effective date of removal and we are not able to require others Users to stop using Upload Data they accessed or downloaded prior to removal. More information about Upload Data can be found in our ",d.default.createElement("a",{href:"/privacy"},"Privacy Notice"),"."),d.default.createElement("li",null,d.default.createElement("span",{className:u.default.listItemLabel},"1.2 Use and Visibility of Your Report Data."),"You understand that your Report Data is data generated by IDseq, does not contain personally-identifying information (i.e. personal data) and may be shared with other IDseq Users in order to further IDseqs mission and advance the study of infectious diseases."),d.default.createElement("li",null,d.default.createElement("span",{className:u.default.listItemLabel},"1.3"),"You represent and warrant to us and our service partners that (A) your provision of the Upload Data to IDseq complies with all applicable laws, rules, and regulations, including the Nagoya Protocol and relevant export laws (",d.default.createElement("b",null,"Applicable Law"),") and industry guidelines and ethical standards that apply to you (e.g. CIOMS or GA4GH) (",d.default.createElement("b",null,"Applicable Standards"),"), and you will otherwise comply with all Applicable Law in connection with IDseq; (B) you have all consents, permissions, and authorizations necessary and sufficient to provide and export the Upload Data to us for the purposes described in these Terms and in our"," ",d.default.createElement("a",{href:"/privacy"},"Privacy Notice")," and to grant the rights and permissions herein; and (C) the Upload Data -- and our use of the Upload Data in accordance with these Terms and our"," ",d.default.createElement("a",{href:"/privacy"},"Privacy Notice")," -- does not and will not violate Applicable Law or infringe or violate any third party rights."),d.default.createElement("li",null,d.default.createElement("span",{className:u.default.listItemLabel},"1.4"),"TO THE EXTENT UPLOAD DATA IS OBTAINED FROM A HUMAN, YOU AGREE NOT TO PROVIDE UPLOAD DATA IN A FORM THAT CAN IDENTIFY (DIRECTLY OR INDIRECTLY TAKING INTO ACCOUNT ALL THE MEANS REASONABLY LIKELY TO BE USED) THE PERSON TO WHOM THE DATA RELATES OR THAT CONSTITUTES OR WOULD CONSTITUTE PROTECTED HEALTH INFORMATION OR REGULATED HEALTH INFORMATION UNDER APPLICABLE LAWS, SUCH AS THE U.S. HEALTH INSURANCE PORTABILITY AND ACCOUNTABILITY ACT (HIPAA). For example, the Upload Data shall not include any personal identifiers, including without limitation name, address, dates, telephone numbers, e-mail addresses, or medical health records."),d.default.createElement("li",null,d.default.createElement("span",{className:u.default.listItemLabel},"1.5"),"To the extent that any Upload Data is obtained from a human data subject, you also specifically represent and warrant to us and our service partners that (A) you have provided any required notice to, and obtained any necessary informed consent of, any such person for the collection, use, and provision to IDseq of the Research Data; and (B) your provision of the Upload Data to IDseq is covered under all such notices and consents, as well as Applicable Standards and Applicable Law. Please note that we filter out and discard human sequence data as part of generating Report Data because we dont need this data for IDseq. See ",d.default.createElement("a",{href:"/faqs"},"here")," for more details.")),d.default.createElement("h2",null,d.default.createElement("span",{className:u.default.number},"2."),"Authorization To Use IDseq."),d.default.createElement("ul",null,d.default.createElement("li",null,d.default.createElement("span",{className:u.default.listItemLabel},"2.1"),"Subject to and conditioned on your compliance with these Terms, we grant you permission to access and use IDseq in accordance with Applicable Law, solely for your own internal academic or internal scientific research purposes. You may not permit any third party to access or use or share your Account or IDseq. All persons wishing to access the Service must create their own separate account and agree to these Terms."),d.default.createElement("li",null,d.default.createElement("span",{className:u.default.listItemLabel},"2.2"),"IDseq may not be used to provide medical or other services to any third party (for instance, to inform or provide disease diagnoses). IDseq is not intended to diagnose, treat, cure, or prevent any disease and is not a substitute for medical advice."),d.default.createElement("li",null,d.default.createElement("span",{className:u.default.listItemLabel},"2.3"),"You shall not disclose or distribute the Database, in whole or in part, or any works derived from the Database to any third party for any purpose, except for the following:"),d.default.createElement("li",null,"You may disclose the documents that you download from the Database using IDseqs intended functionality to your employees and agents who are registered Users of the Service and who are engaged in conducting your research (",d.default.createElement("b",null,"Research Associates"),") for the sole purpose of carrying out your internal research. Your Research Associates must also agree to use IDseq and Database in accordance with these Terms."),d.default.createElement("li",null,"You may share research findings derived from use of IDseq to others, including with the public, so long as these findings include no personally-identifying information and you comply with Applicable Law and these Terms (",d.default.createElement("b",null,"Research Findings"),")."),d.default.createElement("li",null,"You may disclose the Database to the minimum extent necessary to comply with Applicable Law or court order, so long as you promptly notify us prior to making such disclosure (to the extent Applicable Law and court order permit you to so notify us).")),d.default.createElement("h2",null,d.default.createElement("span",{className:u.default.number},"3."),"Limitations On Use."),d.default.createElement("ul",null,d.default.createElement("li",null,d.default.createElement("span",{className:u.default.listItemLabel},"3.1"),"You shall not re-identify or attempt to re-identify any Database records or content for any purpose other than responding to a request from the individual whom the record within your Upload Data is about, including without limitation to make employment decisions or to make eligibility, coverage, underwriting, premium-setting or other decisions with respect to insurance."),d.default.createElement("li",null,d.default.createElement("span",{className:u.default.listItemLabel},"3.2"),"You shall not otherwise access or use, or attempt to access or use, IDseq to take any action that could harm us, IDseq or its Users, or any third party, or use IDseq in any manner that violates Applicable Law or infringes or otherwise violates third party rights."),d.default.createElement("li",null,d.default.createElement("span",{className:u.default.listItemLabel},"3.3"),"You represent and warrant that you are a natural person of legal age who is competent and able to enter into and carry out these Terms, and, if you are using IDseq on behalf of any entity, that you are authorized to enter into these Terms on such entitys behalf and that such entity agrees to be responsible to us if you or that entity violates these Terms."),d.default.createElement("li",null,d.default.createElement("span",{className:u.default.listItemLabel},"3.4"),"We may restrict or terminate your access to IDseq at any time, including for breach of these Terms. In such case we will attempt to provide you notice through the contact information we have for you.")),d.default.createElement("h2",null,d.default.createElement("span",{className:u.default.number},"4."),"Registration And Contact Information."),d.default.createElement("ul",null,d.default.createElement("li",null,d.default.createElement("span",{className:u.default.listItemLabel},"4.1"),"To access IDseq you will need to be a registered User. At registration, you will be asked to provide certain information (",d.default.createElement("b",null,"Account Information"),") to create an individual user account (an ",d.default.createElement("b",null,"Account"),"). You agree that you will not create more than one Account, or create an Account for anyone other than yourself. You may not share your Account credentials."),d.default.createElement("li",null,d.default.createElement("span",{className:u.default.listItemLabel},"4.2"),"You agree to keep your Account Information accurate and up-to-date. You agree that we may send to the e-mail address you provide us or otherwise electronically deliver notices or communications regarding IDseq, including notices of updates to these terms and the"," ",d.default.createElement("a",{href:"/privacy"},"Privacy Notice"),".")),d.default.createElement("h2",null,d.default.createElement("span",{className:u.default.number},"5."),"Changes To IDseq Or These Terms."),d.default.createElement("ul",null,d.default.createElement("li",null,d.default.createElement("span",{className:u.default.listItemLabel},"5.1 Changes to IDseq."),"We may, from time to time, withdraw, suspend, change or update IDseq (including the Database) or its features without notice, subject to Applicable Law. Neither we, nor our service providers, will be liable if all or any part of IDseq is unavailable or changes at any time."),d.default.createElement("li",null,d.default.createElement("span",{className:u.default.listItemLabel},"5.2 Changes to these Terms."),"We may update these Terms from time to time and will notify you of material changes to the Terms, prior to their becoming effective. If you do not agree to the updated Terms, your remedy will be to close your Account prior to the effective date of those changes."),d.default.createElement("li",null,d.default.createElement("span",{className:u.default.listItemLabel},"5.3 Closing Your Account."),"You can close your Account at any time. Just contact us at"," ",d.default.createElement("a",{href:"mailto:privacy@idseq.net"},"privacy@idseq.net"),".")),d.default.createElement("h2",null,d.default.createElement("span",{className:u.default.number},"6."),"Intellectual Property And Security."),d.default.createElement("ul",null,d.default.createElement("li",null,d.default.createElement("span",{className:u.default.listItemLabel},"6.1 Intellectual Property Rights."),"Just because you upload data to IDseq, you are not giving us any ownership of your intellectual property rights (see Section 1.1 above). Subject to these Terms, we grant you a limited right to access IDseq, and we reserve all other of our intellectual property rights in IDseq. Using IDseq does not give you any ownership in our IDseq, our services or the content or information made available through IDseq that is not already yours. Trademarks and logos used in connection with IDseq are the trademarks of their respective owners. Our logos and other trademarks, service marks, graphics, and logos used for our services are trademarks or registered trademarks of ours and these Terms do not grant you any rights to use them."),d.default.createElement("li",null,d.default.createElement("span",{className:u.default.listItemLabel},"6.2 Feedback."),"Wed love your feedback about how to improve IDseq at"," ",d.default.createElement("a",{href:"mailto:help@idseq.net"},"help@idseq.net"),". That said, by giving us feedback, you agree that we can use and share it for any purpose without compensation to you. You agree that we are not required to use your feedback."),d.default.createElement("li",null,d.default.createElement("span",{className:u.default.listItemLabel},"6.3 Security."),"You will establish, implement, and maintain appropriate physical, technical and organizational measures that are designed to: (a) protect the security and integrity of any network or system used to access IDseq, including any Database records; and (b) guard against the accidental or unauthorized access, use, alteration or disclosure of IDseq through your Account. Please notify us immediately at"," ",d.default.createElement("a",{href:"mailto:security@idseq.net"},"security@idseq.net")," if you suspect your Account has been compromised or are aware of any other security issues relating to IDseq.")),d.default.createElement("h2",null,d.default.createElement("span",{className:u.default.number},"7."),"Disclaimers."),d.default.createElement("ul",null,d.default.createElement("li",null,d.default.createElement("span",{className:u.default.listItemLabel},"7.1"),"In order to further infectious disease research, we rely upon Users to upload data to the Database. We and our service providers do not review or correct any data uploaded into IDseq. If you would like to report any issue with IDseq or the Database please contact us at"," ",d.default.createElement("a",{href:"mailto:help@idseq.net"},"help@idseq.net"),". IDseq is not intended as a storage service, so please back up your Upload Data using a secure service of your choice."),d.default.createElement("li",null,d.default.createElement("span",{className:u.default.listItemLabel},"7.2"),"TO THE MAXIMUM EXTENT PERMITTED BY APPLICABLE LAW:"),d.default.createElement("li",null,d.default.createElement("span",{className:u.default.listItemLabel},"7.2.1"),"YOUR ACCESS AND USE IDSEQ AT YOUR SOLE RISK AND AGREE THAT WE AND OUR SERVICE PROVIDERS WILL NOT BE RESPONSIBLE FOR ANY ACTIONS YOU TAKE BASED ON IDSEQ OR FOR ANY INACCURATE DATA OR OUTPUTS OF IDSEQ (INCLUDING MISIDENTIFICATION OF -- OR THE FAILURE TO IDENTIFY -- DISEASE SEQUENCES)."),d.default.createElement("li",null,d.default.createElement("span",{className:u.default.listItemLabel},"7.2.2"),"IDSEQ IS PROVIDED AS IS WITH ALL FAULTS, AND WE AND OUR SERVICE PROVIDERS HEREBY DISCLAIM ALL REPRESENTATIONS AND WARRANTIES, EXPRESS, STATUTORY, OR IMPLIED (INCLUDING, WITHOUT LIMITATION, IMPLIED WARRANTIES OF TITLE, NON-INFRINGEMENT, MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, AND ALL WARRANTIES ARISING FROM THE COURSE OF DEALING, USAGE, OR TRADE PRACTICE) WITH RESPECT TO IDSEQ. IDSEQ IS NOT INTENDED TO BE USED AND SHOULD NOT BE USED AS A MEDICAL DEVICE OR FOR PURPOSES OF MEDICAL DIAGNOSIS OR TREATMENT."),d.default.createElement("li",null,d.default.createElement("span",{className:u.default.listItemLabel},"7.2.3"),"FOR CLARITY AND WITHOUT LIMITING THE FOREGOING, WE AND OUR SERVICE PROVIDERS DO NOT MAKE ANY GUARANTEES (I) REGARDING THE ACCURACY, COMPLETENESS, TIMELINESS, SECURITY, AVAILABILITY OR INTEGRITY OF IDSEQ, (II) THAT IDSEQ WILL BE UNINTERRUPTED OR OPERATE IN COMBINATION WITH ANY SOFTWARE, SERVICE, SYSTEM OR OTHER DATA, OR (III) THAT IDSEQ WILL MEET ANY REQUIREMENTS OF ANY PERSON OR ENTITY, OR ANY REGULATORY APPROVALS OR REQUIREMENTS. WITHOUT LIMITATION, YOU ACKNOWLEDGE THAT IDSEQ IS NOT A BUSINESS ASSOCIATE FOR PURPOSES OF HIPAA.")),d.default.createElement("h2",null,d.default.createElement("span",{className:u.default.number},"8."),"Indemnification, Limitation Of Liability, And Choice Of Law."),d.default.createElement("ul",null,d.default.createElement("li",null,d.default.createElement("span",{className:u.default.listItemLabel},"8.1"),"To the maximum extent permitted by Applicable Law, you agree to indemnify and hold harmless CZ Biohub, its affiliates (including the Chan Zuckerberg Initiative, LLC (",d.default.createElement("b",null,"CZI"),"), and their successors, assigns, officers, directors, employees, and agents (collectively, the ",d.default.createElement("b",null,"CZ Biohub Protected Parties"),") from and against any and all liabilities, costs, damages, charges, losses, penalties, judgments, settlements, and expenses (including reasonable attorneys fees) (",d.default.createElement("b",null,"Losses"),") arising out of or related to any suit, demand, action, proceeding, or other claim by a third party (",d.default.createElement("b",null,"Claims"),") arising out of or relating to: (a) your actual or alleged failure to comply with Applicable Law or these Terms, (b) your Research Data, or (c) your actual or alleged violation of any third party rights."),d.default.createElement("li",null,d.default.createElement("span",{className:u.default.listItemLabel},"8.2 LIMITATION OF LIABILITY."),"TO THE MAXIMUM EXTENT PERMITTED BY APPLICABLE LAW, THE CZ BIOHUB PROTECTED PARTIES WILL NOT BE LIABLE FOR ANY INDIRECT, INCIDENTAL, SPECIAL, PUNITIVE, OR CONSEQUENTIAL DAMAGES OF ANY KIND (INCLUDING LOST PROFITS, LOST DATA, BUSINESS INTERRUPTION, OR LOSS OF GOODWILL) IRRESPECTIVE OF WHETHER SUCH DAMAGES ARISE FROM CLAIMS BROUGHT IN CONTRACT, TORT, NEGLIGENCE, WARRANTY, STRICT LIABILITY, OR ANY OTHER THEORY AT LAW OR IN EQUITY, AND EVEN IF ANY CZ BIOHUB PROTECTED PARTY HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES. WITHOUT LIMITING THE FOREGOING, TO THE MAXIMUM EXTENT PERMITTED BY APPLICABLE LAW, IN NO EVENT WILL THE CZ BIOHUB PROTECTED PARTIES AGGREGATE LIABILITY ARISING OUT OF OR RELATING TO THESE TERMS OR IDSEQ EXCEED USD $100. THE EXCLUSIONS AND LIMITATIONS SET FORTH IN THIS SECTION 9 DO NOT APPLY TO LOSSES ARISING FROM A CZ BIOHUB PROTECTED PARTYS GROSS NEGLIGENCE OR WILLFUL MISCONDUCT. IF ANY LIMITATION IN THIS SECTION 9 IS UNENFORCEABLE IN ANY INSTANCE, THEN SUCH LIMITATION WILL APPLY TO THE MAXIMUM EXTENT PERMITTED BY APPLICABLE LAW."),d.default.createElement("li",null,"SOME LAWS DO NOT ALLOW THE LIMITATION OR EXCLUSION OF LIABILITY, SO THESE LIMITS MAY NOT APPLY TO YOU."),d.default.createElement("li",null,d.default.createElement("span",{className:u.default.listItemLabel},"Choice of Law / Jurisdiction / Venue."),"These Terms, and all matters arising out of or relating to these Terms, whether sounding in contract, tort, or statute, will be governed by, and construed in accordance with, the laws of the State of California, without regard to conflict of law provisions. Any lawsuits, arbitration hearings, or other proceedings involving a dispute or claim between you and us that arises in whole or in part from IDseq, shall be venued exclusively in San Francisco, California and You hereby consent to the exclusive jurisdiction of the courts located in San Francisco, California for the resolution of any dispute.")),d.default.createElement("h2",null,d.default.createElement("span",{className:u.default.number},"9."),"Miscellaneous."),d.default.createElement("ul",null,d.default.createElement("li",null,d.default.createElement("span",{className:u.default.listItemLabel},"9.1 Severability."),"In the event any part of these Terms is deemed unenforceable, the remaining portion will remain in effect and you and we expressly authorize a court of competent jurisdiction to make the modifications that are necessary to comply with existing law, in a manner most closely representing the original intent of you and us as expressed in these Terms."),d.default.createElement("li",null,d.default.createElement("span",{className:u.default.listItemLabel},"9.2 Assignment."),"You may not assign or delegate your rights or obligations under these Terms, in whole or in part, without our prior written approval (not to be unreasonably withheld); any assignment or delegation in violation of this provision will be null and void. We may assign our rights or delegate our obligations under these Terms. In the event of an assignment by us, we will provide you notice through the Service or contact information you have provided to us and these Terms shall otherwise remain in full force and effect and shall bind the permitted assignee."),d.default.createElement("li",null,d.default.createElement("span",{className:u.default.listItemLabel},"9.3 Amendment."),"No waiver of any of the provisions of the Terms will constitute a waiver of any other provision (whether or not similar). No waiver will be binding unless executed in writing by the party to be bound by the waiver."),d.default.createElement("li",null,d.default.createElement("span",{className:u.default.listItemLabel},"9.4 Entire Agreement."),"These Terms (along with the ",d.default.createElement("a",{href:"/privacy"},"Privacy Notice"),") constitute the entire agreement between you and us regarding IDseq. If you wish to modify these Terms, any amendment must be provided to us in writing and signed by our authorized representative.")),d.default.createElement("h2",null,d.default.createElement("span",{className:u.default.number},"10.")," Contact Information."),d.default.createElement("ul",null,d.default.createElement("li",null,"If you have any questions, comments, or concerns with Terms, you may contact us at ",d.default.createElement("a",{href:"mailto:help@idseq.net"},"help@idseq.net")," or by physical mail at the addresses in the ",d.default.createElement("a",{href:"/faqs"},"FAQ"),".")))}}]),TermsOfUse}(d.default.Component);t.default=f}]));
//# sourceMappingURL=main.bundle.min.js.map
